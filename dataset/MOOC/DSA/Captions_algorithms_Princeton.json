{"category": ["course introduction"], "tagged": [["Welcome", "NNP"], [".", "."], ["I", "PRP"], ["'m", "VBP"], ["Bob", "NNP"], ["Sedgewick", "NNP"], [",", ","], ["professor", "NN"], ["of", "IN"], ["computer", "NN"], ["science", "NN"], ["at", "IN"], ["Princeton", "NNP"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["our", "PRP$"], ["online", "JJ"], ["course", "NN"], ["Algorithms", "NNP"], ["developed", "VBN"], ["by", "IN"], ["myself", "PRP"], ["and", "CC"], ["Kevin", "NNP"], ["Wayne", "NNP"], ["here", "RB"], ["at", "IN"], ["Princeton", "NNP"], [".", "."], ["We", "PRP"], ["'re", "VBP"], ["gon", "VBG"], ["na", "TO"], ["start", "VB"], ["with", "IN"], ["an", "DT"], ["overview", "JJ"], ["discussion", "NN"], ["of", "IN"], ["why", "WRB"], ["you", "PRP"], ["might", "MD"], ["want", "VB"], ["to", "TO"], ["study", "VB"], ["algorithms", "NNS"], ["and", "CC"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["of", "IN"], ["discussion", "NN"], ["about", "IN"], ["the", "DT"], ["resources", "NNS"], ["that", "IN"], ["you", "PRP"], ["need", "VBP"], ["to", "TO"], ["take", "VB"], ["this", "DT"], ["course", "NN"], [".", "."], ["So", "RB"], [",", ","], ["what", "WP"], ["is", "VBZ"], ["this", "DT"], ["course", "NN"], ["?", "."], ["It", "PRP"], ["'s", "VBZ"], ["an", "DT"], ["intermediate", "JJ"], ["level", "NN"], ["survey", "NN"], ["course", "NN"], ["on", "IN"], ["algorithms", "NN"], [".", "."], ["We", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["concentrate", "VB"], ["on", "IN"], ["programming", "NN"], ["and", "CC"], ["problem", "NN"], ["solving", "NN"], ["in", "IN"], ["the", "DT"], ["context", "NN"], ["of", "IN"], ["real", "JJ"], ["applications", "NNS"], [",", ","], ["and", "CC"], ["our", "PRP$"], ["focus", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["on", "IN"], ["two", "CD"], ["things", "NNS"], [",", ","], ["Algorithms", "NNP"], ["which", "WDT"], ["are", "VBP"], ["methods", "NNS"], ["for", "IN"], ["solving", "VBG"], ["problems", "NNS"], ["and", "CC"], ["data", "NNS"], ["structures", "NNS"], ["which", "WDT"], ["store", "VBP"], ["the", "DT"], ["information", "NN"], ["associated", "VBN"], ["in", "IN"], ["problem", "NN"], [",", ","], ["with", "IN"], ["a", "DT"], ["problem", "NN"], ["and", "CC"], ["go", "VB"], ["hand", "NN"], ["in", "IN"], ["hand", "NN"], ["with", "IN"], ["algorithms", "NN"], [".", "."], ["These", "DT"], ["are", "VBP"], ["the", "DT"], ["basic", "JJ"], ["topics", "NNS"], ["that", "IN"], ["we", "PRP"], ["'ll", "MD"], ["cover", "VB"], ["in", "IN"], ["part", "NN"], ["one", "CD"], ["and", "CC"], ["part", "NN"], ["two", "CD"], ["of", "IN"], ["the", "DT"], ["course", "NN"], [".", "."], ["The", "DT"], ["first", "JJ"], ["part", "NN"], ["is", "VBZ"], ["data", "JJ"], ["type", "NN"], ["sorting", "NN"], ["and", "CC"], ["searching", "VBG"], [".", "."], ["We", "PRP"], ["'ll", "MD"], ["consider", "VB"], ["a", "DT"], ["number", "NN"], ["of", "IN"], ["data", "NNS"], ["structures", "NNS"], ["and", "CC"], ["algorithms", "NN"], ["that", "WDT"], ["are", "VBP"], ["basic", "JJ"], ["to", "TO"], ["all", "PDT"], ["the", "DT"], ["methods", "NNS"], ["we", "PRP"], ["consider", "VBP"], ["including", "VBG"], ["stacks", "NNS"], [",", ","], ["queues", "NNS"], [",", ","], ["bags", "NNS"], ["and", "CC"], ["priority", "NN"], ["queues", "NNS"], [".", "."], ["Then", "RB"], ["we", "PRP"], ["'ll", "MD"], ["consider", "VB"], ["classic", "JJ"], ["algorithms", "NN"], ["for", "IN"], ["sorting", "VBG"], [",", ","], ["putting", "VBG"], ["things", "NNS"], ["in", "IN"], ["order", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["quicksort", "NN"], [",", ","], ["mergesort", "NN"], [",", ","], ["heapsort", "NN"], ["and", "CC"], ["radix", "NN"], ["sorts", "NNS"], [".", "."], ["And", "CC"], ["we", "PRP"], ["'ll", "MD"], ["consider", "VB"], ["classic", "JJ"], ["methods", "NNS"], ["for", "IN"], ["searching", "VBG"], [".", "."], ["Including", "VBG"], ["binary", "JJ"], ["search", "NN"], ["trees", "NNS"], [",", ","], ["red-black", "JJ"], ["binary", "JJ"], ["search", "NN"], ["trees", "NNS"], ["and", "CC"], ["hash", "JJ"], ["tables", "NNS"], [".", "."], ["The", "DT"], ["second", "JJ"], ["part", "NN"], ["of", "IN"], ["the", "DT"], ["course", "NN"], ["is", "VBZ"], ["for", "IN"], ["more", "RBR"], ["advanced", "JJ"], ["algorithms", "NN"], ["including", "VBG"], ["graph", "NN"], ["algorithms", "NN"], [",", ","], ["classic", "JJ"], ["graph", "NN"], ["searching", "VBG"], ["algorithms", "NN"], [",", ","], ["minimum", "JJ"], ["spanning", "NN"], ["tree", "NN"], ["and", "CC"], ["shortest", "JJS"], ["path", "NN"], ["algorithms", "NN"], [",", ","], ["algorithms", "NN"], ["for", "IN"], ["processing", "VBG"], ["strings", "NNS"], ["including", "VBG"], ["regular", "JJ"], ["expressions", "NNS"], ["and", "CC"], ["data", "NNS"], ["compression", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["some", "DT"], ["advanced", "VBD"], ["algorithms", "NNS"], ["that", "WDT"], ["make", "VBP"], ["use", "NN"], ["of", "IN"], ["the", "DT"], ["basic", "JJ"], ["algorithms", "NN"], ["that", "IN"], ["we", "PRP"], ["developed", "VBD"], ["earlier", "RBR"], ["in", "IN"], ["the", "DT"], ["course", "NN"], [".", "."], ["So", "RB"], [",", ","], ["why", "WRB"], ["should", "MD"], ["one", "CD"], ["study", "NN"], ["algorithms", "NN"], ["?", "."], ["Well", "UH"], [",", ","], ["their", "PRP$"], ["input", "NN"], [",", ","], ["impact", "NN"], ["is", "VBZ"], ["very", "RB"], ["broad", "JJ"], ["and", "CC"], ["far-reaching", "JJ"], [".", "."], ["From", "IN"], ["the", "DT"], ["internet", "NN"], ["to", "TO"], ["biology", "VB"], ["to", "TO"], [",", ","], ["commercial", "JJ"], ["computing", "NN"], [",", ","], ["computer", "NN"], ["graphics", "NNS"], [",", ","], ["security", "NN"], [",", ","], ["multimedia", "NN"], [",", ","], ["social", "JJ"], ["networks", "NNS"], [",", ","], ["and", "CC"], ["scientific", "JJ"], ["applications", "NNS"], [",", ","], ["algorithms", "NNS"], ["are", "VBP"], ["all", "DT"], ["around", "IN"], ["us", "PRP"], [".", "."], ["They", "PRP"], ["'re", "VBP"], ["used", "VBN"], ["for", "IN"], ["movies", "NNS"], ["and", "CC"], ["video", "NN"], ["games", "NNS"], [",", ","], ["for", "IN"], ["particle", "NN"], ["collision", "NN"], ["simulation", "NN"], [",", ","], ["they", "PRP"], ["'re", "VBP"], ["used", "VBN"], ["to", "TO"], ["study", "VB"], ["the", "DT"], ["genome", "NN"], [",", ","], ["and", "CC"], ["all", "DT"], ["manner", "NN"], ["of", "IN"], ["other", "JJ"], ["applications", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["one", "CD"], ["important", "JJ"], ["reason", "NN"], ["to", "TO"], ["study", "VB"], ["algorithms", "NNS"], [",", ","], ["their", "PRP$"], ["impact", "NN"], ["is", "VBZ"], ["broad", "JJ"], ["and", "CC"], ["far-reaching", "JJ"], [".", "."], ["Algorithms", "NNP"], ["are", "VBP"], ["also", "RB"], ["interesting", "VBG"], ["to", "TO"], ["study", "VB"], [",", ","], ["because", "IN"], ["they", "PRP"], [",", ","], ["they", "PRP"], ["have", "VBP"], ["ancient", "JJ"], ["roots", "NNS"], [".", "."], ["Now", "RB"], ["the", "DT"], ["first", "JJ"], ["algorithm", "NN"], ["we", "PRP"], ["studied", "VBD"], ["goes", "VBZ"], ["back", "RB"], ["to", "TO"], ["300", "CD"], ["B.C.", "NNP"], [",", ","], ["dating", "VBG"], ["at", "IN"], ["least", "JJS"], ["to", "TO"], ["Euclid", "NNP"], [".", "."], ["The", "DT"], ["concept", "NN"], ["of", "IN"], ["an", "DT"], ["algorithm", "NN"], ["was", "VBD"], ["formalized", "VBN"], ["actually", "RB"], ["here", "RB"], ["at", "IN"], ["Princeton", "NNP"], [",", ","], ["by", "IN"], ["Church", "NNP"], ["and", "CC"], ["Turing", "NNP"], [",", ","], ["in", "IN"], ["the", "DT"], ["1930s", "CD"], [".", "."], ["But", "CC"], ["most", "JJS"], ["algorithms", "VBP"], ["that", "IN"], ["we", "PRP"], ["consider", "VBP"], [",", ","], ["were", "VBD"], ["discovered", "VBN"], ["in", "IN"], ["recent", "JJ"], ["decades", "NNS"], [".", "."], ["In", "IN"], ["fact", "NN"], [",", ","], ["some", "DT"], ["were", "VBD"], ["discovered", "VBN"], ["by", "IN"], ["undergraduates", "NNS"], ["in", "IN"], ["a", "DT"], ["course", "NN"], [",", ","], ["course", "NN"], ["like", "IN"], ["this", "DT"], [".", "."], ["And", "CC"], ["there", "EX"], ["'s", "VBZ"], ["plenty", "NN"], ["of", "IN"], ["other", "JJ"], ["algorithms", "JJ"], ["waiting", "VBG"], ["to", "TO"], ["be", "VB"], ["discovered", "VBN"], ["by", "IN"], ["students", "NNS"], ["like", "IN"], ["you", "PRP"], [".", "."], ["The", "DT"], ["main", "JJ"], ["reason", "NN"], ["that", "WDT"], ["people", "NNS"], ["study", "VBP"], ["algorithms", "JJ"], [",", ","], ["is", "VBZ"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["solve", "VB"], ["problems", "NNS"], ["that", "IN"], ["it", "PRP"], ["could", "MD"], ["not", "RB"], ["otherwise", "RB"], ["be", "VB"], ["addressed", "VBN"], [".", "."], ["For", "IN"], ["example", "NN"], [",", ","], ["in", "IN"], ["the", "DT"], ["first", "JJ"], ["lecture", "NN"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["talk", "VB"], ["about", "IN"], ["the", "DT"], ["network", "NN"], ["connectivity", "NN"], ["problem", "NN"], [",", ","], ["where", "WRB"], ["the", "DT"], ["problem", "NN"], ["is", "VBZ"], [",", ","], ["given", "VBN"], ["a", "DT"], ["large", "JJ"], ["set", "NN"], ["of", "IN"], ["items", "NNS"], ["that", "WDT"], ["are", "VBP"], ["connected", "VBN"], ["together", "RB"], ["pairwise", "NN"], ["is", "VBZ"], ["there", "RB"], ["a", "DT"], ["way", "NN"], ["to", "TO"], ["get", "VB"], ["from", "IN"], ["one", "CD"], ["to", "TO"], ["another", "DT"], ["with", "IN"], ["a", "DT"], ["path", "NN"], ["through", "IN"], ["the", "DT"], ["connections", "NNS"], [".", "."], ["As", "IN"], ["you", "PRP"], ["can", "MD"], ["see", "VB"], ["from", "IN"], ["this", "DT"], ["example", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["clear", "JJ"], ["whether", "IN"], ["or", "CC"], ["not", "RB"], ["there", "EX"], ["'s", "VBZ"], ["such", "JJ"], ["a", "DT"], ["path", "NN"], [",", ","], ["we", "PRP"], ["need", "VBP"], ["a", "DT"], ["computer", "NN"], ["program", "NN"], ["to", "TO"], ["do", "VB"], ["it", "PRP"], [",", ","], ["in", "IN"], ["fact", "NN"], [",", ","], ["we", "PRP"], ["need", "VBP"], ["an", "DT"], ["efficient", "JJ"], ["algorithm", "NN"], ["to", "TO"], ["do", "VB"], ["it", "PRP"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], ["the", "DT"], ["answer", "NN"], ["is", "VBZ"], ["that", "IN"], ["there", "EX"], ["is", "VBZ"], ["such", "JJ"], ["a", "DT"], ["path", "NN"], [".", "."], ["Another", "DT"], ["reason", "NN"], ["to", "TO"], ["study", "VB"], ["algorithms", "NN"], ["is", "VBZ"], ["for", "IN"], ["intellectual", "JJ"], ["stimulation", "NN"], [".", "."], ["Algorithms", "NNP"], ["are", "VBP"], ["very", "RB"], ["interesting", "JJ"], ["objects", "NNS"], ["to", "TO"], ["study", "VB"], [".", "."], ["Don", "NNP"], ["Knuth", "NNP"], ["who", "WP"], ["wrote", "VBD"], ["several", "JJ"], ["books", "NNS"], ["on", "IN"], [",", ","], ["on", "IN"], ["algorithms", "NN"], ["and", "CC"], ["was", "VBD"], ["a", "DT"], ["pioneer", "NN"], ["in", "IN"], ["the", "DT"], ["field", "NN"], ["said", "VBD"], ["that", "IN"], [",", ","], ["``", "``"], ["An", "DT"], ["algorithm", "NN"], ["must", "MD"], ["be", "VB"], ["seen", "VBN"], ["to", "TO"], ["be", "VB"], ["believed", "VBN"], [".", "."], ["''", "''"], ["You", "PRP"], ["ca", "MD"], ["n't", "RB"], ["just", "RB"], ["think", "VB"], ["about", "IN"], ["an", "DT"], ["algorithm", "NN"], ["you", "PRP"], ["have", "VBP"], ["to", "TO"], ["work", "VB"], ["with", "IN"], ["it", "PRP"], [".", "."], ["Another", "DT"], ["quote", "NN"], ["from", "IN"], ["Francis", "NNP"], ["Sullivan", "NNP"], [",", ","], ["says", "VBZ"], [",", ","], ["``", "``"], ["The", "DT"], ["great", "JJ"], ["algorithms", "NN"], ["are", "VBP"], ["the", "DT"], ["poetry", "NN"], ["of", "IN"], ["computation", "NN"], [".", "."], ["''", "''"], ["Just", "NNP"], ["like", "IN"], ["verse", "NN"], [",", ","], ["they", "PRP"], ["can", "MD"], ["be", "VB"], ["terse", "JJ"], [",", ","], ["elusive", "JJ"], [",", ","], ["dense", "NN"], [",", ","], ["and", "CC"], ["even", "RB"], ["mysterious", "JJ"], [".", "."], ["But", "CC"], ["once", "RB"], ["unlocked", "JJ"], [",", ","], ["they", "PRP"], ["cast", "VBD"], ["a", "DT"], ["brilliant", "JJ"], ["new", "JJ"], ["light", "NN"], ["on", "IN"], ["some", "DT"], ["aspect", "NN"], ["of", "IN"], ["computing", "VBG"], [".", "."], ["Algorithms", "NNP"], ["are", "VBP"], ["interesting", "VBG"], ["for", "IN"], ["intellectual", "JJ"], ["stimulation", "NN"], [".", "."], ["Another", "DT"], ["reason", "NN"], ["many", "JJ"], ["people", "NNS"], ["study", "VBP"], ["algorithms", "JJ"], ["and", "CC"], ["I", "PRP"], ["suspect", "VBP"], ["many", "JJ"], ["of", "IN"], ["you", "PRP"], [",", ","], ["is", "VBZ"], ["it", "PRP"], ["'s", "VBZ"], ["necessary", "JJ"], ["to", "TO"], ["understand", "VB"], ["good", "JJ"], ["algorithms", "NN"], [",", ","], ["efficient", "JJ"], ["algorithms", "NN"], [",", ","], ["a", "DT"], ["good", "JJ"], ["data", "NN"], ["structures", "NNS"], ["in", "IN"], ["order", "NN"], ["to", "TO"], ["be", "VB"], ["a", "DT"], ["proficient", "JJ"], ["programmer", "NN"], [".", "."], ["Linus", "NNP"], ["Torvalds", "NNP"], [",", ","], ["who", "WP"], ["created", "VBD"], ["lin", "NN"], [",", ","], ["Linux", "NNP"], [",", ","], ["says", "VBZ"], ["that", "IN"], ["the", "DT"], ["difference", "NN"], ["between", "IN"], ["a", "DT"], ["bad", "JJ"], ["programmer", "NN"], ["and", "CC"], ["a", "DT"], ["good", "JJ"], ["one", "CD"], ["is", "VBZ"], ["whether", "IN"], ["he", "PRP"], ["considers", "VBZ"], ["his", "PRP$"], ["code", "NN"], ["or", "CC"], ["his", "PRP$"], ["data", "NNS"], ["structures", "NNS"], ["more", "RBR"], ["important", "JJ"], [".", "."], ["Bad", "NNP"], ["programmers", "NNS"], ["worry", "VBP"], ["about", "IN"], ["the", "DT"], ["code", "NN"], [",", ","], ["good", "JJ"], ["programmers", "NNS"], ["worry", "VBP"], ["about", "IN"], ["data", "NNS"], ["structures", "NNS"], [",", ","], ["and", "CC"], ["their", "PRP$"], ["relationships", "NNS"], [".", "."], ["And", "CC"], [",", ","], ["I", "PRP"], ["might", "MD"], ["add", "VB"], [",", ","], ["the", "DT"], ["algorithms", "NN"], ["that", "WDT"], ["process", "VBZ"], ["them", "PRP"], [".", "."], ["Niklaus", "NNP"], ["Wirth", "NNP"], [",", ","], ["another", "DT"], ["pioneer", "NN"], ["in", "IN"], ["computer", "NN"], ["science", "NN"], [",", ","], ["wrote", "VBD"], ["a", "DT"], ["famous", "JJ"], ["book", "NN"], ["called", "VBN"], ["Algorithms", "NNP"], ["+", "NNP"], ["Data", "NNP"], ["Structures", "NNP"], ["=", "NNP"], ["Programs", "NNP"], [".", "."], ["[", "CC"], ["cough", "JJ"], ["]", "NN"], [".", "."], ["Another", "DT"], ["reason", "NN"], ["nowadays", "VBZ"], ["to", "TO"], ["study", "VB"], ["algorithms", "NN"], ["is", "VBZ"], ["that", "IN"], [",", ","], ["they", "PRP"], ["have", "VBP"], ["become", "VBN"], ["a", "DT"], ["common", "JJ"], ["language", "NN"], ["for", "IN"], ["understanding", "NN"], [",", ","], ["nature", "NN"], [".", "."], ["Algorithms", "NNP"], ["are", "VBP"], ["computational", "JJ"], ["models", "NNS"], [",", ","], ["and", "CC"], ["algorithmic", "JJ"], ["models", "NNS"], ["are", "VBP"], ["replacing", "VBG"], ["mathematical", "JJ"], ["models", "NNS"], ["in", "IN"], ["scientific", "JJ"], ["inquiry", "NN"], [".", "."], ["In", "IN"], ["the", "DT"], ["twentieth", "JJ"], ["century", "NN"], [",", ","], ["math", "NN"], [",", ","], ["scientists", "NNS"], ["developed", "VBD"], ["mathematical", "JJ"], ["models", "NNS"], ["to", "TO"], ["try", "VB"], ["to", "TO"], ["understand", "VB"], ["natural", "JJ"], ["phenomenon", "NN"], [".", "."], ["It", "PRP"], ["soon", "RB"], ["became", "VBD"], ["clear", "JJ"], ["that", "IN"], ["those", "DT"], ["mathematical", "JJ"], ["models", "NNS"], ["were", "VBD"], ["difficult", "JJ"], ["to", "TO"], ["solve", "VB"], [".", "."], ["It", "PRP"], ["was", "VBD"], ["difficult", "JJ"], ["to", "TO"], ["create", "VB"], ["solutions", "NNS"], [",", ","], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["test", "VB"], ["hypotheses", "NNS"], ["against", "IN"], ["natural", "JJ"], ["phenomenon", "NN"], [".", "."], ["So", "RB"], [",", ","], ["more", "JJR"], ["and", "CC"], ["more", "JJR"], ["and", "CC"], ["more", "JJR"], ["now", "RB"], ["a", "DT"], ["days", "NNS"], ["people", "NNS"], ["are", "VBP"], ["developing", "VBG"], ["computational", "JJ"], ["models", "NNS"], [",", ","], ["where", "WRB"], ["they", "PRP"], ["attempt", "VBP"], ["to", "TO"], ["simulate", "VB"], ["what", "WP"], ["might", "MD"], ["be", "VB"], ["happening", "VBG"], ["in", "IN"], ["nature", "NN"], ["in", "IN"], ["order", "NN"], ["to", "TO"], ["try", "VB"], ["to", "TO"], ["better", "JJR"], ["understand", "VB"], ["it", "PRP"], [".", "."], ["Algorithms", "NNP"], ["play", "VBD"], ["an", "DT"], ["extremely", "RB"], ["important", "JJ"], ["role", "NN"], ["in", "IN"], ["this", "DT"], ["process", "NN"], [".", "."], ["And", "CC"], ["we", "PRP"], ["'ll", "MD"], ["see", "VB"], ["some", "DT"], ["examples", "NNS"], ["of", "IN"], ["this", "DT"], ["in", "IN"], ["this", "DT"], ["course", "NN"], [".", "."], ["Another", "DT"], ["important", "JJ"], ["reason", "NN"], ["is", "VBZ"], ["that", "IN"], ["if", "IN"], ["you", "PRP"], ["know", "VBP"], ["effect", "NN"], [",", ","], ["how", "WRB"], ["to", "TO"], ["effectively", "RB"], ["use", "VB"], ["algorithms", "NN"], ["and", "CC"], ["data", "NN"], ["structures", "NNS"], ["you", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["a", "DT"], ["much", "RB"], ["better", "JJR"], ["chance", "NN"], ["at", "IN"], ["interviewing", "VBG"], ["for", "IN"], ["a", "DT"], ["job", "NN"], ["in", "IN"], ["the", "DT"], ["technology", "NN"], ["industry", "NN"], ["then", "RB"], ["if", "IN"], ["you", "PRP"], ["do", "VBP"], ["n't", "RB"], [".", "."], ["So", "RB"], [",", ","], ["here", "RB"], ["'s", "VBZ"], ["a", "DT"], ["bunch", "NN"], ["of", "IN"], ["reasons", "NNS"], ["that", "IN"], ["I", "PRP"], ["just", "RB"], ["went", "VBD"], ["through", "IN"], ["for", "IN"], ["studying", "VBG"], ["algorithms", "NN"], [".", "."], ["Their", "PRP$"], ["impact", "NN"], ["'s", "POS"], ["broad", "JJ"], ["and", "CC"], ["far-reaching", "JJ"], [",", ","], ["they", "PRP"], ["have", "VBP"], ["old", "JJ"], ["roots", "NNS"], ["and", "CC"], ["present", "JJ"], ["new", "JJ"], ["opportunities", "NNS"], [",", ","], ["they", "PRP"], ["allow", "VBP"], ["us", "PRP"], ["to", "TO"], ["solve", "VB"], ["problems", "NNS"], ["that", "WDT"], ["could", "MD"], ["not", "RB"], ["otherwise", "RB"], ["be", "VB"], ["addressed", "VBN"], [",", ","], ["you", "PRP"], ["can", "MD"], ["use", "VB"], ["them", "PRP"], ["for", "IN"], ["intellectual", "JJ"], ["stimulation", "NN"], ["to", "TO"], ["become", "VB"], ["a", "DT"], ["proficient", "JJ"], ["programmer", "NN"], [".", "."], ["They", "PRP"], ["might", "MD"], ["unlock", "VB"], ["the", "DT"], ["secrets", "NNS"], ["of", "IN"], ["life", "NN"], ["in", "IN"], ["the", "DT"], ["universe", "NN"], [",", ","], ["and", "CC"], ["they", "PRP"], ["'re", "VBP"], ["good", "JJ"], ["for", "IN"], ["fun", "NN"], ["and", "CC"], ["profit", "NN"], [".", "."], ["In", "IN"], ["fact", "NN"], [",", ","], ["a", "DT"], ["pr", "JJ"], ["ogrammer", "NN"], ["might", "MD"], ["ask", "VB"], [",", ","], ["why", "WRB"], ["study", "NN"], ["anything", "NN"], ["else", "RB"], ["?", "."], ["Well", "UH"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["plenty", "NN"], ["of", "IN"], ["good", "JJ"], ["reasons", "NNS"], ["to", "TO"], ["study", "VB"], ["other", "JJ"], ["things", "NNS"], [",", ","], ["but", "CC"], ["I", "PRP"], ["'ll", "MD"], ["submit", "VB"], ["there", "EX"], ["'s", "VBZ"], ["no", "DT"], ["good", "JJ"], ["reason", "NN"], ["not", "RB"], ["to", "TO"], ["study", "VB"], ["algorithims", "NNS"], [".", "."], ["[", "JJ"], ["cough", "NN"], ["]", "NNP"], ["So", "NNP"], [",", ","], ["for", "IN"], ["this", "DT"], ["course", "NN"], ["we", "PRP"], ["have", "VBP"], ["two", "CD"], ["resources", "NNS"], ["that", "IN"], ["I", "PRP"], ["want", "VBP"], ["to", "TO"], ["talk", "VB"], ["about", "IN"], ["and", "CC"], ["make", "VB"], ["sure", "JJ"], ["that", "IN"], ["people", "NNS"], ["are", "VBP"], ["familiar", "JJ"], ["with", "IN"], ["before", "IN"], ["entering", "VBG"], ["into", "IN"], ["the", "DT"], ["content", "NN"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["a", "DT"], ["publishing", "NN"], ["model", "NN"], ["that", "WDT"], ["Kevin", "NNP"], ["Wayne", "NNP"], ["and", "CC"], ["I", "PRP"], ["developed", "VBD"], ["and", "CC"], ["have", "VBP"], ["been", "VBN"], ["using", "VBG"], ["for", "IN"], ["many", "JJ"], ["years", "NNS"], [",", ","], ["and", "CC"], ["we", "PRP"], ["think", "VBP"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["very", "RB"], ["effective", "JJ"], ["way", "NN"], ["to", "TO"], ["support", "VB"], ["the", "DT"], [",", ","], ["kinds", "NNS"], ["of", "IN"], ["lectures", "NNS"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["giving", "VBG"], ["in", "IN"], ["this", "DT"], ["course", "NN"], [".", "."], ["Down", "NNP"], ["at", "IN"], ["the", "DT"], ["bottom", "NN"], [",", ","], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["optional", "JJ"], ["for", "IN"], ["this", "DT"], ["course", "NN"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["text", "JJ"], ["book", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["traditional", "JJ"], [",", ","], ["text", "JJ"], ["book", "NN"], ["that", "WDT"], ["extensively", "RB"], ["covers", "VBZ"], ["the", "DT"], ["topics", "NNS"], ["in", "IN"], ["the", "DT"], ["course", "NN"], [",", ","], ["in", "IN"], ["fact", "NN"], ["many", "JJ"], ["more", "JJR"], ["topics", "NNS"], ["than", "IN"], ["we", "PRP"], ["can", "MD"], ["present", "VB"], ["in", "IN"], ["lecture", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["supporting", "VBG"], ["that", "IN"], ["textbook", "NN"], [",", ","], ["is", "VBZ"], ["free", "JJ"], ["online", "JJ"], ["material", "NN"], ["that", "IN"], ["we", "PRP"], ["call", "VBP"], ["the", "DT"], ["book", "NN"], ["site", "NN"], [".", "."], ["You", "PRP"], ["can", "MD"], ["go", "VB"], ["to", "TO"], ["books", "NNS"], [",", ","], ["the", "DT"], ["book", "NN"], ["site", "NN"], ["to", "TO"], ["see", "VB"], ["the", "DT"], ["lecture", "NN"], ["slides", "VBZ"], [".", "."], ["But", "CC"], ["more", "RBR"], ["important", "JJ"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["code", "NN"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["exercises", "NNS"], [",", ","], ["tere", "EX"], ["'s", "VBZ"], ["a", "DT"], ["great", "JJ"], ["deal", "NN"], ["of", "IN"], ["information", "NN"], ["there", "RB"], [".", "."], ["In", "IN"], ["fact", "NN"], [",", ","], ["maybe", "RB"], ["ten", "JJ"], ["times", "NNS"], ["what", "WP"], ["'s", "VBZ"], ["in", "IN"], ["the", "DT"], ["book", "NN"], [",", ","], ["including", "VBG"], ["a", "DT"], ["summary", "NN"], ["of", "IN"], ["the", "DT"], ["content", "NN"], [".", "."], ["So", "RB"], [",", ","], ["during", "IN"], ["this", "DT"], ["course", "NN"], ["you", "PRP"], ["'ll", "MD"], ["be", "VB"], ["referring", "VBG"], ["to", "TO"], ["the", "DT"], ["book", "NN"], ["site", "NN"], ["frequently", "RB"], ["while", "IN"], ["working", "VBG"], ["online", "NN"], [".", "."], ["People", "NNS"], ["often", "RB"], ["ask", "VBP"], ["about", "IN"], ["prerequisites", "NNS"], [".", "."], ["We", "PRP"], ["'re", "VBP"], ["assuming", "VBG"], ["that", "IN"], ["people", "NNS"], ["who", "WP"], ["take", "VBP"], ["this", "DT"], ["course", "NN"], ["know", "VB"], ["how", "WRB"], ["to", "TO"], ["program", "NN"], [",", ","], ["and", "CC"], ["know", "VBP"], ["the", "DT"], ["basics", "NNS"], ["of", "IN"], ["loops", "NNS"], [",", ","], ["arrays", "NNS"], [",", ","], ["functions", "NNS"], [".", "."], ["They", "PRP"], ["have", "VBP"], ["some", "DT"], ["exposure", "NN"], ["to", "TO"], ["object", "VB"], ["oriented", "VBN"], ["programming", "NN"], ["and", "CC"], ["recursion", "NN"], [".", "."], ["We", "PRP"], ["use", "VBP"], ["the", "DT"], ["Java", "NNP"], ["language", "NN"], [",", ","], ["but", "CC"], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["dwell", "VB"], ["on", "IN"], ["details", "NNS"], ["of", "IN"], ["Java", "NNP"], [",", ","], ["we", "PRP"], ["mostly", "RB"], ["use", "VBP"], ["it", "PRP"], ["as", "IN"], ["an", "DT"], ["expository", "JJ"], ["language", "NN"], [".", "."], ["We", "PRP"], ["do", "VBP"], ["some", "DT"], ["math", "NN"], [",", ","], ["but", "CC"], ["not", "RB"], ["advanced", "JJ"], ["math", "NN"], [".", "."], ["If", "IN"], ["you", "PRP"], ["want", "VBP"], ["to", "TO"], ["review", "VB"], ["the", "DT"], ["material", "NN"], ["that", "IN"], ["we", "PRP"], ["think", "VBP"], ["is", "VBZ"], ["prerequisite", "JJ"], ["for", "IN"], ["the", "DT"], ["material", "NN"], ["in", "IN"], ["this", "DT"], ["course", "NN"], [",", ","], ["you", "PRP"], ["can", "MD"], ["do", "VB"], ["a", "DT"], ["quick", "JJ"], ["review", "NN"], ["by", "IN"], ["looking", "VBG"], ["at", "IN"], ["sections", "NNS"], ["1.1", "CD"], ["and", "CC"], ["1.2", "CD"], ["of", "IN"], ["the", "DT"], ["book", "NN"], [".", "."], ["Either", "CC"], ["at", "IN"], ["the", "DT"], ["book", "NN"], ["site", "NN"], ["or", "CC"], ["in", "IN"], ["the", "DT"], ["text", "NN"], ["book", "NN"], [".", "."], ["If", "IN"], ["you", "PRP"], ["want", "VBP"], ["an", "DT"], ["in", "IN"], ["depth", "NN"], ["review", "NN"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["full", "JJ"], ["text", "NN"], ["book", "NN"], ["called", "VBN"], [",", ","], ["An", "DT"], ["Introduction", "NN"], ["to", "TO"], ["Programming", "NNP"], ["in", "IN"], ["Java", "NNP"], [":", ":"], ["An", "DT"], ["Interdisciplinary", "JJ"], ["Approach", "NN"], [".", "."], ["There", "EX"], ["is", "VBZ"], ["a", "DT"], ["book", "NN"], ["site", "NN"], ["and", "CC"], ["text", "JJ"], ["book", "NN"], ["as", "RB"], ["well", "RB"], [".", "."], ["But", "CC"], [",", ","], ["the", "DT"], ["bottom", "JJ"], ["line", "NN"], ["is", "VBZ"], [",", ","], ["you", "PRP"], ["should", "MD"], ["be", "VB"], ["able", "JJ"], ["t", "JJ"], ["o", "NN"], ["program", "NN"], [",", ","], ["and", "CC"], ["the", "DT"], ["quick", "JJ"], ["exercise", "NN"], ["to", "TO"], ["get", "VB"], ["ready", "JJ"], ["is", "VBZ"], [",", ","], ["to", "TO"], ["write", "VB"], ["a", "DT"], ["java", "NN"], ["program", "NN"], ["on", "IN"], ["your", "PRP$"], ["computer", "NN"], ["perhaps", "RB"], ["using", "VBG"], ["a", "DT"], ["programming", "NN"], ["model", "NN"], [",", ","], ["as", "IN"], ["described", "VBN"], ["on", "IN"], ["the", "DT"], ["book", "NN"], ["site", "NN"], [".", "."], ["We", "PRP"], ["will", "MD"], ["provide", "VB"], ["much", "RB"], ["more", "JJR"], ["detail", "JJ"], ["information", "NN"], ["on", "IN"], ["that", "DT"], ["as", "IN"], ["we", "PRP"], ["get", "VBP"], ["into", "IN"], ["the", "DT"], ["assignments", "NNS"], [".", "."], ["You", "PRP"], ["can", "MD"], ["use", "VB"], ["your", "PRP$"], ["own", "JJ"], ["programming", "NN"], ["environment", "NN"], ["if", "IN"], ["your", "PRP$"], ["comfortable", "JJ"], ["with", "IN"], ["one", "CD"], ["or", "CC"], ["you", "PRP"], ["download", "VBP"], ["ours", "NNS"], [".", "."], ["We", "PRP"], ["have", "VBP"], ["instructions", "NNS"], ["on", "IN"], ["the", "DT"], ["web", "NN"], ["on", "IN"], ["how", "WRB"], ["to", "TO"], ["do", "VB"], ["that", "DT"], [".", "."]], "title": "course introduction", "text": "Welcome. I'm Bob Sedgewick, professor of computer science at Princeton. This is our online course Algorithms developed by myself and Kevin Wayne here at Princeton. We're gonna start with an overview discussion of why you might want to study algorithms and a little bit of discussion about the resources that you need to take this course. So, what is this course? It's an intermediate level survey course on algorithms. We're going to concentrate on programming and problem solving in the context of real applications, and our focus is going to be on two things, Algorithms which are methods for solving problems and data structures which store the information associated in problem, with a problem and go hand in hand with algorithms. These are the basic topics that we'll cover in part one and part two of the course. The first part is data type sorting and searching. We'll consider a number of data structures and algorithms that are basic to all the methods we consider including stacks, queues, bags and priority queues. Then we'll consider classic algorithms for sorting, putting things in order. That's quicksort, mergesort, heapsort and radix sorts. And we'll consider classic methods for searching. Including binary search trees, red-black binary search trees and hash tables. The second part of the course is for more advanced algorithms including graph algorithms, classic graph searching algorithms, minimum spanning tree and shortest path algorithms, algorithms for processing strings including regular expressions and data compression. And then some advanced algorithms that make use of the basic algorithms that we developed earlier in the course. So, why should one study algorithms? Well, their input, impact is very broad and far-reaching. From the internet to biology to, commercial computing, computer graphics, security, multimedia, social networks, and scientific applications, algorithms are all around us. They're used for movies and video games, for particle collision simulation, they're used to study the genome, and all manner of other applications. So, that's one important reason to study algorithms, their impact is broad and far-reaching. Algorithms are also interesting to study, because they, they have ancient roots. Now the first algorithm we studied goes back to 300 B.C., dating at least to Euclid. The concept of an algorithm was formalized actually here at Princeton, by Church and Turing, in the 1930s. But most algorithms that we consider, were discovered in recent decades. In fact, some were discovered by undergraduates in a course, course like this. And there's plenty of other algorithms waiting to be discovered by students like you. The main reason that people study algorithms, is to be able to solve problems that it could not otherwise be addressed. For example, in the first lecture, we're going to talk about the network connectivity problem, where the problem is, given a large set of items that are connected together pairwise is there a way to get from one to another with a path through the connections. As you can see from this example, it's not clear whether or not there's such a path, we need a computer program to do it, in fact, we need an efficient algorithm to do it. In this case the answer is that there is such a path. Another reason to study algorithms is for intellectual stimulation. Algorithms are very interesting objects to study. Don Knuth who wrote several books on, on algorithms and was a pioneer in the field said that, \"An algorithm must be seen to be believed.\" You can't just think about an algorithm you have to work with it. Another quote from Francis Sullivan, says, \"The great algorithms are the poetry of computation.\" Just like verse, they can be terse, elusive, dense, and even mysterious. But once unlocked, they cast a brilliant new light on some aspect of computing. Algorithms are interesting for intellectual stimulation. Another reason many people study algorithms and I suspect many of you, is it's necessary to understand good algorithms, efficient algorithms, a good data structures in order to be a proficient programmer. Linus Torvalds, who created lin, Linux, says that the difference between a bad programmer and a good one is whether he considers his code or his data structures more important. Bad programmers worry about the code, good programmers worry about data structures, and their relationships. And, I might add, the algorithms that process them. Niklaus Wirth, another pioneer in computer science, wrote a famous book called Algorithms + Data Structures = Programs. [cough]. Another reason nowadays to study algorithms is that, they have become a common language for understanding, nature. Algorithms are computational models, and algorithmic models are replacing mathematical models in scientific inquiry. In the twentieth century, math, scientists developed mathematical models to try to understand natural phenomenon. It soon became clear that those mathematical models were difficult to solve. It was difficult to create solutions, to be able to test hypotheses against natural phenomenon. So, more and more and more now a days people are developing computational models, where they attempt to simulate what might be happening in nature in order to try to better understand it. Algorithms play an extremely important role in this process. And we'll see some examples of this in this course. Another important reason is that if you know effect, how to effectively use algorithms and data structures you're going to have a much better chance at interviewing for a job in the technology industry then if you don't. So, here's a bunch of reasons that I just went through for studying algorithms. Their impact's broad and far-reaching, they have old roots and present new opportunities, they allow us to solve problems that could not otherwise be addressed, you can use them for intellectual stimulation to become a proficient programmer. They might unlock the secrets of life in the universe, and they're good for fun and profit. In fact, a pr ogrammer might ask, why study anything else? Well, there's plenty of good reasons to study other things, but I'll submit there's no good reason not to study algorithims. [cough] So, for this course we have two resources that I want to talk about and make sure that people are familiar with before entering into the content. This is a publishing model that Kevin Wayne and I developed and have been using for many years, and we think it's a very effective way to support the, kinds of lectures that we're going to be giving in this course. Down at the bottom, and it's optional for this course, we have a text book. It's a traditional, text book that extensively covers the topics in the course, in fact many more topics than we can present in lecture. And then supporting that textbook, is free online material that we call the book site. You can go to books, the book site to see the lecture slides. But more important, there's code, there's exercises, tere's a great deal of information there. In fact, maybe ten times what's in the book, including a summary of the content. So, during this course you'll be referring to the book site frequently while working online. People often ask about prerequisites. We're assuming that people who take this course know how to program, and know the basics of loops, arrays, functions. They have some exposure to object oriented programming and recursion. We use the Java language, but we don't dwell on details of Java, we mostly use it as an expository language. We do some math, but not advanced math. If you want to review the material that we think is prerequisite for the material in this course, you can do a quick review by looking at sections 1.1 and 1.2 of the book. Either at the book site or in the text book. If you want an in depth review, we have a full text book called, An Introduction to Programming in Java: An Interdisciplinary Approach. There is a book site and text book as well. But, the bottom line is, you should be able t o program, and the quick exercise to get ready is, to write a java program on your computer perhaps using a programming model, as described on the book site. We will provide much more detail information on that as we get into the assignments. You can use your own programming environment if your comfortable with one or you download ours. We have instructions on the web on how to do that. ", "video_ID": 1, "course_id": 3}
{"category": ["union find"], "tagged": [["Welcome", "NNP"], ["back", "RB"], ["to", "TO"], ["algorithms", "NN"], [".", "."], ["Today", "NN"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["talk", "VB"], ["about", "IN"], ["the", "DT"], ["union", "NN"], ["find", "NN"], ["problem", "NN"], [".", "."], ["A", "DT"], ["set", "NN"], ["of", "IN"], ["algorithms", "NN"], ["for", "IN"], ["solving", "VBG"], ["the", "DT"], ["so-called", "JJ"], ["dynamic", "JJ"], ["connectivity", "NN"], ["problem", "NN"], [".", "."], ["We", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["two", "CD"], ["classic", "JJ"], ["algorithms", "NN"], [".", "."], ["Quick", "NNP"], ["Find", "NNP"], ["and", "CC"], ["Quick", "NNP"], ["Union", "NNP"], [",", ","], ["and", "CC"], ["some", "DT"], ["applications", "NNS"], ["and", "CC"], ["improvements", "NNS"], ["of", "IN"], ["those", "DT"], ["algorithms", "NNS"], [".", "."], ["The", "DT"], ["subtext", "NN"], ["of", "IN"], ["today", "NN"], ["'s", "POS"], ["lecture", "NN"], ["really", "RB"], ["is", "VBZ"], ["to", "TO"], ["go", "VB"], ["through", "IN"], ["the", "DT"], ["steps", "NNS"], ["that", "IN"], ["we", "PRP"], ["'ll", "MD"], ["follow", "VB"], ["over", "IN"], ["and", "CC"], ["over", "RB"], ["again", "RB"], ["to", "TO"], ["develop", "VB"], ["a", "DT"], ["useful", "JJ"], ["algorithm", "NN"], [".", "."], ["The", "DT"], ["first", "JJ"], ["step", "NN"], ["is", "VBZ"], ["to", "TO"], ["model", "VB"], ["the", "DT"], ["problem", "NN"], [".", "."], ["Try", "VB"], ["to", "TO"], ["understand", "VB"], [",", ","], ["basically", "RB"], [",", ","], ["what", "WP"], ["are", "VBP"], ["the", "DT"], ["main", "JJ"], ["elements", "NNS"], ["of", "IN"], ["the", "DT"], ["problem", "NN"], ["that", "WDT"], ["need", "VBP"], ["to", "TO"], ["be", "VB"], ["solved", "VBN"], [".", "."], ["Then", "RB"], ["we", "PRP"], ["'ll", "MD"], ["find", "VB"], ["some", "DT"], ["algorithm", "NN"], ["to", "TO"], ["solve", "VB"], ["the", "DT"], ["problem", "NN"], [".", "."], ["In", "IN"], ["many", "JJ"], ["cases", "NNS"], [",", ","], ["the", "DT"], ["first", "JJ"], ["algorithm", "NN"], ["we", "PRP"], ["come", "VBP"], ["up", "RP"], ["with", "IN"], ["would", "MD"], ["be", "VB"], ["fast", "RB"], ["enough", "JJ"], ["and", "CC"], ["maybe", "VB"], ["it", "PRP"], ["fits", "VBZ"], ["in", "IN"], ["memory", "NN"], ["and", "CC"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["go", "VB"], ["ahead", "RB"], ["and", "CC"], ["use", "VB"], ["it", "PRP"], [",", ","], ["and", "CC"], ["be", "VB"], ["off", "RB"], ["and", "CC"], ["running", "VBG"], [".", "."], ["But", "CC"], ["in", "IN"], ["many", "JJ"], ["other", "JJ"], ["cases", "NNS"], ["maybe", "VBP"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["fast", "RB"], ["enough", "RB"], [",", ","], ["or", "CC"], ["there", "EX"], ["'s", "VBZ"], ["not", "RB"], ["enough", "JJ"], ["memory", "NN"], [".", "."], ["So", "RB"], [",", ","], ["what", "WP"], ["we", "PRP"], ["do", "VBP"], ["is", "VBZ"], ["try", "VB"], ["to", "TO"], ["figure", "VB"], ["out", "RP"], ["why", "WRB"], [",", ","], ["find", "VB"], ["a", "DT"], ["way", "NN"], ["to", "TO"], ["address", "VB"], ["whatever", "WDT"], ["'s", "POS"], ["causing", "VBG"], ["that", "DT"], ["problem", "NN"], [",", ","], ["find", "VB"], ["a", "DT"], ["new", "JJ"], ["algorithm", "NN"], ["and", "CC"], ["iterate", "NN"], ["until", "IN"], ["we", "PRP"], ["'re", "VBP"], ["satisfied", "JJ"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["the", "DT"], ["scientific", "JJ"], ["approach", "NN"], ["to", "TO"], ["designing", "VBG"], ["and", "CC"], ["analyzing", "VBG"], ["algorithms", "NN"], [",", ","], ["where", "WRB"], ["we", "PRP"], ["build", "VBP"], ["mathematical", "JJ"], ["models", "NNS"], ["to", "TO"], ["try", "VB"], ["and", "CC"], ["understand", "VB"], ["what", "WP"], ["'s", "VBZ"], ["going", "VBG"], ["on", "IN"], [",", ","], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["do", "VBP"], ["experiments", "NNS"], ["to", "TO"], ["validate", "VB"], ["those", "DT"], ["models", "NNS"], ["and", "CC"], ["help", "VB"], ["us", "PRP"], ["improve", "VB"], ["things", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["first", "RB"], ["we", "PRP"], ["'ll", "MD"], ["talk", "VB"], ["about", "IN"], ["the", "DT"], ["dynamic", "JJ"], ["connectivity", "NN"], ["problem", "NN"], [",", ","], ["the", "DT"], ["model", "NN"], ["of", "IN"], ["the", "DT"], ["problem", "NN"], ["for", "IN"], ["union", "NN"], ["find", "NN"], [".", "."], ["So", "RB"], [",", ","], ["here", "RB"], ["'s", "VBZ"], ["the", "DT"], ["idea", "NN"], [".", "."], ["They", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["a", "DT"], ["set", "NN"], ["of", "IN"], ["N", "NNP"], ["objects", "NNS"], [".", "."], ["Does", "VBZ"], ["n't", "RB"], ["really", "RB"], ["matter", "VB"], ["what", "WP"], ["they", "PRP"], ["are", "VBP"], [".", "."], ["We", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["use", "VB"], ["the", "DT"], ["numbers", "NNS"], [",", ","], ["zero", "CD"], ["through", "IN"], ["N", "NNP"], ["to", "TO"], ["model", "VB"], ["our", "PRP$"], ["objects", "NNS"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["the", "DT"], ["idea", "NN"], ["of", "IN"], ["a", "DT"], ["connection", "NN"], ["between", "IN"], ["two", "CD"], ["objects", "NNS"], [".", "."], ["And", "CC"], [",", ","], ["we", "PRP"], ["'ll", "MD"], [",", ","], ["postulate", "VB"], ["that", "IN"], ["there", "EX"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["a", "DT"], ["command", "NN"], ["that", "WDT"], ["says", "VBZ"], [",", ","], ["connect", "VBP"], ["two", "CD"], ["objects", "NNS"], [".", "."], ["Given", "VBN"], ["two", "CD"], ["objects", "NNS"], [",", ","], ["provide", "VBP"], ["a", "DT"], ["connection", "NN"], ["between", "IN"], ["them", "PRP"], [".", "."], ["And", "CC"], ["then", "RB"], ["key", "JJ"], ["part", "NN"], ["of", "IN"], ["the", "DT"], ["problem", "NN"], ["is", "VBZ"], ["find", "JJ"], ["query", "NN"], ["or", "CC"], ["the", "DT"], ["connected", "JJ"], ["query", "NN"], [",", ","], ["which", "WDT"], ["just", "RB"], ["asks", "NNS"], [",", ","], ["is", "VBZ"], ["there", "RB"], ["a", "DT"], ["path", "NN"], ["connecting", "VBG"], ["the", "DT"], ["two", "CD"], ["objects", "NNS"], [".", "."], ["So", "RB"], ["for", "IN"], ["example", "NN"], [",", ","], ["in", "IN"], ["this", "DT"], ["set", "NN"], ["of", "IN"], ["ten", "JJ"], ["objects", "NNS"], [",", ","], ["we", "PRP"], ["performed", "VBD"], ["already", "RB"], [",", ","], ["a", "DT"], ["bunch", "NN"], ["of", "IN"], ["union", "NN"], ["commands", "NNS"], [",", ","], ["connecting", "VBG"], ["four", "CD"], ["and", "CC"], ["three", "CD"], [",", ","], ["three", "CD"], ["and", "CC"], ["eight", "CD"], [",", ","], ["six", "CD"], ["and", "CC"], ["five", "CD"], [",", ","], ["nine", "CD"], ["and", "CC"], ["four", "CD"], [",", ","], ["two", "CD"], ["and", "CC"], ["one", "CD"], [".", "."], ["And", "CC"], ["now", "RB"], ["we", "PRP"], ["might", "MD"], ["have", "VB"], ["a", "DT"], ["connected", "VBN"], ["query", "NN"], ["that", "WDT"], ["says", "VBZ"], [",", ","], ["is", "VBZ"], ["zero", "CD"], ["connect", "NN"], ["ed", "NN"], ["to", "TO"], ["seven", "CD"], ["?", "."], ["Well", "UH"], [",", ","], ["in", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["there", "EX"], ["is", "VBZ"], ["no", "DT"], ["connection", "NN"], [",", ","], ["so", "IN"], ["we", "PRP"], ["say", "VBP"], ["no", "DT"], [".", "."], ["But", "CC"], ["if", "IN"], ["we", "PRP"], ["ask", "VBP"], ["is", "VBZ"], ["eight", "CD"], ["connected", "VBN"], ["to", "TO"], ["nine", "CD"], ["?", "."], ["We", "PRP"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["say", "VB"], ["yes", "UH"], [",", ","], ["even", "RB"], ["no", "DT"], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["have", "VB"], ["a", "DT"], ["direct", "JJ"], ["connection", "NN"], ["between", "IN"], ["eight", "CD"], ["and", "CC"], ["nine", "CD"], [".", "."], ["There", "EX"], ["is", "VBZ"], ["a", "DT"], ["path", "NN"], ["from", "IN"], ["eight", "CD"], ["to", "TO"], ["three", "CD"], ["to", "TO"], ["four", "CD"], ["to", "TO"], ["nine", "CD"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["our", "PRP$"], ["problem", "NN"], [",", ","], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["officially", "RB"], ["support", "VB"], ["these", "DT"], ["two", "CD"], ["commands", "NNS"], ["for", "IN"], ["given", "VBN"], ["set", "NN"], ["of", "IN"], ["objects", "NNS"], [".", "."], ["Now", "RB"], [",", ","], ["let", "VB"], ["'s", "POS"], ["say", "VB"], ["we", "PRP"], ["add", "VB"], ["a", "DT"], ["union", "NN"], ["five", "CD"], [",", ","], ["zero", "NN"], [".", "."], ["So", "RB"], [",", ","], ["that", "IN"], ["creates", "VBZ"], ["a", "DT"], ["connection", "NN"], ["between", "IN"], ["five", "CD"], ["and", "CC"], ["zero", "NN"], [".", "."], ["Seven", "NNP"], ["and", "CC"], ["two", "CD"], ["creates", "NNS"], ["a", "DT"], ["connection", "NN"], ["between", "IN"], ["seven", "CD"], ["and", "CC"], ["two", "CD"], [".", "."], ["And", "CC"], ["six", "CD"], ["and", "CC"], ["one", "CD"], [",", ","], ["between", "IN"], ["six", "CD"], ["and", "CC"], ["one", "CD"], [".", "."], ["So", "RB"], [",", ","], ["now", "RB"], ["if", "IN"], ["we", "PRP"], ["ask", "VBP"], ["our", "PRP$"], ["zero", "NN"], ["connected", "VBN"], ["to", "TO"], ["seven", "CD"], [",", ","], ["well", "RB"], ["one", "CD"], ["and", "CC"], ["zero", "CD"], ["we", "PRP"], ["can", "MD"], ["do", "VB"], ["that", "DT"], ["too", "RB"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["redundant", "JJ"], ["connection", "NN"], [".", "."], ["And", "CC"], ["now", "RB"], [",", ","], ["if", "IN"], ["we", "PRP"], ["ask", "VBP"], ["is", "VBZ"], ["zero", "CD"], ["connected", "VBN"], ["to", "TO"], ["seven", "CD"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["answer", "VB"], ["yes", "UH"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["our", "PRP$"], ["problem", "NN"], [",", ","], ["intermix", "NN"], ["union", "NN"], [",", ","], ["commands", "NNS"], ["and", "CC"], ["connected", "VBN"], ["queries", "NNS"], ["and", "CC"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["officially", "RB"], ["support", "VB"], ["those", "DT"], ["commands", "NNS"], ["for", "IN"], ["a", "DT"], ["large", "JJ"], ["number", "NN"], ["of", "IN"], ["objects", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["here", "RB"], ["'s", "VBZ"], ["a", "DT"], ["much", "RB"], ["bigger", "JJR"], ["example", "NN"], [".", "."], ["And", "CC"], ["you", "PRP"], ["can", "MD"], ["see", "VB"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["need", "VB"], ["efficient", "JJ"], ["algorithms", "NN"], ["for", "IN"], ["this", "DT"], [".", "."], ["First", "NNP"], ["of", "IN"], ["all", "RB"], [",", ","], ["you", "PRP"], ["can", "MD"], ["see", "VB"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["need", "VB"], ["a", "DT"], ["computer", "NN"], ["for", "IN"], ["this", "DT"], [".", "."], ["It", "PRP"], ["would", "MD"], ["take", "VB"], ["quite", "RB"], [",", ","], ["quite", "RB"], ["some", "DT"], ["time", "NN"], ["for", "IN"], ["a", "DT"], ["human", "JJ"], ["to", "TO"], ["figure", "VB"], ["out", "RP"], ["whether", "IN"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["connection", "NN"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], ["there", "EX"], ["is", "VBZ"], ["a", "DT"], ["connection", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["the", "DT"], ["algorithms", "NN"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["looking", "VBG"], ["at", "IN"], ["today", "NN"], ["are", "VBP"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], ["actually", "RB"], ["give", "VB"], ["the", "DT"], ["path", "NN"], ["connecting", "VBG"], ["the", "DT"], ["two", "CD"], ["objects", "NNS"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["just", "RB"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["answer", "VB"], ["the", "DT"], ["question", "NN"], [",", ","], ["is", "VBZ"], ["there", "RB"], ["a", "DT"], ["path", "NN"], ["?", "."], ["In", "IN"], ["part", "NN"], ["two", "CD"], ["of", "IN"], ["the", "DT"], ["course", "NN"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["consider", "VB"], ["algorithms", "NNS"], ["that", "WDT"], ["explicitly", "RB"], ["find", "VBP"], ["paths", "NNS"], [".", "."], ["They", "PRP"], ["'re", "VBP"], ["not", "RB"], ["as", "RB"], ["efficient", "JJ"], ["as", "IN"], ["union", "NN"], ["find", "VBP"], ["because", "IN"], ["they", "PRP"], ["have", "VBP"], ["more", "JJR"], ["work", "NN"], ["to", "TO"], ["do", "VB"], [".", "."], ["Now", "RB"], [",", ","], ["applications", "NNS"], ["of", "IN"], ["these", "DT"], [",", ","], ["these", "DT"], ["algorithms", "NNS"], ["involve", "VBP"], ["objects", "NNS"], ["of", "IN"], ["all", "DT"], ["types", "NNS"], [".", "."], ["These", "DT"], ["are", "VBP"], ["used", "VBN"], ["for", "IN"], ["digital", "JJ"], ["photos", "NN"], [",", ","], ["where", "WRB"], ["the", "DT"], ["objects", "NNS"], ["are", "VBP"], ["pixels", "NNS"], ["they", "PRP"], ["'re", "VBP"], ["used", "VBN"], ["for", "IN"], ["networks", "NNS"], [",", ","], ["where", "WRB"], ["the", "DT"], ["objects", "NNS"], ["are", "VBP"], ["computers", "NNS"], [",", ","], ["social", "JJ"], ["networks", "NNS"], [",", ","], ["where", "WRB"], ["it", "PRP"], ["'s", "VBZ"], ["people", "NNS"], [",", ","], ["or", "CC"], ["computer", "NN"], ["chips", "NNS"], [",", ","], ["where", "WRB"], ["it", "PRP"], ["'s", "VBZ"], ["circuit", "JJ"], ["elements", "NNS"], ["or", "CC"], ["abstract", "JJ"], ["things", "NNS"], ["like", "IN"], ["variable", "JJ"], ["names", "NNS"], ["in", "IN"], ["a", "DT"], ["program", "NN"], [",", ","], ["or", "CC"], ["elements", "NNS"], ["in", "IN"], ["a", "DT"], ["mathematical", "JJ"], ["set", "NN"], [",", ","], ["or", "CC"], ["physical", "JJ"], ["things", "NNS"], ["like", "IN"], ["metallic", "JJ"], ["sites", "NNS"], ["in", "IN"], ["a", "DT"], ["composite", "JJ"], ["system", "NN"], [".", "."], ["So", "RB"], [",", ","], ["all", "DT"], ["different", "JJ"], ["types", "NNS"], ["of", "IN"], ["objects", "NNS"], ["for", "IN"], [",", ","], ["but", "CC"], ["for", "IN"], ["programming", "VBG"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["associate", "VB"], ["each", "DT"], ["object", "NN"], ["with", "IN"], ["a", "DT"], ["name", "NN"], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["just", "RB"], ["name", "VB"], ["the", "DT"], ["objects", "NNS"], ["with", "IN"], ["a", "DT"], ["number", "NN"], [",", ","], ["integers", "NNS"], ["from", "IN"], ["zero", "CD"], ["to", "TO"], ["N-1", "NNP"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["a", "DT"], ["very", "RB"], ["convenient", "JJ"], ["initial", "JJ"], ["starting", "VBG"], ["point", "NN"], ["for", "IN"], ["our", "PRP$"], ["programs", "NNS"], ["because", "IN"], ["we", "PRP"], ["can", "MD"], ["use", "VB"], ["integers", "NNS"], ["as", "IN"], ["an", "DT"], ["index", "NN"], ["into", "IN"], ["an", "DT"], ["array", "NN"], ["then", "RB"], [",", ","], ["and", "CC"], ["then", "RB"], ["quickly", "RB"], ["access", "NN"], ["information", "NN"], ["relevant", "NN"], ["to", "TO"], ["each", "DT"], ["object", "NN"], [".", "."], ["And", "CC"], ["it", "PRP"], ["also", "RB"], ["just", "RB"], ["supresses", "VBZ"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["details", "NNS"], ["that", "WDT"], ["are", "VBP"], ["not", "RB"], ["relevant", "JJ"], ["to", "TO"], ["union", "NN"], ["find", "NN"], [".", "."], ["In", "IN"], ["fact", "NN"], [",", ","], ["to", "TO"], ["make", "VB"], ["this", "DT"], ["mapping", "NN"], ["from", "IN"], ["an", "DT"], ["object", "NN"], ["name", "NN"], ["to", "TO"], ["the", "DT"], ["integer", "NN"], ["zero", "NN"], ["through", "IN"], ["N", "NNP"], ["-", ":"], ["one", "NN"], ["is", "VBZ"], ["to", "TO"], ["find", "VB"], ["application", "NN"], ["of", "IN"], ["a", "DT"], ["symbol", "NN"], ["table", "NN"], ["or", "CC"], ["a", "DT"], ["searching", "JJ"], ["algorithm", "NN"], [",", ","], ["which", "WDT"], ["is", "VBZ"], ["one", "CD"], ["of", "IN"], ["the", "DT"], ["things", "NNS"], ["that", "IN"], ["we", "PRP"], ["'ll", "MD"], ["be", "VB"], ["studying", "VBG"], ["later", "RB"], ["in", "IN"], ["this", "DT"], ["course", "NN"], ["algorithms", "NN"], ["and", "CC"], ["data", "NNS"], ["structures", "NNS"], ["for", "IN"], ["solving", "VBG"], ["that", "DT"], ["problem", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["the", "DT"], ["connections", "NNS"], [",", ","], ["well", "RB"], [",", ","], ["we", "PRP"], ["need", "VBP"], [",", ","], ["a", "DT"], ["few", "JJ"], ["abstract", "NN"], ["properties", "NNS"], ["that", "IN"], ["these", "DT"], ["connections", "NNS"], ["have", "VBP"], ["to", "TO"], ["satisfy", "VB"], [".", "."], ["And", "CC"], ["they", "PRP"], ["'re", "VBP"], ["all", "DT"], ["quite", "RB"], ["natural", "JJ"], ["and", "CC"], ["intuitive", "JJ"], [".", "."], ["So", "IN"], ["we", "PRP"], ["assume", "VBP"], ["that", "DT"], ["is", "VBZ"], ["connected", "VBN"], ["to", "TO"], ["is", "VBZ"], ["an", "DT"], ["equivalence", "NN"], ["relation", "NN"], [".", "."], ["That", "DT"], ["is", "VBZ"], [",", ","], ["every", "DT"], ["object", "NN"], ["'s", "POS"], ["connected", "VBN"], ["to", "TO"], ["itself", "PRP"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["symmetric", "JJ"], [".", "."], ["If", "IN"], ["P", "NNP"], ["'s", "POS"], ["connected", "VBN"], ["to", "TO"], ["Q", "NNP"], [",", ","], ["then", "RB"], ["Q", "NNP"], ["'s", "POS"], ["connected", "VBN"], ["to", "TO"], ["P", "NNP"], [",", ","], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["transitive", "JJ"], [".", "."], ["If", "IN"], ["P", "NNP"], ["'s", "POS"], ["connected", "VBN"], ["to", "TO"], ["Q", "NNP"], [",", ","], ["and", "CC"], ["Q", "NNP"], ["'s", "POS"], ["connected", "VBN"], ["to", "TO"], ["R", "NNP"], [",", ","], ["then", "RB"], ["P", "NNP"], ["'s", "POS"], ["connected", "VBN"], ["to", "TO"], ["R.", "NNP"], ["Now", "RB"], ["these", "DT"], ["properties", "NNS"], ["are", "VBP"], ["very", "RB"], ["intuitive", "JJ"], [".", "."], ["But", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["worthwhile", "JJ"], ["to", "TO"], ["state", "NN"], ["them", "PRP"], ["explicitly", "RB"], ["and", "CC"], ["make", "VB"], ["sure", "JJ"], ["that", "IN"], ["our", "PRP$"], ["algorithms", "NN"], ["maintain", "VB"], ["them", "PRP"], [".", "."], ["When", "WRB"], ["we", "PRP"], ["have", "VBP"], ["an", "DT"], ["equivalence", "NN"], ["relation", "NN"], ["a", "DT"], ["set", "NN"], ["of", "IN"], ["objects", "NNS"], ["and", "CC"], ["connections", "NNS"], ["divide", "VBP"], ["into", "IN"], ["subsets", "NNS"], ["called", "VBN"], ["connected", "JJ"], ["components", "NNS"], [".", "."], ["A", "DT"], ["connected", "JJ"], ["component", "NN"], ["is", "VBZ"], ["a", "DT"], ["maximal", "JJ"], ["set", "NN"], ["of", "IN"], ["objects", "NNS"], ["that", "WDT"], ["'s", "VBZ"], ["mutually", "RB"], ["connected", "VBN"], [".", "."], ["For", "IN"], ["example", "NN"], ["in", "IN"], ["this", "DT"], ["small", "JJ"], ["example", "NN"], ["here", "RB"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["three", "CD"], ["connected", "JJ"], ["components", "NNS"], [".", "."], ["One", "CD"], ["consisting", "NN"], ["of", "IN"], ["just", "RB"], ["object", "JJ"], ["zero", "CD"], [",", ","], ["second", "JJ"], ["one", "CD"], ["objects", "VBZ"], ["one", "CD"], [",", ","], ["four", "CD"], ["and", "CC"], ["five", "CD"], [".", "."], ["And", "CC"], ["third", "JJ"], ["one", "CD"], ["the", "DT"], ["other", "JJ"], ["four", "CD"], ["objects", "NNS"], [".", "."], ["And", "CC"], ["these", "DT"], ["components", "NNS"], ["have", "VBP"], ["the", "DT"], ["property", "NN"], ["that", "IN"], ["if", "IN"], ["any", "DT"], ["two", "CD"], ["objects", "NNS"], ["in", "IN"], ["them", "PRP"], ["are", "VBP"], ["connected", "VBN"], ["and", "CC"], ["there", "EX"], ["is", "VBZ"], ["no", "DT"], ["object", "JJ"], ["outside", "IN"], ["that", "DT"], ["is", "VBZ"], ["connected", "VBN"], ["to", "TO"], ["those", "DT"], ["objects", "NNS"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["connected", "JJ"], ["components", "NNS"], [".", "."], ["Our", "PRP$"], ["algorithms", "NN"], ["will", "MD"], ["gain", "VB"], ["efficiency", "NN"], ["by", "IN"], ["maintaining", "VBG"], ["connected", "VBN"], ["components", "NNS"], ["and", "CC"], ["using", "VBG"], ["that", "IN"], ["knowledge", "NN"], ["to", "TO"], ["efficiently", "RB"], ["answer", "VB"], ["the", "DT"], ["query", "NN"], ["that", "WDT"], ["'s", "VBZ"], [",", ","], ["that", "IN"], ["they", "PRP"], ["'re", "VBP"], ["presented", "VBN"], ["with", "IN"], [".", "."], ["Okay", "NNP"], [",", ","], ["so", "RB"], ["to", "TO"], ["implement", "VB"], ["the", "DT"], ["operations", "NNS"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["find", "VB"], ["query", "NN"], ["and", "CC"], ["the", "DT"], ["union", "NN"], ["command", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["mai", "VB"], ["ntain", "PDT"], ["the", "DT"], ["connected", "JJ"], ["components", "NNS"], [".", "."], ["The", "DT"], ["find", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["to", "TO"], ["check", "VB"], ["if", "IN"], ["two", "CD"], ["objects", "NNS"], ["are", "VBP"], ["in", "IN"], ["the", "DT"], ["same", "JJ"], ["component", "NN"], ["and", "CC"], ["the", "DT"], ["union", "NN"], ["command", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["to", "TO"], ["replace", "VB"], ["components", "NNS"], ["containing", "VBG"], ["two", "CD"], ["objects", "NNS"], ["with", "IN"], ["their", "PRP$"], ["union", "NN"], [".", "."], ["So", "RB"], [",", ","], ["for", "IN"], ["example", "NN"], [",", ","], ["if", "IN"], ["we", "PRP"], ["have", "VBP"], ["these", "DT"], ["components", "NNS"], [",", ","], ["and", "CC"], ["we", "PRP"], ["get", "VBP"], ["the", "DT"], ["command", "NN"], ["to", "TO"], ["union", "NN"], ["connect", "NN"], [",", ","], ["two", "CD"], ["and", "CC"], ["five", "CD"], [".", "."], ["Essentially", "RB"], [",", ","], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["merge", "VB"], ["the", "DT"], ["connected", "JJ"], ["components", "NNS"], ["containing", "VBG"], ["the", "DT"], ["one", "CD"], ["containing", "VBG"], ["two", "CD"], ["or", "CC"], ["the", "DT"], ["one", "CD"], ["containing", "VBG"], ["five", "CD"], ["to", "TO"], ["get", "VB"], ["a", "DT"], ["big", "JJ"], ["connected", "JJ"], ["components", "NNS"], ["and", "CC"], ["now", "RB"], ["we", "PRP"], ["have", "VBP"], ["only", "RB"], ["two", "CD"], ["connected", "JJ"], ["components", "NNS"], [".", "."], ["All", "DT"], ["of", "IN"], ["that", "DT"], ["leads", "VBZ"], ["up", "RP"], ["to", "TO"], [",", ","], ["in", "IN"], ["a", "DT"], ["programming", "NN"], ["world", "NN"], ["to", "TO"], ["specifying", "VBG"], [",", ","], ["a", "DT"], ["data", "NN"], ["type", "NN"], ["which", "WDT"], ["is", "VBZ"], ["simply", "RB"], ["specification", "NN"], ["of", "IN"], ["the", "DT"], ["methods", "NNS"], ["that", "IN"], ["we", "PRP"], ["are", "VBP"], ["want", "JJ"], ["to", "TO"], ["going", "VBG"], ["to", "TO"], ["implement", "VB"], ["in", "IN"], ["order", "NN"], ["to", "TO"], ["solve", "VB"], ["this", "DT"], ["problem", "NN"], [".", "."], ["So", "RB"], ["you", "PRP"], ["know", "VBP"], [",", ","], ["typical", "JJ"], ["Java", "NNP"], ["model", "NN"], [",", ","], ["what", "WP"], ["we", "PRP"], ["will", "MD"], ["do", "VB"], ["is", "VBZ"], ["create", "VB"], ["a", "DT"], ["class", "NN"], ["called", "VBN"], ["UF", "NNP"], ["that", "WDT"], ["contains", "VBZ"], ["two", "CD"], ["methods", "NNS"], [",", ","], ["one", "CD"], ["to", "TO"], ["implement", "VB"], ["union", "NN"], [",", ","], ["the", "DT"], ["other", "JJ"], ["one", "CD"], ["to", "TO"], ["implement", "VB"], ["connected", "VBN"], [",", ","], ["which", "WDT"], ["returns", "VBZ"], ["a", "DT"], ["boolean", "NN"], [".", "."], ["The", "DT"], ["constructor", "NN"], [",", ","], ["takes", "VBZ"], ["SR", "NNP"], ["unit", "NN"], [",", ","], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["objects", "NNS"], [",", ","], ["so", "IN"], ["that", "IN"], ["it", "PRP"], ["can", "MD"], ["build", "VB"], ["data", "NNS"], ["structure", "NN"], ["based", "VBN"], ["on", "IN"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["objects", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["and", "CC"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], [",", ","], ["bear", "VB"], ["in", "IN"], ["mind", "NN"], [",", ","], ["as", "IN"], ["we", "PRP"], ["'re", "VBP"], ["building", "VBG"], ["our", "PRP$"], ["logarithms", "NN"], [",", ","], ["that", "IN"], ["both", "DT"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["objects", "NNS"], ["can", "MD"], ["be", "VB"], ["huge", "JJ"], [",", ","], ["but", "CC"], ["also", "RB"], [",", ","], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["operations", "NNS"], [".", "."], ["We", "PRP"], ["can", "MD"], ["have", "VB"], ["a", "DT"], [",", ","], ["a", "DT"], ["very", "RB"], ["large", "JJ"], ["number", "NN"], [",", ","], ["of", "IN"], ["union", "NN"], ["and", "CC"], ["connected", "VBD"], [",", ","], ["operations", "NNS"], ["and", "CC"], ["our", "PRP$"], ["algorithms", "NN"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["to", "TO"], ["be", "VB"], ["efficient", "JJ"], [",", ","], ["under", "IN"], ["those", "DT"], ["conditions", "NNS"], [".", "."], ["One", "CD"], ["of", "IN"], ["the", "DT"], ["practices", "NNS"], ["that", "WDT"], ["will", "MD"], ["follow", "VB"], ["often", "RB"], ["in", "IN"], ["this", "DT"], ["course", "NN"], ["is", "VBZ"], ["to", "TO"], ["check", "VB"], ["our", "PRP$"], ["API", "NNP"], ["design", "NN"], ["before", "IN"], ["getting", "VBG"], ["too", "RB"], ["far", "RB"], ["into", "IN"], ["dealing", "VBG"], ["with", "IN"], ["the", "DT"], ["problem", "NN"], [",", ","], ["by", "IN"], ["building", "VBG"], ["a", "DT"], ["client", "NN"], ["that", "WDT"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["use", "VB"], ["the", "DT"], ["data", "NNS"], ["type", "NN"], ["that", "IN"], ["we", "PRP"], ["develop", "VBP"], [".", "."], ["So", "RB"], [",", ","], ["for", "IN"], ["this", "DT"], ["example", "NN"], [",", ","], ["we", "PRP"], ["'ve", "VBP"], ["got", "VBD"], ["a", "DT"], ["client", "NN"], ["that", "IN"], [",", ","], ["Will", "NNP"], ["read", "VB"], ["information", "NN"], ["from", "IN"], ["standard", "JJ"], ["input", "NN"], [".", "."], ["First", "NNP"], [",", ","], ["an", "DT"], ["integer", "NN"], ["which", "WDT"], ["is", "VBZ"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["objects", "NNS"], ["that", "WDT"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["processed", "VBN"], [".", "."], ["And", "CC"], ["then", "RB"], ["a", "DT"], ["series", "NN"], ["of", "IN"], ["pairs", "NNS"], ["of", "IN"], ["object", "JJ"], ["names", "NNS"], [".", "."], ["And", "CC"], ["what", "WP"], ["the", "DT"], ["client", "NN"], ["does", "VBZ"], ["is", "VBZ"], ["it", "PRP"], [",", ","], ["it", "PRP"], ["'ll", "MD"], [",", ","], ["first", "RB"], ["it", "PRP"], ["'ll", "MD"], ["read", "VB"], ["the", "DT"], ["integer", "NN"], ["from", "IN"], ["standard", "JJ"], ["input", "NN"], [",", ","], ["and", "CC"], ["create", "VB"], ["a", "DT"], [",", ","], ["a", "DT"], ["UF", "NNP"], ["object", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["as", "RB"], ["long", "RB"], ["as", "IN"], ["standard", "JJ"], ["input", "NN"], ["is", "VBZ"], ["not", "RB"], ["empty", "JJ"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["read", "VB"], ["two", "CD"], ["integers", "NNS"], ["from", "IN"], ["the", "DT"], ["input", "NN"], [".", "."], ["And", "CC"], ["if", "IN"], ["they", "PRP"], ["'re", "VBP"], ["not", "RB"], ["connected", "VBN"], [",", ","], ["then", "RB"], ["it", "PRP"], ["'ll", "MD"], ["connect", "VB"], ["them", "PRP"], ["and", "CC"], ["print", "VB"], ["them", "PRP"], ["out", "RP"], [".", "."], ["If", "IN"], ["they", "PRP"], ["are", "VBP"], ["connected", "VBN"], ["it", "PRP"], ["'ll", "MD"], ["ignore", "VB"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["our", "PRP$"], ["test", "NN"], ["client", "NN"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["fine", "JJ"], ["test", "NN"], ["client", "NN"], ["to", "TO"], ["make", "VB"], ["sure", "JJ"], ["that", "IN"], ["any", "DT"], ["implementation", "NN"], ["does", "VBZ"], ["what", "WP"], ["we", "PRP"], ["expect", "VBP"], ["that", "IN"], ["it", "PRP"], ["will", "MD"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["setup", "NN"], [".", "."], ["We", "PRP"], ["'ve", "VBP"], ["described", "VBN"], ["the", "DT"], ["operations", "NNS"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["implement", "VB"], ["all", "PDT"], ["the", "DT"], ["way", "NN"], ["down", "IN"], ["to", "TO"], ["code", "VB"], ["and", "CC"], ["we", "PRP"], ["have", "VBP"], ["client", "NN"], ["code", "NN"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["service", "VB"], ["with", "IN"], ["our", "PRP$"]], "title": "dynamic connectivity", "text": "Welcome back to algorithms. Today, we're going to talk about the union find problem. A set of algorithms for solving the so-called dynamic connectivity problem. We'll look at two classic algorithms. Quick Find and Quick Union, and some applications and improvements of those algorithms. The subtext of today's lecture really is to go through the steps that we'll follow over and over again to develop a useful algorithm. The first step is to model the problem. Try to understand, basically, what are the main elements of the problem that need to be solved. Then we'll find some algorithm to solve the problem. In many cases, the first algorithm we come up with would be fast enough and maybe it fits in memory and, we'll go ahead and use it, and be off and running. But in many other cases maybe it's not fast enough, or there's not enough memory. So, what we do is try to figure out why, find a way to address whatever's causing that problem, find a new algorithm and iterate until we're satisfied. This is the scientific approach to designing and analyzing algorithms, where we build mathematical models to try and understand what's going on, and then we do experiments to validate those models and help us improve things. So, first we'll talk about the dynamic connectivity problem, the model of the problem for union find. So, here's the idea. They're going to have a set of N objects. Doesn't really matter what they are. We're going to use the numbers, zero through N to model our objects. And then, we have the idea of a connection between two objects. And, we'll, postulate that there's going to be a command that says, connect two objects. Given two objects, provide a connection between them. And then key part of the problem is find query or the connected query, which just asks, is there a path connecting the two objects. So for example, in this set of ten objects, we performed already, a bunch of union commands, connecting four and three, three and eight, six and five, nine and four, two and one. And now we might have a connected query that says, is zero connect ed to seven? Well, in this case, there is no connection, so we say no. But if we ask is eight connected to nine? We are going to say yes, even no we don't have a direct connection between eight and nine. There is a path from eight to three to four to nine. So, that's our problem, to be able to officially support these two commands for given set of objects. Now, let's say we add a union five, zero. So, that creates a connection between five and zero. Seven and two creates a connection between seven and two. And six and one, between six and one. So, now if we ask our zero connected to seven, well one and zero we can do that too. And that's a redundant connection. And now, if we ask is zero connected to seven we're going to answer yes. So that's our problem, intermix union, commands and connected queries and we need to be able to officially support those commands for a large number of objects. So, here's a much bigger example. And you can see that we're going to need efficient algorithms for this. First of all, you can see we're going to need a computer for this. It would take quite, quite some time for a human to figure out whether there's a connection. In this case there is a connection. Now, the algorithms that we're looking at today are not going to actually give the path connecting the two objects. It's just going to be able to answer the question, is there a path? In part two of the course, we'll consider algorithms that explicitly find paths. They're not as efficient as union find because they have more work to do. Now, applications of these, these algorithms involve objects of all types. These are used for digital photos, where the objects are pixels they're used for networks, where the objects are computers, social networks, where it's people, or computer chips, where it's circuit elements or abstract things like variable names in a program, or elements in a mathematical set, or physical things like metallic sites in a composite system. So, all different types of objects for, but for programming we're going to associate each object with a name and we'll just name the objects with a number, integers from zero to N-1. That's a very convenient initial starting point for our programs because we can use integers as an index into an array then, and then quickly access information relevant to each object. And it also just supresses a lot of details that are not relevant to union find. In fact, to make this mapping from an object name to the integer zero through N - one is to find application of a symbol table or a searching algorithm, which is one of the things that we'll be studying later in this course algorithms and data structures for solving that problem. Now, the connections, well, we need, a few abstract properties that these connections have to satisfy. And they're all quite natural and intuitive. So we assume that is connected to is an equivalence relation. That is, every object's connected to itself, it's symmetric. If P's connected to Q, then Q's connected to P, and it's transitive. If P's connected to Q, and Q's connected to R, then P's connected to R. Now these properties are very intuitive. But it's worthwhile to state them explicitly and make sure that our algorithms maintain them. When we have an equivalence relation a set of objects and connections divide into subsets called connected components. A connected component is a maximal set of objects that's mutually connected. For example in this small example here, there's three connected components. One consisting of just object zero, second one objects one, four and five. And third one the other four objects. And these components have the property that if any two objects in them are connected and there is no object outside that is connected to those objects, that's connected components. Our algorithms will gain efficiency by maintaining connected components and using that knowledge to efficiently answer the query that's, that they're presented with. Okay, so to implement the operations, we have to find query and the union command. And so we're going to mai ntain the connected components. The find is going to have to check if two objects are in the same component and the union command is going to have to replace components containing two objects with their union. So, for example, if we have these components, and we get the command to union connect, two and five. Essentially, we need to merge the connected components containing the one containing two or the one containing five to get a big connected components and now we have only two connected components. All of that leads up to, in a programming world to specifying, a data type which is simply specification of the methods that we are want to going to implement in order to solve this problem. So you know, typical Java model, what we will do is create a class called UF that contains two methods, one to implement union, the other one to implement connected, which returns a boolean. The constructor, takes SR unit, the number of objects, so that it can build data structure based on the number of objects. So, and we have to, bear in mind, as we're building our logarithms, that both the number of objects can be huge, but also, the number of operations. We can have a, a very large number, of union and connected, operations and our algorithms are going to have to be efficient, under those conditions. One of the practices that will follow often in this course is to check our API design before getting too far into dealing with the problem, by building a client that is going to use the data type that we develop. So, for this example, we've got a client that, Will read information from standard input. First, an integer which is the number of objects that are going to be processed. And then a series of pairs of object names. And what the client does is it, it'll, first it'll read the integer from standard input, and create a, a UF object. And then as long as standard input is not empty, it's going to read two integers from the input. And if they're not connected, then it'll connect them and print them out. If they are connected it'll ignore. So, that's our test client and that's a fine test client to make sure that any implementation does what we expect that it will. So, that's the setup. We've described the operations we want to implement all the way down to code and we have client code that we're going to have to be able to service with our ", "video_ID": 2, "course_id": 3}
{"category": ["union find"], "tagged": [["Now", "RB"], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["our", "PRP$"], ["first", "JJ"], ["implementation", "NN"], ["of", "IN"], ["an", "DT"], ["algorithm", "NN"], ["for", "IN"], ["solving", "VBG"], ["the", "DT"], ["dynamic", "JJ"], ["connectivity", "NN"], ["problem", "NN"], [",", ","], ["called", "VBD"], ["Quick-find", "NNP"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["a", "DT"], ["so", "RB"], ["called", "JJ"], ["eager", "NN"], ["algorithm", "NN"], [",", ","], ["for", "IN"], ["solving", "VBG"], ["kind", "NN"], ["activity", "NN"], ["problem", "NN"], [".", "."], ["The", "DT"], ["data", "NN"], ["structure", "NN"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["use", "VB"], ["to", "TO"], ["support", "VB"], ["the", "DT"], ["algorithm", "NN"], ["is", "VBZ"], ["simply", "RB"], ["an", "DT"], ["integer", "NN"], ["array", "NN"], ["indexed", "VBN"], ["by", "IN"], ["object", "NN"], [".", "."], ["The", "DT"], ["interpretation", "NN"], ["is", "VBZ"], ["the", "DT"], ["two", "CD"], ["objects", "NNS"], [",", ","], ["P", "NNP"], ["and", "CC"], ["Q", "NNP"], ["are", "VBP"], ["connected", "VBN"], ["if", "IN"], ["and", "CC"], ["only", "RB"], ["if", "IN"], [",", ","], ["their", "PRP$"], ["entries", "NNS"], ["in", "IN"], ["the", "DT"], ["array", "NN"], ["are", "VBP"], ["the", "DT"], ["same", "JJ"], [".", "."], ["So", "RB"], ["for", "IN"], ["example", "NN"], ["in", "IN"], ["this", "DT"], ["example", "NN"], ["with", "IN"], ["our", "PRP$"], ["ten", "JJ"], ["objects", "VBZ"], ["the", "DT"], ["idea", "NN"], ["array", "NN"], ["that", "WDT"], ["describes", "VBZ"], ["the", "DT"], ["situation", "NN"], ["after", "IN"], ["seven", "CD"], ["connections", "NNS"], ["is", "VBZ"], ["illustrated", "VBN"], ["in", "IN"], ["the", "DT"], ["middle", "NN"], ["of", "IN"], ["the", "DT"], ["slide", "NN"], [".", "."], ["So", "CC"], ["that", "IN"], [",", ","], ["after", "IN"], ["the", "DT"], [",", ","], ["at", "IN"], ["this", "DT"], ["point", "NN"], ["zero", "CD"], [",", ","], ["five", "CD"], [",", ","], ["and", "CC"], ["six", "CD"], ["are", "VBP"], ["all", "DT"], ["in", "IN"], ["the", "DT"], ["same", "JJ"], ["connected", "JJ"], ["component", "NN"], [",", ","], ["because", "IN"], ["they", "PRP"], ["have", "VBP"], ["the", "DT"], ["same", "JJ"], ["array", "NN"], ["entry", "NN"], [",", ","], ["zero", "NN"], [".", "."], ["One", "CD"], [",", ","], ["two", "CD"], [",", ","], ["and", "CC"], ["seven", "CD"], ["all", "DT"], ["have", "VBP"], ["entry", "VBN"], ["one", "CD"], [".", "."], ["And", "CC"], ["three", "CD"], [",", ","], ["four", "CD"], [",", ","], ["eight", "CD"], [",", ","], ["and", "CC"], ["nine", "CD"], ["all", "DT"], ["have", "VBP"], ["entry", "VBN"], ["eight", "CD"], [".", "."], ["So", "CC"], ["that", "IN"], ["representation", "NN"], ["is", "VBZ"], [",", ","], ["shows", "VBZ"], ["that", "IN"], ["they", "PRP"], ["'re", "VBP"], ["connected", "VBN"], [".", "."], ["And", "CC"], ["clearly", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["support", "VB"], ["a", "DT"], ["quick", "JJ"], ["implementation", "NN"], ["of", "IN"], ["the", "DT"], ["find", "NN"], ["operation", "NN"], [".", "."], ["We", "PRP"], ["just", "RB"], ["check", "VB"], ["the", "DT"], ["array", "NN"], ["entries", "NNS"], ["to", "TO"], ["see", "VB"], ["if", "IN"], ["they", "PRP"], ["'re", "VBP"], ["equal", "JJ"], [".", "."], ["Check", "VB"], ["if", "IN"], ["P", "NNP"], ["and", "CC"], ["Q", "NNP"], ["have", "VBP"], ["the", "DT"], ["same", "JJ"], ["ID", "NNP"], [".", "."], ["So", "RB"], [",", ","], ["six", "CD"], ["and", "CC"], ["one", "CD"], ["have", "VBP"], ["different", "JJ"], ["IDs", "NNP"], [".", "."], ["One", "CD"], ["has", "VBZ"], ["ID", "NNP"], ["one", "CD"], [",", ","], ["six", "CD"], ["has", "VBZ"], ["ID", "VBN"], ["zero", "NN"], [".", "."], ["They", "PRP"], ["'re", "VBP"], ["not", "RB"], ["in", "IN"], ["the", "DT"], ["same", "JJ"], ["connected", "JJ"], ["component", "NN"], [".", "."], ["Union", "NNP"], ["is", "VBZ"], ["more", "RBR"], ["difficult", "JJ"], ["in", "IN"], ["order", "NN"], ["to", "TO"], ["merge", "VB"], ["the", "DT"], ["components", "NNS"], [",", ","], ["containing", "VBG"], ["two", "CD"], ["given", "VBN"], ["objects", "NNS"], [".", "."], ["We", "PRP"], ["have", "VBP"], ["to", "TO"], ["change", "VB"], ["all", "PDT"], ["the", "DT"], ["entries", "NNS"], [",", ","], ["whose", "WP$"], ["ID", "NNP"], ["is", "VBZ"], ["equal", "JJ"], ["to", "TO"], ["one", "CD"], ["of", "IN"], ["them", "PRP"], ["to", "TO"], ["the", "DT"], ["other", "JJ"], ["one", "NN"], [".", "."], ["And", "CC"], ["arbitrarily", "RB"], ["we", "PRP"], ["choose", "VBP"], ["to", "TO"], ["change", "VB"], ["the", "DT"], ["ones", "NNS"], ["that", "WDT"], ["are", "VBP"], ["the", "DT"], ["same", "JJ"], ["as", "IN"], ["P", "NNP"], ["to", "TO"], ["the", "DT"], ["ones", "NNS"], ["that", "WDT"], ["are", "VBP"], ["same", "JJ"], ["as", "IN"], ["Q", "NNP"], [".", "."], ["So", "RB"], ["if", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["union", "NN"], ["six", "CD"], ["and", "CC"], ["one", "CD"], [",", ","], ["then", "RB"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["change", "VB"], ["entries", "NNS"], ["zero", "CD"], [",", ","], ["five", "CD"], [",", ","], ["and", "CC"], ["six", "CD"], [".", "."], ["Everybody", "NN"], ["in", "IN"], ["the", "DT"], ["same", "JJ"], ["connected", "JJ"], ["component", "NN"], ["as", "IN"], ["six", "CD"], [".", "."], ["From", "IN"], ["zero", "CD"], ["to", "TO"], ["one", "CD"], [".", "."], ["And", "CC"], ["this", "DT"], ["is", "VBZ"], [",", ","], ["as", "IN"], ["we", "PRP"], ["'ll", "MD"], ["see", "VB"], [",", ","], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], ["bit", "NN"], ["of", "IN"], ["a", "DT"], ["problem", "NN"], ["when", "WRB"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["huge", "JJ"], ["number", "NN"], ["of", "IN"], ["objects", "NNS"], [",", ","], ["because", "IN"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["values", "NNS"], ["that", "WDT"], ["can", "MD"], ["change", "VB"], [".", "."], ["But", "CC"], ["still", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["easy", "JJ"], ["to", "TO"], ["implement", "VB"], [",", ","], ["so", "IN"], ["that", "DT"], ["'ll", "MD"], ["be", "VB"], ["our", "PRP$"], ["starting", "VBG"], ["point", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["'ll", "MD"], ["start", "VB"], ["with", "IN"], ["a", "DT"], [",", ","], ["a", "DT"], ["demo", "NN"], ["of", "IN"], ["how", "WRB"], ["this", "DT"], ["works", "VBZ"], [".", "."], ["So", "RB"], [",", ","], ["initially", "RB"], [",", ","], ["we", "PRP"], ["set", "VBP"], ["up", "RP"], ["the", "DT"], ["ID", "NNP"], ["array", "NN"], [",", ","], ["with", "IN"], ["each", "DT"], ["entry", "NN"], [",", ","], ["equal", "JJ"], ["to", "TO"], ["its", "PRP$"], ["index", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], ["all", "PDT"], ["that", "DT"], ["says", "VBZ"], ["is", "VBZ"], ["that", "IN"], ["all", "PDT"], ["the", "DT"], ["objects", "NNS"], ["are", "VBP"], ["independent", "JJ"], [".", "."], ["They", "PRP"], ["'re", "VBP"], ["in", "IN"], ["their", "PRP$"], ["own", "JJ"], ["connected", "VBN"], ["component", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["when", "WRB"], ["we", "PRP"], ["get", "VBP"], ["a", "DT"], ["union", "NN"], ["operation", "NN"], [".", "."], ["So", "RB"], [",", ","], ["say", "VBP"], [",", ","], ["four", "CD"], ["is", "VBZ"], ["supposed", "VBN"], ["to", "TO"], ["be", "VB"], ["unio", "JJ"], ["n", "NN"], ["with", "IN"], ["three", "CD"], [".", "."], ["Then", "RB"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["change", "VB"], [",", ","], ["all", "DT"], ["entries", "NNS"], [",", ","], ["whose", "WP$"], ["ID", "NNP"], ["is", "VBZ"], ["equal", "JJ"], ["to", "TO"], ["the", "DT"], ["first", "JJ"], ["ID", "NNP"], ["to", "TO"], ["the", "DT"], ["second", "JJ"], ["one", "NN"], [".", "."], ["So", "RB"], ["in", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["change", "VB"], ["the", "DT"], [",", ","], ["connect", "VBP"], ["three", "CD"], ["and", "CC"], ["four", "CD"], ["means", "NNS"], ["that", "IN"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["change", "VB"], ["the", "DT"], ["four", "CD"], ["to", "TO"], ["a", "DT"], ["three", "CD"], [".", "."], ["And", "CC"], ["we", "PRP"], ["'ll", "MD"], ["continue", "VB"], ["to", "TO"], ["do", "VB"], ["a", "DT"], ["few", "JJ"], ["more", "JJR"], ["so", "RB"], ["you", "PRP"], ["'ll", "MD"], ["get", "VB"], ["an", "DT"], ["idea", "NN"], ["of", "IN"], ["how", "WRB"], ["it", "PRP"], ["works", "VBZ"], [".", "."], ["So", "NNP"], ["three", "CD"], ["and", "CC"], ["eight", "CD"], ["now", "RB"], ["so", "RB"], ["to", "TO"], ["connect", "VB"], ["three", "CD"], ["and", "CC"], ["eight", "CD"], ["now", "RB"], ["three", "CD"], ["and", "CC"], ["four", "CD"], ["have", "VBP"], ["to", "TO"], ["be", "VB"], ["connected", "VBN"], ["to", "TO"], ["eight", "CD"], [".", "."], ["So", "IN"], ["both", "DT"], ["of", "IN"], ["those", "DT"], ["entries", "NNS"], ["have", "VBP"], ["to", "TO"], ["change", "VB"], ["to", "TO"], ["eight", "CD"], [".", "."], ["Okay", "NNP"], ["?", "."], ["So", "RB"], ["now", "RB"], [",", ","], ["what", "WP"], ["about", "IN"], ["six", "CD"], ["and", "CC"], ["five", "CD"], ["?", "."], ["So", "RB"], ["again", "RB"], [",", ","], ["we", "PRP"], ["change", "VBP"], ["the", "DT"], ["first", "JJ"], ["one", "CD"], ["to", "TO"], ["match", "VB"], ["the", "DT"], ["second", "JJ"], ["one", "NN"], [".", "."], ["So", "RB"], ["to", "TO"], ["connect", "VB"], ["six", "CD"], ["and", "CC"], ["five", "CD"], [",", ","], ["we", "PRP"], ["change", "VBP"], ["the", "DT"], ["six", "CD"], ["to", "TO"], ["a", "DT"], ["five", "CD"], [".", "."], ["What", "WP"], ["about", "IN"], ["nine", "CD"], ["and", "CC"], ["four", "CD"], ["?", "."], ["So", "RB"], [",", ","], ["now", "RB"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["change", "VB"], ["the", "DT"], [",", ","], ["to", "TO"], ["connect", "VB"], ["nine", "CD"], ["and", "CC"], ["four", "CD"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["change", "VB"], [",", ","], ["9", "CD"], ["'s", "POS"], ["entry", "NN"], ["to", "TO"], ["be", "VB"], ["the", "DT"], ["same", "JJ"], ["as", "IN"], ["4", "CD"], ["'s", "POS"], [".", "."], ["So", "RB"], ["now", "RB"], ["we", "PRP"], ["have", "VBP"], ["three", "CD"], [",", ","], ["four", "CD"], [",", ","], ["eight", "CD"], [",", ","], ["and", "CC"], ["nine", "CD"], [".", "."], ["All", "DT"], ["have", "VBP"], ["entries", "NNS"], ["eight", "CD"], [".", "."], ["They", "PRP"], ["'re", "VBP"], ["all", "DT"], ["on", "IN"], ["the", "DT"], ["same", "JJ"], ["connected", "JJ"], ["component", "NN"], [".", "."], ["Two", "CD"], ["and", "CC"], ["one", "CD"], ["means", "VBZ"], ["that", "IN"], ["we", "PRP"], ["connect", "VBP"], ["two", "CD"], ["and", "CC"], ["one", "CD"], ["by", "IN"], ["changing", "VBG"], ["the", "DT"], ["2201", "CD"], [".", "."], ["Eight", "CD"], ["and", "CC"], ["nine", "CD"], ["are", "VBP"], ["already", "RB"], ["connected", "VBN"], [".", "."], ["They", "PRP"], ["have", "VBP"], ["the", "DT"], ["same", "JJ"], [",", ","], ["entries", "NNS"], ["in", "IN"], ["the", "DT"], ["idea", "NN"], ["array", "NN"], [".", "."], ["So", "RB"], [",", ","], ["that", "IN"], ["connected", "VBN"], ["query", "NN"], [",", ","], ["that", "IN"], ["find", "VBP"], ["says", "VBZ"], [",", ","], ["true", "JJ"], [",", ","], ["they", "PRP"], ["'re", "VBP"], ["already", "RB"], ["connected", "VBN"], [".", "."], ["And", "CC"], ["five", "CD"], ["and", "CC"], ["zero", "CD"], ["have", "VBP"], ["different", "JJ"], ["entries", "NNS"], [".", "."], ["They", "PRP"], ["'re", "VBP"], ["not", "RB"], ["connected", "VBN"], [",", ","], ["so", "IN"], ["we", "PRP"], ["'d", "MD"], ["return", "VB"], ["false", "JJ"], [",", ","], ["in", "IN"], ["that", "DT"], ["case", "NN"], [",", ","], ["not", "RB"], ["connected", "VBN"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["if", "IN"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["connect", "VB"], ["five", "CD"], ["and", "CC"], ["zero", "NN"], [".", "."], ["Then", "RB"], [",", ","], ["as", "IN"], ["usual", "JJ"], ["we", "PRP"], ["'ll", "MD"], ["connect", "VB"], [",", ","], ["the", "DT"], ["entry", "NN"], ["corresponding", "VBG"], ["to", "TO"], ["both", "DT"], ["five", "CD"], ["and", "CC"], ["six", "CD"], ["to", "TO"], ["zero", "CD"], [".", "."], ["Seven", "CD"], ["and", "CC"], ["two", "CD"], [",", ","], ["union", "NN"], ["seven", "CD"], ["and", "CC"], ["two", "CD"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["an", "DT"], ["easy", "JJ"], ["one", "CD"], [".", "."], ["And", "CC"], ["union", "NN"], [",", ","], ["six", "CD"], ["and", "CC"], ["one", "CD"], ["so", "RB"], ["there", "EX"], ["is", "VBZ"], ["three", "CD"], ["entries", "NNS"], ["that", "WDT"], ["have", "VBP"], ["to", "TO"], ["get", "VB"], ["changed", "VBN"], [".", "."], ["All", "PDT"], ["those", "DT"], ["zeros", "NNS"], ["have", "VBP"], ["to", "TO"], ["get", "VB"], ["changed", "VBN"], ["to", "TO"], ["ones", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["quick", "JJ"], ["demo", "NN"], ["of", "IN"], ["Quick-find", "NNP"], [".", "."], ["Now", "RB"], ["next", "IN"], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["the", "DT"], ["code", "NN"], ["for", "IN"], ["implementating", "VBG"], ["that", "DT"], [".", "."], ["Okay", "NNP"], [",", ","], ["with", "IN"], ["this", "DT"], ["concrete", "JJ"], ["demo", "NN"], ["in", "IN"], ["mind", "NN"], ["then", "RB"], ["moving", "VBG"], ["to", "TO"], ["coding", "VBG"], ["up", "RP"], ["this", "DT"], ["algorithim", "NN"], ["is", "VBZ"], ["pretty", "JJ"], ["straight", "JJ"], ["forward", "RB"], [".", "."], ["Although", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["an", "DT"], ["interesting", "JJ"], ["programming", "NN"], ["exercise", "NN"], ["that", "IN"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["us", "PRP"], ["would", "MD"], ["get", "VB"], ["wrong", "JJ"], ["the", "DT"], ["first", "JJ"], ["time", "NN"], [".", "."], ["So", "NNP"], ["let", "NN"], ["'s", "POS"], ["start", "NN"], ["with", "IN"], ["the", "DT"], ["constructor", "NN"], [",", ","], ["well", "RB"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], [",", ","], ["a", "DT"], ["private", "JJ"], ["integer", "NN"], ["array", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["our", "PRP$"], ["ID", "JJ"], ["array", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["the", "DT"], ["data", "NN"], ["structure", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["support", "VB"], ["this", "DT"], ["implementation", "NN"], [".", "."], ["The", "DT"], ["constructor", "NN"], ["has", "VBZ"], ["to", "TO"], ["create", "VB"], ["the", "DT"], ["array", "NN"], ["and", "CC"], ["then", "RB"], ["go", "VB"], ["through", "IN"], ["and", "CC"], ["set", "VB"], ["the", "DT"], ["value", "NN"], ["corresponding", "VBG"], ["to", "TO"], ["each", "DT"], ["index", "NN"], ["I", "PRP"], ["to", "TO"], ["I", "PRP"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["straight", "JJ"], ["forward", "RB"], [".", "."], ["The", "DT"], ["find", "NN"], ["operation", "NN"], [",", ","], ["or", "CC"], ["connected", "VBN"], ["operation", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["the", "DT"], ["easy", "JJ"], ["one", "NN"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["the", "DT"], ["Quick-find", "JJ"], ["algorithm", "NN"], [".", "."], ["So", "IN"], ["it", "PRP"], ["simply", "RB"], ["takes", "VBZ"], ["its", "PRP$"], ["two", "CD"], ["arguments", "NNS"], [",", ","], ["P", "NNP"], ["and", "CC"], ["Q", "NNP"], [",", ","], ["and", "CC"], ["checks", "NNS"], ["whether", "IN"], ["their", "PRP$"], ["ID", "NNP"], ["entries", "NNS"], ["are", "VBP"], ["equal", "JJ"], [",", ","], ["and", "CC"], ["returns", "NNS"], ["that", "IN"], ["value", "NN"], [".", "."], ["If", "IN"], ["they", "PRP"], ["'re", "VBP"], ["equal", "JJ"], [",", ","], ["it", "PRP"], ["returns", "VBZ"], ["true", "JJ"], [".", "."], ["If", "IN"], ["they", "PRP"], ["'re", "VBP"], ["not", "RB"], ["equal", "JJ"], [",", ","], ["it", "PRP"], ["returns", "VBZ"], ["false", "JJ"], [".", "."], ["The", "DT"], ["more", "RBR"], ["complicated", "JJ"], ["operation", "NN"], ["implement", "NN"], ["is", "VBZ"], ["a", "DT"], ["union", "NN"], [".", "."], ["And", "CC"], ["there", "RB"], [",", ","], ["we", "PRP"], ["find", "VBP"], ["first", "JJ"], ["the", "DT"], ["ID", "NNP"], ["corresponding", "NN"], ["with", "IN"], ["the", "DT"], ["first", "JJ"], ["argument", "NN"], [",", ","], ["and", "CC"], ["then", "RB"], ["the", "DT"], ["ID", "NNP"], ["corresponding", "NN"], ["to", "TO"], ["the", "DT"], ["second", "JJ"], ["argument", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["go", "VBP"], ["through", "IN"], ["the", "DT"], ["whole", "JJ"], ["array", "NN"], [",", ","], ["and", "CC"], ["looking", "VBG"], ["for", "IN"], ["the", "DT"], ["entries", "NNS"], ["whose", "WP$"], ["IDs", "NNP"], ["are", "VBP"], ["equal", "JJ"], ["to", "TO"], ["the", "DT"], ["ID", "NNP"], ["of", "IN"], ["the", "DT"], ["first", "JJ"], ["argument", "NN"], [",", ","], ["and", "CC"], ["set", "VBD"], ["those", "DT"], ["to", "TO"], ["the", "DT"], ["ID", "NNP"], ["of", "IN"], ["the", "DT"], ["second", "JJ"], ["argument", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["a", "DT"], ["pretty", "RB"], ["straightforward", "JJ"], ["implementation", "NN"], [".", "."], ["And", "CC"], ["I", "PRP"], ["mentioned", "VBD"], ["that", "IN"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["us", "PRP"], ["would", "MD"], ["get", "VB"], ["us", "PRP"], ["wrong", "JJ"], [".", "."], ["The", "DT"], ["mistake", "NN"], ["we", "PRP"], ["might", "MD"], ["make", "VB"], ["is", "VBZ"], ["to", "TO"], ["put", "VB"], ["ID", "NNP"], ["of", "IN"], ["P", "NNP"], ["here", "RB"], ["rather", "RB"], ["than", "IN"], ["first", "RB"], ["picking", "VBG"], ["out", "RP"], [",", ","], ["that", "IN"], ["value", "NN"], [".", "."], ["And", "CC"], ["you", "PRP"], ["can", "MD"], ["think", "VB"], ["about", "IN"], ["the", "DT"], ["implications", "NNS"], ["of", "IN"], ["that", "DT"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["an", "DT"], ["insidious", "JJ"], ["bug", "NN"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["fine", "JJ"], ["implementation", "NN"], ["of", "IN"], ["QuickFind", "NNP"], ["so", "IN"], ["the", "DT"], ["next", "JJ"], ["thing", "NN"], ["to", "TO"], ["decide", "VB"], ["is", "VBZ"], ["how", "WRB"], ["effective", "JJ"], ["or", "CC"], ["efficient", "JJ"], ["that", "IN"], ["algorithm", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["talk", "VB"], ["in", "IN"], ["some", "DT"], ["detail", "NN"], ["about", "IN"], ["how", "WRB"], ["to", "TO"], ["do", "VB"], ["that", "DT"], ["but", "CC"], ["for", "IN"], ["this", "DT"], ["it", "PRP"], ["'s", "VBZ"], ["sufficient", "JJ"], ["to", "TO"], ["just", "RB"], ["think", "VB"], ["about", "IN"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["times", "NNS"], ["the", "DT"], ["code", "NN"], ["has", "VBZ"], ["to", "TO"], ["access", "NN"], ["the", "DT"], ["array", "NN"], [".", "."], ["As", "IN"], ["we", "PRP"], ["saw", "VBD"], ["when", "WRB"], ["doing", "VBG"], ["the", "DT"], ["implementation", "NN"], [",", ","], ["both", "CC"], ["the", "DT"], ["initialized", "NN"], ["and", "CC"], ["union", "NN"], ["operations", "NNS"], ["involved", "VBD"], ["the", "DT"], ["for-loop", "NN"], ["that", "WDT"], ["go", "VBP"], ["through", "IN"], ["the", "DT"], ["entire", "JJ"], ["array", "NN"], [".", "."], ["So", "IN"], ["they", "PRP"], ["have", "VBP"], ["to", "TO"], ["touch", "VB"], ["in", "IN"], ["a", "DT"], ["constant", "JJ"], ["proportional", "NN"], ["to", "TO"], ["n", "VB"], ["times", "NNS"], ["after", "IN"], ["touching", "VBG"], ["array", "JJ"], ["entry", "NN"], [".", "."], ["Find", "NNP"], ["Operation", "NNP"], ["is", "VBZ"], ["quick", "JJ"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["just", "RB"], ["to", "TO"], ["a", "DT"], ["constant", "JJ"], ["number", "NN"], ["of", "IN"], ["times", "NNS"], ["check", "VBP"], ["array", "JJ"], ["entries", "NNS"], [".", "."], ["And", "CC"], ["this", "DT"], ["is", "VBZ"], ["problematic", "JJ"], ["because", "IN"], ["the", "DT"], ["union", "NN"], ["operation", "NN"], ["is", "VBZ"], ["too", "RB"], ["expensive", "JJ"], [".", "."], ["In", "IN"], ["particular", "JJ"], ["if", "IN"], ["you", "PRP"], ["just", "RB"], ["have", "VBP"], ["N", "NNP"], ["union", "NN"], ["commands", "NNS"], ["on", "IN"], ["N", "NNP"], ["objects", "NNS"], ["which", "WDT"], ["is", "VBZ"], ["not", "RB"], ["unreasonable", "JJ"], [".", "."], ["They", "PRP"], ["'re", "VBP"], ["either", "DT"], ["connected", "VBD"], ["or", "CC"], ["not", "RB"], ["then", "RB"], ["that", "IN"], ["will", "MD"], ["take", "VB"], ["quadratic", "JJ"], ["time", "NN"], ["in", "IN"], ["squared", "JJ"], ["time", "NN"], [".", "."], ["And", "CC"], ["one", "CD"], ["of", "IN"], ["the", "DT"], ["themes", "NNS"], ["that", "IN"], ["we", "PRP"], ["'ll", "MD"], ["go", "VB"], ["through", "IN"], ["over", "RB"], ["and", "CC"], ["over", "RB"], ["in", "IN"], ["this", "DT"], ["course", "NN"], ["is", "VBZ"], ["that", "IN"], ["quadratic", "JJ"], ["time", "NN"], ["is", "VBZ"], ["much", "RB"], ["to", "TO"], ["slow", "VB"], [".", "."], ["And", "CC"], ["we", "PRP"], ["ca", "MD"], ["n't", "RB"], ["accept", "VB"], ["quadratic", "JJ"], ["time", "NN"], ["algorithms", "NN"], ["for", "IN"], ["large", "JJ"], ["problems", "NNS"], [".", "."], ["The", "DT"], ["reason", "NN"], ["is", "VBZ"], ["they", "PRP"], ["do", "VBP"], ["n't", "RB"], ["scale", "VB"], [".", "."], ["As", "IN"], ["computers", "NNS"], ["get", "VBP"], ["faster", "JJR"], ["and", "CC"], ["bigger", "JJR"], [",", ","], ["quadratic", "JJ"], ["algorithms", "NN"], ["actually", "RB"], ["get", "VB"], ["slower", "JJR"], [".", "."], ["Now", "RB"], [",", ","], ["let", "VB"], ["'s", "POS"], ["just", "RB"], ["talk", "VB"], ["roughly", "RB"], ["about", "IN"], ["what", "WP"], ["I", "PRP"], ["mean", "VBP"], ["by", "IN"], ["that", "DT"], [".", "."], ["A", "DT"], ["very", "RB"], ["rough", "JJ"], ["standard", "NN"], [",", ","], ["say", "VBP"], ["for", "IN"], ["now", "RB"], [",", ","], ["is", "VBZ"], ["that", "IN"], ["people", "NNS"], ["have", "VBP"], ["computers", "NNS"], ["that", "WDT"], ["can", "MD"], ["run", "VB"], ["billions", "NNS"], ["of", "IN"], ["operations", "NNS"], ["per", "IN"], ["second", "NN"], [",", ","], ["and", "CC"], ["they", "PRP"], ["have", "VBP"], ["billions", "NNS"], ["of", "IN"], ["entries", "NNS"], ["in", "IN"], ["main", "JJ"], ["memory", "NN"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["means", "VBZ"], ["that", "IN"], ["you", "PRP"], ["could", "MD"], ["touch", "VB"], ["everything", "NN"], ["in", "IN"], ["the", "DT"], ["main", "JJ"], ["memory", "NN"], ["in", "IN"], ["about", "IN"], ["a", "DT"], ["second", "JJ"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["kind", "NN"], ["of", "IN"], ["an", "DT"], ["amazing", "JJ"], ["fact", "NN"], ["that", "IN"], ["this", "DT"], ["rough", "JJ"], ["standard", "NN"], ["is", "VBZ"], ["really", "RB"], ["held", "VBN"], ["for", "IN"], ["50", "CD"], ["or", "CC"], ["60", "CD"], ["years", "NNS"], [".", "."], ["The", "DT"], ["computers", "NNS"], ["get", "VBP"], ["bigger", "JJR"], ["but", "CC"], ["they", "PRP"], ["get", "VBP"], ["faster", "RBR"], ["so", "RB"], ["to", "TO"], ["touch", "VB"], ["everything", "NN"], ["in", "IN"], ["the", "DT"], ["memory", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["take", "VB"], ["a", "DT"], ["few", "JJ"], ["seconds", "NNS"], [".", "."], ["Now", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["true", "JJ"], ["when", "WRB"], ["computers", "NNS"], ["only", "RB"], ["have", "VBP"], ["a", "DT"], ["few", "JJ"], ["thousand", "CD"], ["words", "NNS"], ["of", "IN"], ["memory", "NN"], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["true", "JJ"], ["now", "RB"], ["that", "IN"], ["they", "PRP"], ["have", "VBP"], ["billions", "NNS"], ["or", "CC"], ["more", "JJR"], [".", "."], ["So", "NNP"], ["let", "NN"], ["'s", "POS"], ["accept", "VB"], ["that", "IN"], ["as", "IN"], ["what", "WP"], ["computers", "NNS"], ["are", "VBP"], ["like", "IN"], [".", "."], ["Now", "RB"], [",", ","], ["that", "DT"], ["means", "VBZ"], ["is", "VBZ"], ["that", "IN"], [",", ","], ["with", "IN"], ["that", "DT"], ["huge", "JJ"], ["memory", "NN"], [",", ","], ["we", "PRP"], ["can", "MD"], ["address", "VB"], ["huge", "JJ"], ["problems", "NNS"], [".", "."], ["So", "IN"], ["we", "PRP"], ["could", "MD"], ["have", "VB"], [",", ","], ["billions", "NNS"], ["of", "IN"], ["objects", "NNS"], [",", ","], ["and", "CC"], ["hope", "NN"], ["to", "TO"], ["do", "VB"], ["billions", "NNS"], ["of", "IN"], ["union", "NN"], ["commands", "NNS"], ["on", "IN"], ["them", "PRP"], [".", "."], ["And", "CC"], [",", ","], ["but", "CC"], ["the", "DT"], ["problem", "NN"], ["with", "IN"], ["that", "DT"], ["quick", "JJ"], ["find", "NN"], ["algorithm", "NN"], ["is", "VBZ"], ["that", "IN"], [",", ","], ["that", "WDT"], ["would", "MD"], ["take", "VB"], ["ten^18th", "JJ"], ["operations", "NNS"], [",", ","], ["or", "CC"], [",", ","], ["say", "VBP"], ["array", "JJ"], ["axises", "NNS"], ["or", "CC"], ["touching", "VBG"], ["memory", "NN"], [".", "."], ["And", "CC"], ["if", "IN"], ["you", "PRP"], ["do", "VBP"], ["the", "DT"], ["math", "NN"], [",", ","], ["that", "WDT"], ["works", "VBZ"], ["out", "IN"], ["to", "TO"], ["30", "CD"], ["some", "DT"], ["years", "NNS"], ["of", "IN"], ["computer", "NN"], ["time", "NN"], [".", "."], ["Obviously", "RB"], [",", ","], ["not", "RB"], ["practical", "JJ"], ["to", "TO"], ["address", "VB"], ["such", "PDT"], ["a", "DT"], ["problem", "NN"], ["on", "IN"], ["today", "NN"], ["'s", "POS"], ["computer", "NN"], [".", "."], ["And", "CC"], [",", ","], ["and", "CC"], ["the", "DT"], ["reason", "NN"], ["is", "VBZ"], [",", ","], ["and", "CC"], ["the", "DT"], ["problem", "NN"], ["is", "VBZ"], ["that", "IN"], ["quadratic", "JJ"], ["algorithms", "NNS"], ["do", "VBP"], ["n't", "RB"], ["scale", "VB"], ["with", "IN"], ["technology", "NN"], [".", "."], ["You", "PRP"], ["might", "MD"], ["have", "VB"], ["a", "DT"], ["new", "JJ"], ["computer", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["ten", "JJ"], ["times", "NNS"], ["as", "IN"], ["fast", "NN"], ["but", "CC"], ["you", "PRP"], ["could", "MD"], ["address", "VB"], ["a", "DT"], ["problem", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["ten", "JJ"], ["times", "NNS"], ["as", "IN"], ["big", "JJ"], [".", "."], ["And", "CC"], ["with", "IN"], ["a", "DT"], ["quadratic", "JJ"], ["algorithm", "NN"], ["when", "WRB"], ["you", "PRP"], ["do", "VBP"], ["that", "DT"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["ten", "JJ"], ["times", "NNS"], ["as", "IN"], ["slow", "JJ"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["the", "DT"], ["kind", "NN"], ["of", "IN"], ["situation", "NN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["try", "VB"], ["to", "TO"], ["avoid", "VB"], ["by", "IN"], ["developing", "VBG"], ["more", "RBR"], ["efficient", "JJ"], ["algorithms", "NN"], ["for", "IN"], ["solving", "VBG"], ["problems", "NNS"], ["like", "IN"], ["this", "DT"], [".", "."]], "title": "quick find", "text": "Now we'll look at our first implementation of an algorithm for solving the dynamic connectivity problem, called Quick-find. This is a so called eager algorithm, for solving kind activity problem. The data structure that we're going to use to support the algorithm is simply an integer array indexed by object. The interpretation is the two objects, P and Q are connected if and only if, their entries in the array are the same. So for example in this example with our ten objects the idea array that describes the situation after seven connections is illustrated in the middle of the slide. So that, after the, at this point zero, five, and six are all in the same connected component, because they have the same array entry, zero. One, two, and seven all have entry one. And three, four, eight, and nine all have entry eight. So that representation is, shows that they're connected. And clearly, that's going to support a quick implementation of the find operation. We just check the array entries to see if they're equal. Check if P and Q have the same ID. So, six and one have different IDs. One has ID one, six has ID zero. They're not in the same connected component. Union is more difficult in order to merge the components, containing two given objects. We have to change all the entries, whose ID is equal to one of them to the other one. And arbitrarily we choose to change the ones that are the same as P to the ones that are same as Q. So if we're going to union six and one, then we have to change entries zero, five, and six. Everybody in the same connected component as six. From zero to one. And this is, as we'll see, this is a bit of a problem when we have a huge number of objects, because there's a lot of values that can change. But still, it's easy to implement, so that'll be our starting point. So we'll start with a, a demo of how this works. So, initially, we set up the ID array, with each entry, equal to its index. And so all that says is that all the objects are independent. They're in their own connected component. Now, when we get a union operation. So, say, four is supposed to be unio n with three. Then we're going to change, all entries, whose ID is equal to the first ID to the second one. So in this case, we'll change the, connect three and four means that we need to change the four to a three. And we'll continue to do a few more so you'll get an idea of how it works. So three and eight now so to connect three and eight now three and four have to be connected to eight. So both of those entries have to change to eight. Okay? So now, what about six and five? So again, we change the first one to match the second one. So to connect six and five, we change the six to a five. What about nine and four? So, now we have to change the, to connect nine and four, we have to change, 9's entry to be the same as 4's. So now we have three, four, eight, and nine. All have entries eight. They're all on the same connected component. Two and one means that we connect two and one by changing the 2201. Eight and nine are already connected. They have the same, entries in the idea array. So, that connected query, that find says, true, they're already connected. And five and zero have different entries. They're not connected, so we'd return false, in that case, not connected. And then, if we want to connect five and zero. Then, as usual we'll connect, the entry corresponding to both five and six to zero. Seven and two, union seven and two. That's an easy one. And union, six and one so there is three entries that have to get changed. All those zeros have to get changed to ones. So, that's a quick demo of Quick-find. Now next we'll look at the code for implementating that. Okay, with this concrete demo in mind then moving to coding up this algorithim is pretty straight forward. Although it's an interesting programming exercise that a lot of us would get wrong the first time. So let's start with the constructor, well we have a, a private integer array. That's our ID array. That's the data structure that's going to support this implementation. The constructor has to create the array and then go through and set the value corresponding to each index I to I. That's straight forward. The find operation, or connected operation. That's the easy one . This is the Quick-find algorithm. So it simply takes its two arguments, P and Q, and checks whether their ID entries are equal, and returns that value. If they're equal, it returns true. If they're not equal, it returns false. The more complicated operation implement is a union. And there, we find first the ID corresponding with the first argument, and then the ID corresponding to the second argument. And then we go through the whole array, and looking for the entries whose IDs are equal to the ID of the first argument, and set those to the ID of the second argument. That's a pretty straightforward implementation. And I mentioned that a lot of us would get us wrong. The mistake we might make is to put ID of P here rather than first picking out, that value. And you can think about the implications of that. That's an insidious bug. So, that's a fine implementation of QuickFind so the next thing to decide is how effective or efficient that algorithm is going to be and we'll talk in some detail about how to do that but for this it's sufficient to just think about the number of times the code has to access the array. As we saw when doing the implementation, both the initialized and union operations involved the for-loop that go through the entire array. So they have to touch in a constant proportional to n times after touching array entry. Find Operation is quick, it's just to a constant number of times check array entries. And this is problematic because the union operation is too expensive. In particular if you just have N union commands on N objects which is not unreasonable. They're either connected or not then that will take quadratic time in squared time. And one of the themes that we'll go through over and over in this course is that quadratic time is much to slow. And we can't accept quadratic time algorithms for large problems. The reason is they don't scale. As computers get faster and bigger, quadratic algorithms actually get slower. Now, let's just talk roughly about what I mean by that. A very rough standard, say for now, is that people have computers that can run billions of operations per second, and they have billions of entries in main memory. So, that means that you could touch everything in the main memory in about a second. That's kind of an amazing fact that this rough standard is really held for 50 or 60 years. The computers get bigger but they get faster so to touch everything in the memory is going to take a few seconds. Now it's true when computers only have a few thousand words of memory and it's true now that they have billions or more. So let's accept that as what computers are like. Now, that means is that, with that huge memory, we can address huge problems. So we could have, billions of objects, and hope to do billions of union commands on them. And, but the problem with that quick find algorithm is that, that would take ten^18th operations, or, say array axises or touching memory. And if you do the math, that works out to 30 some years of computer time. Obviously, not practical to address such a problem on today's computer. And, and the reason is, and the problem is that quadratic algorithms don't scale with technology. You might have a new computer that's ten times as fast but you could address a problem that's ten times as big. And with a quadratic algorithm when you do that. It's going to be ten times as slow. That's the kind of situation we're going to try to avoid by developing more efficient algorithms for solving problems like this. ", "video_ID": 3, "course_id": 3}
{"category": ["union find"], "tagged": [["All", "DT"], ["right", "NN"], ["so", "RB"], ["QuickFind", "NNP"], ["is", "VBZ"], ["too", "RB"], ["slow", "JJ"], ["for", "IN"], ["huge", "JJ"], ["problems", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["how", "WRB"], ["are", "VBP"], ["we", "PRP"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], ["better", "JJR"], ["?", "."], ["Our", "PRP$"], ["first", "JJ"], ["attempt", "NN"], ["is", "VBZ"], ["an", "DT"], ["alternative", "NN"], ["called", "VBN"], [",", ","], ["Quick-union", "NNP"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["so", "RB"], ["called", "JJ"], ["lazy", "NN"], ["approach", "NN"], ["to", "TO"], ["algorithm", "VB"], ["design", "NN"], ["where", "WRB"], ["we", "PRP"], ["try", "VBP"], ["to", "TO"], ["avoid", "VB"], ["doing", "VBG"], ["work", "NN"], ["until", "IN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], [".", "."], ["It", "PRP"], ["uses", "VBZ"], ["the", "DT"], ["same", "JJ"], ["data", "NN"], ["structure", "NN"], ["or", "CC"], ["array", "NN"], ["ID", "NNP"], ["with", "IN"], ["size", "NN"], ["M", "NNP"], ["but", "CC"], ["now", "RB"], ["it", "PRP"], ["has", "VBZ"], ["a", "DT"], ["different", "JJ"], ["interpretation", "NN"], [".", "."], ["We", "PRP"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["think", "VB"], ["of", "IN"], ["that", "DT"], ["array", "NN"], ["as", "IN"], ["representing", "VBG"], ["a", "DT"], ["set", "NN"], ["of", "IN"], ["trees", "NNS"], ["that", "WDT"], ["'s", "VBZ"], ["called", "VBN"], ["a", "DT"], ["forest", "NN"], ["as", "IN"], ["depicted", "VBN"], ["at", "IN"], ["right", "NN"], [".", "."], ["So", "RB"], [",", ","], ["each", "DT"], ["entry", "NN"], ["in", "IN"], ["the", "DT"], ["array", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["contain", "VB"], ["a", "DT"], ["reference", "NN"], ["to", "TO"], ["its", "PRP$"], ["parent", "NN"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], [".", "."], ["So", "RB"], [",", ","], ["for", "IN"], ["example", "NN"], [",", ","], ["3", "CD"], ["'s", "POS"], ["parent", "NN"], ["is", "VBZ"], ["four", "CD"], [",", ","], ["4", "CD"], ["'s", "POS"], ["parent", "NN"], ["is", "VBZ"], ["nine", "CD"], [".", "."], ["So", "RB"], ["3", "CD"], ["'s", "POS"], ["entry", "NN"], ["is", "VBZ"], ["four", "CD"], ["and", "CC"], ["4", "CD"], ["'s", "POS"], ["entry", "NN"], ["is", "VBZ"], ["nine", "CD"], ["in", "IN"], ["the", "DT"], ["array", "NN"], [".", "."], ["Now", "RB"], ["each", "DT"], ["entry", "NN"], ["in", "IN"], ["the", "DT"], ["array", "NN"], ["has", "VBZ"], ["associated", "VBN"], ["with", "IN"], ["it", "PRP"], ["a", "DT"], ["root", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["the", "DT"], ["root", "NN"], ["of", "IN"], ["its", "PRP$"], ["tree", "NN"], [".", "."], ["Elements", "NNS"], ["that", "WDT"], ["are", "VBP"], ["all", "DT"], ["by", "IN"], ["themselves", "PRP"], ["in", "IN"], ["just", "RB"], [",", ","], ["in", "IN"], ["their", "PRP$"], ["own", "JJ"], ["connected", "VBN"], ["component", "NN"], [",", ","], ["point", "NN"], ["to", "TO"], ["themselves", "PRP"], [",", ","], ["so", "RB"], ["one", "CD"], ["points", "NNS"], ["to", "TO"], ["itself", "PRP"], ["but", "CC"], ["also", "RB"], ["nine", "CD"], ["points", "NNS"], ["to", "TO"], ["itself", "PRP"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["the", "DT"], ["root", "NN"], ["of", "IN"], ["the", "DT"], ["tree", "NN"], [",", ","], ["containing", "VBG"], ["two", "CD"], [",", ","], ["four", "CD"], ["and", "CC"], ["three", "CD"], [".", "."], ["So", "RB"], [",", ","], ["from", "IN"], ["this", "DT"], ["data", "NN"], ["structure", "NN"], ["we", "PRP"], ["can", "MD"], ["associate", "VB"], ["with", "IN"], ["each", "DT"], ["item", "NN"], ["a", "DT"], ["root", "NN"], [",", ","], ["which", "WDT"], ["is", "VBZ"], ["representative", "JJ"], [",", ","], ["say", "VBP"], [",", ","], ["of", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["connected", "VBN"], ["component", "NN"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["root", "NN"], ["of", "IN"], ["three", "CD"], ["is", "VBZ"], ["nine", "CD"], [",", ","], ["going", "VBG"], ["up", "RP"], ["that", "DT"], ["root", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["once", "IN"], ["we", "PRP"], ["can", "MD"], ["calculate", "VB"], ["these", "DT"], ["roots", "NNS"], [",", ","], ["then", "RB"], ["we", "PRP"], ["can", "MD"], ["implement", "VB"], ["the", "DT"], ["find", "NN"], ["operation", "NN"], ["just", "RB"], ["by", "IN"], ["checking", "VBG"], ["whether", "IN"], ["the", "DT"], ["two", "CD"], ["items", "NNS"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["supposed", "VBN"], ["to", "TO"], ["check", "VB"], ["with", "IN"], ["are", "VBP"], ["connective", "JJ"], ["where", "WRB"], ["they", "PRP"], ["have", "VBP"], ["the", "DT"], ["same", "JJ"], ["root", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["equivalent", "JJ"], ["to", "TO"], ["saying", "VBG"], [",", ","], ["are", "VBP"], ["they", "PRP"], ["in", "IN"], ["the", "DT"], ["same", "JJ"], ["connective", "JJ"], ["component", "NN"], ["?", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["some", "DT"], ["work", "NN"], [",", ","], ["going", "VBG"], ["to", "TO"], ["find", "VB"], ["the", "DT"], ["roots", "NNS"], ["of", "IN"], ["each", "DT"], ["item", "NN"], ["but", "CC"], ["the", "DT"], ["union", "NN"], ["operation", "NN"], ["is", "VBZ"], ["very", "RB"], ["easy", "JJ"], [".", "."], ["To", "TO"], ["merge", "VB"], ["components", "NNS"], ["containing", "VBG"], ["two", "CD"], ["different", "JJ"], ["items", "NNS"], [".", "."], ["Two", "CD"], ["items", "NNS"], ["that", "WDT"], ["are", "VBP"], ["in", "IN"], ["different", "JJ"], ["components", "NNS"], [".", "."], ["All", "DT"], ["we", "PRP"], ["do", "VBP"], ["is", "VBZ"], ["set", "VB"], ["the", "DT"], ["ID", "NNP"], ["of", "IN"], ["P", "NNP"], ["'s", "POS"], ["route", "NN"], ["to", "TO"], ["the", "DT"], ["ID", "NNP"], ["of", "IN"], ["Q", "NNP"], ["'s", "POS"], ["route", "NN"], [".", "."], ["Let", "VB"], ["'s", "POS"], ["make", "VB"], ["P", "NNP"], ["'s", "POS"], ["tree", "JJ"], ["point", "NN"], ["to", "TO"], ["Q", "NNP"], [".", "."], ["So", "RB"], ["in", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["we", "PRP"], ["would", "MD"], ["change", "VB"], ["the", "DT"], ["entry", "NN"], ["of", "IN"], ["nine", "CD"], ["to", "TO"], ["be", "VB"], ["six", "CD"], ["to", "TO"], ["merge", "VB"], ["three", "CD"], ["and", "CC"], ["five", "CD"], [".", "."], ["The", "DT"], ["components", "NNS"], ["containing", "VBG"], ["three", "CD"], ["and", "CC"], ["five", "CD"], [".", "."], ["And", "CC"], ["with", "IN"], ["just", "RB"], ["changing", "VBG"], ["one", "CD"], ["value", "NN"], ["in", "IN"], ["the", "DT"], ["array", "NN"], ["we", "PRP"], ["get", "VBP"], ["the", "DT"], ["two", "CD"], ["large", "JJ"], ["components", "NNS"], ["emerged", "VBD"], ["together", "RB"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["the", "DT"], ["Quick-union", "NNP"], ["algorithm", "NN"], [".", "."], ["Because", "IN"], ["a", "DT"], ["union", "NN"], ["operation", "NN"], ["only", "RB"], ["involves", "VBZ"], ["changing", "VBG"], ["one", "CD"], ["entry", "NN"], ["in", "IN"], ["the", "DT"], ["array", "NN"], [".", "."], ["Find", "NNP"], ["operation", "NN"], ["requires", "VBZ"], ["a", "DT"], ["little", "RB"], ["more", "JJR"], ["work", "NN"], [".", "."], ["So", "NNP"], ["let", "NN"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["the", "DT"], ["Implementation", "NNP"], [",", ","], ["a", "DT"], ["demo", "NN"], ["of", "IN"], ["that", "DT"], ["one", "CD"], ["in", "IN"], ["operation", "NN"], ["first", "RB"], [".", "."], ["So", "RB"], ["again", "RB"], ["we", "PRP"], [",", ","], ["we", "PRP"], ["start", "VBP"], ["out", "RP"], ["the", "DT"], ["same", "JJ"], ["way", "NN"], ["but", "CC"], ["now", "RB"], ["the", "DT"], ["idea", "NN"], ["array", "NN"], ["entry", "NN"], ["really", "RB"], ["means", "VBZ"], ["that", "IN"], ["every", "DT"], ["one", "CD"], ["of", "IN"], ["these", "DT"], ["things", "NNS"], ["is", "VBZ"], ["a", "DT"], ["little", "JJ"], ["tree", "NN"], ["where", "WRB"], ["the", "DT"], ["one", "CD"], ["node", "NN"], ["each", "DT"], ["everyone", "NN"], ["pointing", "VBG"], ["to", "TO"], ["itself", "PRP"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["the", "DT"], ["root", "NN"], ["of", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["own", "JJ"], ["tree", "NN"], ["so", "RB"], ["now", "RB"], ["if", "IN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["put", "VB"], ["four", "CD"], ["and", "CC"], ["three", "CD"], ["in", "IN"], ["the", "DT"], ["same", "JJ"], ["component", "NN"], [",", ","], ["then", "RB"], ["all", "DT"], ["we", "PRP"], ["do", "VBP"], ["is", "VBZ"], ["we", "PRP"], ["take", "VBP"], ["the", "DT"], ["root", "NN"], [",", ","], ["of", "IN"], ["the", "DT"], ["component", "NN"], ["containing", "VBG"], ["the", "DT"], ["first", "JJ"], ["item", "NN"], ["and", "CC"], ["make", "VB"], ["that", "IN"], ["a", "DT"], ["child", "NN"], ["of", "IN"], ["the", "DT"], ["root", "NN"], ["of", "IN"], ["the", "DT"], ["component", "NN"], [",", ","], ["component", "NN"], ["containing", "VBG"], ["the", "DT"], ["second", "JJ"], ["item", "NN"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], ["we", "PRP"], ["just", "RB"], ["make", "VB"], ["four", "CD"], ["as", "IN"], ["parent", "NN"], ["three", "CD"], [".", "."], ["So", "RB"], ["now", "RB"], ["three", "CD"], ["and", "CC"], ["eight", "CD"], [".", "."], ["So", "RB"], ["again", "RB"], [",", ","], ["we", "PRP"], ["take", "VBP"], ["the", "DT"], ["first", "JJ"], ["item", "NN"], ["and", "CC"], ["make", "VB"], ["it", "PRP"], ["a", "DT"], ["child", "NN"], ["of", "IN"], ["the", "DT"], ["root", "NN"], ["of", "IN"], ["the", "DT"], ["tree", "NN"], ["containing", "VBG"], ["the", "DT"], ["second", "JJ"], ["item", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], ["three", "CD"], [",", ","], ["four", "CD"], [",", ","], ["and", "CC"], ["eight", "CD"], ["are", "VBP"], ["in", "IN"], ["the", "DT"], ["same", "JJ"], ["component", "NN"], [".", "."], ["Six", "CD"], ["and", "CC"], ["five", "CD"], ["six", "CD"], ["goes", "VBZ"], ["below", "IN"], ["five", "CD"], [".", "."], ["Nine", "NN"], ["and", "CC"], ["four", "CD"], [",", ","], ["So", "RB"], ["now", "RB"], ["four", "CD"], ["is", "VBZ"], ["the", "DT"], ["root", "NN"], ["of", "IN"], ["the", "DT"], ["tree", "NN"], ["containing", "VBG"], ["four", "CD"], ["is", "VBZ"], ["eight", "CD"], [".", "."], ["And", "CC"], ["the", "DT"], ["root", "NN"], ["of", "IN"], ["tree", "JJ"], ["containing", "VBG"], ["nine", "CD"], ["is", "VBZ"], ["nine", "CD"], [".", "."], ["And", "CC"], ["so", "IN"], ["we", "PRP"], ["make", "VBP"], ["nine", "CD"], ["a", "DT"], ["child", "NN"], ["of", "IN"], ["eight", "CD"], [".", "."], ["Two", "CD"], ["and", "CC"], ["one", "CD"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["an", "DT"], ["easy", "JJ"], ["one", "CD"], [".", "."], ["Now", "RB"], ["if", "IN"], ["we", "PRP"], ["get", "VBP"], ["our", "PRP$"], [",", ","], ["our", "PRP$"], ["eight", "CD"], ["and", "CC"], ["nine", "CD"], ["connected", "VBN"], [",", ","], ["we", "PRP"], ["just", "RB"], ["checked", "VBD"], ["that", "IN"], ["they", "PRP"], ["have", "VBP"], ["the", "DT"], ["same", "JJ"], ["root", "NN"], ["and", "CC"], ["they", "PRP"], ["both", "DT"], ["have", "VBP"], ["the", "DT"], ["same", "JJ"], ["root", "NN"], ["eight", "CD"], ["and", "CC"], ["so", "RB"], ["they", "PRP"], ["'re", "VBP"], ["connected", "VBN"], [".", "."], ["Five", "CD"], ["and", "CC"], ["four", "CD"], ["4", "CD"], ["'s", "POS"], ["root", "NN"], ["is", "VBZ"], ["eight", "CD"], [".", "."], ["5", "CD"], ["'s", "POS"], ["root", "NN"], ["is", "VBZ"], ["five", "CD"], [".", "."], ["They", "PRP"], ["'re", "VBP"], ["different", "JJ"], [".", "."], ["They", "PRP"], ["'re", "VBP"], ["not", "RB"], ["connected", "VBN"], [".", "."], ["Five", "CD"], ["and", "CC"], ["zero", "NN"], [".", "."], ["Five", "CD"], ["goes", "VBZ"], ["to", "TO"], ["be", "VB"], ["a", "DT"], ["child", "NN"], ["of", "IN"], ["zero", "NN"], [".", "."], ["Seven", "NNP"], ["and", "CC"], ["two", "CD"], ["seven", "CD"], ["goes", "VBZ"], ["to", "TO"], ["be", "VB"], ["a", "DT"], ["child", "NN"], ["of", "IN"], ["2", "CD"], ["'s", "POS"], ["root", "NN"], ["which", "WDT"], ["is", "VBZ"], ["one", "CD"], [".", "."], ["Six", "CD"], ["and", "CC"], ["one", "CD"], [".", "."], ["6", "CD"], ["'s", "POS"], ["route", "NN"], ["is", "VBZ"], ["zero", "CD"], ["1", "CD"], ["'s", "POS"], ["its", "PRP$"], ["own", "JJ"], ["route", "NN"], [",", ","], ["so", "RB"], ["zero", "CD"], ["becomes", "VBZ"], ["a", "DT"], ["child", "NN"], ["of", "IN"], ["one", "CD"], [".", "."], ["Each", "DT"], ["one", "CD"], ["of", "IN"], ["these", "DT"], ["union", "NN"], ["operations", "NNS"], ["just", "RB"], ["involves", "VBZ"], ["changing", "VBG"], ["one", "CD"], ["entry", "NN"], ["in", "IN"], ["the", "DT"], ["array", "NN"], [".", "."], ["And", "CC"], ["finally", "RB"], [",", ","], ["seven", "CD"], ["and", "CC"], ["three", "CD"], [".", "."], ["So", "CC"], ["seven", "CD"], ["'s", "POS"], ["root", "NN"], ["is", "VBZ"], ["one", "CD"], [",", ","], ["three", "CD"], ["'s", "POS"], ["root", "NN"], ["is", "VBZ"], ["eight", "CD"], [",", ","], ["one", "CD"], ["becomes", "VBZ"], ["a", "DT"], ["child", "NN"], ["of", "IN"], ["eight", "CD"], [".", "."], ["Okay", "NNP"], ["and", "CC"], ["now", "RB"], ["we", "PRP"], ["have", "VBP"], ["one", "CD"], ["connected", "VBN"], ["component", "NN"], ["with", "IN"], ["all", "PDT"], ["the", "DT"], ["items", "NNS"], ["together", "RB"], [".", "."], ["Alright", "NNP"], [",", ","], ["so", "RB"], ["now", "RB"], ["let", "VBP"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["the", "DT"], ["code", "NN"], ["for", "IN"], ["implementing", "VBG"], ["Quick-union", "NNP"], [".", "."], ["The", "DT"], ["constructor", "NN"], ["is", "VBZ"], ["the", "DT"], ["same", "JJ"], ["as", "IN"], ["the", "DT"], ["other", "JJ"], ["one", "NN"], [".", "."], ["We", "PRP"], ["create", "VBP"], ["the", "DT"], ["array", "NN"], ["and", "CC"], ["then", "RB"], ["set", "VB"], ["each", "DT"], ["element", "NN"], ["to", "TO"], ["be", "VB"], ["it", "PRP"], ["'s", "VBZ"], ["own", "JJ"], ["root", "NN"], [".", "."], ["Now", "RB"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["private", "JJ"], ["method", "NN"], ["that", "WDT"], ["implements", "VBZ"], ["this", "DT"], ["process", "NN"], ["of", "IN"], ["finding", "VBG"], ["the", "DT"], ["root", "NN"], ["by", "IN"], ["chasing", "VBG"], ["parent", "NN"], ["pointers", "NNS"], ["until", "IN"], ["we", "PRP"], ["get", "VBP"], ["to", "TO"], ["the", "DT"], ["point", "NN"], ["where", "WRB"], ["I", "PRP"], ["is", "VBZ"], ["equal", "JJ"], ["to", "TO"], ["ID", "NNP"], ["of", "IN"], ["I", "PRP"], [",", ","], ["and", "CC"], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["equal", "JJ"], [",", ","], ["we", "PRP"], ["just", "RB"], ["move", "VBP"], ["I", "PRP"], ["up", "RP"], ["one", "CD"], ["level", "NN"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], [",", ","], ["set", "VBN"], ["I", "PRP"], ["equals", "VBP"], ["ID", "NNP"], ["of", "IN"], ["I", "PRP"], ["and", "CC"], ["return", "VB"], ["it", "PRP"], [".", "."], ["So", "RB"], ["starting", "VBG"], ["at", "IN"], ["any", "DT"], ["node", "NN"], [",", ","], ["you", "PRP"], ["just", "RB"], ["follow", "VB"], ["ID", "NNP"], ["equals", "NNS"], ["ID", "NNP"], ["of", "IN"], ["I", "PRP"], ["until", "IN"], ["they", "PRP"], ["'re", "VBP"], ["equal", "JJ"], ["and", "CC"], ["then", "RB"], ["you", "PRP"], ["'re", "VBP"], ["at", "IN"], ["a", "DT"], ["root", "NN"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["private", "JJ"], ["method", "NN"], ["that", "IN"], ["we", "PRP"], ["can", "MD"], ["use", "VB"], ["to", "TO"], ["implement", "VB"], ["the", "DT"], ["find", "NN"], ["operation", "NN"], ["or", "CC"], ["the", "DT"], ["connected", "JJ"], ["operation", "NN"], [".", "."], ["You", "PRP"], ["just", "RB"], ["find", "VB"], ["the", "DT"], ["root", "NN"], ["of", "IN"], ["P", "NNP"], ["and", "CC"], ["the", "DT"], ["root", "NN"], ["of", "IN"], ["Q", "NNP"], ["and", "CC"], ["if", "IN"], ["you", "PRP"], ["check", "VBP"], ["if", "IN"], ["they", "PRP"], ["'re", "VBP"], ["equal", "JJ"], [".", "."], ["And", "CC"], ["then", "RB"], ["the", "DT"], ["union", "NN"], ["operation", "NN"], ["is", "VBZ"], ["simply", "RB"], ["find", "VB"], ["the", "DT"], ["two", "CD"], ["roots", "NNS"], ["I", "PRP"], ["and", "CC"], ["then", "RB"], ["set", "VB"], ["the", "DT"], ["idea", "NN"], ["the", "DT"], ["first", "JJ"], ["one", "NN"], ["could", "MD"], ["be", "VB"], ["the", "DT"], ["second", "JJ"], ["one", "NN"], [".", "."], ["Actually", "RB"], ["less", "JJR"], ["code", "NN"], ["than", "IN"], ["for", "IN"], ["Quick", "NNP"], ["Find", "NNP"], [",", ","], ["no", "DT"], ["fore", "NN"], ["loops", "VBZ"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["this", "DT"], ["one", "CD"], ["wild", "NN"], ["loop", "VBZ"], ["that", "IN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["worry", "VB"], ["about", "IN"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], [".", "."], ["But", "CC"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["quick", "JJ"], ["and", "CC"], ["elegant", "JJ"], ["implementation", "NN"], ["of", "IN"], ["code", "NN"], ["to", "TO"], ["solve", "VB"], ["the", "DT"], ["dynamic", "JJ"], ["connectivity", "NN"], ["problem", "NN"], ["called", "VBN"], ["Quick-union", "NNP"], [".", "."], ["So", "RB"], ["now", "RB"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["can", "MD"], ["this", "DT"], ["code", "NN"], ["be", "VB"], ["effective", "JJ"], ["for", "IN"], ["large", "JJ"], ["problems", "NNS"], ["?", "."], ["Well", "NNP"], ["unfortunately", "RB"], ["Quick-union", "NNP"], ["is", "VBZ"], ["faster", "RBR"], ["but", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["also", "RB"], ["too", "RB"], ["slow", "JJ"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["little", "JJ"], ["different", "JJ"], ["kind", "NN"], ["of", "IN"], ["too", "RB"], ["slow", "JJ"], ["then", "RB"], ["for", "IN"], ["Quick", "NNP"], ["Find", "NNP"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["times", "NNS"], ["when", "WRB"], ["it", "PRP"], ["could", "MD"], ["be", "VB"], ["fast", "RB"], [",", ","], ["but", "CC"], ["there", "EX"], ["'s", "VBZ"], ["also", "RB"], ["times", "RB"], ["when", "WRB"], ["it", "PRP"], ["could", "MD"], ["be", "VB"], ["too", "RB"], ["slow", "JJ"], [".", "."], ["And", "CC"], ["the", "DT"], ["defect", "NN"], ["for", "IN"], ["Quick-union", "NNP"], ["is", "VBZ"], ["that", "IN"], ["the", "DT"], ["trees", "NNS"], ["can", "MD"], ["get", "VB"], ["too", "RB"], ["tall", "JJ"], [".", "."], ["Which", "WDT"], ["would", "MD"], ["mean", "VB"], ["that", "IN"], ["the", "DT"], ["find", "NN"], ["operation", "NN"], ["would", "MD"], ["be", "VB"], ["too", "RB"], ["expensive", "JJ"], [".", "."], ["You", "PRP"], ["could", "MD"], ["wind", "VB"], ["up", "RP"], ["with", "IN"], ["a", "DT"], ["long", "JJ"], ["skinny", "NN"], ["tree", "NN"], [".", "."], ["Of", "IN"], ["each", "DT"], ["object", "NN"], ["just", "RB"], ["pointing", "VBG"], ["to", "TO"], ["next", "JJ"], ["and", "CC"], ["then", "RB"], ["to", "TO"], ["do", "VB"], ["a", "DT"], ["find", "NN"], ["operation", "NN"], ["for", "IN"], ["object", "NN"], ["at", "IN"], ["the", "DT"], ["bottom", "NN"], ["would", "MD"], ["involve", "VB"], ["going", "VBG"], ["all", "PDT"], ["the", "DT"], ["way", "NN"], ["through", "IN"], ["the", "DT"], ["tree", "NN"], [".", "."], ["Costing", "VBG"], ["involving", "VBG"], ["in", "IN"], ["the", "DT"], ["ray", "NN"], ["axises", "VBZ"], ["just", "RB"], ["to", "TO"], ["do", "VB"], ["the", "DT"], ["find", "NN"], ["operation", "NN"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["too", "RB"], ["slow", "JJ"], ["if", "IN"], ["you", "PRP"], ["have", "VBP"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["operations", "NNS"], [".", "."]], "title": "quick union", "text": "All right so QuickFind is too slow for huge problems. So, how are we going to do better? Our first attempt is an alternative called, Quick-union. This is so called lazy approach to algorithm design where we try to avoid doing work until we have to. It uses the same data structure or array ID with size M but now it has a different interpretation. We are going to think of that array as representing a set of trees that's called a forest as depicted at right. So, each entry in the array is going to contain a reference to its parent in the tree. So, for example, 3's parent is four, 4's parent is nine. So 3's entry is four and 4's entry is nine in the array. Now each entry in the array has associated with it a root. That's the root of its tree. Elements that are all by themselves in just, in their own connected component, point to themselves, so one points to itself but also nine points to itself. It's the root of the tree, containing two, four and three. So, from this data structure we can associate with each item a root, which is representative, say, of it's connected component. So that's the root of three is nine, going up that root. Now, once we can calculate these roots, then we can implement the find operation just by checking whether the two items that we're supposed to check with are connective where they have the same root. That's equivalent to saying, are they in the same connective component? So that's some work, going to find the roots of each item but the union operation is very easy. To merge components containing two different items. Two items that are in different components. All we do is set the ID of P's route to the ID of Q's route. Let's make P's tree point to Q. So in this case, we would change the entry of nine to be six to merge three and five. The components containing three and five. And with just changing one value in the array we get the two large components emerged together. That's the Quick-union algorithm. Because a union operation only involves changing one entry in the array. Find operation requires a little more work. So let's look at the Implementation, a demo of that one in operation first. So again we, we start out the same way but now the idea array entry really means that every one of these things is a little tree where the one node each everyone pointing to itself. It's the root of it's own tree so now if we have to put four and three in the same component, then all we do is we take the root, of the component containing the first item and make that a child of the root of the component, component containing the second item. In this case we just make four as parent three. So now three and eight. So again, we take the first item and make it a child of the root of the tree containing the second item. So now three, four, and eight are in the same component. Six and five six goes below five. Nine and four, So now four is the root of the tree containing four is eight. And the root of tree containing nine is nine. And so we make nine a child of eight. Two and one, that's an easy one. Now if we get our, our eight and nine connected, we just checked that they have the same root and they both have the same root eight and so they're connected. Five and four 4's root is eight. 5's root is five. They're different. They're not connected. Five and zero. Five goes to be a child of zero. Seven and two seven goes to be a child of 2's root which is one. Six and one. 6's route is zero 1's its own route, so zero becomes a child of one. Each one of these union operations just involves changing one entry in the array. And finally, seven and three. So seven's root is one, three's root is eight, one becomes a child of eight. Okay and now we have one connected component with all the items together. Alright, so now let's look at the code for implementing Quick-union. The constructor is the same as the other one. We create the array and then set each element to be it's own root. Now we have a private method that implements this process of finding the root by chasing parent pointers until we get to the point where I is equal to ID of I, and if it's not equal, we just move I up one level in the tree, set I equals ID of I and return it. So starting at any node, you just follow ID equals ID of I until they're equal and then you're at a root and that's a private method that we can use to implement the find operation or the connected operation. You just find the root of P and the root of Q and if you check if they're equal. And then the union operation is simply find the two roots I and then set the idea the first one could be the second one. Actually less code than for Quick Find, no fore loops. There's this one wild loop that we have to worry about a little bit. But that's a quick and elegant implementation of code to solve the dynamic connectivity problem called Quick-union. So now we're going to have to look at can this code be effective for large problems? Well unfortunately Quick-union is faster but it's also too slow. And it's a little different kind of too slow then for Quick Find, there's times when it could be fast, but there's also times when it could be too slow. And the defect for Quick-union is that the trees can get too tall. Which would mean that the find operation would be too expensive. You could wind up with a long skinny tree. Of each object just pointing to next and then to do a find operation for object at the bottom would involve going all the way through the tree. Costing involving in the ray axises just to do the find operation and that's going to be too slow if you have a lot of operations. ", "video_ID": 4, "course_id": 3}
{"category": ["union find"], "tagged": [["Okay", "NNP"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["'ve", "VBP"], ["looked", "VBN"], ["at", "IN"], ["the", "DT"], ["quick", "NNP"], ["union", "NN"], ["and", "CC"], ["quick", "JJ"], ["find", "NN"], ["algorithms", "NN"], [".", "."], ["Both", "DT"], ["of", "IN"], ["which", "WDT"], ["are", "VBP"], ["easy", "JJ"], ["to", "TO"], ["implement", "VB"], [".", "."], ["But", "CC"], ["simply", "RB"], ["ca", "MD"], ["n't", "RB"], ["support", "VB"], ["a", "DT"], ["huge", "JJ"], ["dynamic", "JJ"], ["connectivity", "NN"], ["problems", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["how", "WRB"], ["are", "VBP"], ["we", "PRP"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], ["better", "JJR"], ["?", "."], ["That", "DT"], ["'s", "VBZ"], ["what", "WP"], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["next", "JJ"], [".", "."], ["A", "DT"], ["very", "RB"], ["effective", "JJ"], ["improvement", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["called", "VBN"], ["weighting", "NN"], [".", "."], ["And", "CC"], ["it", "PRP"], ["might", "MD"], ["have", "VB"], ["occurred", "VBN"], ["to", "TO"], ["you", "PRP"], ["while", "IN"], ["we", "PRP"], ["are", "VBP"], ["looking", "VBG"], ["at", "IN"], ["these", "DT"], ["algorithms", "NNS"], [".", "."], ["The", "DT"], ["idea", "NN"], ["is", "VBZ"], ["to", "TO"], ["when", "WRB"], ["implementing", "VBG"], ["the", "DT"], ["quick", "JJ"], ["union", "NN"], ["algorithm", "NNS"], ["take", "VBP"], ["steps", "NNS"], ["to", "TO"], ["avoid", "VB"], ["having", "VBG"], ["tall", "JJ"], ["trees", "NNS"], [".", "."], ["If", "IN"], ["you", "PRP"], ["'ve", "VBP"], ["got", "VBN"], ["a", "DT"], ["large", "JJ"], ["tree", "NN"], ["and", "CC"], ["a", "DT"], ["small", "JJ"], ["tree", "NN"], ["to", "TO"], ["combine", "VB"], ["together", "RB"], ["what", "WP"], ["you", "PRP"], ["want", "VBP"], ["to", "TO"], ["try", "VB"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["avoid", "VB"], ["putting", "VBG"], ["the", "DT"], ["large", "JJ"], ["tree", "NN"], ["lower", "RBR"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["lead", "VB"], ["to", "TO"], ["long", "VB"], ["tall", "JJ"], ["trees", "NNS"], [".", "."], ["And", "CC"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["relatively", "RB"], ["easy", "JJ"], ["way", "NN"], ["to", "TO"], ["do", "VB"], ["that", "DT"], [".", "."], ["What", "WP"], ["we", "PRP"], ["'ll", "MD"], ["do", "VB"], ["is", "VBZ"], ["we", "PRP"], ["'ll", "MD"], ["keep", "VB"], ["track", "NN"], ["of", "IN"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["objects", "NNS"], ["in", "IN"], ["each", "DT"], ["tree", "NN"], ["and", "CC"], ["then", "RB"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["maintain", "VB"], ["balance", "NN"], ["by", "IN"], ["always", "RB"], ["making", "VBG"], ["sure", "JJ"], ["that", "IN"], ["we", "PRP"], ["link", "VBP"], ["the", "DT"], ["root", "NN"], ["of", "IN"], ["the", "DT"], ["smaller", "JJR"], ["tree", "NN"], ["to", "TO"], ["the", "DT"], ["root", "NN"], ["of", "IN"], ["the", "DT"], ["larger", "JJR"], ["tree", "NN"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], [",", ","], ["we", "PRP"], ["avoid", "VBP"], ["this", "DT"], ["first", "JJ"], ["situation", "NN"], ["here", "RB"], ["where", "WRB"], ["we", "PRP"], ["put", "VBD"], ["the", "DT"], ["larger", "JJR"], ["tree", "JJ"], ["lower", "JJR"], [".", "."], ["In", "IN"], ["the", "DT"], ["weighted", "JJ"], ["algorithm", "NN"], [",", ","], ["we", "PRP"], ["always", "RB"], ["put", "VBD"], ["the", "DT"], ["smaller", "JJR"], ["tree", "NN"], ["lower", "RBR"], [".", "."], ["How", "WRB"], ["we", "PRP"], [",", ","], ["let", "VB"], ["'s", "POS"], ["see", "VB"], ["how", "WRB"], ["we", "PRP"], ["implement", "VBP"], ["that", "DT"], [".", "."], ["Let", "VB"], ["'s", "POS"], ["see", "VB"], ["a", "DT"], ["demo", "NN"], ["first", "RB"], [".", "."], ["Okay", "NNP"], [",", ","], ["so", "RB"], ["again", "RB"], ["start", "VB"], ["out", "RP"], ["in", "IN"], ["our", "PRP$"], ["normal", "JJ"], ["starting", "JJ"], ["position", "NN"], [",", ","], ["where", "WRB"], ["everybody", "NN"], ["'s", "VBZ"], ["in", "IN"], ["their", "PRP$"], ["own", "JJ"], ["tree", "NN"], [".", "."], ["And", "CC"], ["for", "IN"], ["when", "WRB"], ["there", "EX"], ["'s", "VBZ"], ["only", "RB"], ["two", "CD"], ["items", "NNS"], ["to", "TO"], ["link", "VB"], ["it", "PRP"], [",", ","], ["it", "PRP"], ["works", "VBZ"], [",", ","], ["works", "VBZ"], ["the", "DT"], ["same", "JJ"], ["way", "NN"], ["as", "IN"], ["before", "RB"], [".", "."], ["But", "CC"], ["now", "RB"], [",", ","], ["when", "WRB"], ["we", "PRP"], ["have", "VBP"], ["eight", "CD"], ["to", "TO"], ["merge", "VB"], ["with", "IN"], ["four", "CD"], ["and", "CC"], ["three", "CD"], [",", ","], ["we", "PRP"], ["put", "VBD"], ["the", "DT"], ["eight", "CD"], ["as", "IN"], ["the", "DT"], ["child", "NN"], [",", ","], ["no", "DT"], ["matter", "NN"], ["which", "WDT"], ["order", "NN"], ["their", "PRP$"], ["arguments", "NNS"], ["came", "VBD"], [",", ","], ["because", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["the", "DT"], ["smaller", "JJR"], ["tree", "NN"], [".", "."], ["So", "RB"], [",", ","], ["six", "CD"], ["and", "CC"], ["five", "CD"], ["does", "VBZ"], ["n't", "RB"], ["matter", "VB"], [",", ","], ["whichever", "VB"], ["one", "CD"], ["goes", "VBZ"], ["down", "RB"], ["does", "VBZ"], ["n't", "RB"], ["matter", "VB"], [".", "."], ["Nine", "NNP"], ["and", "CC"], ["four", "CD"], [",", ","], ["so", "RB"], ["now", "RB"], [",", ","], ["nine", "CD"], ["is", "VBZ"], ["the", "DT"], ["small", "JJ"], ["one", "CD"], ["four", "CD"], ["is", "VBZ"], ["the", "DT"], ["big", "JJ"], ["one", "NN"], [".", "."], ["So", "RB"], [",", ","], ["nine", "CD"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["the", "DT"], ["one", "NN"], ["that", "WDT"], ["goes", "VBZ"], ["down", "RB"], ["below", "RB"], [".", "."], ["Two", "CD"], ["and", "CC"], ["one", "CD"], [",", ","], ["five", "CD"], ["and", "CC"], ["zero", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], [",", ","], ["five", "CD"], ["and", "CC"], ["zero", "CD"], ["five", "CD"], ["is", "VBZ"], ["in", "IN"], ["the", "DT"], ["bigger", "JJR"], ["tree", "NN"], ["so", "IN"], ["zero", "NN"], ["goes", "VBZ"], ["below", "IN"], [".", "."], ["Seven", "NNP"], ["and", "CC"], ["two", "CD"], [",", ","], ["two", "CD"], ["is", "VBZ"], ["in", "IN"], ["the", "DT"], ["bigger", "JJR"], ["tree", "NN"], ["so", "RB"], ["seven", "CD"], ["goes", "VBZ"], ["below", "IN"], [".", "."], ["Six", "NNP"], ["and", "CC"], ["one", "CD"], ["they", "PRP"], ["'re", "VBP"], ["in", "IN"], ["equal", "JJ"], ["size", "NN"], ["trees", "NNS"], [".", "."], ["And", "CC"], ["seven", "CD"], ["and", "CC"], ["three", "CD"], [",", ","], ["three", "CD"], ["is", "VBZ"], ["in", "IN"], ["the", "DT"], ["smaller", "JJR"], ["tree", "NN"], ["so", "IN"], ["it", "PRP"], ["goes", "VBZ"], ["below", "IN"], [".", "."], ["So", "RB"], [",", ","], ["the", "DT"], ["weighted", "JJ"], ["algorithm", "NN"], ["always", "RB"], ["makes", "VBZ"], ["sure", "JJ"], ["that", "IN"], ["the", "DT"], ["smaller", "JJR"], ["tree", "NN"], ["goes", "VBZ"], ["below", "IN"], [".", "."], ["And", "CC"], ["again", "RB"], [",", ","], ["we", "PRP"], ["wind", "VBP"], ["up", "RP"], ["with", "IN"], ["a", "DT"], ["single", "JJ"], ["tree", "NN"], ["representing", "VBG"], ["all", "PDT"], ["the", "DT"], ["objects", "NNS"], [".", "."], ["But", "CC"], ["this", "DT"], ["time", "NN"], [",", ","], ["we", "PRP"], ["h", "VBP"], ["ave", "VB"], ["some", "DT"], ["guarantee", "NN"], ["that", "IN"], ["no", "DT"], ["item", "NN"], ["is", "VBZ"], ["too", "RB"], ["far", "RB"], ["from", "IN"], ["the", "DT"], ["root", "NN"], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["talk", "VB"], ["about", "IN"], ["that", "DT"], ["explicitly", "RB"], ["in", "IN"], ["a", "DT"], ["second", "JJ"], [".", "."], ["So", "RB"], [",", ","], ["here", "RB"], ["'s", "VBZ"], ["an", "DT"], ["example", "NN"], ["that", "WDT"], ["shows", "VBZ"], ["the", "DT"], ["effect", "NN"], ["of", "IN"], ["doing", "VBG"], ["the", "DT"], ["weighted", "JJ"], ["quick", "NN"], ["union", "NN"], ["where", "WRB"], ["we", "PRP"], ["always", "RB"], ["put", "VBD"], ["the", "DT"], ["smaller", "JJR"], ["tree", "JJ"], ["down", "RP"], ["below", "IN"], ["for", "IN"], ["the", "DT"], ["same", "JJ"], ["set", "NN"], ["of", "IN"], ["union", "NN"], ["commands", "NNS"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["with", "IN"], ["a", "DT"], ["hundred", "VBN"], ["sites", "NNS"], ["and", "CC"], ["88", "CD"], ["union", "NN"], ["operations", "NNS"], [".", "."], ["You", "PRP"], ["can", "MD"], ["see", "VB"], ["in", "IN"], ["the", "DT"], ["top", "JJ"], ["the", "DT"], ["big", "JJ"], ["tree", "NN"], ["has", "VBZ"], ["some", "DT"], ["trees", "NNS"], [",", ","], ["some", "DT"], ["nodes", "NNS"], [",", ","], ["a", "DT"], ["fair", "JJ"], ["distance", "NN"], ["from", "IN"], ["the", "DT"], ["root", "NN"], [".", "."], ["In", "IN"], ["the", "DT"], ["bottom", "NN"], [",", ","], ["for", "IN"], ["the", "DT"], ["weighted", "JJ"], ["algorithm", "NN"], ["all", "PDT"], ["the", "DT"], ["nodes", "NNS"], ["are", "VBP"], ["within", "IN"], ["distance", "NN"], ["four", "CD"], ["from", "IN"], ["the", "DT"], ["root", "NN"], [".", "."], ["The", "DT"], ["average", "JJ"], ["distance", "NN"], ["to", "TO"], ["the", "DT"], ["root", "NN"], ["is", "VBZ"], ["much", "RB"], [",", ","], ["much", "JJ"], ["lower", "JJR"], [".", "."], ["Let", "VB"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["the", "DT"], ["Java", "NNP"], ["implementation", "NN"], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["in", "IN"], ["more", "JJR"], ["detail", "NN"], ["at", "IN"], [",", ","], ["at", "IN"], ["that", "DT"], ["quantitative", "JJ"], ["information", "NN"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["used", "VBD"], ["the", "DT"], ["same", "JJ"], ["data", "NN"], ["structure", "NN"], ["except", "IN"], [",", ","], ["now", "RB"], ["we", "PRP"], ["need", "VBP"], ["an", "DT"], ["extra", "JJ"], ["array", "NN"], [",", ","], ["that", "IN"], ["for", "IN"], ["each", "DT"], ["item", "NN"], [",", ","], ["gives", "VBZ"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["objects", "NNS"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], ["routed", "VBD"], ["at", "IN"], ["that", "DT"], ["item", "NN"], [".", "."], ["That", "WDT"], ["will", "MD"], ["maintain", "VB"], ["in", "IN"], ["the", "DT"], ["union", "NN"], ["operation", "NN"], [".", "."], ["Find", "NNP"], ["implementation", "NN"], ["is", "VBZ"], ["identical", "JJ"], ["to", "TO"], ["for", "IN"], ["quick", "NNP"], ["union", "NN"], [",", ","], ["you", "PRP"], ["'re", "VBP"], ["just", "RB"], ["checking", "VBG"], ["whether", "IN"], ["the", "DT"], ["roots", "NNS"], ["are", "VBP"], ["equal", "JJ"], [".", "."], ["For", "IN"], ["the", "DT"], ["union", "NN"], ["implementation", "NN"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["modify", "VB"], ["the", "DT"], ["code", "NN"], ["to", "TO"], ["check", "VB"], ["the", "DT"], ["sizes", "NN"], [".", "."], ["And", "CC"], ["link", "VBP"], ["the", "DT"], ["root", "NN"], ["of", "IN"], ["the", "DT"], ["smaller", "JJR"], ["tree", "NN"], ["to", "TO"], ["the", "DT"], ["root", "NN"], ["of", "IN"], ["the", "DT"], ["larger", "JJR"], ["tree", "NN"], ["in", "IN"], ["each", "DT"], ["case", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["after", "IN"], ["changing", "VBG"], ["the", "DT"], ["id", "JJ"], ["link", "NN"], [",", ","], ["we", "PRP"], ["also", "RB"], ["change", "VBP"], ["the", "DT"], ["size", "NN"], ["array", "NN"], [".", "."], ["If", "IN"], ["we", "PRP"], ["make", "VBP"], ["id", "JJ"], [",", ","], ["i", "VB"], ["a", "DT"], ["child", "NN"], ["of", "IN"], ["j", "NN"], [",", ","], ["then", "RB"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["increment", "VB"], ["the", "DT"], ["size", "NN"], ["of", "IN"], ["j", "NN"], ["'s", "POS"], ["tree", "NN"], ["by", "IN"], ["the", "DT"], ["size", "NN"], ["of", "IN"], ["i", "NN"], ["'s", "POS"], ["tree", "NN"], [".", "."], ["Or", "CC"], ["if", "IN"], ["we", "PRP"], ["do", "VBP"], ["the", "DT"], ["other", "JJ"], ["way", "NN"], ["around", "IN"], [",", ","], ["then", "RB"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["increment", "VB"], ["the", "DT"], ["size", "NN"], ["of", "IN"], ["i", "NN"], ["'s", "POS"], ["tree", "NN"], ["by", "IN"], ["the", "DT"], ["size", "NN"], ["of", "IN"], ["j", "NN"], ["'s", "POS"], ["tree", "NN"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["full", "JJ"], ["code", "NN"], ["in", "IN"], ["white", "JJ"], ["for", "IN"], ["implementing", "VBG"], ["quick", "JJ"], ["union", "NN"], [".", "."], ["So", "RB"], [",", ","], ["not", "RB"], ["very", "RB"], ["much", "JJ"], ["code", "NN"], ["but", "CC"], ["much", "RB"], [",", ","], ["much", "JJ"], ["better", "JJR"], ["performance", "NN"], [".", "."], ["In", "IN"], ["fact", "NN"], ["we", "PRP"], ["can", "MD"], ["analyze", "VB"], ["the", "DT"], ["running", "JJ"], ["time", "NN"], ["mathematically", "RB"], ["and", "CC"], ["show", "VB"], ["that", "DT"], ["defined", "JJ"], ["operation", "NN"], [",", ","], ["it", "PRP"], ["takes", "VBZ"], ["time", "NN"], ["proportional", "JJ"], ["to", "TO"], ["how", "WRB"], ["far", "RB"], ["down", "RP"], ["the", "DT"], ["trees", "NNS"], ["are", "VBP"], ["in", "IN"], ["the", "DT"], ["node", "NN"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], [",", ","], ["the", "DT"], ["nodes", "NNS"], ["are", "VBP"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], [",", ","], ["but", "CC"], ["we", "PRP"], ["can", "MD"], ["show", "VB"], ["that", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["guaranteed", "VBN"], ["that", "IN"], ["the", "DT"], ["depth", "NN"], ["of", "IN"], ["any", "DT"], ["node", "NN"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], ["is", "VBZ"], ["at", "IN"], ["most", "JJS"], ["the", "DT"], ["logarithm", "NN"], ["to", "TO"], ["the", "DT"], ["base", "NN"], ["two", "CD"], ["of", "IN"], ["N.", "NNP"], ["We", "PRP"], ["use", "VBP"], ["the", "DT"], ["notation", "NN"], ["Lg", "NNP"], ["always", "RB"], ["for", "IN"], ["logarithm", "NN"], ["to", "TO"], ["the", "DT"], ["base", "NN"], ["two", "CD"], [".", "."], ["And", "CC"], [",", ","], ["and", "CC"], [",", ","], ["so", "RB"], ["for", "IN"], [",", ","], ["if", "IN"], ["N", "NNP"], ["is", "VBZ"], ["a", "DT"], ["thousand", "NN"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["ten", "VBN"], [",", ","], ["if", "IN"], ["N", "NNP"], ["is", "VBZ"], ["a", "DT"], ["million", "CD"], ["that", "WDT"], ["'s", "POS"], ["twenty", "NN"], [",", ","], ["if", "IN"], ["N", "NNP"], ["is", "VBZ"], ["a", "DT"], ["billion", "CD"], ["that", "WDT"], ["'s", "POS"], ["30", "CD"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["very", "RB"], ["small", "JJ"], ["number", "NN"], ["compared", "VBN"], ["to", "TO"], ["N.", "NNP"], ["So", "NNP"], [",", ","], ["let", "NN"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["the", "DT"], ["proof", "NN"], ["of", "IN"], ["that", "DT"], [".", "."], ["We", "PRP"], ["do", "VBP"], ["some", "DT"], ["mathematical", "JJ"], ["proofs", "NN"], ["in", "IN"], [",", ","], ["in", "IN"], ["this", "DT"], ["course", "NN"], ["when", "WRB"], ["they", "PRP"], ["'re", "VBP"], ["critical", "JJ"], ["such", "JJ"], ["as", "IN"], ["this", "DT"], ["one", "NN"], [".", "."], ["And", "CC"], ["why", "WRB"], ["is", "VBZ"], ["it", "PRP"], ["true", "JJ"], ["that", "IN"], ["the", "DT"], ["depth", "NN"], ["of", "IN"], ["any", "DT"], ["node", "JJ"], ["x", "NN"], ["is", "VBZ"], [",", ","], ["at", "IN"], ["most", "JJS"], [",", ","], ["log", "JJ"], ["base", "NN"], ["two", "CD"], ["of", "IN"], ["N", "NNP"], ["?", "."], ["Well", "NNP"], [",", ","], ["the", "DT"], ["key", "NN"], ["to", "TO"], ["understanding", "VBG"], ["that", "DT"], ["is", "VBZ"], ["to", "TO"], [",", ","], ["take", "VB"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["exactly", "RB"], ["when", "WRB"], ["does", "VBZ"], ["the", "DT"], ["depth", "NN"], ["of", "IN"], ["any", "DT"], ["node", "JJ"], ["increase", "NN"], ["?", "."], ["When", "WRB"], ["does", "VBZ"], ["it", "PRP"], ["go", "VB"], ["down", "RP"], ["further", "RB"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], ["?", "."], ["Well", "UH"], [".", "."], ["The", "DT"], ["x", "NN"], ["'s", "POS"], ["depth", "NN"], ["will", "MD"], ["increase", "VB"], ["by", "IN"], ["one", "CD"], [",", ","], ["when", "WRB"], ["its", "PRP$"], ["tree", "NN"], [",", ","], ["T1", "NNP"], ["in", "IN"], ["this", "DT"], ["diagram", "NN"], [",", ","], ["is", "VBZ"], ["merged", "VBN"], ["into", "IN"], ["some", "DT"], ["other", "JJ"], ["tree", "NN"], [",", ","], ["T2", "NNP"], ["in", "IN"], ["this", "DT"], ["diagram", "NN"], [".", "."], ["Well", "UH"], [",", ","], ["at", "IN"], ["that", "DT"], ["point", "NN"], ["we", "PRP"], ["said", "VBD"], ["we", "PRP"], ["only", "RB"], ["do", "VBP"], ["that", "IN"], ["if", "IN"], ["the", "DT"], ["size", "NN"], ["of", "IN"], ["T2", "NNP"], ["was", "VBD"], ["bigger", "JJR"], ["than", "IN"], ["the", "DT"], ["or", "CC"], ["equal", "JJ"], ["to", "TO"], ["size", "NN"], ["of", "IN"], ["T1", "NNP"], [".", "."], ["So", "RB"], [",", ","], ["when", "WRB"], ["the", "DT"], ["depth", "NN"], ["of", "IN"], ["x", "NN"], ["increases", "NNS"], [",", ","], ["the", "DT"], ["size", "NN"], ["of", "IN"], ["its", "PRP$"], ["tree", "NN"], ["at", "IN"], ["least", "JJS"], ["doubles", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["key", "NN"], ["because", "IN"], ["that", "DT"], ["means", "VBZ"], ["that", "IN"], ["the", "DT"], ["size", "NN"], ["of", "IN"], ["the", "DT"], ["tree", "NN"], ["containing", "VBG"], ["x", "NNS"], ["can", "MD"], ["double", "VB"], ["at", "IN"], ["most", "JJS"], ["log", "NN"], ["N", "NNP"], ["times", "NNS"], ["because", "RB"], ["if", "IN"], ["you", "PRP"], ["start", "VBP"], ["with", "IN"], ["one", "CD"], ["and", "CC"], ["double", "JJ"], ["log", "NN"], ["N", "NNP"], ["times", "NNS"], [",", ","], ["you", "PRP"], ["get", "VBP"], ["N", "JJ"], ["and", "CC"], ["there", "EX"], ["'s", "VBZ"], ["only", "RB"], ["N", "NNP"], ["nodes", "NNS"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["sketch", "NN"], ["of", "IN"], ["a", "DT"], ["proof", "NN"], ["that", "IN"], ["the", "DT"], ["depth", "NN"], ["of", "IN"], ["any", "DT"], ["node", "JJ"], ["x", "NN"], ["is", "VBZ"], ["at", "IN"], ["most", "JJS"], ["log", "JJ"], ["base", "NN"], ["two", "CD"], ["of", "IN"], ["N.", "NNP"], ["And", "CC"], ["that", "DT"], ["has", "VBZ"], ["profound", "VBN"], ["impact", "NN"], ["on", "IN"], ["the", "DT"], ["performance", "NN"], ["of", "IN"], ["this", "DT"], ["algorithm", "NN"], [".", "."], ["Now", "RB"], ["instead", "RB"], ["of", "IN"], ["the", "DT"], ["initialization", "NN"], ["always", "RB"], ["takes", "VBZ"], ["time", "NN"], ["proportional", "JJ"], ["to", "TO"], ["N.", "NNP"], ["But", "CC"], ["now", "RB"], [",", ","], ["both", "DT"], ["the", "DT"], ["union", "NN"], ["and", "CC"], ["the", "DT"], ["connected", "VBN"], ["or", "CC"], ["find", "VB"], ["operation", "NN"], ["takes", "VBZ"], ["time", "NN"], ["proportional", "JJ"], ["to", "TO"], ["log", "VB"], ["base", "JJ"], ["two", "CD"], ["of", "IN"], ["N.", "NNP"], ["And", "CC"], ["that", "DT"], ["is", "VBZ"], ["an", "DT"], ["algorithm", "NN"], ["that", "WDT"], ["scales", "VBZ"], [".", "."], ["If", "IN"], ["N", "NNP"], ["grows", "VBZ"], ["from", "IN"], ["a", "DT"], ["million", "CD"], ["to", "TO"], ["a", "DT"], ["billion", "CD"], [",", ","], ["that", "WDT"], ["cost", "NN"], ["goes", "VBZ"], ["from", "IN"], ["twenty", "NN"], ["to", "TO"], ["30", "CD"], [",", ","], ["which", "WDT"], ["is", "VBZ"], ["quite", "RB"], ["not", "RB"], ["acceptable", "JJ"], [".", "."], ["Now", "RB"], [",", ","], ["this", "DT"], ["was", "VBD"], ["very", "RB"], ["easy", "JJ"], ["to", "TO"], ["implement", "VB"], ["and", "CC"], [",", ","], ["and", "CC"], ["we", "PRP"], ["could", "MD"], ["stop", "VB"], ["but", "CC"], ["usually", "RB"], [",", ","], ["what", "WP"], ["happens", "VBZ"], ["in", "IN"], ["the", "DT"], ["design", "NN"], ["of", "IN"], ["algorithms", "NN"], ["is", "VBZ"], ["now", "RB"], ["that", "IN"], ["we", "PRP"], ["understand", "VBP"], ["what", "WP"], ["it", "PRP"], ["is", "VBZ"], ["that", "IN"], ["gains", "NNS"], ["performance", "NN"], [",", ","], ["we", "PRP"], ["take", "VBP"], ["a", "DT"], ["look", "NN"], ["and", "CC"], ["see", "NN"], [",", ","], ["well", "RB"], [",", ","], ["could", "MD"], ["we", "PRP"], ["improve", "VB"], ["it", "PRP"], ["even", "RB"], ["further", "RBR"], [".", "."], ["And", "CC"], ["in", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["very", "RB"], ["easy", "JJ"], ["to", "TO"], ["improve", "VB"], ["it", "PRP"], ["much", "RB"], [",", ","], ["much", "RB"], ["more", "RBR"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["idea", "NN"], ["of", "IN"], ["path", "JJ"], ["compression", "NN"], [".", "."], ["And", "CC"], ["this", "DT"], ["idea", "NN"], ["is", "VBZ"], ["that", "IN"], [",", ","], ["well", "RB"], [",", ","], ["when", "WRB"], ["we", "PRP"], ["'re", "VBP"], ["trying", "VBG"], ["to", "TO"], ["find", "VB"], ["the", "DT"], ["root", "NN"], ["of", "IN"], ["the", "DT"], ["tree", "NN"], ["containing", "VBG"], ["a", "DT"], [",", ","], ["a", "DT"], ["given", "VBN"], ["node", "NN"], [".", "."], ["We", "PRP"], ["'re", "VBP"], ["touching", "VBG"], ["all", "PDT"], ["the", "DT"], ["nodes", "NNS"], ["on", "IN"], ["the", "DT"], ["path", "NN"], ["from", "IN"], ["that", "DT"], ["node", "NN"], ["to", "TO"], ["the", "DT"], ["root", "NN"], [".", "."], ["While", "IN"], ["we", "PRP"], ["'re", "VBP"], ["doi", "JJ"], ["ng", "NNS"], ["that", "IN"], ["we", "PRP"], ["might", "MD"], ["as", "RB"], ["well", "RB"], ["make", "VB"], ["each", "DT"], ["one", "CD"], ["of", "IN"], ["those", "DT"], ["just", "RB"], ["point", "NN"], ["to", "TO"], ["the", "DT"], ["root", "NN"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["no", "DT"], ["reason", "NN"], ["not", "RB"], ["to", "TO"], [".", "."], ["So", "RB"], ["when", "WRB"], ["we", "PRP"], ["'re", "VBP"], ["looking", "VBG"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["trying", "VBG"], ["to", "TO"], ["find", "VB"], ["the", "DT"], ["root", "NN"], ["of", "IN"], [",", ","], ["of", "IN"], ["P.", "NNP"], ["After", "IN"], ["we", "PRP"], ["find", "VBP"], ["it", "PRP"], [",", ","], ["we", "PRP"], ["might", "MD"], ["as", "RB"], ["well", "RB"], ["just", "RB"], ["go", "VB"], ["back", "RB"], ["and", "CC"], ["make", "VB"], ["every", "DT"], ["node", "NN"], ["on", "IN"], ["that", "DT"], ["path", "NN"], ["just", "RB"], ["point", "NN"], ["to", "TO"], ["the", "DT"], ["root", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["a", "DT"], ["constant", "JJ"], ["extra", "JJ"], ["cost", "NN"], [".", "."], ["We", "PRP"], ["went", "VBD"], ["up", "RP"], ["the", "DT"], ["path", "NN"], ["once", "RB"], ["to", "TO"], ["find", "VB"], ["the", "DT"], ["root", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["go", "VB"], ["up", "RB"], ["again", "RB"], ["to", "TO"], ["just", "RB"], ["flatten", "VB"], ["the", "DT"], ["tree", "NN"], ["out", "IN"], [".", "."], ["And", "CC"], ["the", "DT"], ["reason", "NN"], ["would", "MD"], ["be", "VB"], [",", ","], ["no", "DT"], ["reason", "NN"], ["not", "RB"], ["to", "TO"], ["do", "VB"], ["that", "DT"], [".", "."], ["We", "PRP"], ["had", "VBD"], ["one", "CD"], ["line", "NN"], ["of", "IN"], ["code", "NN"], ["to", "TO"], ["flatten", "VB"], ["the", "DT"], ["tree", "NN"], [",", ","], ["amazingly", "RB"], [".", "."], ["Actually", "RB"], ["to", "TO"], ["make", "VB"], ["a", "DT"], ["one", "CD"], ["liner", "NN"], ["code", "NN"], [",", ","], ["we", "PRP"], ["use", "VBP"], ["a", "DT"], [",", ","], ["a", "DT"], ["simple", "JJ"], ["variant", "NN"], ["where", "WRB"], ["we", "PRP"], ["make", "VBP"], ["every", "DT"], ["other", "JJ"], ["node", "NN"], ["in", "IN"], ["the", "DT"], ["path", "NN"], ["point", "NN"], ["to", "TO"], ["its", "PRP$"], ["grandparent", "NN"], ["on", "IN"], ["the", "DT"], ["way", "NN"], ["up", "IN"], ["the", "DT"], ["tree", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["not", "RB"], ["quite", "RB"], ["as", "RB"], ["good", "JJ"], ["as", "IN"], ["totally", "RB"], ["flattening", "VBG"], ["actually", "RB"], ["in", "IN"], ["practice", "NN"], ["that", "IN"], ["it", "PRP"], ["actually", "RB"], ["is", "VBZ"], ["just", "RB"], ["about", "RB"], ["as", "RB"], ["good", "JJ"], [".", "."], ["So", "RB"], [",", ","], ["with", "IN"], ["one", "CD"], ["line", "NN"], ["of", "IN"], ["code", "NN"], [",", ","], ["we", "PRP"], ["can", "MD"], ["keep", "VB"], ["the", "DT"], ["trees", "NNS"], ["almost", "RB"], ["completely", "RB"], ["flat", "JJ"], [".", "."], ["Now", "RB"], [",", ","], ["this", "DT"], ["algorithm", "JJ"], ["people", "NNS"], ["discovered", "VBD"], ["rather", "RB"], ["early", "JJ"], ["on", "IN"], ["after", "IN"], ["figuring", "VBG"], ["out", "RP"], ["the", "DT"], ["weighting", "NN"], ["and", "CC"], ["it", "PRP"], ["turns", "VBZ"], ["out", "RP"], ["to", "TO"], ["be", "VB"], ["fascinating", "VBG"], ["to", "TO"], ["analyze", "VB"], ["quite", "RB"], ["beyond", "IN"], ["our", "PRP$"], ["scope", "NN"], [".", "."], ["But", "CC"], ["we", "PRP"], ["mentioned", "VBD"], ["this", "DT"], ["example", "NN"], ["to", "TO"], ["illustrate", "VB"], ["how", "WRB"], ["even", "RB"], ["a", "DT"], ["simple", "JJ"], ["algorithmah", "NN"], [",", ","], ["can", "MD"], ["have", "VB"], ["interesting", "JJ"], ["and", "CC"], ["complex", "JJ"], ["analysis", "NN"], [".", "."], ["And", "CC"], ["what", "WP"], ["was", "VBD"], ["proved", "VBN"], ["by", "IN"], ["Hopcroft", "NNP"], ["Ulman", "NNP"], ["and", "CC"], ["Tarjan", "NNP"], ["was", "VBD"], ["that", "IN"], ["if", "IN"], ["you", "PRP"], ["have", "VBP"], ["N", "VBN"], ["objects", "NNS"], [",", ","], ["any", "DT"], ["sequence", "NN"], ["of", "IN"], ["M", "NNP"], ["union", "NN"], ["and", "CC"], ["find", "VB"], ["operations", "NNS"], ["will", "MD"], ["touch", "VB"], ["the", "DT"], ["array", "NN"], ["at", "IN"], ["most", "JJS"], ["a", "DT"], ["c", "NN"], ["(", "("], ["N", "NNP"], ["+", "NNP"], ["M", "NNP"], ["lg", "VBZ"], ["star", "NN"], ["N", "NNP"], [")", ")"], ["times", "NNS"], [".", "."], ["And", "CC"], ["now", "RB"], [",", ","], ["lg", "JJ"], ["N", "NNP"], ["is", "VBZ"], ["kind", "NN"], ["of", "IN"], ["a", "DT"], ["funny", "JJ"], ["function", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["times", "NNS"], ["you", "PRP"], ["have", "VBP"], ["to", "TO"], ["take", "VB"], ["the", "DT"], ["log", "NN"], ["of", "IN"], ["N", "NNP"], ["to", "TO"], ["get", "VB"], ["one", "CD"], [".", "."], ["And", "CC"], ["the", "DT"], ["way", "NN"], ["to", "TO"], ["think", "VB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["called", "VBN"], ["the", "DT"], ["iterated", "JJ"], ["log", "NN"], ["function", "NN"], [".", "."], ["And", "CC"], ["in", "IN"], ["the", "DT"], ["real", "JJ"], ["world", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["best", "RBS"], ["to", "TO"], ["think", "VB"], ["of", "IN"], ["that", "DT"], ["as", "IN"], ["a", "DT"], ["number", "NN"], ["less", "JJR"], ["than", "IN"], ["five", "CD"], ["because", "IN"], ["lg", "NN"], ["two^", "NN"], ["65536", "CD"], ["is", "VBZ"], ["five", "CD"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["means", "VBZ"], ["that", "IN"], ["the", "DT"], ["running", "JJ"], ["time", "NN"], ["of", "IN"], ["weighted", "JJ"], ["quick", "NNS"], ["union", "NN"], ["with", "IN"], ["path", "NN"], ["compression", "NN"], ["is", "VBZ"], ["going", "VBG"], ["be", "VB"], ["linear", "VBN"], ["in", "IN"], ["the", "DT"], ["real", "JJ"], ["world", "NN"], ["and", "CC"], ["actually", "RB"], ["could", "MD"], ["be", "VB"], ["improved", "VBN"], ["to", "TO"], ["even", "VB"], ["a", "DT"], ["more", "RBR"], ["interesting", "JJ"], ["function", "NN"], ["called", "VBD"], ["the", "DT"], ["Ackermann", "NNP"], ["function", "NN"], [",", ","], ["which", "WDT"], ["is", "VBZ"], ["even", "RB"], ["more", "RBR"], ["slowly", "RB"], ["growing", "VBG"], ["than", "IN"], ["lg", "JJ"], ["<", "NN"], ["i", "NN"], [">", "NNP"], [".", "."], ["And", "CC"], ["another", "DT"], ["point", "NN"], ["about", "IN"], ["this", "DT"], ["is", "VBZ"], ["it", "PRP"], ["<", "JJ"], ["/i", "JJ"], [">", "NN"], ["seems", "VBZ"], ["that", "IN"], ["this", "DT"], ["is", "VBZ"], ["<", "JJ"], ["/i", "NNP"], [">", "NNP"], ["so", "RB"], ["close", "RB"], ["to", "TO"], ["being", "VBG"], ["linear", "JJ"], ["that", "WDT"], ["is", "VBZ"], ["t", "JJ"], ["ime", "JJ"], ["proportional", "NN"], ["to", "TO"], ["N", "NNP"], ["instead", "RB"], ["of", "IN"], ["time", "NN"], ["proportional", "JJ"], ["to", "TO"], ["N", "NNP"], ["times", "VBZ"], ["the", "DT"], ["slowly", "RB"], ["growing", "VBG"], ["function", "NN"], ["in", "IN"], ["N.", "NNP"], ["Is", "NNP"], ["there", "RB"], ["a", "DT"], ["simple", "JJ"], ["algorithm", "NN"], ["that", "WDT"], ["is", "VBZ"], ["linear", "JJ"], ["?", "."], ["And", "CC"], ["people", "NNS"], [",", ","], ["looked", "VBD"], ["for", "IN"], ["a", "DT"], ["long", "JJ"], ["time", "NN"], ["for", "IN"], ["that", "DT"], [",", ","], ["and", "CC"], ["actually", "RB"], ["it", "PRP"], ["works", "VBZ"], ["out", "RP"], ["to", "TO"], ["be", "VB"], ["the", "DT"], ["case", "NN"], ["that", "IN"], ["we", "PRP"], ["can", "MD"], ["prove", "VB"], ["that", "IN"], ["there", "EX"], ["is", "VBZ"], ["no", "DT"], ["such", "JJ"], ["algorithm", "NN"], [".", "."], ["So", "RB"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["theory", "NN"], ["that", "WDT"], ["goes", "VBZ"], ["behind", "IN"], ["the", "DT"], ["algorithms", "NNS"], ["that", "IN"], ["we", "PRP"], ["use", "VBP"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["important", "JJ"], ["for", "IN"], ["us", "PRP"], ["to", "TO"], ["know", "VB"], ["that", "DT"], ["theory", "NN"], ["and", "CC"], ["that", "DT"], ["will", "MD"], ["help", "VB"], ["us", "PRP"], ["decide", "VB"], ["how", "WRB"], ["to", "TO"], ["choose", "VB"], ["which", "WDT"], ["algorithms", "NN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["use", "VB"], ["in", "IN"], ["practice", "NN"], [",", ","], ["and", "CC"], ["where", "WRB"], ["to", "TO"], ["concentrate", "VB"], ["our", "PRP$"], ["effort", "NN"], ["in", "IN"], ["trying", "VBG"], ["to", "TO"], ["find", "VB"], ["better", "JJR"], ["algorithms", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["amazing", "JJ"], ["fact", "NN"], ["that", "WDT"], ["was", "VBD"], ["eventually", "RB"], ["proved", "VBN"], ["by", "IN"], ["Friedman", "NNP"], ["and", "CC"], ["Sachs", "NNP"], [",", ","], ["that", "IN"], ["there", "EX"], ["is", "VBZ"], ["no", "DT"], ["linear", "JJ"], ["time", "NN"], ["algorithm", "NN"], ["for", "IN"], ["the", "DT"], ["union", "NN"], ["find", "NN"], ["problem", "NN"], [".", "."], ["But", "CC"], ["weighted", "VBD"], ["quick", "NNP"], ["union", "NN"], ["with", "IN"], ["path", "JJ"], ["compression", "NN"], ["in", "IN"], ["practice", "NN"], ["is", "VBZ"], [",", ","], ["is", "VBZ"], ["close", "JJ"], ["enough", "RB"], ["that", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["enable", "VB"], ["the", "DT"], ["solution", "NN"], ["of", "IN"], ["huge", "JJ"], ["problems", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["our", "PRP$"], ["summary", "JJ"], ["for", "IN"], ["algorithms", "NN"], ["for", "IN"], ["solving", "VBG"], ["the", "DT"], ["dynamic", "JJ"], ["connectivity", "NN"], ["problem", "NN"], [".", "."], ["With", "IN"], ["using", "VBG"], ["weighted", "VBN"], ["quick", "JJ"], ["union", "NN"], ["and", "CC"], ["with", "IN"], ["path", "JJ"], ["compression", "NN"], [",", ","], ["we", "PRP"], ["can", "MD"], ["solve", "VB"], ["problems", "NNS"], ["that", "WDT"], ["could", "MD"], ["not", "RB"], ["otherwise", "RB"], ["be", "VB"], ["addressed", "VBN"], [".", "."], ["For", "IN"], ["example", "NN"], [",", ","], ["if", "IN"], ["you", "PRP"], ["have", "VBP"], ["a", "DT"], ["billion", "CD"], ["operations", "NNS"], ["and", "CC"], ["a", "DT"], ["billion", "CD"], ["objects", "NNS"], ["I", "PRP"], ["said", "VBD"], ["before", "IN"], ["it", "PRP"], ["might", "MD"], ["take", "VB"], ["thirty", "JJ"], ["years", "NNS"], [".", "."], ["We", "PRP"], ["can", "MD"], ["do", "VB"], ["it", "PRP"], ["in", "IN"], ["six", "CD"], ["seconds", "NNS"], [".", "."], ["Now", "RB"], [",", ","], ["and", "CC"], ["what", "WP"], ["'s", "VBZ"], ["most", "RBS"], ["important", "JJ"], ["to", "TO"], ["recognize", "VB"], ["about", "IN"], ["this", "DT"], ["is", "VBZ"], ["that", "IN"], ["its", "PRP$"], ["the", "DT"], ["algorithm", "NN"], ["design", "NN"], ["that", "WDT"], ["enables", "VBZ"], ["the", "DT"], ["solution", "NN"], ["to", "TO"], ["the", "DT"], ["problem", "NN"], [".", "."], ["A", "DT"], ["faster", "JJ"], ["computer", "NN"], ["would", "MD"], ["n't", "RB"], ["help", "VB"], ["much", "RB"], [".", "."], ["You", "PRP"], ["could", "MD"], ["spend", "VB"], ["millions", "NNS"], ["on", "IN"], ["a", "DT"], ["super", "JJ"], ["computer", "NN"], [",", ","], ["and", "CC"], ["maybe", "RB"], ["you", "PRP"], ["could", "MD"], ["get", "VB"], ["it", "PRP"], ["done", "VBN"], ["in", "IN"], ["six", "CD"], ["years", "NNS"], ["instead", "RB"], ["of", "IN"], ["30", "CD"], [",", ","], ["or", "CC"], ["in", "IN"], ["two", "CD"], ["months", "NNS"], ["but", "CC"], ["with", "IN"], ["a", "DT"], ["fast", "JJ"], ["logarithm", "NN"], [",", ","], ["you", "PRP"], ["can", "MD"], ["do", "VB"], ["it", "PRP"], ["in", "IN"], ["seconds", "NNS"], [",", ","], ["in", "IN"], ["seconds", "NNS"], ["on", "IN"], ["your", "PRP$"], ["own", "JJ"], ["PC", "NN"], [".", "."]], "title": "quick union improvements", "text": "Okay. So, we've looked at the quick union and quick find algorithms. Both of which are easy to implement. But simply can't support a huge dynamic connectivity problems. So, how are we going to do better? That's what we'll look at next. A very effective improvement, it's called weighting. And it might have occurred to you while we are looking at these algorithms. The idea is to when implementing the quick union algorithm take steps to avoid having tall trees. If you've got a large tree and a small tree to combine together what you want to try to do is avoid putting the large tree lower, that's going to lead to long tall trees. And there's a relatively easy way to do that. What we'll do is we'll keep track of the number of objects in each tree and then, we'll maintain balance by always making sure that we link the root of the smaller tree to the root of the larger tree. So, we, we avoid this first situation here where we put the larger tree lower. In the weighted algorithm, we always put the smaller tree lower. How we, let's see how we implement that. Let's see a demo first. Okay, so again start out in our normal starting position, where everybody's in their own tree. And for when there's only two items to link it, it works, works the same way as before. But now, when we have eight to merge with four and three, we put the eight as the child, no matter which order their arguments came, because it's the smaller tree. So, six and five doesn't matter, whichever one goes down doesn't matter. Nine and four, so now, nine is the small one four is the big one. So, nine is going to be the one that goes down below. Two and one, five and zero. So now, five and zero five is in the bigger tree so zero goes below. Seven and two, two is in the bigger tree so seven goes below. Six and one they're in equal size trees. And seven and three, three is in the smaller tree so it goes below. So, the weighted algorithm always makes sure that the smaller tree goes below. And again, we wind up with a single tree representing all the objects. But this time, we h ave some guarantee that no item is too far from the root and we'll talk about that explicitly in a second. So, here's an example that shows the effect of doing the weighted quick union where we always put the smaller tree down below for the same set of union commands. This is with a hundred sites and 88 union operations. You can see in the top the big tree has some trees, some nodes, a fair distance from the root. In the bottom, for the weighted algorithm all the nodes are within distance four from the root. The average distance to the root is much, much lower. Let's look at the Java implementation and then we'll look in more detail at, at that quantitative information. So, we used the same data structure except, now we need an extra array, that for each item, gives the number of objects in the tree routed at that item. That will maintain in the union operation. Find implementation is identical to for quick union, you're just checking whether the roots are equal. For the union implementation, we're going to modify the code to check the sizes. And link the root of the smaller tree to the root of the larger tree in each case. And then after changing the id link, we also change the size array. If we make id, i a child of j, then we have to increment the size of j's tree by the size of i's tree. Or if we do the other way around, then we have to increment the size of i's tree by the size of j's tree. So, that's the full code in white for implementing quick union. So, not very much code but much, much better performance. In fact we can analyze the running time mathematically and show that defined operation, it takes time proportional to how far down the trees are in the node in the tree, the nodes are in the tree, but we can show that it's guaranteed that the depth of any node in the tree is at most the logarithm to the base two of N. We use the notation Lg always for logarithm to the base two. And, and, so for, if N is a thousand, that's going to be ten, if N is a million that's twenty, if N is a billion that's 30. It's a very small number compared to N. So, let's look at the proof of that. We do some mathematical proofs in, in this course when they're critical such as this one. And why is it true that the depth of any node x is, at most, log base two of N? Well, the key to understanding that is to, take a look at exactly when does the depth of any node increase? When does it go down further in the tree? Well. The x's depth will increase by one, when its tree, T1 in this diagram, is merged into some other tree, T2 in this diagram. Well, at that point we said we only do that if the size of T2 was bigger than the or equal to size of T1. So, when the depth of x increases, the size of its tree at least doubles. So, that's the key because that means that the size of the tree containing x can double at most log N times because if you start with one and double log N times, you get N and there's only N nodes in the tree. So, that's a sketch of a proof that the depth of any node x is at most log base two of N. And that has profound impact on the performance of this algorithm. Now instead of the initialization always takes time proportional to N. But now, both the union and the connected or find operation takes time proportional to log base two of N. And that is an algorithm that scales. If N grows from a million to a billion, that cost goes from twenty to 30, which is quite not acceptable. Now, this was very easy to implement and, and we could stop but usually, what happens in the design of algorithms is now that we understand what it is that gains performance, we take a look and see, well, could we improve it even further. And in this case, it's very easy to improve it much, much more. And that's the idea of path compression. And this idea is that, well, when we're trying to find the root of the tree containing a, a given node. We're touching all the nodes on the path from that node to the root. While we're doi ng that we might as well make each one of those just point to the root. There's no reason not to. So when we're looking, we're trying to find the root of, of P. After we find it, we might as well just go back and make every node on that path just point to the root. That's going to be a constant extra cost. We went up the path once to find the root. Now, we'll go up again to just flatten the tree out. And the reason would be, no reason not to do that. We had one line of code to flatten the tree, amazingly. Actually to make a one liner code, we use a, a simple variant where we make every other node in the path point to its grandparent on the way up the tree. Now, that's not quite as good as totally flattening actually in practice that it actually is just about as good. So, with one line of code, we can keep the trees almost completely flat. Now, this algorithm people discovered rather early on after figuring out the weighting and it turns out to be fascinating to analyze quite beyond our scope. But we mentioned this example to illustrate how even a simple algorithmah, can have interesting and complex analysis. And what was proved by Hopcroft Ulman and Tarjan was that if you have N objects, any sequence of M union and find operations will touch the array at most a c (N + M lg star N) times. And now, lg N is kind of a funny function. It's the number of times you have to take the log of N to get one. And the way to think, it's called the iterated log function. And in the real world, it's best to think of that as a number less than five because lg two^ 65536 is five. So, that means that the running time of weighted quick union with path compression is going be linear in the real world and actually could be improved to even a more interesting function called the Ackermann function, which is even more slowly growing than lg<i>. And another point about this is it< /i> seems that this is</i> so close to being linear that is t ime proportional to N instead of time proportional to N times the slowly growing function in N. Is there a simple algorithm that is linear? And people, looked for a long time for that, and actually it works out to be the case that we can prove that there is no such algorithm. So, there's a lot of theory that goes behind the algorithms that we use. And it's important for us to know that theory and that will help us decide how to choose which algorithms we're going to use in practice, and where to concentrate our effort in trying to find better algorithms. It's amazing fact that was eventually proved by Friedman and Sachs, that there is no linear time algorithm for the union find problem. But weighted quick union with path compression in practice is, is close enough that it's going to enable the solution of huge problems. So, that's our summary for algorithms for solving the dynamic connectivity problem. With using weighted quick union and with path compression, we can solve problems that could not otherwise be addressed. For example, if you have a billion operations and a billion objects I said before it might take thirty years. We can do it in six seconds. Now, and what's most important to recognize about this is that its the algorithm design that enables the solution to the problem. A faster computer wouldn't help much. You could spend millions on a super computer, and maybe you could get it done in six years instead of 30, or in two months but with a fast logarithm, you can do it in seconds, in seconds on your own PC. ", "video_ID": 5, "course_id": 3}
{"category": ["union find"], "tagged": [["Alright", "NNP"], [".", "."], ["Now", "RB"], ["that", "IN"], ["we", "PRP"], ["'ve", "VBP"], ["seen", "VBN"], ["efficient", "JJ"], ["implementations", "NNS"], ["of", "IN"], ["algorithms", "NN"], ["that", "WDT"], ["can", "MD"], ["solve", "VB"], ["the", "DT"], ["unifying", "NN"], ["problem", "NN"], ["for", "IN"], ["huge", "JJ"], ["problem", "NN"], ["instances", "NNS"], ["let", "VBP"], ["'s", "POS"], ["look", "VB"], ["to", "TO"], ["see", "VB"], ["how", "WRB"], ["that", "DT"], ["might", "MD"], ["be", "VB"], ["applied", "VBN"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["a", "DT"], ["huge", "JJ"], ["number", "NN"], ["of", "IN"], ["applications", "NNS"], ["of", "IN"], ["Union-find", "NNP"], [".", "."], ["We", "PRP"], ["talked", "VBD"], ["about", "IN"], ["dynamic", "JJ"], ["connectivity", "NN"], ["in", "IN"], ["networks", "NNS"], ["there", "EX"], ["'s", "VBZ"], ["many", "JJ"], ["other", "JJ"], ["examples", "NNS"], ["in", "IN"], ["our", "PRP$"], ["computational", "JJ"], ["infrastructure", "NN"], [".", "."], ["Down", "NNP"], ["at", "IN"], ["the", "DT"], ["bottom", "NN"], ["is", "VBZ"], ["one", "CD"], ["of", "IN"], ["those", "DT"], ["important", "JJ"], ["one", "CD"], ["is", "VBZ"], ["in", "IN"], ["image", "NN"], ["processing", "NN"], ["for", "IN"], ["understanding", "VBG"], ["how", "WRB"], ["to", "TO"], ["label", "VB"], ["areas", "NNS"], ["in", "IN"], ["images", "NNS"], [".", "."], ["We", "PRP"], ["'ll", "MD"], ["see", "VB"], ["later", "RB"], ["Kruskal", "NNP"], ["'s", "POS"], ["minimum", "JJ"], ["spanning", "NN"], ["tree", "NN"], ["algorithm", "NN"], [",", ","], ["which", "WDT"], ["is", "VBZ"], ["a", "DT"], ["graph", "NN"], ["processing", "NN"], ["algorithm", "NN"], ["which", "WDT"], ["uses", "VBZ"], ["Union-find", "NNP"], ["as", "IN"], ["a", "DT"], ["subroutine", "NN"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["algorithms", "NN"], ["in", "IN"], ["physics", "NNS"], ["for", "IN"], ["understanding", "VBG"], ["physical", "JJ"], ["phenomenon", "NN"], ["that", "IN"], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["an", "DT"], ["example", "NN"], ["and", "CC"], ["many", "JJ"], ["others", "NNS"], ["on", "IN"], ["this", "DT"], ["list", "NN"], [".", "."], ["So", "RB"], [",", ","], ["the", "DT"], ["one", "CD"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["talk", "VB"], ["about", "IN"], ["now", "RB"], ["is", "VBZ"], ["called", "VBN"], ["percolation", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["a", "DT"], ["model", "NN"], ["for", "IN"], ["many", "JJ"], ["physical", "JJ"], ["systems", "NNS"], ["I", "PRP"], ["'ll", "MD"], ["give", "VB"], ["an", "DT"], ["abstract", "JJ"], ["model", "NN"], ["and", "CC"], ["then", "RB"], ["just", "RB"], ["talk", "VB"], ["briefly", "NN"], ["about", "IN"], ["how", "WRB"], ["it", "PRP"], ["applies", "VBZ"], ["to", "TO"], ["physical", "JJ"], ["systems", "NNS"], [".", "."], ["So", "NNP"], ["let", "VBD"], ["'s", "POS"], ["think", "NN"], ["of", "IN"], ["an", "DT"], ["n", "NN"], ["by", "IN"], ["n", "JJ"], ["grid", "NN"], ["of", "IN"], ["squares", "NNS"], ["that", "IN"], ["we", "PRP"], ["call", "VBP"], ["sites", "NNS"], [".", "."], ["And", "CC"], ["we", "PRP"], ["'ll", "MD"], ["say", "VB"], ["that", "IN"], ["each", "DT"], ["site", "NN"], ["is", "VBZ"], ["open", "JJ"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["white", "JJ"], ["in", "IN"], ["the", "DT"], ["diagram", "NN"], ["with", "IN"], ["probably", "RB"], ["P", "NNP"], ["or", "CC"], ["blocked", "VBN"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["black", "JJ"], ["of", "IN"], ["the", "DT"], ["diagram", "NN"], ["with", "IN"], ["probability", "NN"], ["one", "CD"], ["-", ":"], ["P", "NN"], ["and", "CC"], ["we", "PRP"], ["define", "VBP"], ["a", "DT"], ["system", "NN"], ["to", "TO"], [",", ","], ["we", "PRP"], ["say", "VBP"], ["that", "IN"], ["a", "DT"], ["system", "NN"], ["is", "VBZ"], ["percolated", "VBN"], ["if", "IN"], ["the", "DT"], ["top", "NN"], ["and", "CC"], ["the", "DT"], ["bottom", "NN"], ["are", "VBP"], ["connected", "VBN"], ["by", "IN"], ["open", "JJ"], ["sites", "NNS"], [".", "."], ["So", "IN"], ["the", "DT"], ["system", "NN"], ["at", "IN"], ["the", "DT"], ["left", "NN"], [",", ","], ["you", "PRP"], ["can", "MD"], ["find", "VB"], ["a", "DT"], ["way", "NN"], ["to", "TO"], ["get", "VB"], ["from", "IN"], ["the", "DT"], ["top", "NN"], ["to", "TO"], ["the", "DT"], ["bottom", "NN"], ["through", "IN"], ["white", "JJ"], ["squares", "NNS"], [",", ","], ["but", "CC"], ["the", "DT"], ["system", "NN"], ["to", "TO"], ["the", "DT"], ["right", "NN"], ["does", "VBZ"], ["not", "RB"], ["percolate", "VB"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["no", "DT"], ["way", "NN"], ["to", "TO"], ["get", "VB"], ["from", "IN"], ["the", "DT"], ["top", "NN"], ["to", "TO"], ["the", "DT"], ["bottom", "NN"], ["through", "IN"], ["white", "JJ"], ["squares", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["model", "NN"], ["for", "IN"], ["many", "JJ"], ["systems", "NNS"], [".", "."], ["You", "PRP"], ["can", "MD"], ["think", "VB"], ["of", "IN"], ["for", "IN"], ["electricity", "NN"], [".", "."], ["You", "PRP"], ["could", "MD"], ["think", "VB"], ["of", "IN"], ["a", "DT"], ["vacant", "JJ"], ["site", "NN"], ["as", "IN"], ["being", "VBG"], ["a", "DT"], ["conductor", "NN"], ["and", "CC"], [",", ","], ["and", "CC"], ["a", "DT"], ["block", "NN"], ["site", "NN"], ["as", "IN"], ["being", "VBG"], ["insulated", "VBN"], [".", "."], ["And", "CC"], ["so", "RB"], ["if", "IN"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["conductor", "NN"], ["from", "IN"], ["top", "JJ"], ["to", "TO"], ["bottom", "VB"], ["then", "RB"], ["the", "DT"], ["thing", "NN"], ["conducts", "VBZ"], ["electricity", "NN"], [".", "."], ["Or", "CC"], [",", ","], ["you", "PRP"], ["could", "MD"], ["think", "VB"], ["of", "IN"], ["it", "PRP"], ["as", "RB"], [",", ","], ["as", "IN"], ["water", "NN"], ["flowing", "VBG"], ["through", "IN"], ["a", "DT"], ["porous", "JJ"], ["substance", "NN"], ["of", "IN"], ["some", "DT"], ["kind", "NN"], [".", "."], ["Where", "WRB"], ["a", "DT"], ["vacant", "JJ"], ["side", "NN"], ["is", "VBZ"], ["just", "RB"], ["empty", "JJ"], ["and", "CC"], ["a", "DT"], ["block", "NN"], ["side", "NN"], ["has", "VBZ"], ["got", "VBD"], ["some", "DT"], ["material", "NN"], [",", ","], ["and", "CC"], ["either", "CC"], ["the", "DT"], ["water", "NN"], ["flows", "VBZ"], ["through", "IN"], ["from", "IN"], ["top", "JJ"], ["to", "TO"], ["bottom", "VB"], [",", ","], ["or", "CC"], ["not", "RB"], [".", "."], ["Or", "CC"], ["you", "PRP"], ["could", "MD"], ["think", "VB"], ["of", "IN"], ["a", "DT"], ["social", "JJ"], ["network", "NN"], ["where", "WRB"], ["it", "PRP"], ["'s", "VBZ"], ["people", "NNS"], ["connected", "VBN"], ["and", "CC"], ["either", "CC"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["c", "JJ"], ["onnection", "NN"], ["between", "IN"], ["two", "CD"], ["people", "NNS"], ["or", "CC"], ["not", "RB"], ["and", "CC"], ["these", "DT"], ["are", "VBP"], ["a", "DT"], ["way", "NN"], ["not", "RB"], ["to", "TO"], ["get", "VB"], ["from", "IN"], ["one", "CD"], ["group", "NN"], ["of", "IN"], ["people", "NNS"], ["to", "TO"], ["another", "DT"], ["communicating", "VBG"], ["through", "IN"], ["that", "DT"], ["social", "JJ"], ["network", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["just", "RB"], ["a", "DT"], ["few", "JJ"], ["examples", "NNS"], ["of", "IN"], ["the", "DT"], ["percolation", "NN"], ["model", "NN"], [".", "."], ["So", "RB"], ["if", "IN"], ["we", "PRP"], [",", ","], ["we", "PRP"], ["are", "VBP"], ["talking", "VBG"], ["abouta", "IN"], ["randomized", "VBN"], ["model", "NN"], ["where", "WRB"], ["the", "DT"], ["sites", "NNS"], ["are", "VBP"], ["vacant", "JJ"], ["with", "IN"], ["the", "DT"], ["given", "VBN"], ["probability", "NN"], [".", "."], ["And", "CC"], ["so", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["pretty", "JJ"], ["clear", "JJ"], ["that", "IN"], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], [".", "."], ["Probability", "NN"], ["that", "IN"], ["a", "DT"], ["site", "NN"], ["is", "VBZ"], ["vacant", "JJ"], ["is", "VBZ"], ["low", "JJ"], ["as", "IN"], ["on", "IN"], ["the", "DT"], ["left", "NN"], [",", ","], ["two", "CD"], ["examples", "NNS"], ["on", "IN"], ["the", "DT"], ["left", "NN"], ["in", "IN"], ["this", "DT"], ["diagram", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], ["percolate", "VB"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["not", "RB"], ["enough", "JJ"], ["open", "JJ"], ["site", "NN"], ["for", "IN"], ["there", "EX"], ["to", "TO"], ["be", "VB"], ["a", "DT"], ["connection", "NN"], ["from", "IN"], ["the", "DT"], ["top", "NN"], ["to", "TO"], ["the", "DT"], ["bottom", "NN"], [".", "."], ["If", "IN"], ["the", "DT"], ["probability", "NN"], ["is", "VBZ"], ["high", "JJ"], ["and", "CC"], ["there", "EX"], ["is", "VBZ"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["open", "JJ"], ["sides", "NNS"], [",", ","], ["it", "PRP"], ["definitely", "RB"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["percolate", "VB"], [".", "."], ["There", "EX"], ["would", "MD"], ["be", "VB"], ["lots", "NNS"], ["of", "IN"], ["ways", "NNS"], ["to", "TO"], ["get", "VB"], ["from", "IN"], ["the", "DT"], ["top", "NN"], ["to", "TO"], ["the", "DT"], ["bottom", "NN"], [".", "."], ["But", "CC"], ["in", "IN"], ["the", "DT"], ["middle", "NN"], [",", ","], ["when", "WRB"], ["it", "PRP"], ["'s", "VBZ"], ["medium", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["questionable", "JJ"], ["whether", "IN"], ["it", "PRP"], ["percolates", "VBZ"], ["or", "CC"], ["not", "RB"], [".", "."], ["So", "IN"], ["the", "DT"], ["scientific", "JJ"], ["question", "NN"], [",", ","], ["or", "CC"], ["the", "DT"], [",", ","], ["mathematical", "JJ"], ["question", "NN"], ["from", "IN"], ["this", "DT"], ["model", "NN"], ["is", "VBZ"], [",", ","], ["how", "WRB"], ["do", "VBP"], ["we", "PRP"], ["know", "VB"], [",", ","], ["whether", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["percolate", "VB"], ["or", "CC"], ["not", "RB"], ["?", "."], ["In", "IN"], ["this", "DT"], ["problem", "NN"], ["and", "CC"], ["in", "IN"], ["many", "JJ"], ["similar", "JJ"], ["problems", "NNS"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["what", "WP"], ["'s", "VBZ"], ["called", "VBN"], ["a", "DT"], ["phase", "NN"], ["transition", "NN"], [".", "."], ["Which", "NNP"], ["says", "VBZ"], ["that", "IN"], [",", ","], ["you", "PRP"], ["know", "VBP"], [",", ","], ["when", "WRB"], ["it", "PRP"], ["'s", "VBZ"], ["low", "JJ"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], ["percolate", "VB"], [".", "."], ["When", "WRB"], ["it", "PRP"], ["'s", "VBZ"], ["high", "JJ"], [",", ","], ["it", "PRP"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["percolate", "VB"], [".", "."], ["And", "CC"], ["actually", "RB"], [",", ","], ["the", "DT"], ["threshold", "NN"], ["between", "IN"], ["when", "WRB"], ["it", "PRP"], ["percolates", "VBZ"], ["and", "CC"], ["when", "WRB"], ["it", "PRP"], ["does", "VBZ"], ["n't", "RB"], ["percolate", "VB"], ["is", "VBZ"], ["very", "RB"], ["sharp", "JJ"], [".", "."], ["And", "CC"], ["actually", "RB"], ["there", "EX"], ["is", "VBZ"], ["a", "DT"], ["value", "NN"], ["as", "IN"], ["N", "NNP"], ["gets", "VBZ"], ["large", "JJ"], ["that", "IN"], ["if", "IN"], ["you", "PRP"], ["'re", "VBP"], ["less", "JJR"], ["than", "IN"], ["that", "DT"], ["value", "NN"], ["it", "PRP"], ["almost", "RB"], ["certainly", "RB"], ["will", "MD"], ["not", "RB"], ["percolate", "VB"], [",", ","], ["if", "IN"], ["you", "PRP"], ["'re", "VBP"], ["greater", "JJR"], ["it", "PRP"], ["almost", "RB"], ["certainly", "RB"], ["will", "MD"], [".", "."], ["The", "DT"], ["question", "NN"], ["is", "VBZ"], ["what", "WP"], ["is", "VBZ"], ["that", "DT"], ["value", "NN"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["an", "DT"], ["example", "NN"], ["of", "IN"], ["a", "DT"], ["mathematical", "JJ"], ["model", "NN"], ["where", "WRB"], ["the", "DT"], ["problem", "NN"], ["is", "VBZ"], [",", ","], ["is", "VBZ"], ["very", "RB"], ["well", "RB"], ["articulated", "VBN"], [".", "."], ["What", "WP"], ["'s", "VBZ"], ["that", "DT"], ["threshold", "JJ"], ["value", "NN"], ["but", "CC"], [",", ","], ["nobody", "NN"], ["knows", "VBZ"], ["the", "DT"], ["solution", "NN"], ["to", "TO"], ["that", "DT"], ["mathematical", "JJ"], ["problem", "NN"], [".", "."], ["The", "DT"], ["only", "JJ"], ["solution", "NN"], ["we", "PRP"], ["have", "VBP"], ["comes", "VBZ"], ["from", "IN"], ["a", "DT"], ["computational", "JJ"], ["model", "NN"], [",", ","], ["where", "WRB"], ["we", "PRP"], ["run", "VBP"], ["simulations", "NNS"], ["to", "TO"], ["try", "VB"], ["and", "CC"], ["determine", "VB"], ["the", "DT"], ["value", "NN"], ["of", "IN"], ["that", "DT"], ["probability", "NN"], [".", "."], ["And", "CC"], ["those", "DT"], ["simulations", "NNS"], ["are", "VBP"], ["only", "RB"], ["enable", "JJ"], ["by", "IN"], ["fast", "JJS"], ["union", "NN"], ["find", "NN"], ["algorithms", "NN"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["our", "PRP$"], ["motivating", "JJ"], ["example", "NN"], ["for", "IN"], ["why", "WRB"], ["we", "PRP"], ["might", "MD"], ["need", "VB"], ["fast", "JJS"], ["union", "NN"], ["find", "NN"], ["algorithms", "NN"], [",", ","], ["so", "IN"], ["let", "NN"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["that", "DT"], [".", "."], ["So", "RB"], ["what", "WP"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["run", "VB"], ["is", "VBZ"], ["called", "VBN"], ["a", "DT"], ["so", "RB"], ["called", "JJ"], ["Monte", "NNP"], ["Carlo", "NNP"], ["simulation", "NN"], [".", "."], ["Where", "WRB"], ["we", "PRP"], ["initialize", "VBP"], ["the", "DT"], ["whole", "JJ"], ["grid", "NN"], ["to", "TO"], ["be", "VB"], ["block", "VBN"], ["ed", "IN"], ["all", "DT"], ["black", "JJ"], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["randomly", "VBP"], ["fill", "RB"], ["in", "IN"], ["open", "JJ"], ["sites", "NNS"], [".", "."], ["And", "CC"], ["we", "PRP"], ["keep", "VBP"], ["going", "VBG"], [".", "."], ["And", "CC"], ["every", "DT"], ["time", "NN"], ["we", "PRP"], ["add", "VBP"], ["an", "DT"], ["open", "JJ"], ["site", "NN"], [",", ","], ["we", "PRP"], ["check", "VBP"], ["to", "TO"], ["see", "VB"], ["if", "IN"], ["it", "PRP"], ["makes", "VBZ"], ["the", "DT"], ["system", "NN"], ["percolate", "NN"], [".", "."], ["And", "CC"], ["we", "PRP"], ["keep", "VBP"], ["going", "VBG"], ["until", "IN"], ["we", "PRP"], ["get", "VBP"], ["to", "TO"], ["a", "DT"], ["point", "NN"], ["where", "WRB"], ["the", "DT"], ["system", "NN"], ["percolates", "VBZ"], [".", "."], ["And", "CC"], ["we", "PRP"], ["can", "MD"], ["show", "VB"], ["that", "IN"], ["the", "DT"], ["vacancy", "NN"], ["percentage", "NN"], ["at", "IN"], ["the", "DT"], ["time", "NN"], ["that", "IN"], ["it", "PRP"], ["percolates", "VBZ"], ["is", "VBZ"], ["an", "DT"], ["estimate", "NN"], ["of", "IN"], ["this", "DT"], ["threshold", "JJ"], ["value", "NN"], [".", "."], ["So", "CC"], ["what", "WP"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["run", "VB"], ["this", "DT"], ["experiment", "JJ"], ["millions", "NNS"], ["of", "IN"], ["times", "NNS"], [",", ","], ["which", "WDT"], ["we", "PRP"], ["can", "MD"], ["do", "VB"], ["in", "IN"], ["a", "DT"], ["computer", "NN"], [",", ","], ["as", "RB"], ["long", "RB"], ["as", "IN"], ["we", "PRP"], ["can", "MD"], [",", ","], ["efficiently", "RB"], ["do", "VBP"], ["the", "DT"], ["calculation", "NN"], ["of", "IN"], ["does", "VBZ"], ["it", "PRP"], ["percolate", "VB"], ["or", "CC"], ["not", "RB"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["a", "DT"], ["Monte", "NNP"], ["Carlo", "NNP"], ["simulation", "NN"], [",", ","], ["a", "DT"], ["computational", "JJ"], ["problem", "NN"], ["that", "WDT"], ["gives", "VBZ"], ["us", "PRP"], ["a", "DT"], ["solution", "NN"], ["to", "TO"], ["this", "DT"], [",", ","], ["scientifc", "NN"], ["problem", "NN"], ["where", "WRB"], [",", ","], ["mathematical", "JJ"], ["problems", "NNS"], ["nobody", "NN"], ["knows", "VBZ"], ["how", "WRB"], ["to", "TO"], ["solve", "VB"], ["yet", "RB"], [".", "."], ["So", "RB"], [",", ","], ["let", "NN"], ["'s", "POS"], [",", ","], ["look", "NN"], ["in", "IN"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["more", "JJR"], ["detail", "NN"], ["of", "IN"], ["how", "WRB"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["use", "VB"], ["our", "PRP$"], ["dynam-", "NN"], [",", ","], ["dynamic", "JJ"], ["connectivity", "NN"], ["model", "NN"], ["to", "TO"], ["do", "VB"], ["this", "DT"], [".", "."], ["So", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["clear", "JJ"], ["that", "IN"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["create", "VB"], ["an", "DT"], ["object", "JJ"], ["corresponding", "NN"], ["to", "TO"], ["each", "DT"], ["site", "NN"], [".", "."], ["And", "CC"], ["we", "PRP"], ["'ll", "MD"], ["give'em", "VB"], ["a", "DT"], ["name", "NN"], [",", ","], ["from", "IN"], ["zero", "CD"], ["to", "TO"], ["N^2-1", "NNP"], ["as", "IN"], ["indicated", "VBN"], ["here", "RB"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["'ll", "MD"], ["connect", "VB"], ["them", "PRP"], ["together", "RB"], [".", "."], ["If", "IN"], ["they", "PRP"], ["'re", "VBP"], ["connected", "VBN"], ["by", "IN"], ["open", "JJ"], ["sites", "NNS"], [".", "."], ["So", "IN"], ["the", "DT"], ["percolation", "NN"], ["model", "NN"], ["on", "IN"], ["the", "DT"], ["left", "JJ"], ["corresponds", "VBZ"], ["to", "TO"], ["the", "DT"], [",", ","], ["connection", "NN"], ["model", "NN"], ["on", "IN"], ["the", "DT"], ["right", "NN"], [",", ","], ["according", "VBG"], ["to", "TO"], ["what", "WP"], ["we", "PRP"], ["'ve", "VBP"], ["been", "VBN"], ["doing", "VBG"], [".", "."], ["Now", "RB"], [",", ","], ["you", "PRP"], ["might", "MD"], ["say", "VB"], [",", ","], ["well", "RB"], [",", ","], ["what", "WP"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], [",", ","], ["connect", "NN"], [",", ","], ["check", "VB"], ["whether", "IN"], ["any", "DT"], ["site", "NN"], ["in", "IN"], ["the", "DT"], ["bottom", "JJ"], ["row", "NN"], ["is", "VBZ"], ["connected", "VBN"], ["to", "TO"], ["any", "DT"], ["site", "NN"], ["in", "IN"], ["the", "DT"], ["top", "JJ"], ["row", "NN"], [",", ","], ["and", "CC"], ["use", "VB"], ["union", "NN"], ["find", "NN"], ["for", "IN"], ["that", "DT"], [".", "."], ["Problem", "VB"], ["with", "IN"], ["that", "DT"], ["is", "VBZ"], [",", ","], ["that", "WDT"], ["would", "MD"], ["be", "VB"], ["a", "DT"], ["brute", "JJ"], ["force", "NN"], ["algorithm", "NN"], [".", "."], ["Would", "MD"], ["be", "VB"], ["quadratic", "JJ"], [",", ","], ["right", "RB"], ["on", "IN"], ["the", "DT"], ["face", "NN"], ["of", "IN"], ["it", "PRP"], [".", "."], ["Because", "IN"], ["it", "PRP"], ["would", "MD"], ["have", "VB"], ["N^2", "NNP"], [",", ","], ["calls", "VBZ"], ["to", "TO"], ["find", "VB"], [",", ","], ["to", "TO"], ["check", "VB"], ["whether", "IN"], ["they", "PRP"], ["'re", "VBP"], ["connected", "VBN"], [".", "."], ["For", "IN"], ["each", "DT"], ["site", "NN"], ["on", "IN"], ["the", "DT"], ["top", "JJ"], [",", ","], ["I", "PRP"], ["'d", "MD"], ["check", "VB"], ["each", "DT"], ["site", "NN"], ["on", "IN"], ["the", "DT"], ["bottom", "NN"], [".", "."], ["Much", "RB"], ["too", "RB"], ["slow", "JJ"], [".", "."], ["Instead", "RB"], [",", ","], ["what", "WP"], ["we", "PRP"], ["do", "VBP"], ["is", "VBZ"], ["create", "VB"], ["a", "DT"], ["virtual", "JJ"], ["site", "NN"], ["on", "IN"], ["the", "DT"], ["top", "JJ"], ["and", "CC"], ["on", "IN"], ["the", "DT"], ["bottom", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["when", "WRB"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["know", "VB"], ["whether", "IN"], ["this", "DT"], ["system", "NN"], ["percolates", "VBZ"], [",", ","], ["we", "PRP"], ["just", "RB"], ["check", "VB"], ["whether", "IN"], ["the", "DT"], ["virtual", "JJ"], ["top", "JJ"], ["site", "NN"], ["is", "VBZ"], ["connected", "VBN"], ["to", "TO"], ["the", "DT"], ["virtual", "JJ"], ["bottom", "NN"], ["site", "NN"], [".", "."], ["So", "NNP"], ["how", "WRB"], ["do", "VBP"], ["we", "PRP"], ["model", "VB"], ["opening", "VBG"], ["a", "DT"], ["new", "JJ"], ["site", "NN"], ["?", "."], ["Well", "UH"], ["to", "TO"], ["open", "VB"], ["a", "DT"], ["site", "NN"], ["we", "PRP"], ["just", "RB"], ["connect", "VB"], ["it", "PRP"], ["to", "TO"], ["all", "VB"], ["it", "PRP"], ["'s", "VBZ"], ["adjacent", "JJ"], ["open", "JJ"], ["sites", "NNS"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["few", "JJ"], ["calls", "NNS"], ["to", "TO"], ["Union", "NNP"], ["but", "CC"], ["that", "DT"], ["'s", "VBZ"], ["easy", "JJ"], ["to", "TO"], ["implement", "VB"], [".", "."], ["And", "CC"], ["then", "RB"], ["with", "IN"], ["that", "DT"], [",", ","], ["simple", "JJ"], [",", ","], ["relationship", "NN"], ["we", "PRP"], ["can", "MD"], ["use", "VB"], ["the", "DT"], ["exactly", "RB"], ["the", "DT"], ["code", "NN"], ["that", "IN"], ["we", "PRP"], ["developed", "VBD"], ["to", "TO"], ["go", "VB"], ["ahead", "RB"], ["and", "CC"], ["run", "VB"], ["a", "DT"], ["simulation", "NN"], ["for", "IN"], ["this", "DT"], ["connectivity", "NN"], ["problem", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["where", "WRB"], ["we", "PRP"], ["get", "VBP"], ["the", "DT"], ["result", "NN"], ["that", "IN"], [",", ","], ["by", "IN"], ["running", "VBG"], ["enough", "JJ"], ["simulations", "NNS"], ["for", "IN"], ["a", "DT"], ["big-enough", "JJ"], ["n", "NN"], [",", ","], ["that", "IN"], ["this", "DT"], [",", ","], ["percolation", "NN"], ["threshold", "NN"], ["is", "VBZ"], ["about", "IN"], [".592746", "NN"], [".", "."], ["With", "IN"], ["this", "DT"], ["fast", "JJ"], ["algorithm", "IN"], ["we", "PRP"], ["can", "MD"], ["get", "VB"], ["an", "DT"], ["accurate", "NN"], ["answer", "NN"], ["to", "TO"], ["the", "DT"], ["scientific", "JJ"], ["question", "NN"], [".", "."], ["If", "IN"], ["we", "PRP"], ["use", "VBP"], ["a", "DT"], ["slow", "JJ"], ["Union-find", "JJ"], ["algorithm", "NN"], ["we", "PRP"], ["wo", "MD"], ["n't", "RB"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["run", "VB"], ["it", "PRP"], ["for", "IN"], ["very", "RB"], ["big", "JJ"], ["problems", "NNS"], ["and", "CC"], ["we", "PRP"], ["wo", "MD"], ["n't", "RB"], ["get", "VB"], ["a", "DT"], ["very", "RB"], ["accurate", "JJ"], ["answer", "NN"], [".", "."], ["So", "RB"], ["in", "IN"], ["summary", "JJ"], [",", ","], ["we", "PRP"], ["took", "VBD"], ["an", "DT"], ["important", "JJ"], ["problem", "NN"], [".", "."], ["The", "DT"], [",", ","], ["the", "DT"], ["dynamic", "JJ"], ["connectivity", "NN"], ["problem", "NN"], [".", "."], ["We", "PRP"], ["modeled", "VBD"], ["the", "DT"], ["problem", "NN"], ["to", "TO"], ["try", "VB"], ["to", "TO"], ["understand", "VB"], ["precisely", "RB"], ["what", "WP"], ["kinds", "VBZ"], ["of", "IN"], ["data", "NNS"], ["structures", "NNS"], ["and", "CC"], ["algorithms", "NN"], ["we", "PRP"], ["'d", "MD"], ["need", "VB"], ["to", "TO"], ["solve", "VB"], ["it", "PRP"], [".", "."], ["We", "PRP"], ["saw", "VBD"], ["a", "DT"], ["few", "JJ"], ["easy", "JJ"], ["algorithms", "NN"], ["for", "IN"], ["solving", "VBG"], ["the", "DT"], ["problem", "NN"], [",", ","], ["and", "CC"], ["quickly", "RB"], ["saw", "VBD"], ["that", "IN"], ["they", "PRP"], ["were", "VBD"], ["inadequate", "JJ"], ["for", "IN"], ["addressing", "VBG"], ["huge", "JJ"], ["problems", "NNS"], [".", "."], ["But", "CC"], ["then", "RB"], ["we", "PRP"], ["saw", "VBD"], ["how", "WRB"], ["to", "TO"], ["improve", "VB"], ["them", "PRP"], ["to", "TO"], ["get", "VB"], ["efficient", "JJ"], ["algorithms", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["left", "VBD"], ["us", "PRP"], ["with", "IN"], [",", ","], ["applications", "NNS"], ["that", "IN"], [",", ","], ["could", "MD"], ["not", "RB"], ["be", "VB"], ["solved", "VBN"], ["without", "IN"], ["these", "DT"], ["efficient", "JJ"], ["algorithms", "NN"], [".", "."], ["All", "DT"], ["of", "IN"], ["this", "DT"], ["involves", "VBZ"], ["the", "DT"], ["scientific", "JJ"], ["method", "NN"], [".", "."], ["For", "IN"], ["algorithm", "NN"], ["design", "NN"], ["where", "WRB"], ["we", "PRP"], ["try", "VBP"], ["to", "TO"], ["develop", "VB"], ["mathematical", "JJ"], ["models", "NNS"], ["that", "WDT"], ["help", "VBP"], ["us", "PRP"], ["understand", "VB"], ["the", "DT"], ["properties", "NNS"], ["of", "IN"], ["the", "DT"], ["algorithms", "NN"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["developing", "VBG"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["test", "VBP"], ["those", "DT"], ["models", "NNS"], ["through", "IN"], ["experimentation", "NN"], ["enabling", "VBG"], ["us", "PRP"], ["to", "TO"], ["improve", "VB"], ["algorithms", "NN"], ["iterating", "NN"], [",", ","], ["developing", "VBG"], ["better", "JJR"], ["algorithms", "NN"], ["and", "CC"], ["more", "RBR"], ["refined", "JJ"], ["models", "NNS"], ["until", "IN"], ["we", "PRP"], ["get", "VBP"], ["what", "WP"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["solve", "VB"], ["the", "DT"], ["practical", "JJ"], ["problems", "NNS"], ["that", "IN"], ["we", "PRP"], ["have", "VBP"], ["of", "IN"], ["interest", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["the", "DT"], ["overall", "JJ"], ["architecture", "NN"], ["for", "IN"], ["studying", "VBG"], ["algorithms", "NN"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["use", "VB"], ["throughout", "IN"], ["the", "DT"], ["course", "NN"], [".", "."]], "title": "union find applications", "text": "Alright. Now that we've seen efficient implementations of algorithms that can solve the unifying problem for huge problem instances let's look to see how that might be applied. There's a huge number of applications of Union-find. We talked about dynamic connectivity in networks there's many other examples in our computational infrastructure. Down at the bottom is one of those important one is in image processing for understanding how to label areas in images. We'll see later Kruskal's minimum spanning tree algorithm, which is a graph processing algorithm which uses Union-find as a subroutine. There's algorithms in physics for understanding physical phenomenon that we'll look at an example and many others on this list. So, the one we're going to talk about now is called percolation. That's a model for many physical systems I'll give an abstract model and then just talk briefly about how it applies to physical systems. So let's think of an n by n grid of squares that we call sites. And we'll say that each site is open. That's white in the diagram with probably P or blocked, that's black of the diagram with probability one - P and we define a system to, we say that a system is percolated if the top and the bottom are connected by open sites. So the system at the left, you can find a way to get from the top to the bottom through white squares, but the system to the right does not percolate, there's no way to get from the top to the bottom through white squares. So, that's a model for many systems. You can think of for electricity. You could think of a vacant site as being a conductor and, and a block site as being insulated. And so if there's a conductor from top to bottom then the thing conducts electricity. Or, you could think of it as, as water flowing through a porous substance of some kind. Where a vacant side is just empty and a block side has got some material, and either the water flows through from top to bottom, or not. Or you could think of a social network where it's people connected and either there's a c onnection between two people or not and these are a way not to get from one group of people to another communicating through that social network. That's just a few examples of the percolation model. So if we, we are talking abouta randomized model where the sites are vacant with the given probability. And so it's pretty clear that if it's. Probability that a site is vacant is low as on the left, two examples on the left in this diagram, it's not going to percolate. There's not enough open site for there to be a connection from the top to the bottom. If the probability is high and there is a lot of open sides, it definitely is going to percolate. There would be lots of ways to get from the top to the bottom. But in the middle, when it's medium, it's questionable whether it percolates or not. So the scientific question, or the, mathematical question from this model is, how do we know, whether it's going to percolate or not? In this problem and in many similar problems, there's what's called a phase transition. Which says that, you know, when it's low, it's not going to percolate. When it's high, it is going to percolate. And actually, the threshold between when it percolates and when it doesn't percolate is very sharp. And actually there is a value as N gets large that if you're less than that value it almost certainly will not percolate, if you're greater it almost certainly will. The question is what is that value. This is an example of a mathematical model where the problem is, is very well articulated. What's that threshold value but, nobody knows the solution to that mathematical problem. The only solution we have comes from a computational model, where we run simulations to try and determine the value of that probability. And those simulations are only enable by fast union find algorithms, that's our motivating example for why we might need fast union find algorithms, so let's look at that. So what we're going to run is called a so called Monte Carlo simulation. Where we initialize the whole grid to be block ed all black and then we randomly fill in open sites. And we keep going. And every time we add an open site, we check to see if it makes the system percolate. And we keep going until we get to a point where the system percolates. And we can show that the vacancy percentage at the time that it percolates is an estimate of this threshold value. So what we want to do is run this experiment millions of times, which we can do in a computer, as long as we can, efficiently do the calculation of does it percolate or not. That's a Monte Carlo simulation, a computational problem that gives us a solution to this, scientifc problem where, mathematical problems nobody knows how to solve yet. So, let's, look in a little bit more detail of how we're going to use our dynam-, dynamic connectivity model to do this. So, it's clear that, we'll create an object corresponding to each site. And we'll give'em a name, from zero to N^2-1 as indicated here. And then we'll connect them together. If they're connected by open sites. So the percolation model on the left corresponds to the, connection model on the right, according to what we've been doing. Now, you might say, well, what we want to do is, connect, check whether any site in the bottom row is connected to any site in the top row, and use union find for that. Problem with that is, that would be a brute force algorithm. Would be quadratic, right on the face of it. Because it would have N^2, calls to find, to check whether they're connected. For each site on the top, I'd check each site on the bottom. Much too slow. Instead, what we do is create a virtual site on the top and on the bottom. And then, when we want to know whether this system percolates, we just check whether the virtual top site is connected to the virtual bottom site. So how do we model opening a new site? Well to open a site we just connect it to all it's adjacent open sites. So that's a few calls to Union but that's easy to implement. And then with that, simple, relationship we can use the exactly the code that we developed to go ahead and run a simulation for this connectivity problem. And that's where we get the result that, by running enough simulations for a big-enough n, that this, percolation threshold is about .592746. With this fast algorithm we can get an accurate answer to the scientific question. If we use a slow Union-find algorithm we won't be able to run it for very big problems and we won't get a very accurate answer. So in summary, we took an important problem. The, the dynamic connectivity problem. We modeled the problem to try to understand precisely what kinds of data structures and algorithms we'd need to solve it. We saw a few easy algorithms for solving the problem, and quickly saw that they were inadequate for addressing huge problems. But then we saw how to improve them to get efficient algorithms. And then left us with, applications that, could not be solved without these efficient algorithms. All of this involves the scientific method. For algorithm design where we try to develop mathematical models that help us understand the properties of the algorithms that we're developing. And then we test those models through experimentation enabling us to improve algorithms iterating, developing better algorithms and more refined models until we get what we need to solve the practical problems that we have of interest. That's going to be the overall architecture for studying algorithms that we're going to use throughout the course. ", "video_ID": 6, "course_id": 3}
{"category": ["analysis of algorithms"], "tagged": [["Welcome", "NNP"], ["back", "RB"], [".", "."], ["Today", "NN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], ["some", "DT"], ["math", "NN"], ["and", "CC"], ["some", "DT"], ["science", "NN"], [".", "."], ["Not", "RB"], ["a", "DT"], ["lot", "NN"], [",", ","], ["but", "CC"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["have", "VB"], ["a", "DT"], ["scientific", "JJ"], ["basis", "NN"], ["for", "IN"], ["understanding", "VBG"], ["the", "DT"], ["performance", "NN"], ["of", "IN"], ["our", "PRP$"], ["algorithms", "NN"], ["to", "TO"], ["properly", "RB"], ["deploy", "VB"], ["them", "PRP"], ["in", "IN"], ["practise", "NN"], [".", "."], ["So", "RB"], ["today", "NN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["talk", "VB"], [",", ","], ["about", "RB"], ["how", "WRB"], ["to", "TO"], [",", ","], ["observe", "VB"], ["performance", "NN"], ["characteristics", "NNS"], ["of", "IN"], ["algorithms", "NN"], [".", "."], ["We", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["how", "WRB"], ["to", "TO"], ["make", "VB"], ["mathematical", "JJ"], ["models", "NNS"], ["and", "CC"], ["how", "WRB"], ["to", "TO"], ["classify", "VB"], ["algorithms", "JJ"], ["according", "VBG"], ["to", "TO"], ["the", "DT"], ["order", "NN"], ["of", "IN"], ["growth", "NN"], ["of", "IN"], ["their", "PRP$"], ["running", "JJ"], ["time", "NN"], [".", "."], ["We", "PRP"], ["'ll", "MD"], ["talk", "VB"], ["a", "DT"], ["bit", "NN"], ["about", "IN"], ["the", "DT"], ["theory", "NN"], ["of", "IN"], ["algorithms", "NN"], ["and", "CC"], ["also", "RB"], ["how", "WRB"], ["to", "TO"], ["analyze", "VB"], ["memory", "NN"], ["usage", "NN"], [".", "."], ["So", "RB"], ["to", "TO"], ["put", "VB"], ["this", "DT"], ["all", "DT"], ["in", "IN"], ["perspective", "NN"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["think", "VB"], ["about", "IN"], ["these", "DT"], ["issues", "NNS"], ["from", "IN"], ["the", "DT"], ["point", "NN"], ["of", "IN"], ["view", "NN"], ["of", "IN"], ["different", "JJ"], ["types", "NNS"], ["of", "IN"], ["characters", "NNS"], [".", "."], ["So", "IN"], ["the", "DT"], ["first", "JJ"], ["one", "NN"], ["is", "VBZ"], ["the", "DT"], ["programmer", "NN"], ["who", "WP"], ["needs", "VBZ"], ["to", "TO"], ["solve", "VB"], ["a", "DT"], ["problem", "NN"], ["and", "CC"], ["get", "VB"], ["it", "PRP"], ["working", "VBG"], ["and", "CC"], ["get", "VB"], ["it", "PRP"], ["deployed", "JJ"], [".", "."], ["Second", "JJ"], ["one", "CD"], ["is", "VBZ"], ["the", "DT"], ["client", "NN"], ["who", "WP"], ["wants", "VBZ"], ["to", "TO"], ["use", "VB"], ["the", "DT"], ["whatever", "WDT"], ["program", "NN"], ["did", "VBD"], ["to", "TO"], ["get", "VB"], ["the", "DT"], ["job", "NN"], ["done", "VBN"], [".", "."], ["Third", "NNP"], ["one", "CD"], ["is", "VBZ"], ["the", "DT"], ["theoretician", "JJ"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["somebody", "NN"], ["who", "WP"], ["really", "RB"], ["wants", "VBZ"], ["to", "TO"], ["understand", "VB"], ["what", "WP"], ["'s", "VBZ"], ["going", "VBG"], ["on", "IN"], [".", "."], ["And", "CC"], [",", ","], ["and", "CC"], ["the", "DT"], ["last", "JJ"], ["one", "CD"], ["is", "VBZ"], ["kind", "NN"], ["of", "IN"], ["a", "DT"], ["team", "NN"], [",", ","], ["this", "DT"], ["basic", "JJ"], ["blocking", "NN"], ["and", "CC"], ["tackling", "VBG"], ["sometimes", "RB"], ["necessary", "JJ"], ["to", "TO"], ["get", "VB"], [",", ","], ["you", "PRP"], ["know", "VBP"], [",", ","], ["all", "PDT"], ["these", "DT"], ["things", "NNS"], ["done", "VBN"], [".", "."], ["So", "RB"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["of", "IN"], ["each", "DT"], ["one", "CD"], ["of", "IN"], ["these", "DT"], ["in", "IN"], ["today", "NN"], ["'s", "POS"], ["lecture", "NN"], [".", "."], ["And", "CC"], ["actually", "RB"], ["when", "WRB"], ["you", "PRP"], ["'re", "VBP"], ["a", "DT"], ["student", "NN"], ["you", "PRP"], ["have", "VBP"], ["to", "TO"], ["think", "VB"], ["that", "IN"], ["you", "PRP"], ["might", "MD"], ["be", "VB"], ["playing", "VBG"], ["any", "DT"], ["or", "CC"], ["all", "DT"], ["of", "IN"], ["these", "DT"], ["roles", "NNS"], ["some", "DT"], ["day", "NN"], [".", "."], ["So", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["pretty", "JJ"], ["important", "JJ"], ["to", "TO"], ["understand", "VB"], ["the", "DT"], ["different", "JJ"], ["points", "NNS"], ["of", "IN"], ["view", "NN"], [".", "."], ["So", "RB"], [",", ","], ["the", "DT"], ["key", "NN"], ["that", "IN"], ["we", "PRP"], ["'ll", "MD"], ["focus", "VB"], ["on", "IN"], ["is", "VBZ"], ["running", "VBG"], ["time", "NN"], [".", "."], ["And", "CC"], ["actually", "RB"], ["the", "DT"], ["idea", "NN"], ["of", "IN"], ["understanding", "VBG"], ["the", "DT"], ["running", "JJ"], ["time", "NN"], ["of", "IN"], ["a", "DT"], ["computation", "NN"], ["goes", "VBZ"], ["way", "NN"], ["back", "RB"], ["even", "RB"], ["to", "TO"], ["Babbage", "NNP"], ["and", "CC"], ["probably", "RB"], ["before", "RB"], [".", "."], ["And", "CC"], ["here", "RB"], ["'s", "VBZ"], ["a", "DT"], ["quote", "NN"], ["from", "IN"], ["Babbage", "NNP"], [",", ","], ["``", "``"], ["As", "RB"], ["soon", "RB"], ["as", "IN"], ["an", "DT"], ["analytical", "JJ"], ["engine", "NN"], ["exists", "NNS"], [",", ","], ["it", "PRP"], ["will", "MD"], ["necessarily", "RB"], ["guide", "VB"], ["the", "DT"], ["future", "JJ"], ["course", "NN"], ["of", "IN"], ["the", "DT"], ["science", "NN"], [".", "."], ["Whenever", "WRB"], ["any", "DT"], ["result", "NN"], ["is", "VBZ"], ["sought", "VBN"], ["by", "IN"], ["its", "PRP$"], ["aid", "NN"], [",", ","], ["the", "DT"], ["question", "NN"], ["will", "MD"], ["arise", "VB"], ["by", "IN"], ["what", "WP"], ["course", "NN"], ["of", "IN"], ["calculation", "NN"], ["can", "MD"], ["these", "DT"], ["results", "NNS"], ["be", "VB"], ["arrived", "VBN"], ["at", "IN"], ["by", "IN"], ["the", "DT"], ["machine", "NN"], ["in", "IN"], ["the", "DT"], ["shortest", "NN"], ["time", "NN"], ["''", "''"], [".", "."], ["If", "IN"], ["you", "PRP"], ["look", "VBP"], ["at", "IN"], ["Babbage", "NNP"], ["'s", "POS"], ["machine", "NN"], ["called", "VBD"], ["the", "DT"], ["analytic", "JJ"], ["engine", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["got", "VBD"], ["a", "DT"], ["crank", "NN"], ["on", "IN"], ["it", "PRP"], [".", "."], ["And", "CC"], ["literally", "RB"], ["the", "DT"], ["concern", "NN"], ["that", "WDT"], ["Babbage", "NNP"], ["had", "VBD"], ["in", "IN"], ["knowing", "VBG"], ["how", "WRB"], ["long", "RB"], ["a", "DT"], ["computation", "NN"], ["would", "MD"], ["take", "VB"], ["is", "VBZ"], [",", ","], ["how", "WRB"], ["m", "JJ"], ["any", "DT"], ["times", "NNS"], ["do", "VBP"], ["we", "PRP"], ["have", "VB"], ["to", "TO"], ["turn", "VB"], ["the", "DT"], ["crank", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["that", "DT"], ["different", "JJ"], [",", ","], ["in", "IN"], ["today", "NN"], ["'s", "POS"], ["world", "NN"], [".", "."], ["The", "DT"], ["crank", "NN"], ["may", "MD"], ["be", "VB"], ["something", "NN"], ["electronic", "JJ"], ["that", "WDT"], ["'s", "VBZ"], ["happening", "VBG"], ["a", "DT"], ["billion", "CD"], ["times", "NNS"], ["a", "DT"], ["second", "JJ"], [".", "."], ["But", "CC"], ["still", "RB"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["looking", "VBG"], ["for", "IN"], [",", ","], ["how", "WRB"], ["many", "JJ"], ["times", "NNS"], ["does", "VBZ"], ["some", "DT"], ["discreet", "NN"], ["operation", "NN"], ["have", "VBP"], ["to", "TO"], ["be", "VB"], ["performed", "VBN"], ["in", "IN"], ["order", "NN"], ["to", "TO"], ["get", "VB"], ["a", "DT"], ["computation", "NN"], ["done", "VBN"], [".", "."], ["So", "RB"], [",", ","], ["there", "EX"], ["are", "VBP"], ["lot", "NN"], ["of", "IN"], ["reasons", "NNS"], ["to", "TO"], ["analyse", "VB"], ["algorithms", "NN"], [".", "."], ["In", "IN"], ["the", "DT"], ["context", "NN"], ["of", "IN"], ["this", "DT"], ["course", "NN"], ["we", "PRP"], ["are", "VBP"], ["mainly", "RB"], ["interested", "JJ"], ["in", "IN"], ["performance", "NN"], ["prediction", "NN"], [".", "."], ["And", "CC"], ["we", "PRP"], ["also", "RB"], ["want", "VBP"], ["to", "TO"], ["compare", "VB"], ["the", "DT"], ["performance", "NN"], ["of", "IN"], ["different", "JJ"], ["algorithms", "NN"], ["for", "IN"], ["the", "DT"], ["same", "JJ"], ["task", "NN"], [",", ","], ["and", "CC"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["provide", "VB"], ["some", "DT"], ["guarantees", "NNS"], ["on", "IN"], ["how", "WRB"], ["well", "RB"], ["they", "PRP"], ["perform", "VBP"], [".", "."], ["Along", "IN"], ["with", "IN"], ["this", "DT"], [",", ","], ["is", "VBZ"], ["understanding", "VBG"], ["some", "DT"], ["theoretical", "JJ"], ["basis", "NN"], ["for", "IN"], ["how", "WRB"], ["algorithms", "JJ"], ["perform", "NN"], [".", "."], ["But", "CC"], ["primarily", "RB"], [",", ","], ["the", "DT"], ["practical", "JJ"], ["reason", "NN"], ["that", "IN"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["be", "VB"], ["analyzing", "VBG"], ["algorithms", "JJ"], ["and", "CC"], ["understanding", "VBG"], ["them", "PRP"], ["is", "VBZ"], ["to", "TO"], ["avoid", "VB"], ["performance", "NN"], ["bugs", "NNS"], [".", "."], ["We", "PRP"], ["want", "VBP"], ["to", "TO"], ["have", "VB"], ["some", "DT"], ["confidence", "NN"], ["that", "IN"], ["our", "PRP$"], ["algorithms", "NN"], ["going", "VBG"], ["to", "TO"], ["complete", "VB"], ["the", "DT"], ["job", "NN"], ["in", "IN"], ["the", "DT"], ["amount", "NN"], ["of", "IN"], ["time", "NN"], [",", ","], ["that", "IN"], [",", ","], ["that", "IN"], ["we", "PRP"], ["think", "VBP"], ["it", "PRP"], ["will", "MD"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["very", "RB"], [",", ","], ["very", "RB"], ["frequent", "JJ"], ["to", "TO"], ["see", "VB"], [",", ","], ["in", "IN"], ["today", "NN"], ["'s", "POS"], ["computational", "JJ"], ["infrastructure", "NN"], [",", ","], ["a", "DT"], ["situation", "NN"], ["where", "WRB"], ["the", "DT"], ["client", "NN"], ["gets", "VBZ"], ["bad", "JJ"], ["performance", "NN"], [",", ","], ["because", "IN"], ["the", "DT"], ["programmer", "NN"], ["did", "VBD"], ["not", "RB"], ["understand", "VB"], ["the", "DT"], ["performance", "NN"], ["characteristics", "NNS"], ["of", "IN"], ["the", "DT"], ["algorithm", "NN"], [".", "."], ["And", "CC"], ["today", "NN"], ["'s", "POS"], ["lecture", "NN"], ["is", "VBZ"], ["about", "IN"], ["trying", "VBG"], ["to", "TO"], ["avoid", "VB"], ["that", "DT"], [".", "."], ["Now", "RB"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["focus", "VB"], ["on", "IN"], ["performance", "NN"], ["and", "CC"], ["comparing", "VBG"], ["algorithms", "NN"], ["in", "IN"], ["this", "DT"], ["course", "NN"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["later", "JJR"], ["courses", "NNS"], ["in", "IN"], ["typical", "JJ"], ["computer", "NN"], ["science", "NN"], ["curricula", "NN"], ["that", "WDT"], ["have", "VBP"], ["more", "JJR"], ["information", "NN"], ["about", "IN"], ["the", "DT"], ["theoretical", "JJ"], ["basis", "NN"], ["of", "IN"], ["algorithms", "NN"], ["and", "CC"], ["I", "PRP"], ["'ll", "MD"], ["mention", "VB"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["about", "IN"], ["that", "DT"], ["later", "NN"], ["on", "IN"], [".", "."], ["But", "CC"], ["our", "PRP$"], ["focus", "NN"], ["is", "VBZ"], ["on", "IN"], ["being", "VBG"], ["able", "JJ"], ["to", "TO"], ["predict", "VB"], ["performance", "NN"], ["and", "CC"], ["comparing", "VBG"], ["algorithms", "NNS"], [".", "."], ["Now", "RB"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["long", "JJ"], ["list", "NN"], ["of", "IN"], ["success", "NN"], ["stories", "NNS"], ["in", "IN"], ["designing", "VBG"], ["algorithm", "NN"], ["with", "IN"], ["better", "JJR"], ["performance", "NN"], ["in", "IN"], [",", ","], ["in", "IN"], ["enabling", "VBG"], ["the", "DT"], ["solution", "NN"], ["of", "IN"], ["problems", "NNS"], ["that", "WDT"], ["would", "MD"], ["otherwise", "VB"], ["not", "RB"], ["be", "VB"], ["solved", "VBN"], [".", "."], ["And", "CC"], ["I", "PRP"], ["'ll", "MD"], ["just", "RB"], ["give", "VB"], ["a", "DT"], ["couple", "NN"], ["of", "IN"], ["examples", "NNS"], [".", "."], ["One", "CD"], ["of", "IN"], ["the", "DT"], ["first", "JJ"], ["and", "CC"], ["most", "JJS"], ["famous", "JJ"], ["is", "VBZ"], ["the", "DT"], ["so", "RB"], ["called", "JJ"], ["FFT", "NNP"], ["algorithm", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["an", "DT"], ["algorithm", "NN"], ["for", "IN"], ["breaking", "VBG"], ["down", "RP"], ["the", "DT"], ["wave", "JJ"], ["form", "NN"], ["of", "IN"], ["n", "JJ"], ["samples", "NNS"], ["of", "IN"], ["a", "DT"], ["signal", "NN"], ["into", "IN"], ["periodic", "JJ"], ["components", "NNS"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["at", "IN"], ["the", "DT"], ["basis", "NN"], ["for", "IN"], ["dvds", "NN"], ["and", "CC"], ["jpegs", "NN"], ["and", "CC"], [",", ","], ["and", "CC"], ["many", "JJ"], ["other", "JJ"], ["appl", "JJ"], ["ications", "NNS"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["an", "DT"], ["easy", "JJ"], ["way", "NN"], ["to", "TO"], ["do", "VB"], ["it", "PRP"], ["that", "IN"], ["takes", "VBZ"], ["time", "NN"], ["proportional", "JJ"], ["to", "TO"], ["N^2", "NNP"], [".", "."], ["But", "CC"], ["the", "DT"], ["FFT", "NNP"], ["algorithm", "NN"], [",", ","], ["takes", "VBZ"], ["only", "RB"], ["N", "NNP"], ["log", "NN"], ["N", "NNP"], ["steps", "NNS"], [".", "."], ["And", "CC"], ["the", "DT"], ["difference", "NN"], ["between", "IN"], ["N", "NNP"], ["log", "NN"], ["N", "NNP"], ["and", "CC"], ["N^2", "NNP"], ["is", "VBZ"], [",", ","], ["is", "VBZ"], ["the", "DT"], ["difference", "NN"], ["between", "IN"], ["being", "VBG"], ["able", "JJ"], ["to", "TO"], ["solve", "VB"], ["a", "DT"], ["large", "JJ"], ["problem", "NN"], ["and", "CC"], ["not", "RB"], ["being", "VBG"], ["able", "JJ"], ["to", "TO"], ["solve", "VB"], ["it", "PRP"], [".", "."], ["A", "DT"], ["lot", "NN"], ["of", "IN"], ["the", "DT"], ["digital", "JJ"], ["technology", "NN"], [",", ","], ["digital", "JJ"], ["media", "NNS"], ["technology", "NN"], ["that", "IN"], ["we", "PRP"], ["have", "VBP"], ["today", "NN"], ["is", "VBZ"], ["enabled", "VBN"], ["by", "IN"], ["that", "DT"], ["fast", "JJ"], ["algorithm", "NN"], [".", "."], ["Another", "DT"], ["example", "NN"], ["was", "VBD"], ["actually", "RB"], ["developed", "VBN"], ["by", "IN"], ["Andrew", "NNP"], ["Appel", "NNP"], [",", ","], ["who", "WP"], ["'s", "VBZ"], ["now", "RB"], ["the", "DT"], ["chair", "NN"], ["of", "IN"], ["computer", "NN"], ["science", "NN"], ["here", "RB"], ["at", "IN"], ["Princeton", "NNP"], [".", "."], ["And", "CC"], ["it", "PRP"], ["was", "VBD"], ["developed", "VBN"], ["when", "WRB"], ["he", "PRP"], ["was", "VBD"], ["an", "DT"], ["undergraduate", "NN"], ["for", "IN"], ["his", "PRP$"], ["senior", "JJ"], ["thesis", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["fast", "JJ"], ["algorithm", "NN"], ["for", "IN"], ["the", "DT"], ["N", "NNP"], ["body", "NN"], ["simulation", "NN"], ["problem", "NN"], [".", "."], ["The", "DT"], ["easy", "JJ"], ["algorithm", "NN"], ["takes", "VBZ"], ["time", "NN"], ["proportional", "JJ"], ["to", "TO"], ["N^2", "NNP"], [",", ","], ["but", "CC"], ["Appel", "NNP"], ["'s", "POS"], ["algorithm", "NN"], ["was", "VBD"], ["an", "DT"], ["N", "NNP"], ["log", "NN"], ["N", "NNP"], ["algorithm", "VBZ"], ["that", "IN"], ["again", "RB"], [",", ","], ["meant", "VBD"], ["that", "IN"], ["scientists", "NNS"], ["can", "MD"], ["do", "VB"], ["N", "NNP"], ["body", "NN"], ["simulation", "NN"], ["for", "IN"], ["huge", "JJ"], ["values", "NNS"], ["of", "IN"], ["N.", "NNP"], ["And", "CC"], ["that", "IN"], ["enables", "VBZ"], ["new", "JJ"], ["research", "NN"], [".", "."], ["S0", "NNP"], [",", ","], ["o", "VBD"], ["the", "DT"], ["challenge", "NN"], ["is", "VBZ"], ["that", "IN"], ["we", "PRP"], ["usually", "RB"], ["face", "VBP"], ["is", "VBZ"], [",", ","], ["will", "MD"], ["my", "PRP$"], ["program", "NN"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["solve", "VB"], ["a", "DT"], ["large", "JJ"], ["practical", "JJ"], ["input", "NN"], ["?", "."], ["And", "CC"], [",", ","], ["and", "CC"], ["actually", "RB"], [",", ","], ["the", "DT"], ["working", "VBG"], ["programmer", "NN"], ["is", "VBZ"], ["actually", "RB"], ["faced", "VBN"], ["with", "IN"], ["that", "DT"], ["all", "PDT"], ["the", "DT"], ["time", "NN"], [".", "."], ["Why", "WRB"], [",", ","], ["why", "WRB"], ["is", "VBZ"], ["my", "PRP$"], ["program", "NN"], ["running", "VBG"], ["so", "RB"], ["slowly", "RB"], ["?", "."], ["Why", "WRB"], ["does", "VBZ"], ["it", "PRP"], ["run", "VB"], ["out", "IN"], ["of", "IN"], ["memory", "NN"], ["?", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["faced", "JJ"], ["programmers", "NNS"], ["for", "IN"], ["a", "DT"], ["really", "RB"], ["long", "JJ"], ["time", "NN"], ["and", "CC"], ["the", "DT"], ["insight", "NN"], ["to", "TO"], ["address", "VB"], ["this", "DT"], [".", "."], ["Deuter", "NNP"], ["Kanoof", "NNP"], [",", ","], ["in", "IN"], ["the", "DT"], ["1970s", "CD"], [",", ","], ["was", "VBD"], ["that", "IN"], [",", ","], ["we", "PRP"], ["really", "RB"], ["can", "MD"], ["use", "VB"], ["the", "DT"], ["scientific", "JJ"], ["method", "NN"], ["to", "TO"], ["understand", "VB"], ["the", "DT"], ["performance", "NN"], ["of", "IN"], ["algorithms", "NN"], ["in", "IN"], ["operation", "NN"], [".", "."], ["Maybe", "RB"], ["we", "PRP"], ["'re", "VBP"], ["not", "RB"], ["unlocking", "JJ"], ["new", "JJ"], ["secrets", "NNS"], ["of", "IN"], ["the", "DT"], ["universe", "NN"], ["but", "CC"], [",", ","], ["we", "PRP"], ["can", "MD"], ["use", "VB"], ["the", "DT"], [",", ","], ["scientific", "JJ"], ["method", "NN"], [",", ","], ["and", "CC"], ["treat", "VB"], ["the", "DT"], ["computer", "NN"], [",", ","], ["as", "IN"], ["something", "NN"], ["to", "TO"], ["be", "VB"], ["studied", "VBN"], ["in", "IN"], ["that", "DT"], ["way", "NN"], ["and", "CC"], ["come", "VB"], ["to", "TO"], ["an", "DT"], ["understanding", "NN"], ["of", "IN"], ["how", "WRB"], ["our", "PRP$"], ["program", "NN"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["perform", "VB"], [".", "."], ["And", "CC"], ["let", "VB"], ["'s", "PRP"], ["take", "VB"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["that", "DT"], ["in", "IN"], ["more", "JJR"], ["detail", "NN"], [".", "."], ["So", "IN"], ["this", "DT"], ["just", "RB"], ["a", "DT"], ["quick", "JJ"], ["summary", "NN"], ["of", "IN"], ["what", "WP"], ["we", "PRP"], ["mean", "VBP"], ["by", "IN"], ["the", "DT"], ["scientific", "JJ"], ["method", "NN"], [",", ","], ["which", "WDT"], ["has", "VBZ"], [",", ","], ["been", "VBN"], ["successful", "JJ"], ["for", "IN"], ["a", "DT"], ["couple", "NN"], ["of", "IN"], ["centuries", "NNS"], ["now", "RB"], [".", "."], ["So", "RB"], [",", ","], ["what", "WP"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], [",", ","], ["observe", "PRP"], ["from", "IN"], ["some", "DT"], ["feature", "NN"], ["of", "IN"], ["the", "DT"], ["natural", "JJ"], ["world", "NN"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["the", "DT"], ["running", "JJ"], ["time", "NN"], ["of", "IN"], ["our", "PRP$"], ["program", "NN"], ["on", "IN"], ["a", "DT"], ["computer", "NN"], [".", "."], ["Then", "RB"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["develop", "VB"], ["hypothesis", "NN"], ["some", "DT"], ["model", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["consistent", "JJ"], ["with", "IN"], ["the", "DT"], ["observations", "NNS"], [",", ","], ["and", "CC"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["hope", "VB"], ["that", "IN"], [",", ","], ["that", "DT"], ["hypothesis", "NN"], ["is", "VBZ"], ["good", "JJ"], ["enough", "RB"], ["that", "IN"], ["it", "PRP"], ["'ll", "MD"], ["allow", "VB"], ["us", "PRP"], ["to", "TO"], ["predict", "VB"], ["something", "NN"], [".", "."], ["Usually", "RB"], ["predict", "VBP"], ["a", "DT"], ["running", "NN"], ["time", "NN"], ["for", "IN"], ["larger", "JJR"], ["problem", "NN"], ["size", "NN"], [",", ","], ["or", "CC"], ["on", "IN"], ["a", "DT"], ["different", "JJ"], ["computer", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["'ll", "MD"], ["verify", "VB"], ["the", "DT"], ["predictions", "NNS"], ["by", "IN"], ["making", "VBG"], ["more", "JJR"], ["observations", "NNS"], [",", ","], ["and", "CC"], ["validate", "NN"], ["until", "IN"], ["we", "PRP"], ["'re", "VBP"], ["comfortable", "JJ"], ["that", "IN"], ["our", "PRP$"], ["model", "NN"], ["hypothesis", "NN"], ["and", "CC"], ["observations", "NNS"], ["all", "DT"], ["agree", "VBP"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["a", "DT"], ["way", "NN"], ["to", "TO"], ["get", "VB"], ["comfort", "NN"], ["that", "IN"], ["we", "PRP"], ["understand", "VBP"], ["the", "DT"], ["performance", "NN"], ["of", "IN"], ["our", "PRP$"], ["programs", "NNS"], [".", "."], ["Now", "RB"], [",", ","], ["the", "DT"], ["within", "IN"], ["the", "DT"], ["scientific", "JJ"], ["method", "NN"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["some", "DT"], ["basic", "JJ"], ["principles", "NNS"], ["and", "CC"], ["the", "DT"], [",", ","], ["the", "DT"], ["first", "JJ"], ["is", "VBZ"], ["that", "IN"], ["if", "IN"], ["you", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["run", "VB"], ["experiments", "NNS"], [",", ","], ["you", "PRP"], ["should", "MD"], ["expect", "VB"], ["that", "IN"], ["somebody", "NN"], ["else", "RB"], ["should", "MD"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["run", "VB"], ["experiments", "NNS"], ["and", "CC"], ["get", "VB"], ["the", "DT"], ["same", "JJ"], ["result", "NN"], [".", "."], ["And", "CC"], ["also", "RB"], ["the", "DT"], ["hypotheses", "NNS"], ["have", "VBP"], ["to", "TO"], ["have", "VB"], ["a", "DT"], ["specific", "JJ"], ["property", "NN"], ["that", "IN"], ["the", "DT"], ["experiment", "NN"], ["can", "MD"], ["show", "VB"], ["the", "DT"], ["hypothesis", "NN"], ["to", "TO"], ["be", "VB"], ["wrong", "JJ"], [".", "."], ["So", "RB"], [",", ","], ["it", "PRP"], ["has", "VBZ"], ["to", "TO"], ["be", "VB"], ["carefully", "RB"], ["crafted", "VBN"], [",", ","], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["be", "VB"], ["sure", "JJ"], ["to", "TO"], ["try", "VB"], ["to", "TO"], ["do", "VB"], ["that", "DT"], [".", "."], ["So", "RB"], [",", ","], ["and", "CC"], ["again", "RB"], ["the", "DT"], ["future", "NN"], ["of", "IN"], ["the", "DT"], ["natural", "JJ"], ["world", "NN"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["studying", "VBG"], ["is", "VBZ"], ["some", "DT"], ["particular", "JJ"], ["computer", "NN"], ["that", "WDT"], ["exists", "VBZ"], ["in", "IN"], ["the", "DT"], ["natural", "JJ"], ["world", "NN"], [".", "."], ["It", "PRP"], ["changes", "VBZ"], ["the", "DT"], ["algorithm", "NN"], ["from", "IN"], ["an", "DT"], ["abstraction", "NN"], ["to", "TO"], ["a", "DT"], [",", ","], ["some", "DT"], [",", ","], ["some", "DT"], ["kind", "NN"], ["of", "IN"], ["actual", "JJ"], ["physical", "JJ"], ["thing", "NN"], ["happening", "VBG"], ["like", "IN"], ["electrons", "NNS"], ["racing", "VBG"], ["around", "IN"], ["inside", "IN"], ["the", "DT"], ["computer", "NN"], [".", "."]], "title": "analysis of algorithms introduction", "text": "Welcome back. Today we're going to do some math and some science. Not a lot, but we need to have a scientific basis for understanding the performance of our algorithms to properly deploy them in practise. So today we're going to talk, about how to, observe performance characteristics of algorithms. We're going to look at how to make mathematical models and how to classify algorithms according to the order of growth of their running time. We'll talk a bit about the theory of algorithms and also how to analyze memory usage. So to put this all in perspective, we're going to think about these issues from the point of view of different types of characters. So the first one is the programmer who needs to solve a problem and get it working and get it deployed. Second one is the client who wants to use the whatever program did to get the job done. Third one is the theoretician, that's somebody who really wants to understand what's going on. And, and the last one is kind of a team, this basic blocking and tackling sometimes necessary to get, you know, all these things done. So, there's a little bit of each one of these in today's lecture. And actually when you're a student you have to think that you might be playing any or all of these roles some day. So, it's pretty important to understand the different points of view. So, the key that we'll focus on is running time. And actually the idea of understanding the running time of a computation goes way back even to Babbage and probably before. And here's a quote from Babbage, \"As soon as an analytical engine exists, it will necessarily guide the future course of the science. Whenever any result is sought by its aid, the question will arise by what course of calculation can these results be arrived at by the machine in the shortest time\". If you look at Babbage's machine called the analytic engine, it's got a crank on it. And literally the concern that Babbage had in knowing how long a computation would take is, how m any times do we have to turn the crank. It's, it's not that different, in today's world. The crank may be something electronic that's happening a billion times a second. But still, we're looking for, how many times does some discreet operation have to be performed in order to get a computation done. So, there are lot of reasons to analyse algorithms. In the context of this course we are mainly interested in performance prediction. And we also want to compare the performance of different algorithms for the same task, and to be able to provide some guarantees on how well they perform. Along with this, is understanding some theoretical basis for how algorithms perform. But primarily, the practical reason that we want to be analyzing algorithms and understanding them is to avoid performance bugs. We want to have some confidence that our algorithms going to complete the job in the amount of time, that, that we think it will. And it's very, very frequent to see, in today's computational infrastructure, a situation where the client gets bad performance, because the programmer did not understand the performance characteristics of the algorithm. And today's lecture is about trying to avoid that. Now, we're going to focus on performance and comparing algorithms in this course. There's later courses in typical computer science curricula that have more information about the theoretical basis of algorithms and I'll mention a little bit about that later on. But our focus is on being able to predict performance and comparing algorithms. Now there's a long list of success stories in designing algorithm with better performance in, in enabling the solution of problems that would otherwise not be solved. And I'll just give a couple of examples. One of the first and most famous is the so called FFT algorithm. That's an algorithm for breaking down the wave form of n samples of a signal into periodic components. And that's at the basis for dvds and jpegs and, and many other appl ications. There's an easy way to do it that takes time proportional to N^2. But the FFT algorithm, takes only N log N steps. And the difference between N log N and N^2 is, is the difference between being able to solve a large problem and not being able to solve it. A lot of the digital technology, digital media technology that we have today is enabled by that fast algorithm. Another example was actually developed by Andrew Appel, who's now the chair of computer science here at Princeton. And it was developed when he was an undergraduate for his senior thesis. It's a fast algorithm for the N body simulation problem. The easy algorithm takes time proportional to N^2, but Appel's algorithm was an N log N algorithm that again, meant that scientists can do N body simulation for huge values of N. And that enables new research. S0, o the challenge is that we usually face is, will my program be able to solve a large practical input? And, and actually, the working programmer is actually faced with that all the time. Why, why is my program running so slowly? Why does it run out of memory? And that's faced programmers for a really long time and the insight to address this. Deuter Kanoof, in the 1970s, was that, we really can use the scientific method to understand the performance of algorithms in operation. Maybe we're not unlocking new secrets of the universe but, we can use the, scientific method, and treat the computer, as something to be studied in that way and come to an understanding of how our program are going to perform. And let's take a look at that in more detail. So this just a quick summary of what we mean by the scientific method, which has, been successful for a couple of centuries now. So, what we're going to do is, observe from some feature of the natural world. In this case, it's going to be the running time of our program on a computer. Then we're going to develop hypothesis some model that's consistent with the observations, and we're going to hope that, that hypothesis is good enough that it'll allow us to predict something. Usually predict a running time for larger problem size, or on a different computer. And then we'll verify the predictions by making more observations, and validate until we're comfortable that our model hypothesis and observations all agree. That's a way to get comfort that we understand the performance of our programs. Now, the within the scientific method, there's some basic principles and the, the first is that if you're going to run experiments, you should expect that somebody else should be able to run experiments and get the same result. And also the hypotheses have to have a specific property that the experiment can show the hypothesis to be wrong. So, it has to be carefully crafted, and we'll be sure to try to do that. So, and again the future of the natural world that we're studying is some particular computer that exists in the natural world. It changes the algorithm from an abstraction to a, some, some kind of actual physical thing happening like electrons racing around inside the computer. ", "video_ID": 7, "course_id": 3}
{"category": ["analysis of algorithms"], "tagged": [["Okay", "NNP"], [",", ","], ["so", "IN"], ["the", "DT"], ["first", "JJ"], ["step", "NN"], ["is", "VBZ"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["make", "VB"], ["some", "DT"], ["observations", "NNS"], ["about", "IN"], ["the", "DT"], ["running", "JJ"], ["time", "NN"], ["of", "IN"], ["the", "DT"], ["programs", "NNS"], [".", "."], ["And", "CC"], ["for", "IN"], ["analysis", "NN"], ["of", "IN"], ["algorithms", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["easier", "JJR"], ["than", "IN"], ["in", "IN"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["scientific", "JJ"], ["disciplines", "NNS"], [",", ","], ["as", "IN"], ["we", "PRP"], ["'ll", "MD"], ["see", "VB"], [".", "."], ["For", "IN"], ["a", "DT"], ["running", "JJ"], ["example", "NN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["use", "VB"], ["the", "DT"], ["so-called", "JJ"], ["3-sum", "JJ"], ["problem", "NN"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["an", "DT"], ["easy", "JJ"], ["to", "TO"], ["state", "NN"], ["problem", "NN"], [".", "."], ["If", "IN"], ["you", "PRP"], ["'ve", "VBP"], ["got", "VBN"], ["N", "NNP"], ["distinct", "JJ"], ["integers", "NNS"], [",", ","], ["how", "WRB"], ["many", "JJ"], ["triple", "JJ"], ["sum", "NN"], ["to", "TO"], ["exactly", "RB"], ["zero", "VB"], ["?", "."], ["For", "IN"], ["example", "NN"], ["in", "IN"], ["this", "DT"], ["file", "NN"], ["8ints.text", "CD"], [".", "."], ["Text", "NN"], ["which", "WDT"], ["has", "VBZ"], ["eight", "CD"], ["integers", "NNS"], ["in", "IN"], ["it", "PRP"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["four", "CD"], ["triples", "NNS"], ["that", "WDT"], ["sum", "VBP"], ["to", "TO"], ["zero", "CD"], [".", "."], ["30", "CD"], ["-", ":"], ["40", "CD"], [",", ","], ["ten", "NN"], [".", "."], ["30", "CD"], ["-", ":"], ["twenty", "NN"], ["-", ":"], ["ten", "NN"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], ["and", "CC"], ["so", "RB"], ["our", "PRP$"], ["goal", "NN"], ["is", "VBZ"], ["to", "TO"], ["write", "VB"], ["a", "DT"], ["program", "NN"], ["that", "WDT"], ["can", "MD"], ["compute", "VB"], ["this", "DT"], ["quantity", "NN"], ["for", "IN"], ["any", "DT"], ["input", "NN"], ["file", "NN"], [",", ","], ["any", "DT"], ["set", "NN"], ["of", "IN"], ["N", "NNP"], ["integers", "NNS"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["actually", "RB"], ["a", "DT"], [",", ","], ["an", "DT"], ["extremely", "RB"], ["important", "JJ"], ["computation", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["deeply", "RB"], ["related", "VBN"], ["to", "TO"], ["many", "JJ"], ["problems", "NNS"], ["in", "IN"], ["computational", "JJ"], ["geometry", "NN"], ["which", "WDT"], ["is", "VBZ"], ["a", "DT"], ["branch", "NN"], ["of", "IN"], ["computer", "NN"], ["science", "NN"], ["that", "WDT"], ["covers", "VBZ"], ["the", "DT"], ["algorithms", "NN"], ["and", "CC"], ["underlying", "JJ"], ["science", "NN"], ["related", "VBN"], ["to", "TO"], ["graphics", "NNS"], ["and", "CC"], ["movies", "NNS"], ["and", "CC"], ["geometric", "JJ"], ["models", "NNS"], ["of", "IN"], ["all", "DT"], ["sort", "NN"], [".", "."], ["So", "IN"], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], ["actually", "RB"], ["an", "DT"], ["important", "JJ"], ["practical", "NN"], ["problem", "NN"], [".", "."], ["But", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["simple", "JJ"], ["one", "CD"], ["to", "TO"], ["write", "VB"], ["code", "NN"], ["for", "IN"], ["in", "IN"], ["a", "DT"], ["view", "NN"], ["you", "PRP"], ["could", "MD"], ["write", "VB"], ["down", "RP"], ["this", "DT"], ["program", "NN"], ["without", "IN"], ["much", "JJ"], ["effort", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["a", "DT"], [",", ","], ["got", "VBD"], ["a", "DT"], ["static", "JJ"], ["method", "NN"], ["count", "NN"], ["that", "WDT"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["go", "VB"], ["ahead", "RB"], ["and", "CC"], ["take", "VB"], ["a", "DT"], ["integer", "NN"], ["array", "NN"], ["as", "IN"], ["an", "DT"], ["argument", "NN"], [".", "."], ["And", "CC"], [",", ","], ["is", "VBZ"], ["that", "IN"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["number", "NN"], ["of", "IN"], ["integers", "NNS"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["the", "DT"], ["length", "NN"], ["of", "IN"], ["the", "DT"], ["array", "NN"], [".", "."], ["We", "PRP"], ["will", "MD"], ["start", "VB"], ["with", "IN"], ["a", "DT"], ["variable", "JJ"], ["count", "NN"], ["equals", "NNS"], ["zero", "CD"], [",", ","], ["and", "CC"], ["then", "RB"], ["a", "DT"], ["triple", "NN"], ["for", "IN"], ["loop", "NN"], [",", ","], ["that", "IN"], ["checks", "VBZ"], ["each", "DT"], ["triple", "NN"], ["I", "PRP"], ["j", "VBP"], ["k", "NNS"], [",", ","], ["we", "PRP"], ["go", "VBP"], ["I", "PRP"], ["from", "IN"], ["one", "CD"], ["and", "CC"], ["j", "NN"], ["from", "IN"], ["I+1", "NNP"], ["to", "TO"], ["n", "VB"], [",", ","], ["and", "CC"], ["k", "NN"], ["from", "IN"], ["j+1", "NN"], ["to", "TO"], ["n", "VB"], [",", ","], ["so", "IN"], ["that", "IN"], ["we", "PRP"], ["get", "VBP"], ["each", "DT"], ["triple", "NN"], ["just", "RB"], ["once", "RB"], [".", "."], ["And", "CC"], ["then", "RB"], ["if", "IN"], ["I+j", "NNP"], [",", ","], ["ai", "VBP"], ["+", "JJ"], ["aj", "NN"], ["+", "NNP"], ["ak", "NN"], ["=", "NN"], ["zero", "CD"], [",", ","], ["we", "PRP"], ["increment", "VBP"], ["the", "DT"], ["count", "NN"], [".", "."], ["Alright", "NNP"], [".", "."], ["And", "CC"], ["after", "IN"], ["that", "DT"], ["triple", "JJ"], ["four", "CD"], ["loop", "NN"], [",", ","], ["we", "PRP"], ["return", "VBP"], ["the", "DT"], ["count", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["the", "DT"], ["main", "JJ"], ["method", "NN"], [",", ","], ["in", "IN"], ["this", "DT"], ["simple", "JJ"], ["class", "NN"], ["just", "RB"], ["reads", "NNS"], ["in", "IN"], [",", ","], ["all", "PDT"], ["the", "DT"], ["integers", "NNS"], [",", ","], ["and", "CC"], ["prints", "VBZ"], ["out", "RP"], ["the", "DT"], ["count", "NN"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["brute", "JJ"], ["force", "NN"], ["algorithm", "NN"], ["that", "WDT"], ["is", "VBZ"], ["a", "DT"], ["fine", "JJ"], ["method", "NN"], ["for", "IN"], ["solving", "VBG"], ["the", "DT"], ["three", "CD"], ["sum", "NN"], ["problem", "NN"], [",", ","], ["now", "RB"], ["what", "WP"], ["we", "PRP"], ["'re", "VBP"], ["interested", "JJ"], ["in", "IN"], ["is", "VBZ"], ["how", "WRB"], ["much", "JJ"], ["time", "NN"], ["does", "VBZ"], ["this", "DT"], ["take", "VB"], ["as", "IN"], ["a", "DT"], ["function", "NN"], ["of", "IN"], ["'", "''"], ["n", "NN"], ["?", "."], ["Well", "UH"], [",", ","], ["one", "CD"], ["to", "TO"], ["time", "NN"], ["our", "PRP$"], ["program", "NN"], ["is", "VBZ"], ["to", "TO"], ["is", "VBZ"], ["just", "RB"], ["look", "NN"], ["at", "IN"], ["the", "DT"], ["watch", "NN"], [".", "."], ["If", "IN"], ["you", "PRP"], ["have", "VBP"], ["a", "DT"], ["stopwatch", "NN"], [",", ","], ["or", "CC"], ["look", "NN"], ["at", "IN"], ["the", "DT"], ["clock", "NN"], ["or", "CC"], ["your", "PRP$"], ["phone", "NN"], [",", ","], ["or", "CC"], ["whatever", "WDT"], ["you", "PRP"], ["might", "MD"], ["need", "VB"], ["you", "PRP"], ["can", "MD"], ["just", "RB"], ["go", "VB"], ["ahead", "RB"], ["and", "CC"], ["time", "NN"], ["it", "PRP"], ["if", "IN"], ["you", "PRP"], ["want", "VBP"], ["or", "CC"], ["we", "PRP"], ["have", "VBP"], [",", ","], ["Java", "NNP"], ["has", "VBZ"], ["this", "DT"], ["part", "NN"], ["of", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["standard", "JJ"], ["library", "NN"], [",", ","], ["a", "DT"], ["stopwatch", "NN"], ["class", "NN"], ["that", "WDT"], ["will", "MD"], ["go", "VB"], ["ahead", "RB"], ["and", "CC"], ["compute", "VB"], ["a", "DT"], ["lapse", "NN"], ["time", "NN"], [".", "."], ["So", "RB"], [",", ","], ["in", "IN"], ["order", "NN"], [",", ","], ["anytime", "RB"], ["you", "PRP"], ["run", "VBP"], ["a", "DT"], ["program", "NN"], [",", ","], ["if", "IN"], ["it", "PRP"], ["is", "VBZ"], ["setup", "JJ"], ["to", "TO"], ["easily", "RB"], ["take", "VB"], ["input", "NN"], ["of", "IN"], ["different", "JJ"], ["sizes", "NNS"], [",", ","], ["a", "DT"], ["natural", "JJ"], ["thing", "NN"], ["to", "TO"], ["do", "VB"], [",", ","], ["is", "VBZ"], ["just", "RB"], ["run", "VB"], ["it", "PRP"], ["for", "IN"], ["bigger", "JJR"], ["sizes", "NN"], [".", "."], ["So", "RB"], ["for", "IN"], ["eight", "CD"], ["ints", "NNS"], ["this", "DT"], ["program", "NN"], ["takes", "VBZ"], ["not", "RB"], ["too", "RB"], ["much", "JJ"], ["time", "NN"], [",", ","], ["for", "IN"], ["1000", "CD"], ["ints", "NNS"], ["it", "PRP"], ["takes", "VBZ"], ["half", "PDT"], ["a", "DT"], ["second", "JJ"], [".", "."], ["For", "IN"], ["2,000", "CD"], [".", "."], ["Takes", "VB"], ["more", "JJR"], ["time", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["3.7", "CD"], ["seconds", "NNS"], ["run", "VBP"], ["it", "PRP"], ["again", "RB"], [",", ","], ["still", "RB"], ["takes", "VBZ"], ["3.7", "CD"], ["seconds", "NNS"], ["for", "IN"], ["4,000", "CD"], [",", ","], ["so", "RB"], ["each", "DT"], ["time", "NN"], ["we", "PRP"], ["'re", "VBP"], ["doubling", "VBG"], ["the", "DT"], ["size", "NN"], ["of", "IN"], ["the", "DT"], ["input", "NN"], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["definitely", "RB"], ["taking", "VBG"], ["more", "JJR"], ["time", "NN"], ["each", "DT"], ["time", "NN"], [".", "."], ["And", "CC"], ["actually", "RB"], ["as", "IN"], ["we", "PRP"], ["'ll", "MD"], ["see", "VB"], ["if", "IN"], ["programmers", "NNS"], ["who", "WP"], ["get", "VBP"], ["in", "IN"], ["the", "DT"], ["habit", "NN"], ["of", "IN"], ["testing", "VBG"], ["or", "CC"], ["any", "DT"], ["time", "NN"], ["on", "IN"], ["their", "PRP$"], ["program", "NN"], ["in", "IN"], ["this", "DT"], ["way", "NN"], ["can", "MD"], ["get", "VB"], ["so", "RB"], ["that", "IN"], ["you", "PRP"], ["can", "MD"], ["actually", "RB"], ["pretty", "VB"], ["easily", "RB"], ["and", "CC"], ["quickly", "RB"], ["evaluate", "VB"], ["when", "WRB"], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["finish", "VB"], [".", "."], ["In", "IN"], ["fact", "NN"], [".", "."], ["While", "IN"], ["you", "PRP"], ["'re", "VBP"], ["waiting", "VBG"], ["for", "IN"], ["it", "PRP"], ["to", "TO"], ["finish", "VB"], ["you", "PRP"], ["can", "MD"], ["often", "RB"], ["figure", "VB"], ["it", "PRP"], ["out", "RP"], [".", "."], ["So", "IN"], ["that", "IN"], ["one", "CD"], ["took", "VBD"], ["30", "CD"], ["seconds", "NNS"], ["for", "IN"], ["4K", "CD"], ["and", "CC"], ["definitely", "RB"], ["we", "PRP"], ["could", "MD"], ["figure", "VB"], ["it", "PRP"], ["out", "RP"], ["how", "WRB"], ["long", "JJ"], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["take", "VB"], ["for", "IN"], ["8K", "CD"], ["before", "IN"], ["it", "PRP"], ["finishes", "VBZ"], [",", ","], ["and", "CC"], ["you", "PRP"], ["'ll", "MD"], ["see", "VB"], ["how", "WRB"], ["in", "IN"], ["just", "RB"], ["a", "DT"], ["second", "JJ"], [".", "."], ["I", "PRP"], ["'m", "VBP"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], ["wait", "VB"], ["right", "RB"], ["now", "RB"], [".", "."], ["You", "PRP"], ["can", "MD"], ["think", "VB"], ["about", "IN"], ["what", "WP"], ["you", "PRP"], ["think", "VBP"], [".", "."], ["Okay", "NNP"], ["so", "IN"], ["[", "JJ"], ["cough", "NN"], ["]", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["empirical", "JJ"], ["analysis", "NN"], [",", ","], ["analysis", "NN"], [".", "."], ["Run", "VB"], ["it", "PRP"], ["for", "IN"], ["various", "JJ"], ["input", "NN"], ["sizes", "NNS"], ["and", "CC"], ["measure", "VB"], ["their", "PRP$"], ["running", "NN"], ["time", "NN"], [".", "."], ["Now", "RB"], ["if", "IN"], ["this", "DT"], ["were", "VBD"], ["some", "DT"], ["scientific", "JJ"], ["problem", "NN"], ["where", "WRB"], ["we", "PRP"], ["were", "VBD"], ["counting", "VBG"], ["something", "NN"], ["that", "WDT"], ["happen", "VBZ"], ["in", "IN"], ["the", "DT"], ["natural", "JJ"], ["world", "NN"], [".", "."], ["The", "DT"], ["number", "NN"], ["of", "IN"], ["ants", "NNS"], ["in", "IN"], ["an", "DT"], ["ant", "NN"], ["hill", "NN"], ["or", "CC"], ["whatever", "WDT"], ["then", "RB"], ["we", "PRP"], ["'d", "MD"], ["have", "VB"], ["only", "RB"], ["a", "DT"], ["few", "JJ"], ["data", "NN"], ["points", "NNS"], ["and", "CC"], ["we", "PRP"], ["would", "MD"], ["try", "VB"], ["to", "TO"], ["understand", "VB"], ["whats", "NNS"], ["was", "VBD"], ["going", "VBG"], ["on", "IN"], ["by", "IN"], ["doing", "VBG"], ["a", "DT"], ["plot", "NN"], ["of", "IN"], ["or", "CC"], ["running", "VBG"], ["time", "NN"], ["with", "IN"], ["quite", "RB"], ["interested", "JJ"], ["in", "IN"], ["on", "IN"], ["the", "DT"], ["Y", "NNP"], ["axis", "NN"], ["and", "CC"], ["problem", "NN"], ["size", "NN"], ["with", "IN"], ["the", "DT"], ["X", "NNP"], ["axis", "NN"], [".", "."], ["Hit", "VB"], ["a", "DT"], ["curve", "NN"], ["like", "IN"], ["this", "DT"], ["and", "CC"], ["actually", "RB"], ["whats", "NNS"], ["science", "VBP"], ["usually", "RB"], ["do", "VBP"], ["because", "IN"], ["of", "IN"], ["some", "DT"], ["many", "JJ"], ["problems", "NNS"], ["fall", "VBP"], ["into", "IN"], ["out", "IN"], ["of", "IN"], ["this", "DT"], ["class", "NN"], ["is", "VBZ"], ["do", "VBP"], ["the", "DT"], ["plot", "NN"], ["as", "IN"], ["a", "DT"], ["lg", "NN"], [",", ","], ["lg", "NN"], ["plot", "NN"], [".", "."], ["If", "IN"], ["you", "PRP"], ["do", "VBP"], ["it", "PRP"], ["as", "IN"], ["a", "DT"], ["lg", "NN"], [",", ","], ["lg", "NN"], ["plot", "NN"], ["very", "RB"], ["often", "RB"], ["you", "PRP"], ["'ll", "MD"], ["get", "VB"], ["a", "DT"], ["straight", "JJ"], ["line", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["slope", "NN"], ["of", "IN"], ["the", "DT"], ["straight", "JJ"], ["line", "NN"], ["is", "VBZ"], ["the", "DT"], ["key", "NN"], ["to", "TO"], ["what", "WP"], ["'s", "VBZ"], ["going", "VBG"], ["on", "IN"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["the", "DT"], ["slope", "NN"], ["of", "IN"], ["the", "DT"], ["straight", "JJ"], ["line", "NN"], ["is", "VBZ"], ["three", "CD"], ["and", "CC"], ["so", "RB"], ["you", "PRP"], ["can", "MD"], ["run", "VB"], ["what", "WP"], ["'s", "VBZ"], ["called", "VBN"], ["a", "DT"], ["regression", "NN"], ["to", "TO"], ["fit", "VB"], ["a", "DT"], ["late", "JJ"], [",", ","], ["the", "DT"], ["straight", "JJ"], ["line", "NN"], ["through", "IN"], ["the", "DT"], ["data", "NN"], ["points", "NNS"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["difficult", "JJ"], ["to", "TO"], ["show", "VB"], ["to", "TO"], ["do", "VB"], ["the", "DT"], ["math", "NN"], ["to", "TO"], ["show", "VB"], ["that", "IN"], ["if", "IN"], ["you", "PRP"], ["get", "VBP"], ["a", "DT"], ["straight", "JJ"], ["line", "NN"], ["and", "CC"], ["the", "DT"], ["slope", "NN"], ["is", "VBZ"], ["B", "NNP"], [",", ","], ["then", "RB"], ["your", "PRP$"], ["function", "NN"], ["is", "VBZ"], ["proportional", "JJ"], ["to", "TO"], ["A", "NNP"], [",", ","], ["N^B", "NNP"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["called", "VBN"], ["the", "DT"], ["power", "NN"], ["law", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["true", "JJ"], ["of", "IN"], ["many", "JJ"], [",", ","], ["many", "JJ"], ["scientific", "JJ"], ["problems", "NNS"], ["including", "VBG"], ["most", "JJS"], ["algorithms", "JJ"], [".", "."], ["So", "RB"], ["here", "RB"], ["'s", "VBZ"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["of", "IN"], ["the", "DT"], ["math", "NN"], ["for", "IN"], ["that", "DT"], [".", "."], ["So", "IN"], ["the", "DT"], ["straight", "JJ"], ["line", "NN"], ["means", "VBZ"], ["that", "IN"], ["since", "IN"], ["we", "PRP"], ["did", "VBD"], ["a", "DT"], ["lg", "NN"], [",", ","], ["lg", "NN"], ["plot", "NN"], ["with", "IN"], ["powers", "NNS"], ["of", "IN"], ["two", "CD"], [",", ","], ["that", "IN"], ["lg", "NN"], ["(", "("], ["T", "NNP"], ["(", "("], ["N", "NNP"], [")", ")"], ["=", "NN"], ["B", "NNP"], ["lg", "NN"], ["N", "NNP"], ["+", "NNP"], ["C.", "NNP"], ["And", "CC"], ["we", "PRP"], ["have", "VBP"], ["our", "PRP$"], ["empirical", "JJ"], ["values", "NNS"], ["of", "IN"], ["B", "NNP"], ["and", "CC"], ["C", "NNP"], ["and", "CC"], ["then", "RB"], ["if", "IN"], ["you", "PRP"], ["raise", "VBP"], ["both", "DT"], ["sides", "NNS"], ["of", "IN"], ["that", "DT"], ["equation", "NN"], ["to", "TO"], ["two", "CD"], ["to", "TO"], ["that", "DT"], ["power", "NN"], ["then", "RB"], ["you", "PRP"], ["get", "VBP"], ["T", "NNP"], ["(", "("], ["N", "NNP"], [")", ")"], ["=", "VBZ"], ["a", "DT"], ["constant", "JJ"], ["times", "NNS"], ["N^B", "NNP"], [".", "."], ["So", "RB"], ["right", "JJ"], ["away", "RB"], ["just", "RB"], ["from", "IN"], ["observation", "NN"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["pretty", "RB"], ["good", "JJ"], ["model", "NN"], ["for", "IN"], ["the", "DT"], ["running", "JJ"], ["time", "NN"], ["for", "IN"], ["our", "PRP$"], ["program", "NN"], [",", ","], ["we", "PRP"], ["can", "MD"], ["figure", "VB"], ["and", "CC"], ["do", "VB"], ["the", "DT"], ["math", "NN"], ["and", "CC"], ["figure", "NN"], ["out", "RP"], ["that", "IN"], ["it", "PRP"], ["seems", "VBZ"], ["as", "IN"], ["though", "IN"], ["the", "DT"], ["running", "JJ"], ["time", "NN"], ["is", "VBZ"], ["about", "IN"], ["ten^-10", "JJ"], ["N^3", "NNP"], ["seconds", "NNS"], [".", "."], ["We", "PRP"], ["can", "MD"], ["use", "VB"], ["that", "DT"], ["hypothesis", "NN"], ["to", "TO"], ["go", "VB"], ["ahead", "RB"], ["and", "CC"], ["make", "VB"], ["predictions", "NNS"], [".", "."], ["Just", "NNP"], ["plug", "NN"], ["in", "IN"], ["for", "IN"], ["different", "JJ"], ["values", "NNS"], ["of", "IN"], ["N", "NNP"], ["and", "CC"], ["it", "PRP"], ["says", "VBZ"], ["it", "PRP"], ["will", "MD"], ["take", "VB"], ["us", "PRP"], ["400", "CD"], ["seconds", "NNS"], ["for", "IN"], ["16,000", "CD"], [".", "."], ["400", "CD"], ["seconds", "NNS"], ["is", "VBZ"], ["plenty", "NN"], ["of", "IN"], ["time", "NN"], ["but", "CC"], ["now", "RB"], ["we", "PRP"], ["can", "MD"], ["go", "VB"], ["ahead", "RB"], ["and", "CC"], ["invest", "VB"], ["and", "CC"], ["run", "VB"], ["that", "DT"], ["experiment", "NN"], ["and", "CC"], ["sure", "JJ"], ["enough", "RB"], ["we", "PRP"], ["'re", "VBP"], ["pretty", "RB"], ["close", "JJ"], ["to", "TO"], ["that", "DT"], ["408", "CD"], ["seconds", "NNS"], ["when", "WRB"], ["we", "PRP"], ["run", "VBP"], ["it", "PRP"], [".", "."], ["And", "CC"], ["now", "RB"], ["we", "PRP"], ["can", "MD"], ["make", "VB"], ["a", "DT"], ["prediction", "NN"], ["for", "IN"], ["32,000", "CD"], ["or", "CC"], ["for", "IN"], ["or", "CC"], ["for", "IN"], ["whatever", "WDT"], ["else", "RB"], ["we", "PRP"], ["might", "MD"], ["be", "VB"], ["interested", "JJ"], ["in", "IN"], [".", "."], ["The", "DT"], ["model", "NN"], ["helps", "VBZ"], ["us", "PRP"], ["do", "VB"], ["predictions", "NNS"], ["without", "IN"], ["investing", "VBG"], ["the", "DT"], ["expense", "NN"], ["to", "TO"], ["run", "VB"], ["the", "DT"], ["experiments", "NNS"], [".", "."], ["In", "IN"], ["fact", "NN"], [",", ","], ["in", "IN"], ["this", "DT"], ["situation", "NN"], ["if", "IN"], ["there", "EX"], ["is", "VBZ"], ["a", "DT"], ["power", "NN"], ["law", "NN"], [",", ","], ["and", "CC"], ["again", "RB"], ["in", "IN"], ["a", "DT"], ["very", "RB"], ["great", "JJ"], ["majority", "NN"], ["of", "IN"], ["computer", "NN"], ["algorithm", "NN"], ["running", "VBG"], ["times", "NNS"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["a", "DT"], ["power", "NN"], ["law", "NN"], [".", "."], ["What", "WP"], ["we", "PRP"], ["can", "MD"], ["do", "VB"], ["is", "VBZ"], ["just", "RB"], ["double", "RB"], ["the", "DT"], ["size", "NN"], ["of", "IN"], ["the", "DT"], ["input", "NN"], ["each", "DT"], ["time", "NN"], ["the", "DT"], ["way", "NN"], ["we", "PRP"], ["were", "VBD"], ["and", "CC"], ["take", "VB"], ["the", "DT"], ["ratio", "NN"], ["of", "IN"], ["the", "DT"], ["running", "NN"], ["times", "NNS"], ["for", "IN"], ["N", "NNP"], ["and", "CC"], ["2N", "CD"], [".", "."], ["And", "CC"], ["if", "IN"], ["you", "PRP"], ["do", "VBP"], ["that", "DT"], [",", ","], ["that", "WDT"], ["ratio", "VBZ"], ["going", "VBG"], ["to", "TO"], ["converge", "VB"], ["to", "TO"], ["a", "DT"], ["constant", "JJ"], [".", "."], ["And", "CC"], ["in", "IN"], ["fact", "NN"], ["the", "DT"], ["log", "NN"], ["of", "IN"], ["the", "DT"], ["ratio", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["converge", "VB"], ["to", "TO"], ["that", "DT"], ["constant", "NN"], [",", ","], ["which", "WDT"], ["is", "VBZ"], ["the", "DT"], ["exponent", "NN"], ["of", "IN"], ["N", "NNP"], ["and", "CC"], ["the", "DT"], ["running", "JJ"], ["time", "NN"], [".", "."], ["And", "CC"], ["you", "PRP"], ["just", "RB"], ["need", "VB"], ["a", "DT"], ["little", "JJ"], ["math", "NN"], ["to", "TO"], ["check", "VB"], ["that", "DT"], ["one", "CD"], [",", ","], ["but", "CC"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["very", "RB"], ["easy", "JJ"], ["and", "CC"], ["natural", "JJ"], ["way", "NN"], ["to", "TO"], ["go", "VB"], ["ahead", "RB"], ["and", "CC"], ["predict", "VBP"], ["running", "VBG"], ["times", "NNS"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["what", "WP"], ["I", "PRP"], ["said", "VBD"], ["before", "NN"], ["is", "VBZ"], [",", ","], ["so", "IN"], ["we", "PRP"], ["have", "VBP"], ["this", "DT"], ["quick", "JJ"], ["way", "NN"], ["to", "TO"], ["estimate", "VB"], ["B", "NNP"], ["in", "IN"], ["the", "DT"], ["power", "NN"], ["law", "NN"], ["relationsh", "NN"], ["ip", "NN"], [".", "."], ["How", "WRB"], ["do", "VBP"], ["we", "PRP"], ["estimate", "VB"], ["A", "DT"], ["?", "."], ["Well", "IN"], ["we", "PRP"], ["can", "MD"], ["just", "RB"], ["run", "VB"], ["it", "PRP"], ["and", "CC"], ["solve", "VB"], ["for", "IN"], ["A", "DT"], [".", "."], ["So", "RB"], ["once", "RB"], ["we", "PRP"], ["'ve", "VBP"], ["decided", "VBN"], ["that", "IN"], [",", ","], ["that", "DT"], ["exponent", "NN"], ["is", "VBZ"], ["three", "CD"], ["let", "NN"], ["'s", "POS"], ["run", "VB"], ["it", "PRP"], ["for", "IN"], ["some", "DT"], ["big", "JJ"], ["N", "NNP"], ["and", "CC"], ["we", "PRP"], ["get", "VBP"], ["pretty", "RB"], ["close", "JJ"], ["model", "NN"], ["to", "TO"], ["the", "DT"], ["one", "NN"], ["we", "PRP"], ["had", "VBD"], ["from", "IN"], ["plotting", "VBG"], ["things", "NNS"], [".", "."], ["So", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["almost", "RB"], ["identical", "JJ"], ["hypothesis", "NN"], ["and", "CC"], ["we", "PRP"], ["just", "RB"], ["got", "VBD"], ["it", "PRP"], ["by", "IN"], ["running", "VBG"], ["the", "DT"], ["program", "NN"], ["double", "JJ"], ["N", "NNP"], ["each", "DT"], ["time", "NN"], [".", "."], ["Okay", "NNP"], ["so", "IN"], ["there", "EX"], ["is", "VBZ"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["effects", "NNS"], ["in", "IN"], ["trying", "VBG"], ["to", "TO"], ["understand", "VB"], ["the", "DT"], ["running", "JJ"], ["time", "NN"], ["of", "IN"], ["a", "DT"], ["program", "NN"], ["on", "IN"], [",", ","], ["on", "IN"], ["your", "PRP$"], ["machine", "NN"], [".", "."], ["[", "JJ"], ["cough", "NN"], ["]", "NNP"], ["So", "NNP"], [".", "."], ["Key", "NNP"], ["effects", "NNS"], ["are", "VBP"], ["independent", "JJ"], ["of", "IN"], ["what", "WP"], ["computer", "NN"], ["it", "PRP"], ["is", "VBZ"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["algorithm", "NN"], ["you", "PRP"], ["'re", "VBP"], ["using", "VBG"], ["and", "CC"], ["what", "WP"], ["'s", "VBZ"], ["the", "DT"], ["data", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["really", "RB"], ["determine", "VB"], ["the", "DT"], ["exponent", "NN"], ["in", "IN"], ["the", "DT"], ["power", "NN"], ["law", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], [",", ","], ["system", "NN"], ["dependent", "JJ"], ["effects", "NNS"], [".", "."], ["What", "WP"], ["kind", "NN"], ["of", "IN"], ["hardware", "NN"], ["do", "VBP"], ["you", "PRP"], ["have", "VB"], ["?", "."], ["Do", "VB"], ["you", "PRP"], ["have", "VB"], ["a", "DT"], ["fast", "JJ"], ["computer", "NN"], ["or", "CC"], ["a", "DT"], ["slow", "JJ"], ["one", "CD"], ["?", "."], ["What", "WP"], ["kind", "NN"], ["of", "IN"], ["software", "NN"], ["?", "."], ["What", "WP"], ["'s", "VBZ"], ["going", "VBG"], ["on", "IN"], ["in", "IN"], ["your", "PRP$"], ["computer", "NN"], ["?", "."], ["All", "DT"], ["of", "IN"], ["those", "DT"], ["things", "NNS"], ["really", "RB"], ["determine", "VB"], ["the", "DT"], ["constant", "NN"], ["A", "NN"], ["in", "IN"], ["the", "DT"], ["power", "NN"], ["law", "NN"], [".", "."], ["So", "RB"], [".", "."], ["In", "IN"], ["modern", "JJ"], ["systems", "NNS"], ["it", "PRP"], ["is", "VBZ"], ["so", "RB"], ["much", "JJ"], ["going", "VBG"], ["on", "IN"], ["in", "IN"], ["the", "DT"], ["hardware", "NN"], ["and", "CC"], ["software", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["sometimes", "RB"], ["difficult", "JJ"], ["to", "TO"], ["get", "VB"], ["really", "RB"], ["precise", "JJ"], ["measurements", "NNS"], [".", "."], ["But", "CC"], ["on", "IN"], ["the", "DT"], ["other", "JJ"], ["hand", "NN"], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["have", "VB"], ["to", "TO"], ["sacrifice", "VB"], ["animals", "NNS"], [",", ","], ["or", "CC"], ["fly", "VB"], ["to", "TO"], ["another", "DT"], ["planet", "NN"], ["the", "DT"], ["way", "NN"], ["they", "PRP"], ["do", "VBP"], ["in", "IN"], ["other", "JJ"], ["sciences", "NNS"], [",", ","], ["we", "PRP"], ["can", "MD"], ["just", "RB"], ["run", "VB"], ["a", "DT"], ["huge", "JJ"], ["number", "NN"], ["of", "IN"], ["experiments", "NNS"], ["and", "CC"], ["usually", "RB"], ["take", "VBP"], ["care", "NN"], ["of", "IN"], ["understanding", "VBG"], ["these", "DT"], ["kind", "NN"], ["of", "IN"], ["effects", "NNS"], [".", "."]], "title": "observations", "text": "Okay, so the first step is to be able to make some observations about the running time of the programs. And for analysis of algorithms that's easier than in a lot of scientific disciplines, as we'll see. For a running example we're going to use the so-called 3-sum problem. And it's an easy to state problem. If you've got N distinct integers, how many triple sum to exactly zero? For example in this file 8ints.text. Text which has eight integers in it. There's four triples that sum to zero. 30 - 40, ten. 30 - twenty - ten and so forth and so our goal is to write a program that can compute this quantity for any input file, any set of N integers. This is actually a, an extremely important computation that's deeply related to many problems in computational geometry which is a branch of computer science that covers the algorithms and underlying science related to graphics and movies and geometric models of all sort. So this is a actually an important practical problem. But it's a simple one to write code for in a view you could write down this program without much effort. It's a, got a static method count that is going to go ahead and take a integer array as an argument. And, is that, that's a number of integers, that's the length of the array. We will start with a variable count equals zero, and then a triple for loop, that checks each triple I j k, we go I from one and j from I+1 to n, and k from j+1 to n, so that we get each triple just once. And then if I+j, ai + aj + ak = zero, we increment the count. Alright. And after that triple four loop, we return the count. And then the main method, in this simple class just reads in, all the integers, and prints out the count. So that's a brute force algorithm that is a fine method for solving the three sum problem, now what we're interested in is how much time does this take as a function of' n? Well, one to time our program is to is just look at the watch. If you have a stopwatch, or look at the clock or your phone, or whatever you might need you can just go ahead and time it if you want or we have, Java has this part of it's standard library, a stopwatch class that will go ahead and compute a lapse time. So, in order, anytime you run a program, if it is setup to easily take input of different sizes, a natural thing to do, is just run it for bigger sizes. So for eight ints this program takes not too much time, for 1000 ints it takes half a second. For 2,000. Takes more time. That's 3.7 seconds run it again, still takes 3.7 seconds for 4,000, so each time we're doubling the size of the input and it's definitely taking more time each time. And actually as we'll see if programmers who get in the habit of testing or any time on their program in this way can get so that you can actually pretty easily and quickly evaluate when it's going to finish. In fact. While you're waiting for it to finish you can often figure it out. So that one took 30 seconds for 4K and definitely we could figure it out how long it's going to take for 8K before it finishes, and you'll see how in just a second. I'm not going to wait right now. You can think about what you think. Okay so [cough] that's empirical analysis, analysis. Run it for various input sizes and measure their running time. Now if this were some scientific problem where we were counting something that happen in the natural world. The number of ants in an ant hill or whatever then we'd have only a few data points and we would try to understand whats was going on by doing a plot of or running time with quite interested in on the Y axis and problem size with the X axis. Hit a curve like this and actually whats science usually do because of some many problems fall into out of this class is do the plot as a lg, lg plot. If you do it as a lg, lg plot very often you'll get a straight line. And the slope of the straight line is the key to what's going on. In this case, the slope of the straight line is three and so you can run what's called a regression to fit a late, the straight line through the data points. And then, it's not difficult to show to do the math to show that if you get a straight line and the slope is B, then your function is proportional to A, N^B. That's called the power law. And that's true of many, many scientific problems including most algorithms. So here's a little bit of the math for that. So the straight line means that since we did a lg, lg plot with powers of two, that lg(T(N) = B lg N + C. And we have our empirical values of B and C and then if you raise both sides of that equation to two to that power then you get T(N) = a constant times N^B. So right away just from observation we have a pretty good model for the running time for our program, we can figure and do the math and figure out that it seems as though the running time is about ten^-10 N^3 seconds. We can use that hypothesis to go ahead and make predictions. Just plug in for different values of N and it says it will take us 400 seconds for 16,000. 400 seconds is plenty of time but now we can go ahead and invest and run that experiment and sure enough we're pretty close to that 408 seconds when we run it. And now we can make a prediction for 32,000 or for or for whatever else we might be interested in. The model helps us do predictions without investing the expense to run the experiments. In fact, in this situation if there is a power law, and again in a very great majority of computer algorithm running times is going to be a power law. What we can do is just double the size of the input each time the way we were and take the ratio of the running times for N and 2N. And if you do that, that ratio going to converge to a constant. And in fact the log of the ratio is going to converge to that constant, which is the exponent of N and the running time. And you just need a little math to check that one, but that's a very easy and natural way to go ahead and predict running times. So that's what I said before is, so we have this quick way to estimate B in the power law relationsh ip. How do we estimate A? Well we can just run it and solve for A. So once we've decided that, that exponent is three let's run it for some big N and we get pretty close model to the one we had from plotting things. So it's almost identical hypothesis and we just got it by running the program double N each time. Okay so there is a lot of effects in trying to understand the running time of a program on, on your machine. [cough] So. Key effects are independent of what computer it is. And that's the algorithm you're using and what's the data. And that's going to really determine the exponent in the power law. And then there's a lot of, system dependent effects. What kind of hardware do you have? Do you have a fast computer or a slow one? What kind of software? What's going on in your computer? All of those things really determine the constant A in the power law. So. In modern systems it is so much going on in the hardware and software, it's sometimes difficult to get really precise measurements. But on the other hand we don't have to sacrifice animals, or fly to another planet the way they do in other sciences, we can just run a huge number of experiments and usually take care of understanding these kind of effects. ", "video_ID": 8, "course_id": 3}
{"category": ["analysis of algorithms"], "tagged": [["Observing", "VBG"], ["what", "WP"], ["'s", "VBZ"], ["happening", "VBG"], ["as", "IN"], ["we", "PRP"], ["did", "VBD"], ["in", "IN"], ["the", "DT"], ["last", "JJ"], ["section", "NN"], ["it", "PRP"], ["gives", "VBZ"], ["us", "PRP"], ["a", "DT"], [",", ","], ["a", "DT"], ["way", "NN"], ["to", "TO"], ["predict", "VB"], ["performance", "NN"], ["but", "CC"], ["it", "PRP"], ["really", "RB"], ["does", "VBZ"], ["n't", "RB"], ["help", "VB"], ["us", "PRP"], ["understand", "VB"], ["what", "WP"], ["the", "DT"], ["algorithm", "NN"], ["'s", "POS"], ["doing", "VBG"], [".", "."], ["So", "NNP"], ["next", "JJ"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["mathematical", "JJ"], ["model", "NN"], [".", "."], ["A", "DT"], ["way", "NN"], ["to", "TO"], ["get", "VB"], ["a", "DT"], ["better", "JJR"], ["concept", "NN"], ["of", "IN"], ["what", "WP"], ["'s", "VBZ"], ["really", "RB"], ["happening", "VBG"], [".", "."], ["Again", "NNP"], [",", ","], ["this", "DT"], ["concept", "NN"], ["was", "VBD"], ["really", "RB"], ["developed", "JJ"], ["and", "CC"], ["popularized", "VBN"], ["by", "IN"], ["Don", "NNP"], ["Knuth", "NNP"], ["starting", "VBG"], ["in", "IN"], ["the", "DT"], ["late", "JJ"], ["60s", "NNS"], [".", "."], ["At", "IN"], ["that", "DT"], ["time", "NN"], [",", ","], ["computer", "NN"], ["systems", "NNS"], ["were", "VBD"], ["really", "RB"], ["becoming", "VBG"], ["complicated", "VBN"], ["for", "IN"], ["the", "DT"], ["first", "JJ"], ["time", "NN"], [".", "."], ["And", "CC"], ["computer", "NN"], ["scientists", "NNS"], ["were", "VBD"], ["concerned", "VBN"], ["about", "IN"], ["whether", "IN"], ["we", "PRP"], ["really", "RB"], ["were", "VBD"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["understand", "VB"], ["what", "WP"], ["'s", "VBZ"], ["going", "VBG"], ["on", "IN"], [".", "."], ["And", "CC"], ["Knuth", "NNP"], ["was", "VBD"], ["very", "RB"], ["direct", "JJ"], ["in", "IN"], ["saying", "VBG"], ["that", "IN"], ["this", "DT"], ["is", "VBZ"], ["something", "NN"], ["that", "IN"], ["we", "PRP"], ["certainly", "RB"], ["can", "MD"], ["do", "VB"], [".", "."], ["We", "PRP"], ["can", "MD"], ["calculate", "VB"], ["the", "DT"], ["total", "JJ"], ["running", "JJ"], ["time", "NN"], ["of", "IN"], ["a", "DT"], ["program", "NN"], ["by", "IN"], ["identifying", "VBG"], ["all", "PDT"], ["the", "DT"], ["basic", "JJ"], ["operations", "NNS"], [",", ","], ["figuring", "VBG"], ["out", "RP"], ["the", "DT"], ["cost", "NN"], [",", ","], ["figuring", "VBG"], ["out", "RP"], ["the", "DT"], ["frequency", "NN"], ["of", "IN"], ["execution", "NN"], ["and", "CC"], ["summing", "VBG"], ["up", "RP"], ["the", "DT"], ["cost", "NN"], ["times", "NNS"], ["frequency", "NN"], ["for", "IN"], ["all", "PDT"], ["the", "DT"], ["operations", "NNS"], [".", "."], ["You", "PRP"], ["have", "VBP"], ["to", "TO"], ["analyze", "VB"], ["the", "DT"], ["program", "NN"], ["to", "TO"], ["determine", "VB"], ["what", "WP"], ["set", "NN"], ["of", "IN"], ["operations", "NNS"], ["and", "CC"], ["the", "DT"], ["cost", "NN"], ["depends", "VBZ"], ["on", "IN"], ["the", "DT"], ["machine", "NN"], ["and", "CC"], ["the", "DT"], ["computer", "NN"], ["in", "IN"], ["the", "DT"], ["system", "NN"], ["is", "VBZ"], ["what", "WP"], ["we", "PRP"], ["talked", "VBD"], ["about", "IN"], ["before", "RB"], [".", "."], ["The", "DT"], ["frequency", "NN"], ["leads", "VBZ"], ["us", "PRP"], ["to", "TO"], ["mathematics", "NNS"], ["because", "IN"], ["it", "PRP"], ["depends", "VBZ"], ["on", "IN"], ["the", "DT"], ["algorithm", "NN"], ["and", "CC"], ["input", "NN"], ["data", "NNS"], [".", "."], ["Knuth", "NNP"], ["has", "VBZ"], ["written", "VBN"], ["a", "DT"], ["series", "NN"], ["of", "IN"], ["books", "NNS"], ["that", "WDT"], ["give", "VBP"], ["very", "RB"], ["detailed", "JJ"], ["and", "CC"], ["all", "DT"], ["exact", "JJ"], ["analyses", "NNS"], ["within", "IN"], ["a", "DT"], ["particular", "JJ"], ["computer", "NN"], ["model", "NN"], ["for", "IN"], ["a", "DT"], ["wide", "JJ"], ["range", "NN"], ["of", "IN"], ["algorithms", "NN"], [".", "."], ["So", "RB"], [",", ","], ["from", "IN"], ["Knuth", "NNP"], [",", ","], ["we", "PRP"], ["know", "VBP"], ["that", "IN"], ["in", "IN"], ["principle", "NN"], [",", ","], ["we", "PRP"], ["can", "MD"], ["get", "VB"], ["accurate", "JJ"], ["mathematical", "JJ"], ["models", "NNS"], ["for", "IN"], ["the", "DT"], ["performance", "NN"], ["of", "IN"], ["algorithms", "NN"], ["or", "CC"], ["programs", "NNS"], ["and", "CC"], ["operation", "NN"], [".", "."], ["All", "DT"], ["right", "JJ"], [".", "."], ["So", "RB"], ["what", "WP"], [",", ","], ["what", "WP"], ["does", "VBZ"], ["this", "DT"], ["process", "NN"], ["look", "NN"], ["like", "IN"], ["?", "."], ["Well", "NNP"], ["you", "PRP"], ["can", "MD"], [",", ","], ["if", "IN"], ["you", "PRP"], ["want", "VBP"], ["run", "JJ"], ["experiments", "NNS"], [".", "."], ["In", "IN"], [",", ","], ["in", "IN"], ["ancient", "JJ"], ["times", "NNS"], [",", ","], ["we", "PRP"], ["would", "MD"], ["actually", "RB"], ["look", "VB"], ["at", "IN"], ["the", "DT"], ["computer", "NN"], ["manual", "NN"], ["and", "CC"], ["every", "DT"], ["computer", "NN"], ["came", "VBD"], ["with", "IN"], ["a", "DT"], ["manual", "JJ"], ["that", "WDT"], ["said", "VBD"], ["precisely", "RB"], ["how", "WRB"], ["long", "JJ"], ["each", "DT"], ["instruction", "NN"], ["would", "MD"], ["take", "VB"], [".", "."], ["But", "CC"], ["nowadays", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["little", "RB"], ["more", "RBR"], ["complicated", "JJ"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["run", "VBP"], ["experiments", "NNS"], ["and", "CC"], [",", ","], ["and", "CC"], ["you", "PRP"], ["can", "MD"], ["go", "VB"], ["ahead", "RB"], ["and", "CC"], ["do", "VB"], ["a", "DT"], ["billion", "CD"], ["ads", "NNS"], ["and", "CC"], ["figure", "NN"], ["out", "RP"], ["that", "IN"], ["maybe", "RB"], ["on", "IN"], ["your", "PRP$"], ["computer", "NN"], [",", ","], ["an", "DT"], ["ad", "NN"], ["takes", "VBZ"], ["2.1", "CD"], ["nano", "NN"], ["seconds", "NNS"], [".", "."], ["Or", "CC"], ["you", "PRP"], ["can", "MD"], ["do", "VB"], ["more", "JJR"], ["complicated", "JJ"], ["function", "NN"], ["s", "NN"], ["like", "IN"], ["computer", "NN"], ["sign", "NN"], ["or", "CC"], ["an", "DT"], ["arc", "JJ"], ["tangent", "NN"], ["although", "IN"], ["that", "DT"], ["'s", "VBZ"], ["already", "RB"], ["getting", "VBG"], ["close", "RB"], ["to", "TO"], ["the", "DT"], ["analysis", "NN"], ["of", "IN"], ["algorithms", "NN"], [".", "."], ["So", "RB"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["some", "DT"], ["way", "NN"], ["to", "TO"], ["determine", "VB"], ["the", "DT"], ["costs", "NNS"], ["of", "IN"], ["the", "DT"], ["basic", "JJ"], ["operations", "NNS"], [".", "."], ["And", "CC"], ["so", "RB"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["just", "RB"], ["in", "IN"], ["most", "JJS"], [",", ","], ["most", "JJS"], ["of", "IN"], ["the", "DT"], ["cases", "NNS"], ["we", "PRP"], ["'ll", "MD"], ["just", "RB"], ["postulate", "VB"], ["that", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["some", "DT"], ["constant", "JJ"], ["and", "CC"], ["you", "PRP"], ["can", "MD"], ["figure", "VB"], ["out", "RP"], ["what", "WP"], ["the", "DT"], ["constant", "NN"], ["is", "VBZ"], [".", "."], ["Although", "IN"], ["when", "WRB"], ["we", "PRP"], ["'re", "VBP"], ["working", "VBG"], ["with", "IN"], ["a", "DT"], ["collection", "NN"], ["of", "IN"], ["objects", "NNS"], [",", ","], ["of", "IN"], ["anobjects", "NNS"], ["there", "EX"], ["are", "VBP"], ["some", "DT"], ["things", "NNS"], ["that", "WDT"], ["takes", "VBZ"], ["time", "NN"], ["proportional", "JJ"], ["to", "TO"], ["N", "NNP"], ["like", "IN"], ["if", "IN"], ["you", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["allocate", "VB"], ["a", "DT"], ["array", "NN"], ["of", "IN"], ["size", "NN"], ["N", "NNP"], ["it", "PRP"], ["takes", "VBZ"], ["time", "NN"], ["proportional", "JJ"], ["to", "TO"], ["N", "NNP"], ["because", "IN"], ["in", "IN"], ["Java", "NNP"], ["the", "DT"], ["default", "NN"], ["is", "VBZ"], ["that", "IN"], ["all", "PDT"], ["the", "DT"], ["elements", "NNS"], ["in", "IN"], ["the", "DT"], ["array", "NN"], ["initialize", "NN"], ["to", "TO"], ["zero", "CD"], [".", "."], ["In", "IN"], ["other", "JJ"], ["operations", "NNS"], ["it", "PRP"], ["depends", "VBZ"], ["on", "IN"], ["the", "DT"], ["system", "NN"], ["implementation", "NN"], ["and", "CC"], ["an", "DT"], ["important", "JJ"], ["one", "CD"], ["is", "VBZ"], ["string", "VBG"], ["concatenation", "NN"], [".", "."], ["If", "IN"], ["you", "PRP"], ["concatenate", "VBP"], ["two", "CD"], ["strings", "NNS"], ["the", "DT"], ["running", "JJ"], ["time", "NN"], ["is", "VBZ"], ["proportional", "JJ"], ["to", "TO"], ["the", "DT"], ["length", "NN"], ["of", "IN"], ["the", "DT"], ["string", "NN"], [".", "."], ["In", "IN"], ["many", "JJ"], ["novices", "NNS"], ["programming", "VBG"], ["in", "IN"], ["Java", "NNP"], [",", ","], ["make", "VBP"], ["a", "DT"], ["mistake", "NN"], ["of", "IN"], ["assuming", "VBG"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["constant", "JJ"], ["time", "NN"], ["operation", "NN"], ["when", "WRB"], ["its", "PRP$"], ["not", "RB"], [".", "."], ["Alright", "NNP"], [",", ","], ["so", "IN"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["cost", "NN"], ["of", "IN"], ["each", "DT"], ["operation", "NN"], [".", "."], ["More", "JJR"], ["interesting", "JJ"], ["is", "VBZ"], ["the", "DT"], ["frequency", "NN"], ["of", "IN"], ["operation", "NN"], [",", ","], ["of", "IN"], ["execution", "NN"], ["of", "IN"], ["the", "DT"], ["operations", "NNS"], [".", "."], ["So", "IN"], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], [",", ","], ["a", "DT"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["very", "RB"], ["simple", "JJ"], ["variant", "NN"], ["of", "IN"], ["the", "DT"], ["three", "CD"], ["sum", "NN"], ["problem", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["the", "DT"], ["one", "CD"], ["sum", "NN"], ["problem", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["how", "WRB"], ["many", "JJ"], ["numbers", "NNS"], ["are", "VBP"], ["actually", "RB"], ["equal", "JJ"], ["to", "TO"], ["zero", "VB"], ["?", "."], ["How", "WRB"], ["many", "JJ"], ["single", "JJ"], ["numbers", "NNS"], ["add", "VBP"], ["up", "RB"], ["to", "TO"], ["zero", "CD"], ["?", "."], ["So", "RB"], [",", ","], ["that", "IN"], ["one", "CD"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["just", "RB"], ["one", "CD"], ["four", "CD"], ["loop", "NN"], [",", ","], ["and", "CC"], ["we", "PRP"], ["go", "VBP"], ["through", "IN"], [",", ","], ["and", "CC"], ["we", "PRP"], ["tested", "VBD"], ["the", "DT"], ["number", "NN"], ["zero", "NN"], ["and", "CC"], ["increment", "NN"], ["or", "CC"], ["count", "NN"], [".", "."], ["And", "CC"], ["by", "IN"], ["analyzing", "VBG"], ["that", "IN"], ["code", "NN"], ["you", "PRP"], ["can", "MD"], ["see", "VB"], ["that", "IN"], ["I", "PRP"], ["and", "CC"], ["count", "NN"], ["have", "VBP"], ["to", "TO"], ["be", "VB"], ["declared", "VBN"], ["and", "CC"], ["then", "RB"], ["they", "PRP"], ["have", "VBP"], ["to", "TO"], ["be", "VB"], ["assigned", "VBN"], ["to", "TO"], ["zero", "CD"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["compares", "NNS"], ["of", "IN"], ["i", "NN"], ["against", "IN"], ["N", "NNP"], ["and", "CC"], ["there", "EX"], ["'s", "VBZ"], ["N", "NNP"], ["+", "NNP"], ["one", "CD"], ["of", "IN"], ["them", "PRP"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["compares", "NNS"], ["of", "IN"], ["A", "NNP"], ["(", "("], ["i", "NN"], [")", ")"], ["against", "IN"], ["zero", "NN"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["N", "NNP"], ["of", "IN"], ["those", "DT"], [",", ","], ["N", "NNP"], ["array", "NN"], ["axises", "NNS"], ["and", "CC"], ["the", "DT"], ["number", "NN"], ["incremented", "VBN"], ["is", "VBZ"], ["number", "NN"], ["of", "IN"], ["times", "NNS"], ["there", "EX"], ["'s", "VBZ"], ["an", "DT"], ["increment", "NN"], ["is", "VBZ"], ["variable", "JJ"], [".", "."], ["I", "PRP"], ["has", "VBZ"], ["incremented", "VBN"], ["N", "NNP"], ["times", "NNS"], [",", ","], ["but", "CC"], ["count", "NN"], ["could", "MD"], ["be", "VB"], ["incremented", "VBN"], ["any", "DT"], ["number", "NN"], ["from", "IN"], ["zero", "CD"], ["to", "TO"], ["N", "NNP"], ["times", "NNS"], [".", "."], ["And", "CC"], ["so", "RB"], ["that", "IN"], ["frequency", "NN"], ["is", "VBZ"], ["dependent", "JJ"], ["on", "IN"], ["the", "DT"], ["input", "NN"], ["data", "NNS"], [".", "."], ["Or", "CC"], ["we", "PRP"], ["might", "MD"], ["need", "VB"], ["a", "DT"], ["model", "NN"], ["for", "IN"], ["describing", "VBG"], ["that", "DT"], ["or", "CC"], ["maybe", "RB"], ["there", "EX"], ["'s", "VBZ"], ["other", "JJ"], ["operations", "NNS"], ["that", "WDT"], ["are", "VBP"], ["more", "JJR"], ["e", "JJ"], ["xpensive", "JJ"], ["and", "CC"], ["we", "PRP"], ["wo", "MD"], ["n't", "RB"], ["need", "VB"], ["to", "TO"], ["worry", "VB"], ["about", "IN"], ["that", "DT"], [".", "."], ["So", "RB"], [",", ","], ["let", "VB"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["the", "DT"], ["next", "JJ"], ["more", "RBR"], ["complicated", "JJ"], ["problem", "NN"], ["is", "VBZ"], ["what", "WP"], ["about", "IN"], ["the", "DT"], ["frequency", "NN"], ["of", "IN"], ["execution", "NN"], ["of", "IN"], ["instructions", "NNS"], ["in", "IN"], ["this", "DT"], ["program", "NN"], ["which", "WDT"], ["is", "VBZ"], ["the", "DT"], ["two", "CD"], ["sum", "NN"], ["problem", "NN"], [",", ","], ["how", "WRB"], ["many", "JJ"], ["pairs", "NNS"], ["of", "IN"], ["integers", "NNS"], ["sum", "VBP"], ["to", "TO"], ["zero", "CD"], ["?", "."], ["Well", "UH"], [",", ","], ["in", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["you", "PRP"], ["have", "VBP"], ["to", "TO"], ["do", "VB"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["of", "IN"], ["math", "NN"], ["to", "TO"], ["see", "VB"], ["that", "IN"], ["when", "WRB"], ["we", "PRP"], ["when", "WRB"], ["i", "NN"], ["goes", "VBZ"], ["from", "IN"], ["zero", "CD"], ["to", "TO"], ["N", "NNP"], [",", ","], ["and", "CC"], ["j", "NN"], ["goes", "VBZ"], ["from", "IN"], ["i", "NN"], ["+", "VBP"], ["a", "DT"], ["to", "TO"], ["N", "NNP"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["compares", "NNS"], ["that", "IN"], ["we", "PRP"], ["do", "VBP"], ["work", "VB"], [",", ","], ["plus", "CC"], ["array", "NN"], ["axises", "NNS"], ["that", "IN"], ["we", "PRP"], ["do", "VBP"], ["is", "VBZ"], ["two", "CD"], ["for", "IN"], ["each", "DT"], ["time", "NN"], ["the", "DT"], ["if", "IN"], ["statement", "NN"], ["is", "VBZ"], ["executed", "VBN"], ["for", "IN"], ["Ai", "NNP"], ["and", "CC"], ["Aj", "NNP"], ["and", "CC"], ["that", "IN"], ["time", "NN"], ["is", "VBZ"], [",", ","], ["thing", "NN"], ["is", "VBZ"], ["executed", "VBN"], ["N", "NNP"], ["-", ":"], ["one", "CD"], ["times", "VBZ"], ["the", "DT"], ["first", "JJ"], ["time", "NN"], ["through", "IN"], ["the", "DT"], ["loop", "NN"], ["and", "CC"], ["N", "NNP"], ["-two^2", "NNP"], ["and", "CC"], ["so", "RB"], ["forth", "RB"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["the", "DT"], ["sum", "NN"], ["of", "IN"], ["the", "DT"], ["integers", "NNS"], ["from", "IN"], ["zero", "CD"], ["up", "IN"], ["to", "TO"], ["N", "NNP"], ["-", ":"], ["one", "CD"], ["which", "WDT"], ["is", "VBZ"], ["a", "DT"], ["simple", "JJ"], ["discrete", "JJ"], ["sum", "NN"], ["one-half", "JJ"], ["N", "NNP"], [",", ","], ["(", "("], ["N", "NNP"], ["-", ":"], ["one", "NN"], [")", ")"], ["and", "CC"], ["since", "IN"], [",", ","], ["and", "CC"], ["since", "IN"], ["we", "PRP"], ["'re", "VBP"], ["doing", "VBG"], ["it", "PRP"], ["twice", "RB"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["array", "JJ"], ["axises", "NNS"], ["is", "VBZ"], ["N", "NNP"], [",", ","], ["N", "NNP"], ["-", ":"], ["one", "NN"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["can", "MD"], ["go", "VB"], ["ahead", "RB"], ["and", "CC"], ["get", "VB"], ["these", "DT"], ["actual", "JJ"], ["exact", "NN"], ["counts", "NNS"], [".", "."], ["But", "CC"], ["already", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["getting", "VBG"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["tedious", "JJ"], ["to", "TO"], ["do", "VB"], ["that", "DT"], [".", "."], ["And", "CC"], ["as", "IN"], ["far", "RB"], ["back", "RB"], ["as", "IN"], ["Turing", "NN"], ["who", "WP"], ["also", "RB"], ["knew", "VBD"], ["that", "DT"], ["and", "CC"], ["as", "RB"], ["well", "RB"], ["as", "IN"], ["Babbage", "NNP"], ["did", "VBD"], [",", ","], ["that", "IN"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["have", "VB"], ["a", "DT"], ["measure", "NN"], ["of", "IN"], ["the", "DT"], ["amount", "NN"], ["of", "IN"], ["work", "NN"], ["involved", "VBN"], ["in", "IN"], ["the", "DT"], ["process", "NN"], [".", "."], ["He", "PRP"], ["recognized", "VBD"], ["that", "IN"], ["you", "PRP"], ["did", "VBD"], ["n't", "RB"], ["want", "VB"], ["to", "TO"], ["necessarily", "RB"], ["go", "VB"], ["through", "IN"], ["and", "CC"], ["do", "VB"], ["it", "PRP"], ["in", "IN"], ["full", "JJ"], ["detail", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["still", "RB"], ["helpful", "JJ"], ["to", "TO"], ["have", "VB"], ["a", "DT"], ["crude", "JJ"], ["estimate", "NN"], [".", "."], ["So", "RB"], [",", ","], ["you", "PRP"], ["could", "MD"], ["count", "VB"], ["up", "RP"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["times", "NNS"], ["that", "WDT"], ["every", "DT"], ["operation", "NN"], ["is", "VBZ"], ["applied", "VBN"], [",", ","], ["give", "VB"], ["it", "PRP"], ["weights", "JJR"], ["and", "CC"], [",", ","], ["and", "CC"], ["count", "VB"], ["the", "DT"], ["[", "NNP"], ["inaudible", "JJ"], ["]", "NN"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["But", "CC"], ["maybe", "RB"], ["we", "PRP"], ["should", "MD"], ["just", "RB"], ["count", "VB"], ["the", "DT"], ["ones", "NNS"], ["that", "WDT"], ["are", "VBP"], ["most", "RBS"], ["expensive", "JJ"], ["that", "DT"], ["'s", "VBZ"], ["what", "WP"], ["Turing", "NNP"], ["said", "VBD"], ["in", "IN"], ["1947", "CD"], [",", ","], ["and", "CC"], ["realistically", "RB"], ["that", "DT"], ["'s", "VBZ"], ["what", "WP"], ["we", "PRP"], ["do", "VBP"], ["nowadays", "RB"], [".", "."], ["So", "IN"], ["rather", "RB"], ["than", "IN"], ["going", "VBG"], ["in", "IN"], ["and", "CC"], ["counting", "VBG"], ["every", "DT"], ["little", "JJ"], ["detail", "NN"], [",", ","], ["we", "PRP"], ["take", "VBP"], ["some", "DT"], ["basic", "JJ"], ["operation", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["maybe", "RB"], ["the", "DT"], ["most", "RBS"], ["expensive", "JJ"], ["and", "CC"], ["or", "CC"], ["and", "CC"], ["or", "CC"], ["the", "DT"], ["one", "CD"], ["that", "WDT"], ["'s", "VBZ"], ["executed", "VBN"], ["the", "DT"], ["most", "RBS"], ["often", "RB"], [".", "."], ["The", "DT"], ["one", "NN"], ["that", "WDT"], ["cost", "NN"], ["and", "CC"], ["frequency", "NN"], ["is", "VBZ"], ["the", "DT"], ["highest", "JJS"], ["and", "CC"], ["use", "VB"], ["that", "IN"], ["as", "IN"], ["a", "DT"], ["proxy", "NN"], ["for", "IN"], ["running", "VBG"], ["time", "NN"], [".", "."], ["Essentially", "RB"], [",", ","], ["making", "VBG"], ["the", "DT"], ["hypothesis", "NN"], ["that", "IN"], ["the", "DT"], ["running", "JJ"], ["time", "NN"], ["is", "VBZ"], [",", ","], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["grow", "VB"], ["like", "IN"], ["a", "DT"], ["constant", "JJ"], ["times", "NNS"], ["[", "VBP"], ["inaudible", "JJ"], ["]", "NN"], [",", ","], ["So", "NNP"], [",", ","], ["in", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["were", "VBD"], ["going", "VBG"], ["to", "TO"], ["pick", "VB"], ["array", "NN"], ["axises", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["first", "JJ"], ["simplification", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["second", "JJ"], ["simplification", "NN"], ["is", "VBZ"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["ignore", "VB"], ["low", "JJ"], ["order", "NN"], ["terms", "NNS"], ["in", "IN"], ["the", "DT"], ["formulas", "NNS"], ["that", "IN"], ["we", "PRP"], ["derive", "VBP"], [".", "."], ["And", "CC"], ["there", "EX"], ["'s", "VBZ"], ["an", "DT"], ["easy", "JJ"], ["way", "NN"], ["to", "TO"], ["do", "VB"], ["that", "DT"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["called", "VBN"], ["the", "DT"], ["tilde", "NN"], ["notation", "NN"], ["and", "CC"], [",", ","], ["and", "CC"], ["the", "DT"], ["idea", "NN"], ["is", "VBZ"], ["when", "WRB"], ["N", "NNP"], ["is", "VBZ"], ["large", "JJ"], ["in", "IN"], ["a", "DT"], ["formula", "NN"], ["like", "IN"], ["this", "DT"], ["the", "DT"], ["N^3", "NNP"], ["term", "NN"], ["is", "VBZ"], ["much", "RB"], [",", ","], ["much", "RB"], ["higher", "JJR"], ["than", "IN"], ["the", "DT"], ["N", "NNP"], ["term", "NN"], ["or", "CC"], ["sixteen", "NN"], [".", "."], ["In", "IN"], ["fact", "NN"], [",", ","], ["so", "RB"], ["much", "RB"], ["so", "IN"], ["that", "IN"], ["we", "PRP"], ["would", "MD"], ["n't", "RB"], ["even", "RB"], ["hardly", "RB"], ["notice", "JJ"], ["these", "DT"], ["low", "JJ"], ["order", "NN"], ["terms", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["all", "DT"], ["of", "IN"], ["these", "DT"], ["formulas", "NNS"], ["are", "VBP"], ["tilde", "JJ"], ["one-sixth", "JJ"], ["N^3", "NNP"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["fine", "JJ"], ["representative", "NN"], ["or", "CC"], ["approximate", "NN"], [",", ","], ["approximation", "NN"], ["to", "TO"], ["these", "DT"], ["quantities", "NNS"], [".", "."], ["And", "CC"], ["it", "PRP"], ["greatly", "RB"], ["simplifies", "VBZ"], ["their", "PRP$"], ["calculations", "NNS"], ["to", "TO"], ["for", "IN"], ["a", "DT"], [",", ","], ["through", "IN"], ["a", "DT"], ["way", "NN"], ["to", "TO"], ["lower", "VB"], [",", ","], ["lower", "JJR"], ["to", "TO"], ["terms", "NNS"], ["like", "IN"], ["this", "DT"], [".", "."], ["So", "RB"], [",", ","], ["by", "IN"], ["focusing", "VBG"], ["on", "IN"], ["one", "CD"], ["operation", "NN"], ["and", "CC"], [",", ","], ["throwing", "VBG"], ["away", "RB"], ["the", "DT"], ["tildes", "NNS"], [",", ","], ["the", "DT"], ["lower", "JJR"], ["the", "DT"], ["terms", "NNS"], ["and", "CC"], ["this", "DT"], ["is", "VBZ"], ["the", "DT"], ["technical", "JJ"], ["definition", "NN"], ["of", "IN"], ["tilde", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["just", "RB"], [",", ","], ["F", "NNP"], ["(", "("], ["N", "NNP"], [")", ")"], ["tilde", "NN"], ["G", "NNP"], ["(", "("], ["N", "NNP"], [")", ")"], ["means", "VBZ"], ["the", "DT"], ["limit", "NN"], ["as", "IN"], ["FN", "NNP"], ["or", "CC"], ["GN", "NNP"], ["equals", "NNS"], ["one", "CD"], [",", ","], ["and", "CC"], ["you", "PRP"], ["can", "MD"], ["check", "VB"], ["that", "IN"], ["that", "DT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["hold", "VB"], ["in", "IN"], ["these", "DT"], ["kinds", "NNS"], ["of", "IN"], ["situations", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["greatly", "RB"], ["simplifies", "VBZ"], ["the", "DT"], ["frequency", "NN"], ["counts", "VBZ"], [".", "."], ["And", "CC"], ["if", "IN"], ["we", "PRP"], ["'re", "VBP"], ["only", "RB"], ["picking", "VBG"], ["one", "CD"], ["thing", "NN"], ["we", "PRP"], ["'re", "VBP"], ["just", "RB"], ["talking", "VBG"], ["about", "IN"], ["tilde", "NN"], ["N^2", "NNP"], ["and", "CC"], ["maybe", "RB"], ["another", "DT"], ["tilde", "NN"], ["N^2", "NNP"], ["for", "IN"], ["the", "DT"], ["increment", "NN"], ["for", "IN"], ["the", "DT"], ["two", "CD"], ["sum", "NN"], ["problems", "NNS"], [",", ","], ["okay", "RB"], [".", "."], ["So", "RB"], ["again", "RB"], [",", ","], ["when", "WRB"], ["N", "NNP"], ["is", "VBZ"], ["large", "JJ"], [",", ","], ["the", "DT"], ["terms", "NNS"], ["are", "VBP"], ["negligible", "JJ"], ["and", "CC"], ["when", "WRB"], ["N", "NNP"], ["is", "VBZ"], ["really", "RB"], ["small", "JJ"], [",", ","], ["they", "PRP"], ["'re", "VBP"], ["not", "RB"], ["negligible", "JJ"], ["but", "CC"], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["really", "RB"], ["care", "VB"], ["because", "IN"], ["we", "PRP"], ["'re", "VBP"], ["trying", "VBG"], ["to", "TO"], ["estimate", "VB"], ["running", "VBG"], ["times", "NNS"], ["for", "IN"], ["large", "JJ"], ["N", "NNP"], ["and", "CC"], ["running", "VBG"], ["times", "NNS"], ["for", "IN"], ["small", "JJ"], ["N", "NNP"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["small", "JJ"], ["no", "DT"], ["matter", "NN"], ["what", "WP"], [".", "."], ["All", "DT"], ["right", "JJ"], [",", ","], ["so", "RB"], ["now", "RB"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["using", "VBG"], ["both", "DT"], ["the", "DT"], ["cost", "NN"], ["model", "NN"], ["and", "CC"], ["the", "DT"], ["tilde", "JJ"], ["notation", "NN"], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["can", "MD"], ["simply", "RB"], ["say", "VB"], [",", ","], ["that", "IN"], ["this", "DT"], ["program", "NN"], ["uses", "VBZ"], ["tilde", "JJ"], ["N^2", "NNP"], ["squared", "VBD"], ["array", "JJ"], ["axises", "NNS"], ["and", "CC"], ["have", "VBP"], ["implicit", "VBN"], ["the", "DT"], ["hypothesis", "NN"], ["that", "IN"], ["we", "PRP"], ["think", "VBP"], ["the", "DT"], ["running", "NN"], ["time", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["tilde", "VBN"], [",", ","], ["a", "DT"], ["constant", "NN"], [",", ","], ["times", "CC"], ["N", "NNP"], ["squared", "VBD"], [".", "."], ["Okay", "NNP"], [",", ","], ["we", "PRP"], ["now", "RB"], ["what", "WP"], ["about", "IN"], ["three", "CD"], ["sums", "NNS"], [",", ","], ["let", "VB"], ["'s", "POS"], ["do", "VB"], ["a", "DT"], [",", ","], ["a", "DT"], ["real", "JJ"], ["problem", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["the", "DT"], ["triple", "JJ"], ["loop", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["do", "VB"], ["a", "DT"], ["more", "RBR"], ["complicated", "JJ"], ["combinatorial", "NN"], ["problem", "NN"], ["in", "IN"], ["is", "VBZ"], ["not", "RB"], ["that", "DT"], ["big", "JJ"], ["a", "DT"], ["deal", "NN"], ["really", "RB"], ["we", "PRP"], ["are", "VBP"], ["looking", "VBG"], ["at", "IN"], ["the", "DT"], ["distinct", "JJ"], ["number", "NN"], ["of", "IN"], ["ways", "NNS"], ["you", "PRP"], ["can", "MD"], ["chose", "VB"], ["three", "CD"], ["things", "NNS"], ["out", "IN"], ["of", "IN"], ["N", "NNP"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["binomial", "JJ"], ["coefficient", "NN"], [".", "."], ["And", "CC"], ["again", "RB"], [",", ","], ["doing", "VBG"], ["the", "DT"], ["math", "NN"], ["and", "CC"], ["using", "VBG"], ["the", "DT"], ["tilde", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["just", "RB"], ["tilde", "JJ"], ["one-sixth", "JJ"], ["N^3", "NNP"], ["three", "CD"], ["ray", "NN"], ["axises", "NNS"], ["for", "IN"], ["each", "DT"], ["triple", "NN"], ["so", "IN"], ["we", "PRP"], ["can", "MD"], ["say", "VB"], ["one-half", "JJ"], ["N^3", "NNP"], [".", "."], ["So", "IN"], ["we", "PRP"], ["'re", "VBP"], ["not", "RB"], ["computing", "VBG"], ["and", "CC"], ["summing", "VBG"], ["the", "DT"], ["costs", "NNS"], ["of", "IN"], ["all", "DT"], ["operations", "NNS"], ["that", "WDT"], ["'s", "VBZ"], ["too", "RB"], ["much", "JJ"], ["work", "NN"], [".", "."], ["We", "PRP"], ["'re", "VBP"], ["picking", "VBG"], ["the", "DT"], ["most", "RBS"], ["expensive", "JJ"], ["in", "IN"], ["terms", "NNS"], ["of", "IN"], ["cost", "NN"], ["times", "NNS"], ["frequency", "NN"], ["and", "CC"], ["approximating", "VBG"], ["that", "DT"], ["and", "CC"], ["trying", "VBG"], ["to", "TO"], ["get", "VB"], ["a", "DT"], ["good", "JJ"], ["model", "NN"], ["for", "IN"], ["the", "DT"], ["running", "JJ"], ["time", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], ["most", "JJS"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], ["of", "IN"], ["a", "DT"], ["full", "JJ"], ["discrete", "NN"], ["mathematics", "NNS"], ["in", "IN"], ["this", "DT"], ["course", "NN"], ["but", "CC"], ["there", "EX"], ["'s", "VBZ"], ["some", "DT"], ["basic", "JJ"], ["things", "NNS"], ["that", "IN"], ["we", "PRP"], ["'ll", "MD"], ["want", "VB"], ["to", "TO"], ["use", "VB"], ["and", "CC"], ["are", "VBP"], [",", ","], ["are", "VBP"], ["not", "RB"], ["that", "IN"], ["difficult", "JJ"], ["to", "TO"], ["understand", "VB"], [".", "."], ["So", "RB"], [",", ","], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["times", "NNS"], ["we", "PRP"], ["find", "VBP"], ["out", "RP"], ["that", "IN"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["come", "VB"], ["up", "RP"], ["with", "IN"], ["an", "DT"], ["estimate", "NN"], ["of", "IN"], ["a", "DT"], ["discrete", "JJ"], ["sum", "NN"], [".", "."], ["Like", "IN"], ["we", "PRP"], ["did", "VBD"], ["for", "IN"], ["one", "CD"], ["+", "NN"], ["two", "CD"], ["up", "IN"], ["to", "TO"], ["N.", "NNP"], ["Or", "NNP"], ["some", "DT"], ["of", "IN"], ["the", "DT"], ["squares", "NNS"], ["or", "CC"], ["other", "JJ"], ["things", "NNS"], ["like", "IN"], ["the", "DT"], ["three", "CD"], ["sum", "NN"], ["triple", "JJ"], ["loop", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], ["actually", "RB"], ["if", "IN"], ["you", "PRP"], ["'ve", "VBP"], ["had", "VBN"], ["basic", "JJ"], ["calculus", "NN"], [",", ","], ["one", "CD"], ["way", "NN"], ["to", "TO"], ["think", "VB"], ["of", "IN"], ["it", "PRP"], ["as", "IN"], ["to", "TO"], ["just", "RB"], ["replace", "VB"], ["the", "DT"], ["sum", "NN"], ["with", "IN"], ["an", "DT"], ["interval", "NN"], [",", ","], ["integral", "JJ"], [".", "."], ["That", "DT"], ["usually", "RB"], ["works", "VBZ"], ["or", "CC"], ["we", "PRP"], ["can", "MD"], ["do", "VB"], ["the", "DT"], ["math", "NN"], ["and", "CC"], ["use", "VB"], ["the", "DT"], ["so-called", "JJ"], ["Euler–Maclaurin", "NNP"], ["summation", "NN"], ["formula", "NN"], ["to", "TO"], ["get", "VB"], ["a", "DT"], ["true", "JJ"], ["approximation", "NN"], [".", "."], ["But", "CC"], ["if", "IN"], ["you", "PRP"], ["think", "VBP"], ["of", "IN"], ["it", "PRP"], ["this", "DT"], ["way", "NN"], ["you", "PRP"], ["'ll", "MD"], ["believe", "VB"], ["us", "PRP"], ["when", "WRB"], ["we", "PRP"], ["say", "VBP"], ["that", "IN"], [",", ","], ["that", "IN"], ["thing", "NN"], ["is", "VBZ"], ["tilde", "JJ"], ["one-half", "JJ"], ["N^2", "NNP"], ["or", "CC"], ["sum", "NN"], ["of", "IN"], ["one+", "JJ"], ["one-half", "JJ"], ["+", "NN"], ["one-third", "NN"], ["up", "IN"], ["to", "TO"], ["one", "CD"], ["/", "NN"], ["N.", "NNP"], ["That", "NNP"], ["'s", "POS"], ["like", "JJ"], ["integral", "NN"], ["from", "IN"], ["x", "NNP"], ["=", "NNP"], ["one", "CD"], ["to", "TO"], ["N1", "NNP"], ["/", "NNP"], ["x", "NNP"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["natural", "JJ"], ["log", "NN"], ["of", "IN"], ["N.", "NNP"], ["Now", "RB"], ["even", "RB"], ["the", "DT"], ["three", "CD"], ["sum", "NN"], ["triple", "JJ"], ["loop", "NN"], ["kind", "NN"], ["of", "IN"], ["if", "IN"], ["you", "PRP"], ["'re", "VBP"], ["used", "VBN"], ["to", "TO"], ["multiple", "JJ"], ["integrals", "NNS"], [",", ","], ["I", "PRP"], ["will", "MD"], ["quickly", "RB"], ["give", "VB"], ["you", "PRP"], ["the", "DT"], ["one-sixth", "JJ"], ["N^3", "NNP"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["many", "JJ"], ["more", "JJR"], ["and", "CC"], ["other", "JJ"], ["techniques", "NNS"], ["that", "IN"], ["we", "PRP"], ["could", "MD"], ["use", "VB"], ["for", "IN"], ["this", "DT"], [".", "."], ["And", "CC"], ["we", "PRP"], ["'re", "VBP"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], ["teach", "VB"], ["all", "DT"], ["that", "IN"], [",", ","], ["but", "CC"], ["we", "PRP"], ["'ll", "MD"], ["sometimes", "RB"], ["refer", "VB"], ["to", "TO"], ["results", "NNS"], ["of", "IN"], ["this", "DT"], ["type", "NN"], [".", "."], ["Alright", "NNP"], [",", ","], ["so", "RB"], ["in", "IN"], ["principle", "NN"], [",", ","], ["Knuth", "NNP"], ["tells", "VBZ"], ["us", "PRP"], ["that", "IN"], ["accurate", "JJ"], ["mathematical", "JJ"], ["models", "NNS"], ["are", "VBP"], ["available", "JJ"], ["in", "IN"], ["practice", "NN"], [",", ","], ["we", "PRP"], ["can", "MD"], ["get", "VB"], ["really", "RB"], ["complicated", "VBN"], ["formulas", "NNS"], [".", "."], ["We", "PRP"], ["also", "RB"], ["might", "MD"], ["need", "VB"], ["some", "DT"], ["advance", "NN"], ["mathematics", "NNS"], ["that", "IN"], ["the", "DT"], ["theoretician", "NN"], ["will", "MD"], ["revel", "VB"], ["in", "IN"], [".", "."], ["But", "CC"], ["that", "IN"], ["maybe", "RB"], ["people", "NNS"], ["learning", "VBG"], ["algorithms", "NN"], ["for", "IN"], ["the", "DT"], ["first", "JJ"], ["time", "NN"], ["might", "MD"], ["not", "RB"], ["be", "VB"], ["expected", "VBN"], ["to", "TO"], ["know", "VB"], [".", "."], ["So", "RB"], ["in", "IN"], ["the", "DT"], ["end", "NN"], ["careful", "JJ"], ["exact", "JJ"], ["models", "NNS"], ["are", "VBP"], ["best", "JJS"], [",", ","], ["best", "JJS"], ["left", "NN"], ["for", "IN"], ["exit", "NN"], [",", ","], ["experts", "NNS"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["really", "RB"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["things", "NNS"], ["that", "WDT"], ["can", "MD"], ["go", "VB"], ["on", "IN"], [".", "."], ["On", "IN"], ["the", "DT"], ["other", "JJ"], ["hand", "NN"], ["approximate", "NN"], ["models", "NNS"], ["are", "VBP"], ["definitely", "RB"], ["worthwhile", "JJ"], [".", "."], ["And", "CC"], ["for", "IN"], ["all", "PDT"], ["the", "DT"], ["algorithms", "NN"], ["that", "IN"], ["we", "PRP"], ["consider", "VBP"], ["we", "PRP"], ["'ll", "MD"], ["try", "VB"], ["to", "TO"], ["communicate", "VB"], ["a", "DT"], ["reasonable", "JJ"], ["approximate", "NN"], ["model", "NN"], ["that", "WDT"], ["can", "MD"], ["be", "VB"], ["used", "VBN"], ["to", "TO"], ["describe", "VB"], ["the", "DT"], ["running", "JJ"], ["time", "NN"], [".", "."], ["Sometimes", "RB"], ["we", "PRP"], ["'ll", "MD"], ["give", "VB"], ["the", "DT"], ["mathematical", "JJ"], ["proofs", "NN"], ["and", "CC"], ["other", "JJ"], ["times", "NNS"], ["we", "PRP"], ["'ll", "MD"], ["have", "VB"], ["to", "TO"], ["just", "RB"], ["cite", "VB"], ["the", "DT"], ["work", "NN"], ["of", "IN"], ["some", "DT"], ["expert", "NN"], [".", "."]], "title": "mathematical models", "text": "Observing what's happening as we did in the last section it gives us a, a way to predict performance but it really doesn't help us understand what the algorithm's doing. So next, we're going to look at mathematical model. A way to get a better concept of what's really happening. Again, this concept was really developed and popularized by Don Knuth starting in the late 60s. At that time, computer systems were really becoming complicated for the first time. And computer scientists were concerned about whether we really were going to be able to understand what's going on. And Knuth was very direct in saying that this is something that we certainly can do. We can calculate the total running time of a program by identifying all the basic operations, figuring out the cost, figuring out the frequency of execution and summing up the cost times frequency for all the operations. You have to analyze the program to determine what set of operations and the cost depends on the machine and the computer in the system is what we talked about before. The frequency leads us to mathematics because it depends on the algorithm and input data. Knuth has written a series of books that give very detailed and all exact analyses within a particular computer model for a wide range of algorithms. So, from Knuth, we know that in principle, we can get accurate mathematical models for the performance of algorithms or programs and operation. All right. So what, what does this process look like? Well you can, if you want run experiments. In, in ancient times, we would actually look at the computer manual and every computer came with a manual that said precisely how long each instruction would take. But nowadays, it's a little more complicated. So, we run experiments and, and you can go ahead and do a billion ads and figure out that maybe on your computer, an ad takes 2.1 nano seconds. Or you can do more complicated function s like computer sign or an arc tangent although that's already getting close to the analysis of algorithms. So, there's some way to determine the costs of the basic operations. And so, we'll just in most, most of the cases we'll just postulate that it's some constant and you can figure out what the constant is. Although when we're working with a collection of objects, of anobjects there are some things that takes time proportional to N like if you're going to allocate a array of size N it takes time proportional to N because in Java the default is that all the elements in the array initialize to zero. In other operations it depends on the system implementation and an important one is string concatenation. If you concatenate two strings the running time is proportional to the length of the string. In many novices programming in Java, make a mistake of assuming that's a constant time operation when its not. Alright, so that's the cost of each operation. More interesting is the frequency of operation, of execution of the operations. So this is a, a, it's a very simple variant of the three sum problem. That's the one sum problem. That's how many numbers are actually equal to zero? How many single numbers add up to zero? So, that one, it's just one four loop, and we go through, and we tested the number zero and increment or count. And by analyzing that code you can see that I and count have to be declared and then they have to be assigned to zero. There's compares of i against N and there's N + one of them. There's compares of A(i) against zero, there's N of those, N array axises and the number incremented is number of times there's an increment is variable. I has incremented N times, but count could be incremented any number from zero to N times. And so that frequency is dependent on the input data. Or we might need a model for describing that or maybe there's other operations that are more e xpensive and we won't need to worry about that. So, let's look at the next more complicated problem is what about the frequency of execution of instructions in this program which is the two sum problem, how many pairs of integers sum to zero? Well, in this case, you have to do a little bit of math to see that when we when i goes from zero to N, and j goes from i + a to N the number of compares that we do work, plus array axises that we do is two for each time the if statement is executed for Ai and Aj and that time is, thing is executed N - one times the first time through the loop and N -two^2 and so forth. It's the sum of the integers from zero up to N - one which is a simple discrete sum one-half N, (N - one) and since, and since we're doing it twice the number of array axises is N, N - one. So, we can go ahead and get these actual exact counts. But already, it's getting a little bit tedious to do that. And as far back as Turing who also knew that and as well as Babbage did, that we want to have a measure of the amount of work involved in the process. He recognized that you didn't want to necessarily go through and do it in full detail. It's still helpful to have a crude estimate. So, you could count up the number of times that every operation is applied, give it weights and, and count the [inaudible] and so forth. But maybe we should just count the ones that are most expensive that's what Turing said in 1947, and realistically that's what we do nowadays. So rather than going in and counting every little detail, we take some basic operation that's maybe the most expensive and or and or the one that's executed the most often. The one that cost and frequency is the highest and use that as a proxy for running time. Essentially, making the hypothesis that the running time is, is going to grow like a constant times [inaudible], So, in this case, were going to pick array axises. So, that's the first simplification. And the second simplification is that we're going to ignore low order terms in the formulas that we derive. And there's an easy way to do that. It's called the tilde notation and, and the idea is when N is large in a formula like this the N^3 term is much, much higher than the N term or sixteen. In fact, so much so that we wouldn't even hardly notice these low order terms. So, all of these formulas are tilde one-sixth N^3 and that's a fine representative or approximate, approximation to these quantities. And it greatly simplifies their calculations to for a, through a way to lower, lower to terms like this. So, by focusing on one operation and , throwing away the tildes, the lower the terms and this is the technical definition of tilde. It's just, F(N) tilde G (N) means the limit as FN or GN equals one, and you can check that that's going to hold in these kinds of situations. So, that greatly simplifies the frequency counts. And if we're only picking one thing we're just talking about tilde N^2 and maybe another tilde N^2 for the increment for the two sum problems, okay. So again, when N is large, the terms are negligible and when N is really small, they're not negligible but we don't really care because we're trying to estimate running times for large N and running times for small N are going to be small no matter what. All right, so now, we're using both the cost model and the tilde notation and then we can simply say, that this program uses tilde N^2 squared array axises and have implicit the hypothesis that we think the running time is going to be tilde, a constant, times N squared. Okay, we now what about three sums, let's do a, a real problem. So now, we have the triple loop. And then, we have to do a more complicated combinatorial problem in is not that big a deal really we are looking at the distinct number of ways you can chose three things out of N and that 's binomial coefficient. And again, doing the math and using the tilde, it's just tilde one-sixth N^3 three ray axises for each triple so we can say one-half N^3. So we're not computing and summing the costs of all operations that's too much work. We're picking the most expensive in terms of cost times frequency and approximating that and trying to get a good model for the running time. So now most, we're not going to do of a full discrete mathematics in this course but there's some basic things that we'll want to use and are, are not that difficult to understand. So, a lot of times we find out that we need to come up with an estimate of a discrete sum. Like we did for one + two up to N. Or some of the squares or other things like the three sum triple loop. And so actually if you've had basic calculus, one way to think of it as to just replace the sum with an interval, integral. That usually works or we can do the math and use the so-called Euler–Maclaurin summation formula to get a true approximation. But if you think of it this way you'll believe us when we say that, that thing is tilde one-half N^2 or sum of one+ one-half + one-third up to one / N. That's like integral from x = one to N1 / x and that's natural log of N. Now even the three sum triple loop kind of if you're used to multiple integrals, I will quickly give you the one-sixth N^3. There's many more and other techniques that we could use for this. And we're not going to teach all that, but we'll sometimes refer to results of this type. Alright, so in principle, Knuth tells us that accurate mathematical models are available in practice, we can get really complicated formulas. We also might need some advance mathematics that the theoretician will revel in. But that maybe people learning algorithms for the first time might not be expected to know. So in the end careful exact models are best, best left for exit, experts. There's really a lot of things that can go on. On the other hand approximate models are definitely worthwhile. And for all the algorithms that we consider we'll try to communicate a reasonable approximate model that can be used to describe the running time. Sometimes we'll give the mathematical proofs and other times we'll have to just cite the work of some expert. ", "video_ID": 9, "course_id": 3}
{"category": ["analysis of algorithms"], "tagged": [["Now", "RB"], [",", ","], ["fortunately", "RB"], ["when", "WRB"], ["we", "PRP"], ["analyze", "VBP"], ["algorithms", "RB"], [",", ","], ["actually", "RB"], ["not", "RB"], ["too", "RB"], ["many", "JJ"], ["different", "JJ"], ["functions", "NNS"], ["arise", "NN"], ["and", "CC"], ["actually", "RB"], ["that", "IN"], ["property", "NN"], ["allows", "VBZ"], ["us", "PRP"], ["to", "TO"], ["really", "RB"], ["classify", "VB"], ["algorithms", "NN"], ["according", "VBG"], ["to", "TO"], ["their", "PRP$"], ["performance", "NN"], ["as", "IN"], ["the", "DT"], ["problem", "NN"], ["size", "NN"], ["grows", "NNS"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["what", "WP"], ["we", "PRP"], ["'ll", "MD"], ["talk", "VB"], ["about", "IN"], ["next", "JJ"], [".", "."], ["So", "IN"], ["the", "DT"], ["good", "JJ"], ["news", "NN"], ["is", "VBZ"], ["there", "EX"], ["'s", "VBZ"], ["only", "RB"], ["these", "DT"], ["few", "JJ"], ["functions", "NNS"], ["turn", "VBP"], ["up", "RP"], ["about", "IN"], ["the", "DT"], ["algorithms", "NN"], ["that", "IN"], ["we", "PRP"], ["are", "VBP"], ["interested", "JJ"], ["in", "IN"], [".", "."], ["We", "PRP"], ["can", "MD"], ["craft", "VB"], ["things", "NNS"], ["that", "WDT"], ["have", "VBP"], ["other", "JJ"], ["functions", "NNS"], ["and", "CC"], ["there", "EX"], ["are", "VBP"], ["counter", "JJ"], ["examples", "NNS"], ["to", "TO"], ["this", "DT"], [".", "."], ["But", "CC"], ["really", "RB"], ["a", "DT"], ["great", "JJ"], ["number", "NN"], ["of", "IN"], ["the", "DT"], ["algorithms", "NN"], ["that", "IN"], ["we", "PRP"], ["consider", "VBP"], ["are", "VBP"], ["described", "VBN"], ["by", "IN"], ["these", "DT"], ["few", "JJ"], ["functions", "NNS"], ["and", "CC"], ["that", "DT"], ["are", "VBP"], ["plotted", "VBN"], ["here", "RB"], [".", "."], ["And", "CC"], ["[", "JJ"], ["cough", "NN"], ["]", "VBD"], ["the", "DT"], ["when", "WRB"], ["we", "PRP"], ["are", "VBP"], ["talking", "VBG"], ["about", "IN"], ["the", "DT"], ["order", "NN"], ["of", "IN"], ["growth", "NN"], [",", ","], ["we", "PRP"], ["are", "VBP"], ["not", "RB"], ["talking", "VBG"], ["about", "IN"], ["the", "DT"], ["leading", "VBG"], ["constant", "JJ"], [".", "."], ["Normally", "RB"], ["we", "PRP"], ["'ll", "MD"], ["say", "VB"], ["the", "DT"], ["running", "JJ"], ["time", "NN"], ["of", "IN"], ["the", "DT"], ["algorithm", "NN"], ["is", "VBZ"], ["proportional", "JJ"], ["to", "TO"], ["N", "NNP"], ["log", "NN"], ["N.", "NNP"], ["That", "IN"], ["means", "VBZ"], ["we", "PRP"], ["that", "IN"], ["we", "PRP"], ["think", "VBP"], ["that", "IN"], ["our", "PRP$"], ["hypothesis", "NN"], ["is", "VBZ"], ["that", "IN"], ["the", "DT"], ["running", "JJ"], ["time", "NN"], ["is", "VBZ"], ["tilde", "JJ"], ["C", "NNP"], ["lg", "NN"], ["N", "NNP"], [",", ","], ["N", "NNP"], ["lg", "VBZ"], ["N", "NNP"], [",", ","], ["where", "WRB"], ["C", "NNP"], ["is", "VBZ"], ["some", "DT"], ["constant", "JJ"], [".", "."], ["And", "CC"], ["in", "IN"], ["these", "DT"], ["plots", "NNS"], [",", ","], ["these", "DT"], ["are", "VBP"], ["lg", "NN"], [",", ","], ["lg", "JJ"], ["plots", "NNS"], ["that", "IN"], ["not", "RB"], ["really", "RB"], ["give", "VB"], ["a", "DT"], ["good", "JJ"], ["idea", "NN"], ["of", "IN"], ["what", "WP"], ["'s", "VBZ"], ["going", "VBG"], ["on", "IN"], [".", "."], ["If", "IN"], ["a", "DT"], ["order", "NN"], ["of", "IN"], ["growth", "NN"], ["is", "VBZ"], ["logarithmic", "JJ"], ["or", "CC"], ["constant", "JJ"], [",", ","], ["does", "VBZ"], ["n't", "RB"], ["matter", "VB"], ["how", "WRB"], ["big", "JJ"], ["the", "DT"], ["thing", "NN"], ["is", "VBZ"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["fast", "RB"], ["of", "IN"], ["the", "DT"], ["running", "JJ"], ["time", "NN"], ["for", "IN"], ["is", "VBZ"], ["T", "NNP"], ["for", "IN"], ["say", "VBP"], ["a", "DT"], ["thousand", "NN"], [",", ","], ["and", "CC"], ["for", "IN"], ["half", "PDT"], ["a", "DT"], ["million", "CD"], ["it", "PRP"], ["will", "MD"], ["be", "VB"], ["pretty", "RB"], ["close", "JJ"], ["to", "TO"], ["T.", "NNP"], ["If", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["linear", "JJ"], [",", ","], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["auto", "NN"], ["growth", "NN"], ["is", "VBZ"], ["proportional", "JJ"], ["to", "TO"], ["N", "NNP"], ["then", "RB"], ["as", "IN"], ["the", "DT"], ["running", "NN"], ["time", "NN"], [",", ","], ["as", "IN"], ["the", "DT"], ["size", "NN"], ["increases", "VBZ"], ["the", "DT"], ["running", "JJ"], ["time", "NN"], ["increases", "NNS"], ["correspondingly", "RB"], [".", "."], ["And", "CC"], ["the", "DT"], ["same", "JJ"], ["is", "VBZ"], ["true", "JJ"], [",", ","], ["almost", "RB"], [",", ","], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["N", "NNP"], ["log", "NN"], ["N.", "NNP"], ["So", "NNP"], ["those", "DT"], ["are", "VBP"], ["the", "DT"], ["algorithms", "NN"], ["that", "IN"], ["we", "PRP"], ["strive", "VBP"], ["for", "IN"], [".", "."], ["They", "PRP"], ["scale", "VBP"], ["with", "IN"], ["the", "DT"], ["input", "NN"], ["size", "NN"], [".", "."], ["As", "IN"], ["the", "DT"], ["input", "NN"], ["grows", "NNS"], [",", ","], ["so", "RB"], ["grows", "VBZ"], ["the", "DT"], ["running", "JJ"], ["time", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], [",", ","], ["a", "DT"], ["reasonable", "JJ"], ["situation", "NN"], ["to", "TO"], ["be", "VB"], ["in", "IN"], [".", "."], ["As", "IN"], ["we", "PRP"], ["talked", "VBD"], ["about", "IN"], ["when", "WRB"], ["we", "PRP"], ["talked", "VBD"], ["about", "IN"], ["Union-find", "NNP"], [".", "."], ["If", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["quadratic", "JJ"], [",", ","], ["the", "DT"], ["running", "JJ"], ["time", "NN"], ["grows", "VBZ"], ["much", "RB"], ["faster", "RBR"], ["than", "IN"], ["the", "DT"], ["input", "NN"], ["size", "NN"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["feasible", "JJ"], ["to", "TO"], ["use", "VB"], ["such", "JJ"], ["an", "DT"], ["algorithm", "NN"], ["for", "IN"], ["large", "JJ"], ["inputs", "NNS"], [".", "."], ["And", "CC"], ["qubic", "NN"], ["is", "VBZ"], ["even", "RB"], ["worse", "JJR"], [".", "."], ["So", "RB"], ["what", "WP"], ["we", "PRP"], ["find", "VBP"], ["is", "VBZ"], ["for", "IN"], ["many", "JJ"], ["algorithms", "NNS"], ["our", "PRP$"], ["first", "JJ"], ["task", "NN"], ["is", "VBZ"], ["really", "RB"], [",", ","], ["simply", "RB"], [",", ","], ["make", "VBP"], ["sure", "JJ"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["quadratic", "JJ"], ["or", "CC"], ["qubit", "NN"], [".", "."], ["And", "CC"], ["these", "DT"], ["order", "NN"], ["of", "IN"], ["growth", "NN"], ["classifications", "NNS"], ["actually", "RB"], ["come", "VBP"], ["from", "IN"], ["kind", "NN"], ["of", "IN"], ["simple", "JJ"], ["patterns", "NNS"], ["in", "IN"], ["terms", "NNS"], ["of", "IN"], ["the", "DT"], ["code", "NN"], ["that", "IN"], ["we", "PRP"], ["write", "VBP"], [".", "."], ["So", "RB"], ["if", "IN"], ["our", "PRP$"], ["code", "NN"], ["has", "VBZ"], ["no", "DT"], ["loops", "NNS"], ["in", "IN"], ["it", "PRP"], [",", ","], ["then", "RB"], ["the", "DT"], ["order", "NN"], ["of", "IN"], ["growth", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["constant", "JJ"], [".", "."], ["If", "IN"], ["our", "PRP$"], ["code", "NN"], ["has", "VBZ"], ["some", "DT"], ["kind", "NN"], ["of", "IN"], ["loop", "NN"], ["where", "WRB"], ["the", "DT"], ["input", "NN"], ["'s", "POS"], ["divided", "VBN"], ["in", "IN"], ["half", "NN"], [",", ","], ["and", "CC"], ["so", "RB"], ["binary", "JJ"], ["search", "NN"], ["algorithm", "NN"], ["is", "VBZ"], ["an", "DT"], ["example", "NN"], ["of", "IN"], ["that", "DT"], [".", "."], ["Then", "RB"], ["our", "PRP$"], ["order", "NN"], ["growth", "NN"], ["will", "MD"], ["be", "VB"], ["logarithmic", "JJ"], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["take", "VB"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["that", "DT"], ["analysis", "NN"], ["and", "CC"], ["but", "CC"], ["if", "IN"], ["you", "PRP"], ["do", "VBP"], ["the", "DT"], ["doubling", "VBG"], ["test", "NN"], [",", ","], ["it", "PRP"], ["grows", "VBZ"], ["almost", "RB"], ["linearly", "RB"], [",", ","], ["if", "IN"], ["you", "PRP"], ["have", "VBP"], ["a", "DT"], ["huge", "JJ"], ["input", "NN"], ["and", "CC"], ["you", "PRP"], ["double", "VBP"], ["the", "DT"], ["size", "NN"], ["it", "PRP"], ["'s", "VBZ"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["still", "RB"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["I", "PRP"], ["'m", "VBP"], ["sorry", "JJ"], [",", ","], ["not", "RB"], ["linearly", "RB"], [",", ","], ["constant", "JJ"], ["just", "RB"], ["like", "IN"], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["constant", "JJ"], [".", "."], ["You", "PRP"], ["'ll", "MD"], ["hardly", "RB"], ["notice", "VB"], ["that", "IN"], ["lg", "JJ"], ["N.", "NNP"], ["If", "IN"], ["you", "PRP"], ["have", "VBP"], ["a", "DT"], ["loop", "NN"], ["where", "WRB"], ["you", "PRP"], ["touch", "VBP"], ["everything", "NN"], ["in", "IN"], ["your", "PRP$"], ["input", "NN"], [".", "."], ["Than", "VB"], ["the", "DT"], ["running", "JJ"], ["time", "NN"], ["is", "VBZ"], ["linear", "JJ"], [",", ","], ["proportional", "JJ"], ["to", "TO"], ["end", "VB"], ["so", "RB"], ["a", "DT"], ["typical", "JJ"], ["example", "NN"], ["of", "IN"], ["that", "DT"], ["would", "MD"], ["be", "VB"], ["find", "VB"], ["the", "DT"], ["maximum", "JJ"], [",", ","], ["or", "CC"], ["to", "TO"], ["count", "VB"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["zeros", "NN"], [".", "."], ["Our", "PRP$"], ["one", "CD"], ["some", "DT"], ["problem", "NN"], [".", "."], ["A", "DT"], ["very", "RB"], ["interesting", "JJ"], ["category", "NN"], ["is", "VBZ"], ["a", "DT"], ["so-called", "JJ"], ["N", "NNP"], ["lg", "NN"], ["N", "NNP"], ["algorithms", "NN"], ["or", "CC"], ["linear", "JJ"], ["rhythmic", "JJ"], ["algorithms", "NN"], [".", "."], ["And", "CC"], ["those", "DT"], ["are", "VBP"], ["the", "DT"], ["ones", "NNS"], ["that", "WDT"], ["arise", "VBP"], ["from", "IN"], ["a", "DT"], ["particular", "JJ"], ["algorithms", "NN"], ["design", "NN"], ["technique", "NN"], ["called", "VBD"], ["the", "DT"], ["divide", "NN"], ["and", "CC"], ["conquer", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["Mergesort", "NNP"], ["algorithm", "NN"], [",", ","], ["which", "WDT"], ["we", "PRP"], ["'ll", "MD"], ["talk", "VB"], ["about", "IN"], ["in", "IN"], ["a", "DT"], ["couple", "NN"], ["of", "IN"], ["weeks", "NNS"], [",", ","], ["is", "VBZ"], ["a", "DT"], ["prime", "JJ"], ["example", "NN"], ["of", "IN"], ["that", "DT"], [".", "."], ["And", "CC"], ["then", "RB"], ["if", "IN"], ["you", "PRP"], ["have", "VBP"], ["double", "JJ"], ["four", "CD"], ["loops", "NNS"], ["like", "IN"], ["our", "PRP$"], ["two", "CD"], ["sum", "NN"], ["algorithm", "NN"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["time", "NN"], ["proportional", "JJ"], ["to", "TO"], ["N^2", "NNP"], [".", "."], ["As", "IN"], ["we", "PRP"], ["saw", "VBD"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["quadratic", "JJ"], [",", ","], ["or", "CC"], ["triple", "RB"], ["four", "CD"], ["loop", "NN"], ["like", "IN"], ["our", "PRP$"], ["3-sum", "JJ"], ["algorithm", "NN"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["cubic", "JJ"], ["or", "CC"], ["time", "NN"], ["proportional", "JJ"], ["to", "TO"], ["N^3", "NNP"], [".", "."], ["For", "IN"], ["a", "DT"], ["quadratic", "JJ"], ["algorithm", "NN"], ["or", "CC"], ["a", "DT"], ["cubic", "JJ"], ["algorithm", "NN"], [",", ","], ["the", "DT"], ["doubling", "VBG"], ["factor", "NN"], ["is", "VBZ"], ["four", "CD"], ["or", "CC"], ["eight", "CD"], ["as", "IN"], ["the", "DT"], ["input", "NN"], ["size", "NN"], ["double", "NN"], ["for", "IN"], ["cubic", "JJ"], ["algorithm", "NN"], [",", ","], ["the", "DT"], ["running", "JJ"], ["time", "NN"], ["goes", "VBZ"], ["up", "RP"], ["by", "IN"], ["a", "DT"], ["factor", "NN"], ["of", "IN"], ["eight", "CD"], [",", ","], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["kind", "NN"], ["of", "IN"], ["calculation", "NN"], ["that", "IN"], ["you", "PRP"], ["can", "MD"], ["do", "VB"], ["in", "IN"], ["your", "PRP$"], ["head", "NN"], ["while", "IN"], ["waiting", "VBG"], ["for", "IN"], ["a", "DT"], ["program", "NN"], ["to", "TO"], ["finish", "VB"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["also", "RB"], ["a", "DT"], ["category", "NN"], ["of", "IN"], ["algorithms", "NN"], ["who", "WP"], ["'s", "VBZ"], ["running", "VBG"], ["time", "NN"], ["is", "VBZ"], ["exponential", "JJ"], ["and", "CC"], ["in", "IN"], ["those", "DT"], ["algorithms", "JJ"], ["n", "NN"], ["does", "VBZ"], ["n't", "RB"], ["get", "VB"], ["very", "RB"], ["large", "JJ"], ["at", "IN"], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["talk", "VB"], ["about", "IN"], ["those", "DT"], ["at", "IN"], ["the", "DT"], ["end", "NN"], ["part", "NN"], ["two", "CD"], ["of", "IN"], ["the", "DT"], ["course", "NN"], [".", "."], ["So", "IN"], ["these", "DT"], ["are", "VBP"], ["some", "DT"], ["practical", "JJ"], ["implications", "NNS"], ["of", "IN"], [",", ","], ["of", "IN"], ["the", "DT"], ["order", "NN"], ["growth", "NN"], [".", "."], ["And", "CC"], ["we", "PRP"], ["really", "RB"], ["dwell", "VB"], ["on", "IN"], ["this", "DT"], ["too", "RB"], ["much", "JJ"], [",", ","], ["except", "IN"], ["to", "TO"], ["come", "VB"], ["back", "RB"], ["to", "TO"], ["the", "DT"], ["point", "NN"], ["that", "IN"], ["the", "DT"], ["algorithms", "NN"], ["we", "PRP"], ["are", "VBP"], ["really", "RB"], ["interested", "JJ"], ["in", "IN"], [",", ","], ["that", "WDT"], ["can", "MD"], ["solve", "VB"], ["huge", "JJ"], ["problems", "NNS"], [",", ","], ["are", "VBP"], ["the", "DT"], ["linear", "JJ"], ["and", "CC"], ["N", "NNP"], ["lg", "VBP"], ["N", "NNP"], ["algorithms", "NN"], [".", "."], ["Because", "IN"], ["even", "RB"], ["now", "RB"], ["a", "DT"], ["quadr", "NN"], ["atic", "JJ"], ["algorithm", "NN"], ["on", "IN"], ["a", "DT"], ["typical", "JJ"], ["fast", "NN"], ["computer", "NN"], ["could", "MD"], ["only", "RB"], ["solve", "VB"], ["problems", "NNS"], ["and", "CC"], ["saying", "VBG"], ["that", "IN"], ["tens", "NNS"], ["of", "IN"], ["thousands", "NNS"], ["in", "IN"], ["a", "DT"], ["cubic", "JJ"], ["algorithm", "NN"], ["only", "RB"], ["in", "IN"], ["the", "DT"], ["size", "NN"], ["of", "IN"], ["thousands", "NNS"], [".", "."], ["And", "CC"], ["nowadays", "NNS"], ["those", "DT"], ["are", "VBP"], ["just", "RB"], ["not", "RB"], ["useful", "JJ"], ["because", "IN"], ["the", "DT"], ["amount", "NN"], ["of", "IN"], ["data", "NNS"], ["that", "IN"], ["we", "PRP"], ["have", "VBP"], ["is", "VBZ"], ["more", "RBR"], ["like", "IN"], ["the", "DT"], ["millions", "NNS"], ["or", "CC"], ["billions", "NNS"], ["or", "CC"], ["trillions", "NNS"], [".", "."], ["That", "DT"], ["fact", "NN"], ["is", "VBZ"], ["becoming", "VBG"], ["more", "RBR"], ["and", "CC"], ["more", "RBR"], ["evident", "JJ"], ["as", "IN"], ["time", "NN"], ["wears", "NNS"], ["on", "IN"], ["the", "DT"], ["ancient", "JJ"], ["times", "NNS"], ["would", "MD"], ["have", "VB"], ["some", "DT"], ["discussion", "NN"], ["about", "IN"], ["whether", "IN"], ["quadratic", "JJ"], ["algorithm", "NN"], ["might", "MD"], ["be", "VB"], ["useful", "JJ"], ["but", "CC"], ["the", "DT"], ["situation", "NN"], ["gets", "VBZ"], ["worse", "JJR"], ["as", "IN"], ["the", "DT"], ["time", "NN"], ["goes", "VBZ"], ["on", "IN"], [",", ","], ["so", "IN"], ["we", "PRP"], ["need", "VBP"], ["better", "JJR"], ["algorithms", "NN"], [".", "."], ["To", "TO"], ["illustrate", "VB"], ["the", "DT"], ["process", "NN"], ["of", "IN"], ["developing", "VBG"], ["a", "DT"], ["mathematical", "JJ"], ["model", "NN"], ["for", "IN"], ["describing", "VBG"], ["a", "DT"], ["performance", "NN"], ["through", "IN"], ["an", "DT"], ["algorithm", "NN"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["a", "DT"], ["familiar", "JJ"], ["algorithm", "NN"], ["called", "VBN"], ["binary", "JJ"], ["search", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], [",", ","], ["the", "DT"], ["goal", "NN"], ["is", "VBZ"], ["that", "IN"], ["you", "PRP"], ["have", "VBP"], ["a", "DT"], ["sorted", "JJ"], ["array", "NN"], ["of", "IN"], ["integers", "NNS"], [",", ","], ["say", "VBP"], ["and", "CC"], ["you", "PRP"], ["'re", "VBP"], ["given", "VBN"], ["a", "DT"], ["key", "NN"], [".", "."], ["And", "CC"], ["you", "PRP"], ["want", "VBP"], ["to", "TO"], ["know", "VB"], [",", ","], ["is", "VBZ"], ["that", "IN"], ["key", "JJ"], ["in", "IN"], ["the", "DT"], ["array", "NN"], ["?", "."], ["And", "CC"], ["if", "IN"], ["it", "PRP"], ["is", "VBZ"], [",", ","], ["what", "WP"], [",", ","], ["what", "WP"], ["'s", "VBZ"], ["its", "PRP$"], ["index", "NN"], ["?", "."], ["And", "CC"], ["a", "DT"], ["fast", "JJ"], ["algorithm", "NN"], ["for", "IN"], ["doing", "VBG"], ["this", "DT"], ["is", "VBZ"], ["known", "VBN"], ["as", "IN"], ["binary", "JJ"], ["search", "NN"], [",", ","], ["where", "WRB"], ["we", "PRP"], ["compare", "VBP"], ["the", "DT"], ["key", "NN"], ["against", "IN"], ["the", "DT"], ["middle", "JJ"], ["entry", "NN"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["if", "IN"], ["we", "PRP"], ["'re", "VBP"], ["looking", "VBG"], ["for", "IN"], ["33", "CD"], [",", ","], ["we", "PRP"], ["compare", "VBP"], ["it", "PRP"], ["against", "IN"], ["53", "CD"], [".", "."], ["If", "IN"], ["its", "PRP$"], ["smaller", "JJR"], ["we", "PRP"], ["know", "VBP"], ["its", "PRP$"], ["in", "IN"], ["the", "DT"], ["left", "JJ"], ["half", "NN"], ["of", "IN"], ["the", "DT"], ["array", "NN"], [",", ","], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["larger", "JJR"], ["we", "PRP"], ["know", "VBP"], ["it", "PRP"], ["'s", "VBZ"], ["in", "IN"], ["the", "DT"], ["right", "JJ"], ["half", "NN"], ["of", "IN"], ["the", "DT"], ["array", "NN"], [",", ","], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["equal", "JJ"], [",", ","], ["we", "PRP"], ["found", "VBD"], ["it", "PRP"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["apply", "VBP"], ["the", "DT"], ["same", "JJ"], ["algorithm", "NN"], ["recursively", "RB"], [".", "."], ["So", "NNP"], ["let", "NN"], ["'s", "POS"], ["quickly", "RB"], ["look", "NN"], ["at", "IN"], ["a", "DT"], ["demo", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["'re", "VBP"], ["looking", "VBG"], ["for", "IN"], ["33", "CD"], ["in", "IN"], ["this", "DT"], ["array", "NN"], [",", ","], ["compare", "VB"], ["it", "PRP"], ["against", "IN"], ["the", "DT"], ["middle", "JJ"], ["entry", "NN"], ["in", "IN"], ["the", "DT"], ["array", "NN"], [".", "."], ["53", "CD"], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["less", "JJR"], ["so", "IN"], ["we", "PRP"], ["go", "VBP"], ["left", "RB"], [",", ","], ["so", "RB"], ["now", "RB"], ["we", "PRP"], ["can", "MD"], ["concentrate", "VB"], ["just", "RB"], ["on", "IN"], ["the", "DT"], ["left", "JJ"], ["half", "NN"], ["of", "IN"], ["the", "DT"], ["array", "NN"], [",", ","], ["now", "RB"], ["we", "PRP"], ["look", "VBP"], ["in", "IN"], ["the", "DT"], ["middle", "NN"], ["of", "IN"], ["this", "DT"], ["half", "NN"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["25", "CD"], [",", ","], ["33", "CD"], ["is", "VBZ"], ["bigger", "JJR"], ["so", "IN"], ["we", "PRP"], ["go", "VBP"], ["right", "JJ"], [".", "."], ["And", "CC"], ["now", "RB"], ["we", "PRP"], ["concentrate", "VBP"], ["on", "IN"], ["the", "DT"], ["right", "JJ"], ["half", "NN"], ["or", "CC"], ["the", "DT"], ["left", "JJ"], ["half", "NN"], ["and", "CC"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["smaller", "JJR"], ["sub", "JJ"], ["array", "NN"], [".", "."], ["Look", "VB"], ["at", "IN"], ["the", "DT"], ["middle", "NN"], [",", ","], ["33", "CD"], ["is", "VBZ"], ["less", "RBR"], ["so", "RB"], ["we", "PRP"], ["go", "VBP"], ["left", "JJ"], ["and", "CC"], ["now", "RB"], ["we", "PRP"], ["have", "VBP"], ["only", "RB"], ["the", "DT"], ["one", "CD"], ["element", "NN"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["and", "CC"], ["we", "PRP"], ["found", "VBD"], ["our", "PRP$"], ["key", "JJ"], ["33", "CD"], ["in", "IN"], ["the", "DT"], ["array", "NN"], ["and", "CC"], ["we", "PRP"], ["return", "VBP"], ["that", "DT"], ["index", "NN"], ["four", "CD"], [".", "."], ["If", "IN"], ["we", "PRP"], ["'re", "VBP"], ["looking", "VBG"], ["for", "IN"], ["something", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["not", "RB"], ["in", "IN"], ["the", "DT"], ["array", "NN"], [",", ","], ["we", "PRP"], ["do", "VBP"], ["the", "DT"], ["same", "JJ"], ["process", "NN"], [".", "."], ["So", "RB"], [",", ","], ["say", "VBP"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["looking", "VBG"], ["for", "IN"], ["34", "CD"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["the", "DT"], ["same", "JJ"], [".", "."], ["Look", "VB"], ["in", "IN"], ["the", "DT"], ["left", "JJ"], ["half", "NN"], [",", ","], ["look", "NN"], ["in", "IN"], ["the", "DT"], ["right", "JJ"], ["half", "NN"], [".", "."], ["Look", "VB"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["of", "IN"], ["the", "DT"], ["43", "CD"], [".", "."], ["Now", "RB"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["only", "RB"], ["one", "CD"], ["key", "NN"], ["to", "TO"], ["look", "VB"], ["at", "IN"], [".", "."], ["A", "DT"], ["nd", "JJ"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["34", "CD"], [",", ","], ["so", "IN"], ["we", "PRP"], ["say", "VBP"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["there", "RB"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["binary", "JJ"], ["search", "NN"], [".", "."], ["So", "RB"], ["here", "RB"], ["'s", "VBZ"], ["the", "DT"], ["code", "NN"], ["for", "IN"], ["binary", "JJ"], ["search", "NN"], [".", "."], ["Actually", "RB"], [",", ","], ["Binary", "NNP"], ["Search", "NNP"], ["although", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["simple", "JJ"], ["algorithm", "NN"], [",", ","], ["its", "PRP$"], ["notoriously", "RB"], ["tricky", "JJ"], ["to", "TO"], ["get", "VB"], ["every", "DT"], ["detail", "NN"], ["right", "NN"], [".", "."], ["In", "IN"], ["fact", "NN"], ["one", "CD"], ["paper", "NN"], ["claimed", "VBD"], [",", ","], ["that", "IN"], ["the", "DT"], ["first", "JJ"], ["bug", "NN"], ["free", "JJ"], ["binary", "JJ"], ["search", "NN"], ["was", "VBD"], ["n't", "RB"], ["published", "VBN"], ["until", "IN"], ["1962", "CD"], [",", ","], ["and", "CC"], ["even", "RB"], ["in", "IN"], ["2006", "CD"], [",", ","], ["a", "DT"], ["bug", "NN"], ["was", "VBD"], ["found", "VBN"], ["in", "IN"], ["Java", "NNP"], ["'s", "POS"], ["implementation", "NN"], ["of", "IN"], ["binary", "JJ"], ["search", "NN"], [",", ","], ["just", "RB"], ["an", "DT"], ["indication", "NN"], ["of", "IN"], ["the", "DT"], ["care", "NN"], ["that", "IN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["take", "VB"], ["in", "IN"], ["developing", "VBG"], ["algorithms", "JJ"], ["especially", "RB"], ["for", "IN"], ["libraries", "NNS"], ["that", "WDT"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["used", "VBN"], ["by", "IN"], ["millions", "NNS"], ["of", "IN"], ["people", "NNS"], [".", "."], ["So", "RB"], ["here", "RB"], ["'s", "VBZ"], ["an", "DT"], ["implementation", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["recursive", "JJ"], ["although", "IN"], ["often", "RB"], ["we", "PRP"], ["can", "MD"], ["implement", "VB"], ["this", "DT"], ["recursively", "RB"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["just", "RB"], ["reflexing", "JJ"], ["code", "NN"], [",", ","], ["what", "WP"], ["I", "PRP"], ["described", "VBD"], ["in", "IN"], ["words", "NNS"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["find", "VB"], [".", "."], ["A", "DT"], ["key", "NN"], [",", ","], ["whether", "IN"], ["a", "DT"], ["key", "NN"], ["'s", "POS"], ["in", "IN"], ["an", "DT"], ["array", "NN"], [".", "."], ["And", "CC"], ["we", "PRP"], ["use", "VBP"], ["two", "CD"], ["pointers", "NNS"], [",", ","], ["low", "JJ"], ["and", "CC"], ["high", "JJ"], [",", ","], ["to", "TO"], [",", ","], ["indicate", "VB"], ["the", "DT"], ["part", "NN"], ["of", "IN"], ["the", "DT"], ["array", "NN"], ["we", "PRP"], ["are", "VBP"], ["interested", "JJ"], ["in", "IN"], [",", ","], ["as", "RB"], ["long", "RB"], ["as", "IN"], ["low", "JJ"], ["is", "VBZ"], ["less", "RBR"], ["and", "CC"], ["equal", "JJ"], ["to", "TO"], ["high", "JJ"], [",", ","], ["we", "PRP"], ["compute", "VBP"], ["the", "DT"], ["middle", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["compare", "VBP"], ["our", "PRP$"], ["key", "NN"], ["against", "IN"], ["the", "DT"], ["middle", "NN"], [",", ","], ["actually", "RB"], ["its", "PRP$"], ["a", "DT"], ["three", "CD"], ["way", "NN"], ["compare", "NN"], [",", ","], ["see", "VB"], ["its", "PRP$"], ["less", "JJR"], ["or", "CC"], ["greater", "JJR"], ["or", "CC"], ["if", "IN"], ["its", "PRP$"], ["equal", "JJ"], [",", ","], ["we", "PRP"], [",", ","], ["we", "PRP"], ["return", "VBP"], ["that", "IN"], ["mid", "JJ"], ["index", "NN"], [".", "."], ["If", "IN"], ["its", "PRP$"], ["less", "NN"], ["we", "PRP"], ["reset", "VBP"], ["the", "DT"], ["high", "JJ"], ["pointer", "NN"], [",", ","], ["if", "IN"], ["its", "PRP$"], ["greater", "JJR"], [",", ","], ["we", "PRP"], ["reset", "VBP"], ["the", "DT"], ["low", "JJ"], ["pointer", "NN"], [",", ","], ["and", "CC"], ["we", "PRP"], ["keep", "VBP"], ["on", "IN"], ["going", "VBG"], ["until", "IN"], ["the", "DT"], ["pointers", "NNS"], ["are", "VBP"], ["equal", "JJ"], [".", "."], ["If", "IN"], ["they", "PRP"], ["are", "VBP"], ["equal", "JJ"], ["and", "CC"], ["we", "PRP"], ["have", "VBP"], ["n't", "RB"], ["found", "VBN"], ["it", "PRP"], ["then", "RB"], ["we", "PRP"], ["return", "VBP"], ["-one", "RB"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["easy", "JJ"], ["to", "TO"], ["persuade", "VB"], ["ourselves", "NNS"], ["that", "IN"], ["this", "DT"], ["program", "NN"], ["works", "VBZ"], ["as", "IN"], ["advertised", "VBN"], ["by", "IN"], ["thinking", "VBG"], ["about", "IN"], ["this", "DT"], ["invariant", "NN"], [",", ","], ["if", "IN"], ["the", "DT"], ["keys", "NN"], ["in", "IN"], ["the", "DT"], ["array", "NN"], [",", ","], ["then", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["between", "IN"], ["low", "JJ"], ["and", "CC"], ["high", "JJ"], ["in", "IN"], ["the", "DT"], ["array", "NN"], [".", "."], ["Alright", "NNP"], [",", ","], ["so", "IN"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["program", "NN"], ["that", "IN"], [",", ","], ["you", "PRP"], ["are", "VBP"], ["probably", "RB"], ["familiar", "JJ"], ["with", "IN"], [".", "."], ["Lets", "NNS"], ["look", "VBP"], ["at", "IN"], ["the", "DT"], ["mathematical", "JJ"], ["analysis", "NN"], ["of", "IN"], ["that", "DT"], ["program", "NN"], [".", "."], ["And", "CC"], ["this", "DT"], ["a", "DT"], [",", ","], ["a", "DT"], ["theorem", "NN"], ["that", "IN"], ["we", "PRP"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["prove", "VB"], ["easily", "RB"], [".", "."], ["We", "PRP"], ["want", "VBP"], ["to", "TO"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["proofs", "NN"], ["but", "CC"], ["this", "DT"], ["is", "VBZ"], ["one", "CD"], ["worth", "NN"], ["doing", "VBG"], [".", "."], ["So", "CC"], ["its", "PRP$"], ["say", "VBP"], ["that", "IN"], ["binary", "JJ"], ["search", "NN"], ["uses", "VBZ"], ["at", "IN"], ["most", "JJS"], ["one", "CD"], ["+", "NN"], ["lg", "JJ"], ["base", "NN"], ["two", "CD"], ["event", "NN"], ["compares", "NNS"], [",", ","], ["to", "TO"], ["complete", "VB"], ["a", "DT"], ["search", "NN"], [",", ","], ["in", "IN"], ["a", "DT"], ["sorted", "JJ"], ["array", "NN"], ["of", "IN"], ["size", "NN"], ["f.", "NNS"], ["So", "IN"], ["we", "PRP"], ["do", "VBP"], ["that", "DT"], [",", ","], ["to", "TO"], ["setup", "VB"], ["the", "DT"], ["problem", "NN"], ["by", "IN"], ["defining", "VBG"], [",", ","], ["a", "DT"], ["variable", "JJ"], ["T", "NNP"], ["(", "("], ["N", "NNP"], [")", ")"], [",", ","], ["which", "WDT"], ["is", "VBZ"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["compares", "NNS"], ["that", "WDT"], ["binary", "VBP"], ["search", "NN"], ["needed", "VBN"], ["for", "IN"], ["its", "PRP$"], ["array", "NN"], ["size", "NN"], ["and", "CC"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["write", "VBP"], ["down", "RP"], ["a", "DT"], ["recurrence", "NN"], ["relation", "NN"], ["that", "WDT"], ["is", "VBZ"], ["reflex", "JJ"], ["the", "DT"], ["code", "NN"], [".", "."], ["And", "CC"], ["what", "WP"], ["the", "DT"], ["code", "NN"], ["does", "VBZ"], ["is", "VBZ"], [",", ","], ["it", "PRP"], ["divides", "VBZ"], ["the", "DT"], ["problem", "NN"], ["size", "NN"], ["in", "IN"], ["half", "NN"], ["so", "IN"], ["that", "DT"], [".", "."], ["If", "IN"], ["the", "DT"], ["event", "NN"], ["is", "VBZ"], ["less", "RBR"], ["or", "CC"], ["equal", "JJ"], ["to", "TO"], ["the", "DT"], ["event", "NN"], ["over", "IN"], ["two", "CD"], ["plus", "CC"], ["depending", "VBG"], ["on", "IN"], ["how", "WRB"], ["you", "PRP"], ["count", "VBP"], ["what", "WP"], ["the", "DT"], ["compare", "NN"], ["is", "VBZ"], ["think", "CD"], ["of", "IN"], ["it", "PRP"], ["as", "IN"], ["a", "DT"], ["two", "CD"], ["way", "NN"], ["compare", "VBP"], ["so", "RB"], ["divided", "VBN"], ["in", "IN"], ["half", "NN"], ["by", "IN"], ["doing", "VBG"], ["one", "CD"], ["compare", "NN"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["true", "JJ"], ["as", "RB"], ["long", "RB"], ["as", "IN"], ["N", "NNP"], ["is", "VBZ"], ["bigger", "JJR"], ["than", "IN"], ["one", "CD"], [".", "."], ["If", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["equal", "JJ"], ["to", "TO"], ["one", "CD"], ["the", "DT"], ["solution", "NN"], ["is", "VBZ"], ["one", "CD"], [".", "."], ["So", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["recurrent", "JJ"], ["relation", "NN"], ["describing", "VBG"], ["the", "DT"], ["computation", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], ["we", "PRP"], [",", ","], ["we", "PRP"], ["can", "MD"], ["go", "VB"], ["ahead", "RB"], ["and", "CC"], [",", ","], ["solve", "VB"], ["this", "DT"], ["recurrence", "NN"], ["by", "IN"], ["applying", "VBG"], ["the", "DT"], ["recurrence", "NN"], ["itself", "PRP"], [",", ","], ["to", "TO"], ["the", "DT"], ["first", "JJ"], ["term", "NN"], ["on", "IN"], ["the", "DT"], ["right", "NN"], [".", "."], ["Now", "RB"], ["that", "DT"], ["'s", "VBZ"], ["called", "VBN"], ["telescoping", "NN"], [".", "."], ["So", "RB"], ["if", "IN"], ["this", "DT"], ["is", "VBZ"], ["true", "JJ"], ["and", "CC"], ["we", "PRP"], ["can", "MD"], ["apply", "VB"], ["the", "DT"], ["same", "JJ"], ["thing", "NN"], ["to", "TO"], ["T", "NNP"], ["(", "("], ["N/2", "NNP"], [")", ")"], [".", "."], ["And", "CC"], ["throw", "VB"], ["out", "RP"], ["another", "DT"], ["one", "CD"], ["and", "CC"], ["if", "IN"], ["that", "DT"], ["'s", "VBZ"], [",", ","], ["this", "DT"], ["is", "VBZ"], ["true", "JJ"], [",", ","], ["apply", "VB"], ["the", "DT"], ["same", "JJ"], ["thing", "NN"], ["to", "TO"], ["N", "NNP"], ["over", "IN"], ["four", "CD"], [",", ","], ["and", "CC"], ["throw", "VB"], ["out", "RP"], ["another", "DT"], ["one", "CD"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], ["until", "IN"], ["we", "PRP"], ["get", "VBP"], ["down", "RB"], ["to", "TO"], ["just", "RB"], ["one", "CD"], [".", "."], ["In", "IN"], ["which", "WDT"], ["case", "NN"], ["we", "PRP"], ["have", "VBP"], ["lg", "VBN"], ["N", "NNP"], ["ones", "NNS"], ["left", "VBD"], [".", "."], ["Now", "RB"], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], ["true", "JJ"], ["sketch", "NN"], ["you", "PRP"], ["might", "MD"], ["have", "VB"], ["noticed", "VBN"], ["that", "IN"], [",", ","], ["that", "IN"], ["this", "DT"], ["proof", "NN"], ["actually", "RB"], ["only", "RB"], ["holds", "VBZ"], ["if", "IN"], ["N", "NNP"], ["is", "VBZ"], ["a", "DT"], ["power", "NN"], ["of", "IN"], ["two", "CD"], [".", "."], ["Because", "IN"], ["we", "PRP"], ["nearly", "RB"], ["specify", "VBP"], ["in", "IN"], ["this", "DT"], ["recurrence", "NN"], ["what", "WP"], ["we", "PRP"], ["mean", "VBP"], ["if", "IN"], ["N", "NNP"], ["is", "VBZ"], ["odd", "JJ"], [".", "."], ["But", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["possible", "JJ"], ["to", "TO"], ["go", "VB"], ["ahead", "RB"], ["and", "CC"], ["sorry", "VB"], [",", ","], ["possible", "JJ"], ["to", "TO"], ["go", "VB"], ["ahead", "RB"], ["and", "CC"], ["take", "VB"], ["care", "NN"], ["of", "IN"], ["that", "DT"], ["detail", "NN"], ["as", "RB"], ["well", "RB"], ["and", "CC"], ["show", "VB"], ["that", "DT"], ["binary", "JJ"], ["search", "NN"], ["running", "VBG"], ["time", "NN"], ["is", "VBZ"], ["logarithmic", "JJ"], ["always", "RB"], [".", "."], ["All", "DT"], ["right", "JJ"], [",", ","], ["so", "RB"], ["given", "VBN"], ["that", "IN"], ["fact", "NN"], ["we", "PRP"], ["can", "MD"], ["develop", "VB"], ["a", "DT"], ["faster", "JJR"], ["algorithm", "NN"], ["for", "IN"], ["a", "DT"], ["threesome", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["sorting", "NN"], ["based", "VBN"], ["algorithm", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], ["what", "WP"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["take", "VB"], ["the", "DT"], ["numbers", "NNS"], ["that", "IN"], ["we", "PRP"], ["have", "VBP"], ["as", "IN"], ["input", "NN"], ["and", "CC"], ["sort", "VB"], ["them", "PRP"], [".", "."], ["We", "PRP"], ["'ll", "MD"], ["talk", "VB"], ["about", "IN"], ["sorting", "VBG"], ["algorithms", "NNS"], ["next", "IN"], ["week", "NN"], [".", "."], ["And", "CC"], ["we", "PRP"], ["get", "VBP"], ["that", "DT"], ["time", "NN"], ["in", "IN"], ["time", "NN"], ["proportional", "JJ"], ["to", "TO"], ["N", "NNP"], ["lg", "NN"], ["N", "NNP"], ["but", "CC"], ["that", "DT"], ["'s", "VBZ"], ["not", "RB"], ["the", "DT"], ["main", "JJ"], ["part", "NN"], ["of", "IN"], ["the", "DT"], ["computation", "NN"], [".", "."], ["The", "DT"], ["main", "JJ"], ["part", "NN"], ["of", "IN"], ["the", "DT"], ["computation", "NN"], ["is", "VBZ"], ["to", "TO"], ["after", "IN"], ["the", "DT"], ["numbers", "NNS"], ["are", "VBP"], ["sorted", "VBN"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["go", "VB"], ["through", "IN"], ["and", "CC"], ["for", "IN"], ["each", "DT"], ["pair", "NN"], ["of", "IN"], ["numbers", "NNS"], ["ai", "VBP"], ["and", "CC"], ["aj", "VBP"], [".", "."], ["We", "PRP"], ["'ll", "MD"], ["do", "VB"], ["a", "DT"], ["binary", "JJ"], ["search", "NN"], ["for", "IN"], ["-ai", "NNP"], ["+", "NNP"], ["ij", "NN"], [".", "."], ["If", "IN"], ["we", "PRP"], ["find", "VBP"], ["it", "PRP"], ["then", "RB"], ["we", "PRP"], ["'ll", "MD"], ["have", "VB"], ["three", "CD"], ["numbers", "NNS"], ["that", "WDT"], ["sum", "VBP"], ["to", "TO"], ["zero", "CD"], [".", "."], ["So", "RB"], ["if", "IN"], ["we", "PRP"], ["[", "VBP"], ["cough", "JJ"], ["]", "NN"], ["sort", "VB"], ["our", "PRP$"], ["numbers", "NNS"], ["and", "CC"], ["then", "RB"], ["go", "VB"], ["through", "IN"], ["for", "IN"], ["each", "DT"], ["pair", "NN"], ["do", "VBP"], ["a", "DT"], ["binary", "JJ"], ["search", "NN"], ["to", "TO"], ["see", "VB"], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["there", "RB"], [",", ","], ["so", "IN"], ["-40", "JJ"], [",", ","], ["zero", "NN"], [".", "."], ["Minus", "CC"], ["that", "DT"], ["is", "VBZ"], ["40", "CD"], [",", ","], ["we", "PRP"], ["do", "VBP"], ["a", "DT"], ["binary", "JJ"], ["search", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["in", "IN"], ["there", "RB"], ["so", "IN"], ["we", "PRP"], ["have", "VBP"], ["one", "CD"], ["solution", "NN"], ["to", "TO"], ["the", "DT"], ["3-sum", "JJ"], ["problem", "NN"], [".", "."], ["And", "CC"], ["do", "VBP"], ["that", "DT"], ["for", "IN"], ["all", "DT"], ["pairs", "NNS"], ["of", "IN"], ["numbers", "NNS"], [".", "."], ["Then", "RB"], ["a", "DT"], ["quick", "JJ"], ["analysis", "NN"], ["says", "VBZ"], ["the", "DT"], ["order", "NN"], ["of", "IN"], ["growth", "NN"], ["of", "IN"], ["running", "VBG"], ["time", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["N^2", "NNP"], ["lg", "JJ"], ["N.", "NNP"], ["Then", "RB"], ["you", "PRP"], ["need", "VBP"], ["a", "DT"], ["good", "JJ"], ["sort", "NN"], [",", ","], ["well", "RB"], [",", ","], ["you", "PRP"], ["could", "MD"], ["use", "VB"], ["the", "DT"], ["elementary", "JJ"], ["insertion", "NN"], ["sort", "NN"], ["the", "DT"], ["first", "JJ"], ["one", "CD"], ["we", "PRP"], ["talk", "VBP"], ["about", "IN"], ["but", "CC"], ["the", "DT"], ["running", "JJ"], ["time", "NN"], ["of", "IN"], ["the", "DT"], ["binary", "JJ"], ["search", "NN"], ["for", "IN"], ["each", "DT"], ["of", "IN"], ["the", "DT"], ["pairs", "NNS"], [",", ","], ["each", "DT"], ["of", "IN"], ["the", "DT"], ["N^2", "NNP"], ["pairs", "NNS"], ["or", "CC"], ["N^2/2", "NNP"], ["pairs", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], ["the", "DT"], ["binary", "JJ"], ["search", "NN"], [",", ","], ["so", "IN"], ["we", "PRP"], ["get", "VBP"], ["a", "DT"], ["N^2", "NNP"], ["lg", "NN"], ["N", "NNP"], ["running", "NN"], ["time", "NN"], [".", "."], ["So", "RB"], [",", ","], ["a", "DT"], ["quick", "JJ"], ["example", "NN"], ["of", "IN"], ["how", "WRB"], ["we", "PRP"], ["could", "MD"], ["improve", "VB"], ["the", "DT"], ["performance", "NN"], [",", ","], ["we", "PRP"], ["could", "MD"], ["find", "VB"], ["an", "DT"], ["imroved", "JJ"], ["algorithm", "NN"], ["to", "TO"], ["solve", "VB"], ["a", "DT"], ["problem", "NN"], [".", "."], ["N^2", "NNP"], ["lg", "JJ"], ["N", "NNP"], ["is", "VBZ"], ["much", "RB"], ["less", "JJR"], ["than", "IN"], ["N^3", "NNP"], ["for", "IN"], ["large", "JJ"], ["N.", "NNP"], ["And", "CC"], ["so", "RB"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["implicitly", "RB"], ["making", "VBG"], ["the", "DT"], ["hypothesis", "NN"], ["that", "IN"], ["if", "IN"], ["we", "PRP"], ["do", "VBP"], ["this", "DT"], [",", ","], ["do", "VBP"], ["the", "DT"], ["sort", "NN"], ["base", "NN"], ["thing", "NN"], ["and", "CC"], ["use", "NN"], ["binary", "JJ"], ["search", "NN"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["a", "DT"], ["faster", "JJR"], ["program", "NN"], [".", "."], ["And", "CC"], [",", ","], ["sure", "JJ"], ["enough", "IN"], ["we", "PRP"], ["can", "MD"], ["go", "VB"], ["ahead", "RB"], ["and", "CC"], ["run", "VB"], ["some", "DT"], ["experiments", "NNS"], ["and", "CC"], ["find", "VB"], ["that", "DT"], ["whereas", "VBZ"], ["it", "PRP"], ["took", "VBD"], ["us", "PRP"], ["50", "CD"], ["seconds", "NNS"], ["to", "TO"], ["solve", "VB"], ["the", "DT"], ["problem", "NN"], ["for", "IN"], ["8,000", "CD"], ["numbers", "NNS"], ["before", "IN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["taking", "VBG"], ["less", "JJR"], ["than", "IN"], ["a", "DT"], ["second", "JJ"], ["now", "RB"], [".", "."], ["In", "IN"], ["50", "CD"], ["seconds", "NNS"], ["we", "PRP"], ["can", "MD"], ["solve", "VB"], ["up", "RB"], ["to", "TO"], ["64,000", "CD"], [".", "."], ["So", "RB"], ["typically", "RB"], ["we", "PRP"], ["expect", "VBP"], ["that", "IN"], ["better", "JJR"], ["order", "NN"], ["of", "IN"], ["growth", "NN"], ["means", "NNS"], [".", "."], ["Faster", "NNP"], ["in", "IN"], ["practice", "NN"], ["and", "CC"], ["but", "CC"], ["when", "WRB"], ["it", "PRP"], ["comes", "VBZ"], ["to", "TO"], ["examining", "VBG"], ["the", "DT"], ["algorithms", "NN"], ["in", "IN"], ["detail", "NN"], ["we", "PRP"], ["can", "MD"], [",", ","], ["we", "PRP"], ["can", "MD"], ["go", "VB"], ["ahead", "RB"], ["and", "CC"], ["do", "VB"], ["the", "DT"], ["tests", "NNS"], ["and", "CC"], ["figure", "NN"], ["out", "RP"], ["which", "WDT"], ["algorithm", "NN"], ["is", "VBZ"], ["faster", "RBR"], [".", "."], ["And", "CC"], ["certainly", "RB"], ["going", "VBG"], ["from", "IN"], ["N^3", "NNP"], ["to", "TO"], ["N^2", "NNP"], ["lg", "NN"], ["N", "NNP"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["expect", "VB"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["a", "DT"], ["much", "RB"], ["better", "JJR"], ["algorithm", "NN"], [".", "."]], "title": "order of growth classifications", "text": "Now, fortunately when we analyze algorithms, actually not too many different functions arise and actually that property allows us to really classify algorithms according to their performance as the problem size grows. So that's what we'll talk about next. So the good news is there's only these few functions turn up about the algorithms that we are interested in. We can craft things that have other functions and there are counter examples to this. But really a great number of the algorithms that we consider are described by these few functions and that are plotted here. And [cough] the when we are talking about the order of growth, we are not talking about the leading constant. Normally we'll say the running time of the algorithm is proportional to N log N. That means we that we think that our hypothesis is that the running time is tilde C lg N, N lg N, where C is some constant. And in these plots, these are lg, lg plots that not really give a good idea of what's going on. If a order of growth is logarithmic or constant, doesn't matter how big the thing is. It's going to be fast of the running time for is T for say a thousand, and for half a million it will be pretty close to T. If it's linear, if it's auto growth is proportional to N then as the running time, as the size increases the running time increases correspondingly. And the same is true, almost, if it's N log N. So those are the algorithms that we strive for. They scale with the input size. As the input grows, so grows the running time. And that's, a reasonable situation to be in. As we talked about when we talked about Union-find. If it's quadratic, the running time grows much faster than the input size. And it's not feasible to use such an algorithm for large inputs. And qubic is even worse. So what we find is for many algorithms our first task is really, simply, make sure it's not quadratic or qubit. And these order of growth classifications actually come from kind of simple patterns in terms of the code that we write. So if our code has no loops in it, then the order of growth is going to be constant. If our code has some kind of loop where the input's divided in half, and so binary search algorithm is an example of that. Then our order growth will be logarithmic and we'll take a look at that analysis and but if you do the doubling test, it grows almost linearly, if you have a huge input and you double the size it's, it's still going to be I'm sorry, not linearly, constant just like if it's constant. You'll hardly notice that lg N. If you have a loop where you touch everything in your input. Than the running time is linear, proportional to end so a typical example of that would be find the maximum, or to count the number of zeros. Our one some problem. A very interesting category is a so-called N lg N algorithms or linear rhythmic algorithms. And those are the ones that arise from a particular algorithms design technique called the divide and conquer. And the Mergesort algorithm, which we'll talk about in a couple of weeks, is a prime example of that. And then if you have double four loops like our two sum algorithm, that's going to be time proportional to N^2. As we saw, that's quadratic, or triple four loop like our 3-sum algorithm, that's going to be cubic or time proportional to N^3. For a quadratic algorithm or a cubic algorithm, the doubling factor is four or eight as the input size double for cubic algorithm, the running time goes up by a factor of eight, and that's the kind of calculation that you can do in your head while waiting for a program to finish. There's also a category of algorithms who's running time is exponential and in those algorithms n doesn't get very large at and we'll talk about those at the end part two of the course. So these are some practical implications of, of the order growth. And we really dwell on this too much, except to come back to the point that the algorithms we are really interested in, that can solve huge problems, are the linear and N lg N algorithms. Because even now a quadr atic algorithm on a typical fast computer could only solve problems and saying that tens of thousands in a cubic algorithm only in the size of thousands. And nowadays those are just not useful because the amount of data that we have is more like the millions or billions or trillions. That fact is becoming more and more evident as time wears on the ancient times would have some discussion about whether quadratic algorithm might be useful but the situation gets worse as the time goes on, so we need better algorithms. To illustrate the process of developing a mathematical model for describing a performance through an algorithm, we'll look at a familiar algorithm called binary search. It's, the goal is that you have a sorted array of integers, say and you're given a key. And you want to know, is that key in the array? And if it is, what, what's its index? And a fast algorithm for doing this is known as binary search, where we compare the key against the middle entry. In this case, if we're looking for 33, we compare it against 53. If its smaller we know its in the left half of the array, if it's larger we know it's in the right half of the array, if it's equal, we found it. And then we apply the same algorithm recursively. So let's quickly look at a demo. So we're looking for 33 in this array, compare it against the middle entry in the array. 53 and it's less so we go left, so now we can concentrate just on the left half of the array, now we look in the middle of this half, that's 25, 33 is bigger so we go right. And now we concentrate on the right half or the left half and we have a smaller sub array. Look at the middle, 33 is less so we go left and now we have only the one element to look at and we found our key 33 in the array and we return that index four. If we're looking for something that's not in the array, we do the same process. So, say, we're looking for 34. It's going to be the same. Look in the left half, look in the right half. Look to the left of the 43. Now, there's only one key to look at. A nd it's not 34, so we say, it's not there. So that's binary search. So here's the code for binary search. Actually, Binary Search although it's a simple algorithm, its notoriously tricky to get every detail right. In fact one paper claimed, that the first bug free binary search wasn't published until 1962, and even in 2006, a bug was found in Java's implementation of binary search, just an indication of the care that we have to take in developing algorithms especially for libraries that are going to be used by millions of people. So here's an implementation. It's not recursive although often we can implement this recursively. And it's just reflexing code, what I described in words, we have to find. A key, whether a key's in an array. And we use two pointers, low and high, to, indicate the part of the array we are interested in, as long as low is less and equal to high, we compute the middle. And then we compare our key against the middle, actually its a three way compare, see its less or greater or if its equal, we, we return that mid index. If its less we reset the high pointer, if its greater, we reset the low pointer, and we keep on going until the pointers are equal. If they are equal and we haven't found it then we return -one. And it's easy to persuade ourselves that this program works as advertised by thinking about this invariant, if the keys in the array, then it's between low and high in the array. Alright, so that's a program that, you are probably familiar with. Lets look at the mathematical analysis of that program. And this a, a theorem that we are going to prove easily. We want to a lot of proofs but this is one worth doing. So its say that binary search uses at most one + lg base two event compares, to complete a search, in a sorted array of size f. So we do that, to setup the problem by defining, a variable T(N), which is the number of compares that binary search needed for its array size and. And then we write down a recurrence relation that is reflex the code. And what the code does is, it divides the problem size in half so that. If the event is less or equal to the event over two plus depending on how you count what the compare is think of it as a two way compare so divided in half by doing one compare and that's true as long as N is bigger than one. If it's equal to one the solution is one. So it's a recurrent relation describing the computation. And so we, we can go ahead and, solve this recurrence by applying the recurrence itself, to the first term on the right. Now that's called telescoping. So if this is true and we can apply the same thing to T(N/2). And throw out another one and if that's, this is true, apply the same thing to N over four, and throw out another one and so forth until we get down to just one. In which case we have lg N ones left. Now this is a true sketch you might have noticed that, that this proof actually only holds if N is a power of two. Because we nearly specify in this recurrence what we mean if N is odd. But it's possible to go ahead and sorry, possible to go ahead and take care of that detail as well and show that binary search running time is logarithmic always. All right, so given that fact we can develop a faster algorithm for a threesome. It's a sorting based algorithm. And so what we're going to do is we're going to take the numbers that we have as input and sort them. We'll talk about sorting algorithms next week. And we get that time in time proportional to N lg N but that's not the main part of the computation. The main part of the computation is to after the numbers are sorted, we'll go through and for each pair of numbers ai and aj. We'll do a binary search for -ai + ij. If we find it then we'll have three numbers that sum to zero. So if we [cough] sort our numbers and then go through for each pair do a binary search to see if it's there, so -40, zero. Minus that is 40, we do a binary search that's in there so we have one solution to the 3-sum problem. And do that for all pairs of numbers. Then a quick analysis says the order of growth of running time is going to be N^2 lg N. Then you need a good sort, well, you could use the elementary insertion sort the first one we talk about but the running time of the binary search for each of the pairs, each of the N^2 pairs or N^2/2 pairs we're going to do the binary search, so we get a N^2 lg N running time. So, a quick example of how we could improve the performance, we could find an imroved algorithm to solve a problem. N^2 lg N is much less than N^3 for large N. And so, we're implicitly making the hypothesis that if we do this, do the sort base thing and use binary search, we're going to have a faster program. And, sure enough we can go ahead and run some experiments and find that whereas it took us 50 seconds to solve the problem for 8,000 numbers before. It's taking less than a second now. In 50 seconds we can solve up to 64,000. So typically we expect that better order of growth means. Faster in practice and but when it comes to examining the algorithms in detail we can, we can go ahead and do the tests and figure out which algorithm is faster. And certainly going from N^3 to N^2 lg N we're going to expect that we're going to have a much better algorithm. ", "video_ID": 10, "course_id": 3}
{"category": ["analysis of algorithms"], "tagged": [["In", "IN"], ["fact", "NN"], ["the", "DT"], ["order", "NN"], ["of", "IN"], ["growth", "NN"], ["classifications", "NNS"], ["are", "VBP"], ["so", "RB"], ["important", "JJ"], ["they", "PRP"], ["'ve", "VBP"], ["led", "VBN"], ["to", "TO"], ["enormous", "JJ"], ["amount", "NN"], ["of", "IN"], ["research", "NN"], ["in", "IN"], ["recent", "JJ"], ["years", "NNS"], ["and", "CC"], ["just", "RB"], ["talk", "VB"], ["briefly", "NN"], ["about", "IN"], ["that", "DT"], ["now", "RB"], [".", "."], ["So", "IN"], ["there", "EX"], ["is", "VBZ"], [",", ","], ["life", "NN"], ["is", "VBZ"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["more", "RBR"], ["complicated", "JJ"], ["than", "IN"], ["pointed", "VBN"], ["out", "RP"], ["in", "IN"], ["the", "DT"], ["last", "JJ"], ["example", "NN"], ["and", "CC"], ["one", "CD"], ["problem", "NN"], ["is", "VBZ"], ["that", "IN"], ["the", "DT"], ["inputs", "NNS"], ["can", "MD"], ["cause", "VB"], ["the", "DT"], ["performance", "NN"], ["of", "IN"], ["the", "DT"], ["algorithm", "NN"], ["to", "TO"], ["vary", "VB"], ["widely", "RB"], [".", "."], ["So", "RB"], ["often", "RB"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["think", "VB"], ["about", "IN"], ["different", "JJ"], ["ways", "NNS"], ["of", "IN"], ["analyzing", "VBG"], ["the", "DT"], ["algorithm", "NN"], ["depending", "VBG"], ["on", "IN"], ["the", "DT"], ["input", "NN"], [".", "."], ["So", "RB"], [",", ","], ["the", "DT"], ["running", "JJ"], ["time", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["somewhere", "RB"], ["between", "IN"], ["the", "DT"], ["best", "JJS"], ["case", "NN"], ["and", "CC"], ["the", "DT"], ["worst", "JJS"], ["case", "NN"], [".", "."], ["Best", "NNP"], ["case", "NN"], ["is", "VBZ"], ["the", "DT"], ["lower", "JJR"], ["bound", "NN"], ["on", "IN"], ["cost", "NN"], ["it", "PRP"], [".", "."], ["It", "PRP"], ["provides", "VBZ"], ["something", "NN"], ["that", "IN"], ["the", "DT"], ["running", "JJ"], ["time", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["bigger", "JJR"], ["than", "IN"], ["that", "DT"], ["always", "RB"], ["or", "CC"], ["not", "RB"], ["less", "JJR"], ["than", "IN"], ["that", "DT"], ["and", "CC"], ["then", "RB"], ["there", "EX"], ["'s", "VBZ"], ["the", "DT"], ["worst", "JJS"], ["case", "NN"], ["which", "WDT"], ["is", "VBZ"], ["the", "DT"], ["most", "RBS"], ["difficult", "JJ"], ["input", "NN"], [".", "."], ["If", "IN"], ["we", "PRP"], ["analyze", "VBP"], ["that", "IN"], ["then", "RB"], ["we", "PRP"], ["can", "MD"], ["guarantee", "VB"], ["that", "IN"], ["the", "DT"], ["running", "JJ"], ["time", "NN"], ["in", "IN"], ["the", "DT"], ["algorithms", "NN"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["bigger", "JJR"], ["than", "IN"], ["that", "DT"], [".", "."], ["And", "CC"], ["then", "RB"], ["in", "IN"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["situations", "NNS"], ["we", "PRP"], ["might", "MD"], ["consider", "VB"], ["our", "PRP$"], ["input", "NN"], ["to", "TO"], ["be", "VB"], ["random", "JJ"], [".", "."], ["Well", "IN"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], [",", ","], ["someway", "RB"], ["to", "TO"], ["model", "VB"], [",", ","], ["what", "WP"], ["we", "PRP"], ["mean", "VBP"], ["by", "IN"], ["random", "NN"], ["for", "IN"], ["the", "DT"], ["problem", "NN"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["solving", "VBG"], ["but", "CC"], ["there", "EX"], ["is", "VBZ"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["situations", "NNS"], ["where", "WRB"], ["we", "PRP"], ["can", "MD"], ["do", "VB"], ["that", "DT"], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["way", "NN"], ["to", "TO"], ["predict", "VB"], ["performance", "NN"], ["even", "RB"], ["when", "WRB"], ["the", "DT"], ["input", "NN"], ["might", "MD"], ["vary", "VB"], ["widely", "RB"], [".", "."], ["So", "RB"], ["for", "IN"], ["example", "NN"], ["for", "IN"], ["3-sum", "JJ"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["kind", "NN"], ["of", "IN"], ["always", "RB"], ["the", "DT"], ["same", "JJ"], [".", "."], ["With", "IN"], ["the", "DT"], ["tilde", "NN"], ["notation", "NN"], [",", ","], ["the", "DT"], ["only", "JJ"], ["variability", "NN"], ["in", "IN"], ["that", "DT"], ["algorithm", "NN"], ["is", "VBZ"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["times", "NNS"], ["the", "DT"], ["counter", "NN"], ["is", "VBZ"], ["incremented", "VBN"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["in", "IN"], ["low", "JJ"], ["order", "NN"], ["terms", "NNS"], ["so", "IN"], ["it", "PRP"], ["does", "VBZ"], ["n't", "RB"], ["need", "VB"], ["to", "TO"], ["chew", "VB"], ["up", "RP"], ["in", "IN"], ["our", "PRP$"], ["analysis", "NN"], [".", "."], ["For", "IN"], ["binary", "JJ"], ["search", "NN"], ["it", "PRP"], ["'s", "VBZ"], [",", ","], ["you", "PRP"], ["might", "MD"], ["find", "VB"], ["the", "DT"], ["thing", "NN"], ["right", "RB"], ["away", "RB"], ["in", "IN"], ["which", "WDT"], ["case", "NN"], ["is", "VBZ"], ["constant", "JJ"], ["time", "NN"], ["and", "CC"], ["we", "PRP"], ["can", "MD"], ["show", "VB"], ["that", "IN"], ["the", "DT"], ["average", "NN"], ["and", "CC"], ["the", "DT"], ["worst", "JJS"], ["case", "NN"], ["are", "VBP"], ["both", "DT"], ["lg", "NNS"], ["based", "VBN"], ["two", "CD"], ["(", "("], ["N", "NNP"], [")", ")"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["other", "JJ"], [",", ","], ["in", "IN"], ["another", "DT"], ["examples", "NNS"], ["that", "WDT"], ["be", "VB"], ["much", "RB"], ["more", "JJR"], ["variability", "NN"], ["even", "RB"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["this", "DT"], ["different", "JJ"], ["types", "NNS"], ["of", "IN"], ["analysis", "NN"], ["depending", "VBG"], ["on", "IN"], ["the", "DT"], ["input", "NN"], [".", "."], ["And", "CC"], ["but", "CC"], ["the", "DT"], ["question", "NN"], ["is", "VBZ"], [",", ","], ["what", "WP"], ["about", "IN"], ["the", "DT"], ["actual", "JJ"], ["problem", "NN"], ["that", "IN"], ["the", "DT"], ["client", "NN"], ["is", "VBZ"], ["trying", "VBG"], ["to", "TO"], ["solve", "VB"], ["?", "."], ["So", "IN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["understand", "VB"], ["that", "DT"], ["two", "CD"], ["in", "IN"], ["order", "NN"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["understand", "VB"], ["performance", "NN"], ["of", "IN"], ["the", "DT"], ["algorithm", "NN"], [".", "."], ["And", "CC"], ["there", "EX"], ["'s", "VBZ"], ["two", "CD"], ["approaches", "NNS"], ["that", "WDT"], ["are", "VBP"], [",", ","], ["or", "CC"], ["successful", "JJ"], ["in", "IN"], ["this", "DT"], [".", "."], ["One", "CD"], ["is", "VBZ"], ["to", "TO"], ["design", "VB"], ["for", "IN"], ["the", "DT"], ["worst", "JJS"], ["case", "NN"], [".", "."], ["Just", "NNP"], ["to", "TO"], ["make", "VB"], ["sure", "JJ"], ["that", "IN"], ["your", "PRP$"], ["algorithm", "NN"], ["are", "VBP"], [",", ","], ["always", "RB"], ["runs", "VBZ"], ["quickly", "RB"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["definitely", "RB"], ["ideal", "JJ"], [".", "."], ["Another", "DT"], ["is", "VBZ"], ["to", "TO"], [",", ","], ["if", "IN"], ["you", "PRP"], ["ca", "MD"], ["n't", "RB"], ["do", "VB"], ["that", "DT"], ["is", "VBZ"], ["to", "TO"], ["randomize", "VB"], ["and", "CC"], ["then", "RB"], ["depend", "VB"], ["on", "IN"], ["some", "DT"], ["kind", "NN"], ["of", "IN"], ["probabilistic", "JJ"], ["guarantee", "NN"], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["see", "VB"], ["examples", "NNS"], ["of", "IN"], ["both", "DT"], ["of", "IN"], ["these", "DT"], ["as", "IN"], ["we", "PRP"], ["go", "VBP"], ["through", "IN"], ["the", "DT"], ["course", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["those", "DT"], ["kinds", "NNS"], ["of", "IN"], ["considerations", "NNS"], [",", ","], ["you", "PRP"], ["know", "VBP"], ["the", "DT"], ["idea", "NN"], ["of", "IN"], ["order", "NN"], ["of", "IN"], ["growth", "NN"], ["leads", "VBZ"], ["to", "TO"], ["discussion", "NN"], ["of", "IN"], [",", ","], ["what", "WP"], ["'s", "VBZ"], ["called", "VBN"], [",", ","], ["what", "WP"], ["I", "PRP"], ["call", "VBP"], ["the", "DT"], ["theory", "NN"], ["of", "IN"], ["algorithms", "NN"], [".", "."], ["And", "CC"], ["here", "RB"], ["our", "PRP$"], ["goals", "NNS"], ["are", "VBP"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["problem", "NN"], ["to", "TO"], ["solve", "VB"], ["like", "IN"], ["solve", "VB"], ["the", "DT"], ["3-sum", "JJ"], ["problem", "NN"], ["and", "CC"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["know", "VB"], ["how", "WRB"], ["difficult", "JJ"], ["it", "PRP"], ["is", "VBZ"], [".", "."], ["We", "PRP"], ["want", "VBP"], ["to", "TO"], ["find", "VB"], ["the", "DT"], ["best", "JJS"], ["algorithm", "NN"], ["for", "IN"], ["solving", "VBG"], ["that", "DT"], ["problem", "NN"], [".", "."], ["The", "DT"], ["approach", "NN"], ["that", "IN"], ["the", "DT"], ["computer", "NN"], ["scientist", "NN"], ["use", "NN"], ["for", "IN"], ["this", "DT"], ["is", "VBZ"], ["to", "TO"], ["try", "VB"], ["to", "TO"], ["suppress", "VB"], ["as", "IN"], ["many", "JJ"], ["details", "NNS"], ["as", "IN"], ["possible", "JJ"], ["in", "IN"], ["the", "DT"], ["analysis", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], ["just", "RB"], ["analyze", "VB"], ["the", "DT"], ["running", "NN"], ["time", "NN"], ["to", "TO"], ["or", "CC"], ["within", "IN"], ["a", "DT"], ["constant", "JJ"], ["factor", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["what", "WP"], ["order", "NN"], ["of", "IN"], ["growth", "NN"], ["is", "VBZ"], ["getting", "VBG"], ["at", "IN"], ["and", "CC"], ["also", "RB"], ["I", "PRP"], ["want", "VBP"], ["to", "TO"], [",", ","], ["not", "RB"], ["worry", "VB"], ["about", "IN"], ["the", "DT"], ["input", "NN"], ["model", "NN"], ["at", "IN"], ["all", "DT"], [".", "."], ["And", "CC"], ["so", "RB"], ["we", "PRP"], ["focused", "VBD"], ["on", "IN"], ["worst", "JJS"], ["case", "NN"], ["design", "NN"], ["and", "CC"], ["we", "PRP"], ["can", "MD"], ["talk", "VB"], ["about", "IN"], ["performance", "NN"], ["of", "IN"], ["algorithms", "NN"], ["just", "RB"], ["in", "IN"], ["turn", "NN"], ["of", "IN"], ["the", "DT"], ["order", "NN"], ["of", "IN"], ["growth", "NN"], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["actually", "RB"], ["possible", "JJ"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["actually", "RB"], ["possible", "JJ"], ["to", "TO"], ["do", "VB"], ["that", "DT"], ["in", "IN"], ["a", "DT"], ["very", "RB"], ["rigorous", "JJ"], ["way", "NN"], ["that", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["taught", "JJ"], ["us", "PRP"], ["a", "DT"], ["lot", "NN"], ["about", "IN"], ["the", "DT"], ["difficulty", "NN"], ["of", "IN"], ["solving", "VBG"], ["problems", "NNS"], [".", "."], ["And", "CC"], ["our", "PRP$"], ["goal", "NN"], ["is", "VBZ"], ["to", "TO"], ["find", "VB"], ["an", "DT"], ["optimal", "JJ"], ["algorithm", "NN"], ["where", "WRB"], ["we", "PRP"], ["can", "MD"], ["guarantee", "VB"], ["to", "TO"], ["within", "IN"], ["a", "DT"], ["constant", "JJ"], ["factor", "NN"], ["certain", "JJ"], ["performance", "NN"], ["for", "IN"], ["any", "DT"], ["input", "JJ"], ["cuz", "NN"], ["we", "PRP"], ["discovered", "VBD"], ["the", "DT"], ["worst", "JJS"], ["case", "NN"], ["but", "CC"], ["we", "PRP"], ["also", "RB"], ["can", "MD"], ["have", "VB"], ["approved", "VBN"], ["that", "DT"], ["did", "VBD"], ["n't", "RB"], ["know", "VB"], ["algorithm", "RB"], ["could", "MD"], ["provide", "VB"], ["a", "DT"], ["better", "JJR"], ["performance", "NN"], ["guarantee", "NN"], [".", "."], ["I", "PRP"], ["'ll", "MD"], ["give", "VB"], ["a", "DT"], ["couple", "NN"], ["of", "IN"], ["easy", "JJ"], ["examples", "NNS"], ["of", "IN"], ["this", "DT"], [".", "."], ["Now", "RB"], ["in", "IN"], ["order", "NN"], ["to", "TO"], ["do", "VB"], ["this", "DT"], ["they", "PRP"], ["'re", "VBP"], [",", ","], ["these", "DT"], ["commonly", "RB"], ["used", "VBD"], ["notations", "NNS"], ["called", "VBD"], ["the", "DT"], ["big", "JJ"], ["theta", "NN"], [",", ","], ["big", "JJ"], ["O", "NNP"], ["and", "CC"], ["big", "JJ"], ["omega", "NN"], ["notations", "NNS"], [".", "."], ["So", "IN"], ["the", "DT"], ["and", "CC"], ["those", "DT"], ["definitions", "NNS"], ["are", "VBP"], ["given", "VBN"], ["here", "RB"], [".", "."], ["So", "RB"], ["big", "JJ"], ["theta", "NN"], ["notation", "NN"], ["is", "VBZ"], ["just", "RB"], ["the", "DT"], ["way", "NN"], ["to", "TO"], ["describe", "VB"], ["the", "DT"], ["order", "NN"], ["of", "IN"], ["growth", "NN"], [".", "."], ["Theta", "NNP"], ["(", "("], ["N", "NNP"], [")", ")"], ["^2", "NN"], ["is", "VBZ"], ["kind", "NN"], ["of", "IN"], ["short", "JJ"], ["hand", "NN"], ["for", "IN"], ["anything", "NN"], ["N^2", "NNP"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["bounded", "VBN"], ["above", "IN"], ["and", "CC"], ["below", "IN"], ["by", "IN"], ["constant", "JJ"], ["time", "NN"], ["N^2", "NNP"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["what", "WP"], ["we", "PRP"], ["really", "RB"], ["use", "VBP"], ["to", "TO"], ["classify", "VB"], ["algorithms", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["there", "EX"], ["is", "VBZ"], ["big", "JJ"], ["O", "NNP"], ["notation", "NN"], ["which", "WDT"], ["is", "VBZ"], ["upper", "JJ"], ["bounds", "NNS"], ["on", "IN"], ["performance", "NN"], [".", "."], ["When", "WRB"], ["we", "PRP"], ["say", "VBP"], ["O", "NNP"], ["(", "("], ["N^2", "NNP"], [")", ")"], [",", ","], ["we", "PRP"], ["mean", "VBP"], ["that", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["less", "JJR"], ["than", "IN"], ["some", "DT"], ["constant", "JJ"], ["time", "NN"], ["N^2", "NNP"], ["as", "IN"], ["N", "NNP"], ["grows", "VBZ"], [".", "."], ["And", "CC"], ["big", "JJ"], ["omega", "NN"], ["is", "VBZ"], ["used", "VBN"], ["for", "IN"], ["lower", "JJR"], ["bounds", "NNS"], ["means", "VBZ"], ["greater", "JJR"], ["than", "IN"], ["some", "DT"], ["constant", "JJ"], ["time", "NN"], ["N^2", "NNP"], ["as", "IN"], ["N", "NNP"], ["grows", "VBZ"], [".", "."], ["So", "IN"], ["those", "DT"], ["three", "CD"], ["notations", "NNS"], ["were", "VBD"], ["able", "JJ"], ["to", "TO"], ["use", "VB"], ["to", "TO"], ["classify", "VB"], ["algorithms", "NN"], ["and", "CC"], ["I", "PRP"], ["'ll", "MD"], ["show", "VB"], ["them", "PRP"], ["in", "IN"], ["the", "DT"], ["following", "NN"], [".", "."], ["So", "RB"], [",", ","], ["examples", "NNS"], ["from", "IN"], ["our", "PRP$"], ["1-sum", "JJ"], [",", ","], ["2-sum", "JJ"], [",", ","], ["and", "CC"], ["3-sum", "NNS"], ["are", "VBP"], ["easy", "JJ"], ["to", "TO"], ["articulate", "VB"], ["so", "RB"], ["our", "PRP$"], ["goals", "NNS"], ["are", "VBP"], ["to", "TO"], ["establish", "VB"], ["the", "DT"], ["difficulty", "NN"], ["of", "IN"], ["the", "DT"], ["problem", "NN"], ["and", "CC"], ["to", "TO"], ["develop", "VB"], ["an", "DT"], ["optimal", "JJ"], ["algorithm", "NN"], [".", "."], ["So", "RB"], [",", ","], ["the", "DT"], ["1-sum", "JJ"], ["problem", "NN"], ["is", "VBZ"], ["00", "CD"], ["in", "IN"], ["the", "DT"], ["array", "NN"], [".", "."], ["Well", "NNP"], [",", ","], ["an", "DT"], ["upper", "JJ"], ["bound", "NN"], ["on", "IN"], ["the", "DT"], ["difficulty", "NN"], ["of", "IN"], ["the", "DT"], ["problem", "NN"], ["is", "VBZ"], ["some", "DT"], ["specific", "JJ"], ["algorithm", "NN"], [".", "."], ["So", "RB"], [",", ","], ["for", "IN"], ["example", "NN"], [",", ","], ["the", "DT"], ["brute", "NN"], ["force", "NN"], ["algorithm", "NN"], ["that", "WDT"], ["looked", "VBD"], [",", ","], ["that", "IN"], ["looks", "VBZ"], ["at", "IN"], ["every", "DT"], ["array", "NN"], ["entry", "NN"], ["is", "VBZ"], ["a", "DT"], ["specific", "JJ"], ["algorithm", "NN"], ["and", "CC"], ["it", "PRP"], ["means", "VBZ"], ["that", "IN"], ["and", "CC"], ["that", "IN"], ["takes", "VBZ"], ["O", "NNP"], ["(", "("], ["N", "NNP"], [")", ")"], ["time", "NN"], [".", "."], ["We", "PRP"], ["have", "VBP"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["every", "DT"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["less", "JJR"], ["than", "IN"], ["a", "DT"], ["constant", "JJ"], ["time", "NN"], ["N", "NNP"], ["for", "IN"], ["some", "DT"], ["constant", "JJ"], [".", "."], ["So", "RB"], [",", ","], ["the", "DT"], ["running", "JJ"], ["time", "NN"], ["of", "IN"], ["the", "DT"], ["optimal", "JJ"], ["algorithm", "NN"], ["has", "VBZ"], ["to", "TO"], ["be", "VB"], ["O", "NNP"], ["(", "("], ["N", "NNP"], [")", ")"], ["that", "WDT"], ["is", "VBZ"], ["that", "DT"], ["'s", "VBZ"], ["specific", "JJ"], ["algorithm", "NN"], ["provides", "VBZ"], ["an", "DT"], ["upper", "JJ"], ["bound", "NN"], ["on", "IN"], ["the", "DT"], ["running", "JJ"], ["time", "NN"], ["of", "IN"], ["the", "DT"], ["optimal", "JJ"], ["algorithm", "NN"], [".", "."], ["And", "CC"], ["but", "CC"], ["in", "IN"], ["this", "DT"], ["case", "NN"], ["it", "PRP"], ["'s", "VBZ"], ["also", "RB"], ["easy", "JJ"], ["to", "TO"], ["develop", "VB"], ["a", "DT"], ["lower", "JJR"], ["bound", "NN"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["a", "DT"], ["proof", "NN"], ["that", "IN"], ["no", "DT"], ["algorithm", "NN"], ["can", "MD"], ["do", "VB"], ["better", "JJR"], [".", "."], ["Well", "NNP"], [",", ","], ["for", "IN"], ["1-sum", "JJ"], ["you", "PRP"], ["have", "VBP"], ["to", "TO"], ["examine", "VB"], ["all", "DT"], ["entries", "NNS"], ["in", "IN"], ["the", "DT"], ["array", "NN"], [".", "."], ["If", "IN"], ["you", "PRP"], ["miss", "VBP"], ["one", "CD"], [",", ","], ["then", "RB"], ["that", "IN"], ["one", "CD"], ["might", "MD"], ["be", "VB"], ["zero", "CD"], ["so", "IN"], ["that", "DT"], ["means", "VBZ"], ["that", "IN"], ["the", "DT"], ["optimal", "JJ"], ["algorithm", "NN"], ["has", "VBZ"], ["to", "TO"], ["have", "VB"], ["a", "DT"], ["running", "JJ"], ["time", "NN"], ["at", "IN"], ["least", "JJS"], ["some", "DT"], ["constant", "JJ"], ["times", "NNS"], ["N", "NNP"], ["where", "WRB"], ["we", "PRP"], ["say", "VBP"], ["the", "DT"], ["running", "JJ"], ["time", "NN"], ["is", "VBZ"], ["omega", "JJ"], ["of", "IN"], ["n.", "NN"], ["Now", "RB"], ["in", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["the", "DT"], ["upper", "JJ"], ["bound", "NN"], ["and", "CC"], ["the", "DT"], ["lower", "JJR"], ["bound", "NN"], ["match", "NN"], [".", "."], ["So", "RB"], [",", ","], ["doing", "VBG"], ["the", "DT"], ["constant", "JJ"], ["factor", "NN"], ["so", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["proof", "NN"], ["that", "IN"], ["the", "DT"], ["brute", "NN"], ["force", "NN"], ["algorithm", "NN"], ["for", "IN"], ["1-sum", "JJ"], ["is", "VBZ"], ["optimal", "JJ"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["running", "JJ"], ["time", "NN"], ["is", "VBZ"], ["theta", "JJ"], ["(", "("], ["N", "NNP"], [")", ")"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["both", "DT"], ["omega", "JJ"], ["and", "CC"], ["O", "NNP"], ["(", "("], ["N", "NNP"], [")", ")"], [".", "."], ["That", "DT"], ["'s", "VBZ"], [",", ","], ["for", "IN"], ["that", "DT"], ["simple", "JJ"], ["problem", "NN"], ["it", "PRP"], ["was", "VBD"], ["okay", "VBN"], ["to", "TO"], ["get", "VB"], ["the", "DT"], ["optimal", "JJ"], ["algorithm", "NN"], [".", "."], ["For", "IN"], ["a", "DT"], ["more", "RBR"], ["complicated", "JJ"], ["problems", "NNS"], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["more", "RBR"], ["difficult", "JJ"], ["to", "TO"], ["get", "VB"], ["upper", "JJ"], ["balance", "NN"], ["and", "CC"], ["lower", "JJR"], ["balance", "NN"], ["and", "CC"], ["particularly", "RB"], ["upper", "JJ"], ["balance", "NN"], ["and", "CC"], ["lower", "JJR"], ["balance", "NN"], ["that", "IN"], ["match", "NN"], [".", "."], ["For", "IN"], ["example", "NN"], ["let", "NN"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["3-sum", "JJ"], [".", "."], ["So", "RB"], [",", ","], ["upper", "JJ"], ["bound", "NN"], ["for", "IN"], ["3-sum", "JJ"], [",", ","], ["say", "VB"], ["our", "PRP$"], ["first", "JJ"], ["brute", "JJ"], ["force", "NN"], ["algorithm", "NN"], [",", ","], ["say", "VBP"], ["that", "IN"], ["the", "DT"], ["proof", "NN"], [",", ","], ["was", "VBD"], ["a", "DT"], ["proof", "NN"], ["that", "IN"], ["the", "DT"], ["running", "JJ"], ["time", "NN"], ["of", "IN"], ["the", "DT"], ["optimal", "JJ"], ["algorithm", "NN"], ["is", "VBZ"], ["O", "NNP"], ["(", "("], ["N^3", "NNP"], [")", ")"], ["but", "CC"], ["we", "PRP"], ["found", "VBD"], ["a", "DT"], ["better", "JJR"], ["improved", "VBN"], ["algorithm", "NN"], [".", "."], ["Whose", "VB"], ["running", "JJ"], ["time", "NN"], ["is", "VBZ"], ["O", "NNP"], ["(", "("], ["N^2", "NNP"], [")", ")"], ["lg", "VBP"], ["N.", "NNP"], ["So", "NNP"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["a", "DT"], ["better", "JJR"], ["upper", "JJ"], ["bound", "NN"], [".", "."], ["Lower", "JJR"], ["bound", "NN"], ["well", "RB"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["examine", "VB"], ["all", "DT"], ["entries", "NNS"], ["cuz", "VBP"], ["again", "RB"], [",", ","], ["we", "PRP"], ["might", "MD"], ["miss", "VB"], ["one", "CD"], ["that", "WDT"], ["makes", "VBZ"], ["3-sum", "JJ"], ["=", "JJ"], ["zero", "NN"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["proof", "NN"], ["that", "IN"], ["the", "DT"], ["running", "JJ"], ["time", "NN"], ["in", "IN"], ["the", "DT"], ["optimal", "JJ"], ["algorithm", "NN"], ["is", "VBZ"], ["omega", "JJ"], ["(", "("], ["N", "NNP"], [")", ")"], ["but", "CC"], ["nobody", "NN"], ["knows", "VBZ"], ["higher", "JJR"], ["or", "CC"], ["lower", "JJR"], ["bound", "NN"], ["for", "IN"], ["3-sum", "JJ"], [".", "."], ["So", "IN"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["gap", "NN"], ["between", "IN"], ["the", "DT"], ["upper", "JJ"], ["bound", "NN"], ["and", "CC"], ["the", "DT"], ["lower", "JJR"], ["bound", "NN"], ["and", "CC"], ["open", "JJ"], ["problems", "NNS"], [".", "."], ["Is", "VBZ"], ["there", "EX"], ["an", "DT"], ["optimal", "JJ"], ["algorithm", "NN"], ["for", "IN"], ["3-sum", "JJ"], ["?", "."], ["We", "PRP"], ["do", "VBP"], ["n't", "RB"], ["know", "VB"], ["what", "WP"], ["it", "PRP"], ["is", "VBZ"], [".", "."], ["We", "PRP"], ["do", "VBP"], ["n't", "RB"], ["even", "RB"], ["know", "VB"], ["if", "IN"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["algorithm", "JJ"], ["whose", "WP$"], ["running", "JJ"], ["time", "NN"], ["is", "VBZ"], ["<", "JJ"], ["O", "NNP"], ["(", "("], ["N^2", "NNP"], [")", ")"], ["or", "CC"], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["know", "VB"], ["higher", "JJR"], ["lower", "JJR"], ["bound", "NN"], ["and", "CC"], ["linear", "JJ"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["an", "DT"], ["example", "NN"], ["of", "IN"], ["an", "DT"], ["open", "JJ"], ["problem", "NN"], ["in", "IN"], ["the", "DT"], ["theory", "NN"], ["of", "IN"], ["algorithms", "NN"], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["know", "VB"], ["how", "WRB"], ["difficult", "JJ"], ["it", "PRP"], ["is", "VBZ"], ["to", "TO"], ["solve", "VB"], ["the", "DT"], ["3-sum", "JJ"], ["problem", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["this", "DT"], ["point", "NN"], ["of", "IN"], ["view", "NN"], ["has", "VBZ"], ["been", "VBN"], ["extremely", "RB"], ["successful", "JJ"], ["in", "IN"], ["recent", "JJ"], ["decades", "NNS"], [".", "."], ["We", "PRP"], ["have", "VBP"], ["a", "DT"], ["new", "JJ"], ["problem", "NN"], [",", ","], ["develop", "VB"], ["some", "DT"], ["algorithm", "NN"], [",", ","], ["proves", "VBZ"], ["some", "DT"], ["lower", "JJR"], ["bound", "NN"], [".", "."], ["If", "IN"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["gap", "NN"], [",", ","], ["we", "PRP"], ["look", "VBP"], ["for", "IN"], ["new", "JJ"], ["algorithm", "NN"], ["that", "WDT"], ["will", "MD"], ["lower", "VB"], ["the", "DT"], ["upper", "JJ"], ["bound", "NN"], ["or", "CC"], ["we", "PRP"], ["try", "VBP"], ["to", "TO"], ["find", "VB"], ["a", "DT"], ["way", "NN"], ["to", "TO"], ["raise", "VB"], ["the", "DT"], ["lower", "JJR"], ["bound", "NN"], [".", "."], ["Usually", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["very", "RB"], ["difficult", "JJ"], ["to", "TO"], ["prove", "VB"], ["non-trivial", "JJ"], ["or", "CC"], ["lower", "JJR"], ["bounds", "NNS"], [".", "."], ["Trivial", "NNP"], ["or", "CC"], ["lower", "JJR"], ["bound", "IN"], ["like", "IN"], ["look", "NN"], ["at", "IN"], ["every", "DT"], ["input", "NN"], ["items", "NNS"], ["is", "VBZ"], ["not", "RB"], ["so", "RB"], ["hard", "JJ"], ["non-trivial", "JJ"], ["lower", "JJR"], ["bounds", "NNS"], ["like", "IN"], ["for", "IN"], ["example", "NN"], [",", ","], ["the", "DT"], ["proof", "NN"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["talking", "VBG"], ["about", "IN"], ["for", "IN"], ["Union-find", "NNP"], ["problem", "NN"], ["are", "VBP"], ["much", "RB"], ["more", "RBR"], ["difficult", "JJ"], [".", "."], ["And", "CC"], ["in", "IN"], ["the", "DT"], ["last", "JJ"], ["several", "JJ"], ["decades", "NNS"], ["people", "NNS"], ["have", "VBP"], ["learned", "VBN"], ["about", "IN"], ["the", "DT"], ["computational", "JJ"], ["difficulty", "NN"], ["of", "IN"], ["problems", "NNS"], ["by", "IN"], ["examining", "VBG"], ["steadily", "RB"], ["decreasing", "VBG"], ["upper", "JJ"], ["bounds", "NNS"], ["so", "IN"], ["the", "DT"], ["algorithms", "NN"], ["were", "VBD"], ["better", "JJR"], ["worst", "JJ"], ["case", "NN"], ["running", "VBG"], ["times", "NNS"], ["for", "IN"], ["lots", "NNS"], ["and", "CC"], ["lots", "NNS"], ["of", "IN"], ["important", "JJ"], ["problems", "NNS"], ["and", "CC"], ["plenty", "NN"], ["of", "IN"], ["optimal", "JJ"], ["algorithms", "NN"], ["and", "CC"], ["plenty", "NN"], ["of", "IN"], ["gaps", "NNS"], ["still", "RB"], ["remain", "VBP"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["fascinating", "JJ"], ["field", "NN"], ["of", "IN"], ["research", "NN"], ["that", "IN"], ["many", "JJ"], ["people", "NNS"], ["are", "VBP"], ["engaged", "VBN"], ["in", "IN"], [".", "."], ["Now", "RB"], ["there", "EX"], ["is", "VBZ"], ["a", "DT"], ["couple", "NN"], ["of", "IN"], ["caveats", "NNS"], ["on", "IN"], ["this", "DT"], ["on", "IN"], ["the", "DT"], ["context", "NN"], ["to", "TO"], ["this", "DT"], ["course", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["first", "JJ"], ["one", "NN"], ["is", "VBZ"], ["maybe", "RBS"], ["it", "PRP"], ["'s", "VBZ"], ["overly", "RB"], ["pessimistic", "JJ"], ["to", "TO"], ["be", "VB"], ["focusing", "VBG"], ["on", "IN"], ["the", "DT"], ["worst", "JJS"], ["case", "NN"], [".", "."], ["We", "PRP"], ["'ve", "VBP"], ["got", "VBN"], ["data", "NNS"], ["out", "IN"], ["there", "RB"], [".", "."], ["We", "PRP"], ["'ve", "VBP"], ["got", "VBN"], ["problems", "NNS"], ["to", "TO"], ["solve", "VB"], [".", "."], ["Maybe", "VB"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["worst", "JJ"], ["case", "NN"], ["data", "NNS"], ["and", "CC"], ["lots", "NNS"], ["of", "IN"], ["fields", "NNS"], ["of", "IN"], ["engineering", "NN"], ["and", "CC"], ["science", "NN"], [".", "."], ["We", "PRP"], ["do", "VBP"], ["n't", "RB"], ["focus", "VB"], ["on", "IN"], ["the", "DT"], ["worst", "JJS"], ["case", "NN"], [".", "."], ["The", "DT"], ["worst", "JJS"], ["case", "NN"], ["for", "IN"], ["this", "DT"], ["course", "NN"], ["would", "MD"], ["be", "VB"], ["lightning", "VBG"], ["to", "TO"], ["strike", "VB"], ["and", "CC"], ["it", "PRP"], ["would", "MD"], ["be", "VB"], ["over", "IN"], ["so", "IN"], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["plan", "VB"], ["for", "IN"], ["that", "DT"], [".", "."], ["And", "CC"], ["since", "IN"], ["similar", "JJ"], ["it", "PRP"], ["'s", "VBZ"], ["true", "JJ"], ["for", "IN"], ["algorithms", "NN"], [".", "."], ["Maybe", "RB"], ["we", "PRP"], ["should", "MD"], ["be", "VB"], ["focusing", "VBG"], ["on", "IN"], ["understanding", "VBG"], ["prope", "NN"], ["rties", "NNS"], ["of", "IN"], ["the", "DT"], ["input", "NN"], ["and", "CC"], ["finding", "VBG"], ["algorithms", "NN"], ["that", "WDT"], ["are", "VBP"], ["efficient", "JJ"], ["for", "IN"], ["that", "DT"], ["input", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["other", "JJ"], ["thing", "NN"], ["is", "VBZ"], ["in", "IN"], ["order", "NN"], ["to", "TO"], ["really", "RB"], ["predict", "JJ"], ["performance", "NN"], ["and", "CC"], ["compare", "JJ"], ["algorithms", "NN"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["do", "VB"], ["a", "DT"], ["closer", "JJR"], ["analysis", "NN"], ["than", "IN"], ["to", "TO"], ["within", "IN"], ["a", "DT"], ["constant", "JJ"], ["factor", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["talked", "VBD"], ["about", "IN"], ["the", "DT"], ["tilde", "JJ"], ["notation", "NN"], ["in", "IN"], ["the", "DT"], ["big", "JJ"], ["theta", "NN"], [",", ","], ["big", "JJ"], ["O", "NNP"], [",", ","], ["and", "CC"], ["big", "JJ"], ["omega", "NN"], [",", ","], ["omega", "IN"], ["that", "DT"], ["are", "VBP"], ["used", "VBN"], ["in", "IN"], ["the", "DT"], ["theory", "NN"], ["of", "IN"], ["algorithms", "NN"], [".", "."], ["And", "CC"], ["really", "RB"], ["there", "EX"], ["'s", "VBZ"], ["so", "RB"], ["much", "JJ"], ["published", "VBN"], ["research", "NN"], ["in", "IN"], ["the", "DT"], ["theory", "NN"], ["of", "IN"], ["algorithms", "NN"], ["that", "IN"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["people", "NNS"], ["make", "VBP"], ["the", "DT"], ["mistake", "NN"], ["of", "IN"], ["interpreting", "VBG"], ["the", "DT"], ["big", "JJ"], ["O", "NNP"], ["results", "NNS"], ["that", "WDT"], ["are", "VBP"], ["supposed", "VBN"], ["to", "TO"], ["give", "VB"], ["improved", "JJ"], ["upper", "JJ"], ["bounds", "NNS"], ["on", "IN"], ["the", "DT"], ["difficulty", "NN"], ["of", "IN"], ["the", "DT"], ["problem", "NN"], ["as", "IN"], ["approximate", "JJ"], ["models", "NNS"], ["for", "IN"], ["the", "DT"], ["running", "JJ"], ["time", "NN"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["really", "RB"], ["a", "DT"], ["mistake", "NN"], [".", "."], ["So", "RB"], ["in", "IN"], ["this", "DT"], ["course", "NN"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["focus", "VB"], ["on", "IN"], ["approximate", "JJ"], ["models", "NNS"], ["by", "IN"], [",", ","], ["you", "PRP"], ["know", "VBP"], ["making", "VBG"], ["sure", "JJ"], ["that", "IN"], ["we", "PRP"], ["use", "VBP"], ["the", "DT"], ["tilde", "NN"], ["notation", "NN"], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["try", "VB"], ["to", "TO"], ["give", "VB"], ["specific", "JJ"], ["results", "NNS"], ["for", "IN"], ["certain", "JJ"], ["quantities", "NNS"], ["of", "IN"], ["interest", "NN"], ["and", "CC"], ["the", "DT"], ["constant", "JJ"], [",", ","], ["any", "DT"], ["unspecified", "JJ"], ["constant", "NN"], ["in", "IN"], ["the", "DT"], ["running", "JJ"], ["time", "NN"], [".", "."], ["We", "PRP"], ["'ll", "MD"], ["have", "VB"], ["to", "TO"], ["do", "VB"], ["with", "IN"], ["properties", "NNS"], ["in", "IN"], ["the", "DT"], ["machine", "NN"], ["and", "CC"], ["in", "IN"], ["the", "DT"], ["system", "NN"], ["so", "IN"], ["they", "PRP"], ["will", "MD"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["use", "VB"], ["these", "DT"], ["results", "NNS"], ["to", "TO"], ["predict", "VB"], ["performance", "NN"], ["and", "CC"], ["to", "TO"], ["compare", "VB"], ["algorithms", "NN"], [".", "."]], "title": "theory of algorithms", "text": "In fact the order of growth classifications are so important they've led to enormous amount of research in recent years and just talk briefly about that now. So there is, life is a little bit more complicated than pointed out in the last example and one problem is that the inputs can cause the performance of the algorithm to vary widely. So often we have to think about different ways of analyzing the algorithm depending on the input. So, the running time is going to be somewhere between the best case and the worst case. Best case is the lower bound on cost it. It provides something that the running time is going to be bigger than that always or not less than that and then there's the worst case which is the most difficult input. If we analyze that then we can guarantee that the running time in the algorithms not going to be bigger than that. And then in a lot of situations we might consider our input to be random. Well we need to, someway to model, what we mean by random for the problem that we're solving but there is a lot of situations where we can do that and then we have a way to predict performance even when the input might vary widely. So for example for 3-sum, it's kind of always the same. With the tilde notation, the only variability in that algorithm is the number of times the counter is incremented and that's in low order terms so it doesn't need to chew up in our analysis. For binary search it's, you might find the thing right away in which case is constant time and we can show that the average and the worst case are both lg based two(N). There's other, in another examples that be much more variability even. So, we have this different types of analysis depending on the input. And but the question is, what about the actual problem that the client is trying to solve? So we have to understand that two in order to be able to understand performance of the algorithm. And there's two approaches that are, or successful in this. One is to design for the worst case. Just to make sure that your algorithm are, always runs quickly and that's definitely ideal. Another is to, if you can't do that is to randomize and then depend on some kind of probabilistic guarantee and we'll see examples of both of these as we go through the course. Now, those kinds of considerations, you know the idea of order of growth leads to discussion of, what's called, what I call the theory of algorithms. And here our goals are, we have a problem to solve like solve the 3-sum problem and we want to know how difficult it is. We want to find the best algorithm for solving that problem. The approach that the computer scientist use for this is to try to suppress as many details as possible in the analysis. And so just analyze the running time to or within a constant factor. That's what order of growth is getting at and also I want to, not worry about the input model at all. And so we focused on worst case design and we can talk about performance of algorithms just in turn of the order of growth and it's actually possible, it's actually possible to do that in a very rigorous way that it's taught us a lot about the difficulty of solving problems. And our goal is to find an optimal algorithm where we can guarantee to within a constant factor certain performance for any input cuz we discovered the worst case but we also can have approved that didn't know algorithm could provide a better performance guarantee. I'll give a couple of easy examples of this. Now in order to do this they're, these commonly used notations called the big theta, big O and big omega notations. So the and those definitions are given here. So big theta notation is just the way to describe the order of growth. Theta(N)^2 is kind of short hand for anything N^2. It's bounded above and below by constant time N^2 and that's what we really use to classify algorithms. And then, there is big O notation which is upper bounds on performance. When we say O(N^2), we mean that it's less than some constant time N^2 as N grows. And big omega is used for lower bounds means greater than some constant time N^2 as N grows. So those three notations were able to use to classify algorithms and I'll show them in the following. So, examples from our 1-sum, 2-sum, and 3-sum are easy to articulate so our goals are to establish the difficulty of the problem and to develop an optimal algorithm. So, the 1-sum problem is 00 in the array. Well, an upper bound on the difficulty of the problem is some specific algorithm. So, for example, the brute force algorithm that looked, that looks at every array entry is a specific algorithm and it means that and that takes O(N) time. We have to look at every, it's less than a constant time N for some constant. So, the running time of the optimal algorithm has to be O(N) that is that's specific algorithm provides an upper bound on the running time of the optimal algorithm. And but in this case it's also easy to develop a lower bound, that's a proof that no algorithm can do better. Well, for 1-sum you have to examine all entries in the array. If you miss one, then that one might be zero so that means that the optimal algorithm has to have a running time at least some constant times N where we say the running time is omega of n. Now in this case, the upper bound and the lower bound match. So, doing the constant factor so, that's a proof that the brute force algorithm for 1-sum is optimal. It's running time is theta(N). It's both omega and O(N). That's, for that simple problem it was okay to get the optimal algorithm. For a more complicated problems it's going to be more difficult to get upper balance and lower balance and particularly upper balance and lower balance that match. For example let's look at 3-sum. So, upper bound for 3-sum, say our first brute force algorithm, say that the proof, was a proof that the running time of the optimal algorithm is O(N^3) but we found a better improved algorithm. Whose running time is O(N^2) lg N. So, that's a better upper bound. Lower bound well, we have to examine all entries cuz again, we might miss one that makes 3-sum = zero and that's a proof that the running time in the optimal algorithm is omega(N) but nobody knows higher or lower bound for 3-sum. So there's a gap between the upper bound and the lower bound and open problems. Is there an optimal algorithm for 3-sum? We don't know what it is. We don't even know if there's a algorithm whose running time is < O(N^2) or we don't know higher lower bound and linear. So that's an example of an open problem in the theory of algorithms we don't know how difficult it is to solve the 3-sum problem. Now, this point of view has been extremely successful in recent decades. We have a new problem, develop some algorithm, proves some lower bound. If there's a gap, we look for new algorithm that will lower the upper bound or we try to find a way to raise the lower bound. Usually it's very difficult to prove non-trivial or lower bounds. Trivial or lower bound like look at every input items is not so hard non-trivial lower bounds like for example, the proof that we're talking about for Union-find problem are much more difficult. And in the last several decades people have learned about the computational difficulty of problems by examining steadily decreasing upper bounds so the algorithms were better worst case running times for lots and lots of important problems and plenty of optimal algorithms and plenty of gaps still remain. It's a fascinating field of research that many people are engaged in. Now there is a couple of caveats on this on the context to this course. And the first one is maybe it's overly pessimistic to be focusing on the worst case. We've got data out there. We've got problems to solve. Maybe it's not worst case data and lots of fields of engineering and science. We don't focus on the worst case. The worst case for this course would be lightning to strike and it would be over so we don't plan for that. And since similar it's true for algorithms. Maybe we should be focusing on understanding prope rties of the input and finding algorithms that are efficient for that input. And the other thing is in order to really predict performance and compare algorithms we need to do a closer analysis than to within a constant factor. So we talked about the tilde notation in the big theta, big O, and big omega, omega that are used in the theory of algorithms. And really there's so much published research in the theory of algorithms that a lot of people make the mistake of interpreting the big O results that are supposed to give improved upper bounds on the difficulty of the problem as approximate models for the running time and that's really a mistake. So in this course, we're going to focus on approximate models by, you know making sure that we use the tilde notation and we'll try to give specific results for certain quantities of interest and the constant, any unspecified constant in the running time. We'll have to do with properties in the machine and in the system so they will be able to use these results to predict performance and to compare algorithms. ", "video_ID": 11, "course_id": 3}
{"category": ["analysis of algorithms"], "tagged": [["So", "RB"], ["far", "RB"], [",", ","], ["we", "PRP"], ["'ve", "VBP"], ["been", "VBN"], ["talking", "VBG"], ["about", "IN"], ["running", "VBG"], ["time", "NN"], [".", "."], ["Now", "RB"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["talk", "VB"], ["about", "IN"], ["the", "DT"], ["memory", "NN"], ["requirements", "NNS"], ["over", "IN"], ["our", "PRP$"], ["programs", "NNS"], ["as", "RB"], ["well", "RB"], [".", "."], ["Well", "UH"], [",", ","], ["the", "DT"], ["basics", "NNS"], ["are", "VBP"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["know", "VB"], ["how", "WRB"], ["many", "JJ"], ["bits", "VBZ"], ["the", "DT"], ["program", "NN"], ["use", "NN"], ["or", "CC"], ["bytes", "NNS"], [",", ","], ["eight", "CD"], ["bits", "NNS"], ["at", "IN"], ["a", "DT"], ["time", "NN"], [".", "."], ["And", "CC"], ["actually", "RB"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["be", "VB"], ["talking", "VBG"], ["in", "IN"], ["terms", "NNS"], ["of", "IN"], ["millions", "NNS"], ["of", "IN"], ["bits", "NNS"], ["or", "CC"], ["billions", "NNS"], ["of", "IN"], ["bits", "NNS"], ["and", "CC"], ["actually", "RB"], ["surprisingly", "RB"], ["there", "EX"], ["is", "VBZ"], ["a", "DT"], ["controversy", "NN"], ["about", "IN"], ["even", "RB"], ["these", "DT"], ["basic", "JJ"], ["definitions", "NNS"], [".", "."], ["Computer", "NNP"], ["scientists", "NNS"], ["think", "VBP"], ["of", "IN"], ["a", "DT"], ["million", "CD"], ["bits", "NNS"], ["is", "VBZ"], ["two^20", "JJ"], ["and", "CC"], ["a", "DT"], ["billion", "CD"], ["is", "VBZ"], ["two^30", "VBN"], ["because", "IN"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["number", "NN"], ["of", "IN"], ["possible", "JJ"], ["things", "NNS"], ["that", "IN"], ["you", "PRP"], ["can", "MD"], ["fit", "VB"], ["into", "IN"], ["30", "CD"], ["bits", "NNS"], ["and", "CC"], ["everything", "NN"], ["is", "VBZ"], ["consistent", "JJ"], ["with", "IN"], ["our", "PRP$"], ["calculations", "NNS"], [".", "."], ["Other", "JJ"], ["scientists", "NNS"], ["stick", "VBP"], ["to", "TO"], ["one", "CD"], ["million", "CD"], ["or", "CC"], ["one", "CD"], ["billion", "CD"], ["for", "IN"], ["a", "DT"], ["lots", "NNS"], ["of", "IN"], ["reasons", "NNS"], ["we", "PRP"], ["'ll", "MD"], ["usually", "RB"], ["use", "VB"], ["two^20", "NN"], [",", ","], ["I", "PRP"], ["mean", "VBP"], [",", ","], ["a", "DT"], ["megabyte", "NN"], [".", "."], ["Now", "RB"], ["an", "DT"], ["old", "JJ"], ["computers", "NNS"], ["we", "PRP"], ["used", "VBD"], ["to", "TO"], ["for", "IN"], ["many", "JJ"], ["years", "NNS"], [",", ","], ["we", "PRP"], ["use", "VBP"], ["a", "DT"], ["32-bit", "JJ"], ["machine", "NN"], ["so", "IN"], ["that", "IN"], ["pointers", "NNS"], ["were", "VBD"], ["four", "CD"], ["bytes", "NNS"], [".", "."], ["Just", "RB"], ["in", "IN"], ["recent", "JJ"], ["years", "NNS"], ["we", "PRP"], ["'ve", "VBP"], ["mostly", "RB"], ["switched", "VBN"], ["to", "TO"], ["a", "DT"], ["model", "NN"], ["where", "WRB"], ["machines", "NNS"], ["are", "VBP"], ["64-bits", "JJ"], ["and", "CC"], ["pointers", "NNS"], ["are", "VBP"], ["eight", "CD"], ["bytes", "NNS"], [".", "."], ["That", "DT"], ["allows", "VBZ"], ["us", "PRP"], ["to", "TO"], ["address", "VB"], ["much", "RB"], ["more", "JJR"], ["memory", "NN"], ["but", "CC"], ["pointers", "NNS"], ["use", "VBP"], ["much", "RB"], ["more", "JJR"], ["space", "NN"], ["and", "CC"], ["actually", "RB"], ["this", "DT"], ["transition", "NN"], ["caused", "VBD"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["problems", "NNS"], ["initially", "RB"], ["because", "IN"], ["programs", "NNS"], ["were", "VBD"], ["using", "VBG"], ["way", "NN"], ["more", "JJR"], ["space", "NN"], ["than", "IN"], ["people", "NNS"], ["thought", "IN"], ["they", "PRP"], ["should", "MD"], [".", "."], ["You", "PRP"], ["'re", "VBP"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["to", "TO"], ["go", "VB"], ["through", "IN"], ["this", "DT"], ["kind", "NN"], ["of", "IN"], ["transition", "NN"], ["the", "DT"], ["way", "NN"], ["that", "IN"], ["we", "PRP"], ["did", "VBD"], ["because", "RB"], ["64", "CD"], ["bits", "NNS"], ["is", "VBZ"], ["definitely", "RB"], ["enough", "JJ"], ["to", "TO"], ["address", "VB"], ["anything", "NN"], ["that", "IN"], ["you", "PRP"], ["might", "MD"], ["need", "VB"], ["to", "TO"], ["address", "VB"], [",", ","], ["two^64", "EX"], ["is", "VBZ"], ["really", "RB"], ["a", "DT"], ["huge", "JJ"], ["number", "NN"], [".", "."], ["So", "RB"], ["in", "IN"], ["terms", "NNS"], ["of", "IN"], ["bytes", "NNS"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["start", "VB"], ["out", "RP"], ["with", "IN"], ["typical", "JJ"], ["memory", "NN"], ["usage", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["again", "RB"], [",", ","], ["this", "DT"], ["is", "VBZ"], ["very", "RB"], ["dependent", "JJ"], ["on", "IN"], ["machine", "NN"], ["and", "CC"], ["implementation", "NN"], ["but", "CC"], ["these", "DT"], ["numbers", "NNS"], ["are", "VBP"], ["reasonable", "JJ"], ["and", "CC"], ["are", "VBP"], ["found", "VBN"], ["on", "IN"], ["typical", "JJ"], ["implementations", "NNS"], [".", "."], ["So", "IN"], ["a", "DT"], ["boolean", "NN"], [",", ","], ["it", "PRP"], ["will", "MD"], ["be", "VB"], ["nice", "JJ"], ["of", "IN"], ["a", "DT"], ["boolean", "NN"], ["just", "RB"], ["took", "VBD"], ["a", "DT"], ["bit", "NN"], ["cuz", "VBZ"], ["that", "DT"], ["'s", "VBZ"], ["just", "RB"], ["true", "JJ"], ["or", "CC"], ["false", "JJ"], ["but", "CC"], ["actually", "RB"], [",", ","], ["usually", "RB"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["count", "VB"], ["for", "IN"], ["a", "DT"], ["byte", "NN"], ["for", "IN"], ["a", "DT"], ["boolean", "NN"], [".", "."], ["All", "DT"], ["byte", "NN"], ["is", "VBZ"], ["a", "DT"], ["byte", "NN"], [".", "."], ["Character", "NNP"], ["nowadays", "NNPS"], ["is", "VBZ"], ["two", "CD"], ["byte", "NN"], [",", ","], ["16-bit", "JJ"], ["characters", "NNS"], [".", "."], ["Not", "RB"], ["that", "IN"], ["a", "DT"], ["long", "JJ"], ["ago", "IN"], ["we", "PRP"], ["used", "VBD"], ["eight", "CD"], ["bit", "NN"], ["for", "IN"], ["chars", "NNS"], [".", "."], ["Integer", "NNP"], ["regular", "JJ"], ["int", "NN"], ["is", "VBZ"], ["four", "CD"], ["bytes", "NNS"], ["or", "CC"], ["32", "CD"], ["bits", "NNS"], ["and", "CC"], ["a", "DT"], ["float", "NN"], ["is", "VBZ"], ["also", "RB"], ["four", "CD"], ["bytes", "NNS"], ["long", "JJ"], ["int", "NN"], ["is", "VBZ"], ["eight", "CD"], ["and", "CC"], ["a", "DT"], ["double", "NN"], ["is", "VBZ"], ["eight", "CD"], [".", "."], ["Usually", "RB"], [",", ","], ["we", "PRP"], ["use", "VBP"], ["double", "JJ"], ["for", "IN"], ["floating", "VBG"], ["point", "NN"], ["and", "CC"], ["ints", "NNS"], ["for", "IN"], ["integers", "NNS"], ["in", "IN"], ["most", "JJS"], ["applications", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["for", "IN"], ["primitive", "JJ"], ["types", "NNS"], [".", "."], ["And", "CC"], ["then", "RB"], ["for", "IN"], ["arrays", "NNS"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["certain", "JJ"], ["amount", "NN"], ["of", "IN"], ["overhead", "NN"], ["for", "IN"], ["making", "VBG"], ["an", "DT"], ["array", "NN"], ["and", "CC"], ["then", "RB"], ["if", "IN"], ["there", "EX"], ["'s", "VBZ"], ["n", "JJ"], ["items", "NNS"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["whatever", "WP"], ["the", "DT"], ["cost", "NN"], ["of", "IN"], ["the", "DT"], ["primitive", "JJ"], ["type", "NN"], ["times", "NNS"], ["n", "RB"], ["so", "IN"], ["an", "DT"], ["array", "NN"], ["of", "IN"], ["doubles", "NNS"], ["is", "VBZ"], ["say", "VBP"], ["8n", "CD"], ["+", "JJ"], ["24", "CD"], [".", "."], ["And", "CC"], ["two-dimensional", "JJ"], ["array", "NN"], ["then", "RB"], ["well", "RB"], [",", ","], ["we", "PRP"], ["can", "MD"], ["go", "VB"], ["ahead", "RB"], ["and", "CC"], ["compute", "VB"], ["the", "DT"], ["exact", "JJ"], ["thing", "NN"], ["but", "CC"], ["now", "RB"], [",", ","], ["now", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["time", "NN"], ["to", "TO"], ["use", "VB"], [",", ","], ["the", "DT"], ["tilde", "JJ"], ["notation", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["for", "IN"], ["arrays", "NNS"], ["we", "PRP"], ["could", "MD"], ["say", "VB"], ["a", "DT"], ["double", "JJ"], ["is", "VBZ"], ["tilde", "JJ"], ["8n", "CD"], ["for", "IN"], ["one-dimensional", "JJ"], [".", "."], ["For", "IN"], ["two-dimensional", "JJ"], [",", ","], ["two-dimensional", "JJ"], ["array", "NN"], ["of", "IN"], ["doubles", "NNS"], ["is", "VBZ"], ["tilde", "JJ"], ["8mn", "CD"], [".", "."], ["And", "CC"], ["there", "EX"], ["'s", "VBZ"], ["extra", "JJ"], ["terms", "NNS"], ["for", "IN"], ["the", "DT"], ["over", "JJ"], ["head", "NN"], ["but", "CC"], ["for", "IN"], ["large", "JJ"], ["m", "NN"], ["and", "CC"], ["n", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["pretty", "JJ"], ["accurate", "NN"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["our", "PRP$"], ["basic", "JJ"], ["usage", "NN"], ["for", "IN"], ["primitive", "JJ"], ["types", "NNS"], ["and", "CC"], ["arrays", "NNS"], ["in", "IN"], ["a", "DT"], ["typical", "JJ"], ["Java", "NNP"], ["implementation", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["our", "PRP$"], ["programs", "NNS"], ["and", "CC"], ["objects", "NNS"], ["like", "IN"], ["link", "VBP"], ["list", "NN"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["also", "RB"], ["factor", "NN"], ["in", "IN"], ["object", "JJ"], ["overhead", "NN"], ["to", "TO"], ["crossover", "VB"], ["reference", "NN"], ["and", "CC"], ["also", "RB"], ["there", "EX"], ["'s", "VBZ"], ["padding", "VBG"], ["built", "VBN"], ["in", "IN"], [",", ","], ["in", "IN"], ["typical", "JJ"], ["implementations", "NNS"], ["to", "TO"], ["make", "VB"], ["it", "PRP"], ["so", "RB"], ["that", "IN"], ["each", "DT"], ["object", "NN"], ["has", "VBZ"], ["used", "VBN"], ["a", "DT"], ["multiple", "NN"], ["of", "IN"], ["eight", "CD"], ["bytes", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["for", "IN"], ["example", "NN"], ["if", "IN"], ["you", "PRP"], ["have", "VBP"], ["a", "DT"], ["date", "NN"], ["object", "NN"], ["that", "WDT"], ["had", "VBD"], ["three", "CD"], ["int", "NN"], ["instance", "NN"], ["variables", "NNS"], ["then", "RB"], ["that", "IN"], ["object", "NN"], ["would", "MD"], ["take", "VB"], ["a", "DT"], ["total", "NN"], ["of", "IN"], ["32", "CD"], ["bytes", "NNS"], [".", "."], ["Each", "DT"], ["int", "NN"], ["takes", "VBZ"], ["four", "CD"], ["bytes", "NNS"], [",", ","], ["object", "JJ"], ["overhead", "NN"], ["is", "VBZ"], ["sixteen", "JJ"], ["bytes", "NNS"], [".", "."], ["It", "PRP"], ["needs", "VBZ"], ["four", "CD"], ["bytes", "NN"], ["for", "IN"], ["padding", "VBG"], ["so", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["total", "NN"], ["of", "IN"], ["32", "CD"], ["bytes", "NNS"], [".", "."], ["So", "RB"], ["and", "CC"], ["the", "DT"], ["other", "JJ"], ["one", "NN"], ["that", "WDT"], ["often", "RB"], ["comes", "VBZ"], ["up", "RP"], ["is", "VBZ"], ["a", "DT"], ["string", "NN"], ["and", "CC"], ["the", "DT"], ["string", "NN"], ["is", "VBZ"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["more", "RBR"], ["complicated", "JJ"], ["than", "IN"], ["a", "DT"], ["than", "IN"], ["an", "DT"], ["array", "NN"], ["but", "CC"], ["the", "DT"], ["typical", "JJ"], ["implementation", "NN"], ["of", "IN"], ["a", "DT"], ["string", "NN"], ["in", "IN"], ["Java", "NNP"], ["has", "VBZ"], ["a", "DT"], [",", ","], ["a", "DT"], ["reference", "NN"], ["out", "RP"], ["to", "TO"], ["an", "DT"], ["array", "NN"], ["of", "IN"], ["characters", "NNS"], ["and", "CC"], ["then", "RB"], [",", ","], ["its", "PRP$"], ["got", "VBD"], ["int", "NN"], ["values", "NNS"], ["for", "IN"], ["offset", "NN"], ["count", "NN"], ["in", "IN"], ["a", "DT"], ["hash", "NN"], ["value", "NN"], ["and", "CC"], ["then", "RB"], ["some", "DT"], ["padding", "NN"], ["and", "CC"], ["adding", "VBG"], ["it", "PRP"], ["all", "DT"], ["together", "RB"], ["the", "DT"], ["[", "JJ"], ["cough", "NN"], ["]", "NN"], ["cost", "NN"], ["of", "IN"], ["the", "DT"], ["string", "NN"], ["is", "VBZ"], ["about", "IN"], ["2n", "CD"], ["+", "NNS"], ["64", "CD"], ["bytes", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["these", "DT"], ["are", "VBP"], ["the", "DT"], ["basics", "NNS"], ["that", "IN"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["analyze", "VB"], ["the", "DT"], ["memory", "NN"], ["usage", "NN"], ["for", "IN"], ["a", "DT"], ["typical", "JJ"], ["Java", "NNP"], ["program", "NN"], [".", "."], ["A", "DT"], ["h", "NN"], [",", ","], ["so", "RB"], ["for", "IN"], ["primitive", "NN"], [",", ","], ["for", "IN"], ["data", "NNS"], ["type", "NN"], ["value", "NN"], [",", ","], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["primitive", "JJ"], ["type", "NN"], ["it", "PRP"], ["'s", "VBZ"], ["four", "CD"], ["for", "IN"], ["an", "DT"], ["eight", "CD"], [",", ","], ["and", "CC"], ["eight", "CD"], ["for", "IN"], ["a", "DT"], ["double", "JJ"], [",", ","], ["and", "CC"], ["so", "RB"], ["forth", "RB"], [".", "."], ["If", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["reference", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["eight", "CD"], ["bytes", "NNS"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["for", "IN"], ["the", "DT"], ["pointer", "NN"], ["takes", "VBZ"], ["array", "RB"], ["24", "CD"], ["bytes", "NNS"], ["plus", "CC"], ["the", "DT"], ["memory", "NN"], ["for", "IN"], ["each", "DT"], ["entry", "NN"], ["in", "IN"], ["an", "DT"], ["object", "NN"], ["sixteen", "NN"], ["bytes", "VBZ"], ["plus", "CC"], ["the", "DT"], ["memory", "NN"], ["for", "IN"], ["the", "DT"], ["instance", "NN"], ["variable", "JJ"], ["plus", "CC"], ["if", "IN"], ["there", "EX"], ["'s", "VBZ"], ["an", "DT"], ["inner", "JJ"], ["class", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["another", "DT"], ["eight", "CD"], ["bytes", "NNS"], ["as", "IN"], ["we", "PRP"], ["talked", "VBD"], ["about", "IN"], ["with", "IN"], ["nodes", "NNS"], ["for", "IN"], ["link", "JJ"], ["list", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["there", "EX"], ["'s", "VBZ"], ["the", "DT"], ["padding", "NN"], [".", "."], ["So", "RB"], ["then", "RB"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], [",", ","], ["to", "TO"], ["think", "VB"], ["about", "IN"], ["who", "WP"], ["is", "VBZ"], ["responsible", "JJ"], ["for", "IN"], ["referenced", "JJ"], ["objects", "NNS"], [",", ","], ["you", "PRP"], ["know", "VBP"], [",", ","], ["in", "IN"], [",", ","], ["in", "IN"], ["some", "DT"], ["cases", "NNS"], [".", "."], ["And", "CC"], ["we", "PRP"], ["'ll", "MD"], ["take", "VB"], ["care", "NN"], ["of", "IN"], ["that", "DT"], ["when", "WRB"], ["we", "PRP"], ["get", "VBP"], ["to", "TO"], ["these", "DT"], ["situations", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["as", "IN"], ["an", "DT"], ["example", "NN"], [",", ","], ["a", "DT"], ["simple", "JJ"], ["example", "NN"], ["of", "IN"], ["memory", "NN"], ["use", "NN"], ["analysis", "NN"], [",", ","], ["let", "VB"], ["'s", "POS"], ["take", "VB"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["how", "WRB"], ["much", "JJ"], ["memory", "NN"], ["are", "VBP"], ["rated", "VBN"], ["quick", "JJ"], ["union", "NN"], ["UF", "NNP"], ["function", "NN"], ["from", "IN"], ["a", "DT"], [",", ","], ["a", "DT"], ["few", "JJ"], ["lectures", "NNS"], ["ago", "RB"], [",", ","], ["uses", "VBZ"], ["as", "IN"], ["a", "DT"], ["function", "NN"], ["of", "IN"], ["n.", "NN"], ["And", "CC"], ["there", "EX"], ["'s", "VBZ"], ["only", "RB"], ["a", "DT"], ["couple", "NN"], ["of", "IN"], ["memory", "NN"], ["elements", "NNS"], ["and", "CC"], ["each", "DT"], ["one", "CD"], ["of", "IN"], ["them", "PRP"], ["are", "VBP"], ["easily", "RB"], ["analyzed", "VBN"], ["using", "VBG"], ["the", "DT"], ["basics", "NNS"], ["that", "IN"], ["we", "PRP"], ["just", "RB"], ["gave", "VBD"], ["it", "PRP"], ["'s", "VBZ"], ["an", "DT"], ["object", "NN"], ["so", "IN"], ["the", "DT"], ["sixteen", "JJ"], ["bytes", "NNS"], ["of", "IN"], ["object", "JJ"], ["overhead", "IN"], ["there", "EX"], ["'s", "VBZ"], ["two", "CD"], ["int", "NN"], ["arrays", "NNS"], [".", "."], ["Each", "DT"], ["one", "CD"], ["of", "IN"], ["them", "PRP"], ["have", "VBP"], ["array", "VBN"], ["overhead", "NN"], ["of", "IN"], ["24", "CD"], ["plus", "CC"], ["and", "CC"], ["then", "RB"], ["4n", "CD"], ["for", "IN"], ["the", "DT"], ["n", "JJ"], ["entries", "NNS"], [".", "."], ["Each", "DT"], ["and", "CC"], ["vn", "JJ"], ["entries", "NNS"], ["takes", "VBZ"], ["four", "CD"], ["bytes", "NNS"], ["and", "CC"], ["there", "EX"], ["'s", "VBZ"], ["four", "CD"], ["bytes", "NNS"], ["for", "IN"], ["the", "DT"], ["count", "NN"], ["and", "CC"], ["there", "EX"], ["'s", "VBZ"], ["four", "CD"], ["bytes", "NNS"], ["for", "IN"], ["the", "DT"], ["padding", "NN"], ["and", "CC"], ["if", "IN"], ["you", "PRP"], ["add", "VBP"], ["it", "PRP"], ["altogether", "VBZ"], ["it", "PRP"], ["gets", "VBZ"], ["8n", "CD"], ["+", "NN"], ["88", "CD"], ["which", "WDT"], ["is", "VBZ"], ["tilde", "JJ"], ["8n", "CD"], ["and", "CC"], ["again", "RB"], [",", ","], ["all", "DT"], ["that", "DT"], ["'s", "VBZ"], ["saying", "VBG"], ["is", "VBZ"], ["when", "WRB"], ["n", "NN"], ["is", "VBZ"], ["large", "JJ"], [",", ","], ["all", "DT"], ["we", "PRP"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["care", "VB"], ["about", "IN"], ["in", "IN"], ["terms", "NNS"], ["of", "IN"], ["analyzing", "VBG"], ["the", "DT"], ["memory", "NN"], ["is", "VBZ"], ["that", "IN"], ["we", "PRP"], ["'ve", "VBP"], ["got", "VBN"], ["[", "JJ"], ["cough", "NN"], ["]", "NN"], ["2n", "CD"], ["integers", "NNS"], ["two", "CD"], ["arrays", "NNS"], ["of", "IN"], ["size", "NN"], ["n", "IN"], ["each", "DT"], ["one", "CD"], ["of", "IN"], ["which", "WDT"], ["takes", "VBZ"], ["four", "CD"], ["bytes", "NNS"], ["for", "IN"], ["a", "DT"], ["grand", "JJ"], ["total", "NN"], ["of", "IN"], ["8n", "CD"], ["bytes", "NNS"], [".", "."], ["Okay", "NNP"], [".", "."], ["So", "RB"], [",", ","], ["in", "IN"], ["summary", "JJ"], ["we", "PRP"], ["really", "RB"], ["can", "MD"], ["figure", "VB"], ["out", "RP"], ["how", "WRB"], ["many", "JJ"], ["times", "NNS"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["turn", "VB"], ["the", "DT"], ["crank", "NN"], ["on", "IN"], ["modern", "JJ"], ["computers", "NNS"], [".", "."], ["We", "PRP"], ["can", "MD"], ["do", "VB"], ["it", "PRP"], ["with", "IN"], ["empirical", "JJ"], ["analysis", "NN"], ["where", "WRB"], ["we", "PRP"], ["actually", "RB"], ["execute", "VBP"], ["the", "DT"], ["program", "NN"], [",", ","], ["can", "MD"], ["do", "VB"], ["experiments", "NNS"], ["and", "CC"], ["use", "VB"], ["[", "NNP"], ["inaudible", "JJ"], ["]", "NNP"], ["power", "NN"], ["law", "NN"], [",", ","], ["formulate", "JJ"], ["hypothesis", "NN"], ["and", "CC"], ["make", "VB"], ["predictions", "NNS"], [".", "."], ["But", "CC"], ["we", "PRP"], ["can", "MD"], ["do", "VB"], ["more", "JJR"], [",", ","], ["we", "PRP"], ["can", "MD"], ["do", "VB"], ["mathematical", "JJ"], ["analysis", "NN"], ["where", "WRB"], ["we", "PRP"], ["can", "MD"], ["identify", "VB"], ["the", "DT"], ["most", "RBS"], ["costly", "JJ"], ["operations", "NNS"], [",", ","], ["analyze", "VBP"], ["the", "DT"], ["frequency", "NN"], ["of", "IN"], ["execution", "NN"], ["of", "IN"], ["those", "DT"], ["operations", "NNS"], ["and", "CC"], ["using", "VBG"], ["the", "DT"], ["tilde", "NN"], ["notation", "NN"], ["to", "TO"], ["simplify", "VB"], ["analysis", "NN"], [".", "."], ["We", "PRP"], ["can", "MD"], ["actually", "RB"], ["explain", "VB"], ["the", "DT"], ["behavior", "NN"], [",", ","], ["not", "RB"], ["just", "RB"], ["predict", "VB"], ["it", "PRP"], [".", "."], ["And", "CC"], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], ["fine", "JJ"], ["example", "NN"], ["of", "IN"], ["the", "DT"], ["use", "NN"], ["of", "IN"], ["the", "DT"], ["scientific", "JJ"], ["method", "NN"], ["to", "TO"], ["understand", "VB"], ["the", "DT"], ["artifacts", "NNS"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["studying", "VBG"], [",", ","], ["the", "DT"], ["algorithms", "NN"], [".", "."], ["Our", "PRP$"], ["mathematical", "JJ"], ["models", "NNS"], ["are", "VBP"], ["usually", "RB"], ["independent", "JJ"], ["of", "IN"], ["a", "DT"], ["particular", "JJ"], ["computer", "NN"], ["system", "NN"], ["and", "CC"], ["even", "RB"], ["implied", "VBD"], ["to", "TO"], ["machines", "NNS"], ["that", "WDT"], ["are", "VBP"], ["not", "RB"], ["yet", "RB"], ["built", "VBN"], [".", "."], ["But", "CC"], ["we", "PRP"], ["always", "RB"], ["validate", "VBP"], ["our", "PRP$"], ["mathematical", "JJ"], ["models", "NNS"], ["by", "IN"], ["running", "VBG"], ["experiments", "NNS"], ["on", "IN"], ["real", "JJ"], ["machines", "NNS"], ["so", "RB"], ["that", "IN"], ["we", "PRP"], ["can", "MD"], ["be", "VB"], ["confident", "JJ"], ["where", "WRB"], ["we", "PRP"], ["'re", "VBP"], ["making", "VBG"], ["predictions", "NNS"], ["and", "CC"], ["analyzing", "VBG"], ["algorithms", "NN"], [".", "."]], "title": "memory", "text": "So far, we've been talking about running time. Now we have to talk about the memory requirements over our programs as well. Well, the basics are we want to know how many bits the program use or bytes, eight bits at a time. And actually, we'll be talking in terms of millions of bits or billions of bits and actually surprisingly there is a controversy about even these basic definitions. Computer scientists think of a million bits is two^20 and a billion is two^30 because that's a number of possible things that you can fit into 30 bits and everything is consistent with our calculations. Other scientists stick to one million or one billion for a lots of reasons we'll usually use two^20, I mean, a megabyte. Now an old computers we used to for many years, we use a 32-bit machine so that pointers were four bytes. Just in recent years we've mostly switched to a model where machines are 64-bits and pointers are eight bytes. That allows us to address much more memory but pointers use much more space and actually this transition caused a lot of problems initially because programs were using way more space than people thought they should. You're not going to have to go through this kind of transition the way that we did because 64 bits is definitely enough to address anything that you might need to address, two^64 is really a huge number. So in terms of bytes we have to start out with typical memory usage. Now, again, this is very dependent on machine and implementation but these numbers are reasonable and are found on typical implementations. So a boolean, it will be nice of a boolean just took a bit cuz that's just true or false but actually, usually we have to count for a byte for a boolean. All byte is a byte. Character nowadays is two byte, 16-bit characters. Not that a long ago we used eight bit for chars. Integer regular int is four bytes or 32 bits and a float is also four bytes long int is eight and a double is eight. Usually, we use double for floating point and ints for integers in most applications. So, that's for primitive types. And then for arrays there's a certain amount of overhead for making an array and then if there's n items, it's whatever the cost of the primitive type times n so an array of doubles is say 8n + 24. And two-dimensional array then well, we can go ahead and compute the exact thing but now, now, it's time to use, the tilde notation. And then for arrays we could say a double is tilde 8n for one-dimensional. For two-dimensional, two-dimensional array of doubles is tilde 8mn. And there's extra terms for the over head but for large m and n that's going to be pretty accurate. So, that's our basic usage for primitive types and arrays in a typical Java implementation. Now, a lot of our programs and objects like link list and so forth. So, we have to also factor in object overhead to crossover reference and also there's padding built in, in typical implementations to make it so that each object has used a multiple of eight bytes. So, for example if you have a date object that had three int instance variables then that object would take a total of 32 bytes. Each int takes four bytes, object overhead is sixteen bytes. It needs four bytes for padding so it's a total of 32 bytes. So and the other one that often comes up is a string and the string is a little bit more complicated than a than an array but the typical implementation of a string in Java has a, a reference out to an array of characters and then, its got int values for offset count in a hash value and then some padding and adding it all together the [cough] cost of the string is about 2n + 64 bytes. So, these are the basics that we need to analyze the memory usage for a typical Java program. A h, so for primitive, for data type value, if it's a primitive type it's four for an eight, and eight for a double, and so forth. If it's a reference, it's going to be eight bytes and that's for the pointer takes array 24 bytes plus the memory for each entry in an object sixteen bytes plus the memory for the instance variable plus if there's an inner class , it's another eight bytes as we talked about with nodes for link list. And then there's the padding. So then we have to, to think about who is responsible for referenced objects, you know, in, in some cases. And we'll take care of that when we get to these situations. So, as an example, a simple example of memory use analysis, let's take a look at how much memory are rated quick union UF function from a, a few lectures ago, uses as a function of n. And there's only a couple of memory elements and each one of them are easily analyzed using the basics that we just gave it's an object so the sixteen bytes of object overhead there's two int arrays. Each one of them have array overhead of 24 plus and then 4n for the n entries. Each and vn entries takes four bytes and there's four bytes for the count and there's four bytes for the padding and if you add it altogether it gets 8n + 88 which is tilde 8n and again, all that's saying is when n is large, all we are going to care about in terms of analyzing the memory is that we've got [cough] 2n integers two arrays of size n each one of which takes four bytes for a grand total of 8n bytes. Okay. So, in summary we really can figure out how many times we have to turn the crank on modern computers. We can do it with empirical analysis where we actually execute the program, can do experiments and use [inaudible] power law, formulate hypothesis and make predictions. But we can do more, we can do mathematical analysis where we can identify the most costly operations, analyze the frequency of execution of those operations and using the tilde notation to simplify analysis. We can actually explain the behavior, not just predict it. And this is a fine example of the use of the scientific method to understand the artifacts that we're studying, the algorithms. Our mathematical models are usually independent of a particular computer system and even implied to machines that are not yet built. But we always validate our mathematical models by running experiments on real machines so that we can be confident where we're making predictions and analyzing algorithms. ", "video_ID": 12, "course_id": 3}
{"category": ["stacks and queues"], "tagged": [["Welcome", "NNP"], ["back", "RB"], [".", "."], ["Today", "NN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["talk", "VB"], ["about", "IN"], ["algorithms", "NN"], ["and", "CC"], ["data", "NNS"], ["structures", "NNS"], ["for", "IN"], ["implementing", "VBG"], ["some", "DT"], ["fundamental", "JJ"], ["data", "NNS"], ["types", "NNS"], ["called", "VBD"], ["bags", "NNS"], [",", ","], ["queues", "NNS"], ["and", "CC"], ["stacks", "NNS"], [".", "."], ["You", "PRP"], ["maybe", "RB"], ["somewhat", "RB"], ["familiar", "JJ"], ["with", "IN"], ["these", "DT"], [",", ","], ["but", "CC"], ["today", "NN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["take", "VB"], ["a", "DT"], ["careful", "JJ"], ["and", "CC"], ["close", "JJ"], ["look", "NN"], ["at", "IN"], ["them", "PRP"], [".", "."], ["The", "DT"], ["idea", "NN"], ["is", "VBZ"], ["that", "IN"], ["in", "IN"], ["many", "JJ"], ["applications", "NNS"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["collections", "NNS"], ["of", "IN"], ["objects", "NNS"], ["that", "IN"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["maintain", "VB"], [".", "."], ["And", "CC"], ["the", "DT"], ["operations", "NNS"], ["are", "VBP"], ["very", "RB"], ["simple", "JJ"], [".", "."], ["We", "PRP"], ["want", "VBP"], ["to", "TO"], ["add", "VB"], ["something", "NN"], ["to", "TO"], ["the", "DT"], ["collection", "NN"], [",", ","], ["maybe", "RB"], ["remove", "VB"], ["something", "NN"], ["from", "IN"], ["the", "DT"], ["collection", "NN"], ["and", "CC"], ["iterate", "NN"], ["through", "IN"], ["the", "DT"], ["objects", "NNS"], ["in", "IN"], ["the", "DT"], ["collection", "NN"], ["performing", "VBG"], ["some", "DT"], ["operation", "NN"], ["on", "IN"], ["them", "PRP"], [",", ","], ["and", "CC"], ["of", "IN"], ["course", "NN"], [",", ","], ["test", "NN"], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["empty", "JJ"], [".", "."], ["Now", "RB"], ["for", "IN"], ["most", "JJS"], ["of", "IN"], ["these", "DT"], [",", ","], ["the", "DT"], ["intent", "NN"], ["is", "VBZ"], ["very", "RB"], ["clear", "JJ"], [".", "."], ["The", "DT"], ["key", "NN"], ["is", "VBZ"], ["when", "WRB"], ["it", "PRP"], ["comes", "VBZ"], ["to", "TO"], ["removing", "VBG"], ["an", "DT"], ["item", "NN"], [",", ","], ["which", "WDT"], ["item", "VBP"], ["do", "VBP"], ["we", "PRP"], ["remove", "VB"], ["?", "."], ["The", "DT"], ["two", "CD"], ["fundamental", "JJ"], ["classic", "JJ"], ["data", "NNS"], ["structures", "NNS"], ["for", "IN"], ["this", "DT"], [",", ","], ["the", "DT"], ["stack", "NN"], ["and", "CC"], ["the", "DT"], ["queue", "NN"], ["differ", "NN"], ["in", "IN"], ["the", "DT"], ["way", "NN"], ["in", "IN"], ["which", "WDT"], ["the", "DT"], ["item", "NN"], ["to", "TO"], ["be", "VB"], ["removed", "VBN"], ["is", "VBZ"], ["chosen", "VBN"], [".", "."], ["For", "IN"], ["the", "DT"], ["stack", "NN"], [",", ","], ["we", "PRP"], ["take", "VBP"], ["out", "RP"], ["the", "DT"], ["item", "NN"], ["that", "WDT"], ["was", "VBD"], ["most", "RBS"], ["recently", "RB"], ["added", "VBD"], ["for", "IN"], [",", ","], ["the", "DT"], ["terminology", "NN"], ["that", "IN"], ["we", "PRP"], ["used", "VBD"], ["is", "VBZ"], ["push", "JJ"], ["to", "TO"], ["insert", "VB"], ["an", "DT"], ["item", "NN"], ["and", "CC"], ["pop", "NN"], ["to", "TO"], ["remove", "VB"], ["the", "DT"], ["item", "NN"], ["most", "RBS"], ["recently", "RB"], ["added", "VBD"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["also", "RB"], ["called", "VBD"], ["the", "DT"], ["LIFO", "NNP"], ["discipline", "NN"], ["last-in-first-out", "NN"], [".", "."], ["For", "IN"], ["queue", "NN"], [",", ","], ["we", "PRP"], ["examine", "VBP"], ["the", "DT"], ["item", "NN"], ["least", "JJS"], ["recently", "RB"], ["added", "VBD"], ["and", "CC"], ["those", "DT"], ["operations", "NNS"], ["to", "TO"], ["distinguish", "VB"], ["them", "PRP"], ["we", "PRP"], ["call", "VBP"], ["inqueue", "JJ"], ["to", "TO"], ["insert", "VB"], ["an", "DT"], ["item", "NN"], ["and", "CC"], ["dequeue", "NN"], ["to", "TO"], ["remove", "VB"], ["an", "DT"], ["item", "NN"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["also", "RB"], ["called", "VBD"], ["the", "DT"], ["FIFO", "NNP"], ["discipline", "NN"], [",", ","], ["first", "RB"], ["in", "IN"], [",", ","], ["first", "RB"], ["out", "RP"], [".", "."], ["So", "RB"], ["now", "RB"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["take", "VB"], ["a", "DT"], ["look", "NN"], ["today", "NN"], ["on", "IN"], ["how", "WRB"], ["to", "TO"], ["implement", "VB"], ["these", "DT"], ["things", "NNS"], [".", "."], ["Our", "PRP$"], ["subtext", "JJ"], ["today", "NN"], ["is", "VBZ"], ["all", "DT"], ["about", "IN"], ["modular", "JJ"], ["programming", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["a", "DT"], ["discipline", "NN"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["follow", "VB"], ["up", "RP"], ["carefully", "RB"], ["throughout", "IN"], ["this", "DT"], ["course", "NN"], [".", "."], ["The", "DT"], ["idea", "NN"], ["is", "VBZ"], ["to", "TO"], ["completely", "RB"], ["separate", "VB"], ["the", "DT"], ["interface", "NN"], ["and", "CC"], ["the", "DT"], ["implementation", "NN"], [".", "."], ["So", "RB"], [",", ","], ["when", "WRB"], ["we", "PRP"], ["have", "VBP"], ["these", "DT"], ["types", "NNS"], ["of", "IN"], ["data", "NNS"], ["structures", "NNS"], ["and", "CC"], ["data", "NNS"], ["types", "NNS"], ["that", "WDT"], ["are", "VBP"], ["precisely", "RB"], ["defined", "VBN"], ["like", "IN"], ["stacks", "NNS"], ["and", "CC"], ["queues", "NNS"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [",", ","], ["what", "WP"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["completely", "RB"], ["separate", "JJ"], ["the", "DT"], ["details", "NNS"], ["of", "IN"], ["the", "DT"], ["implementation", "NN"], ["from", "IN"], ["the", "DT"], ["client", "NN"], [".", "."], ["The", "DT"], ["client", "NN"], ["has", "VBZ"], [",", ","], ["can", "MD"], ["have", "VB"], ["many", "JJ"], ["different", "JJ"], ["implementations", "NNS"], ["from", "IN"], ["which", "WDT"], ["to", "TO"], ["choose", "VB"], ["but", "CC"], ["the", "DT"], ["client", "NN"], ["code", "NN"], ["should", "MD"], ["only", "RB"], ["perform", "VB"], ["the", "DT"], ["basic", "JJ"], ["operations", "NNS"], [".", "."], ["The", "DT"], ["implementation", "NN"], ["on", "IN"], ["the", "DT"], ["other", "JJ"], ["hand", "NN"], [",", ","], ["ca", "MD"], ["n't", "RB"], ["know", "VB"], ["the", "DT"], ["details", "NNS"], ["of", "IN"], ["the", "DT"], ["client", "NN"], ["needs", "NNS"], [",", ","], ["all", "DT"], ["it", "PRP"], ["'s", "VBZ"], ["supposed", "VBN"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["implement", "VB"], ["those", "DT"], ["operations", "NNS"], [".", "."], ["In", "IN"], ["that", "DT"], ["way", "NN"], [",", ","], ["many", "JJ"], ["clients", "NNS"], ["can", "MD"], ["reuse", "VB"], ["the", "DT"], ["same", "JJ"], ["implementation", "NN"], [".", "."], ["So", "IN"], ["this", "DT"], ["allows", "VBZ"], ["us", "PRP"], ["to", "TO"], ["create", "VB"], ["modular", "JJ"], ["reusable", "JJ"], ["libraries", "NNS"], ["of", "IN"], ["algorithms", "NN"], ["and", "CC"], ["data", "NN"], ["structures", "NNS"], ["that", "IN"], ["we", "PRP"], ["can", "MD"], ["use", "VB"], ["to", "TO"], ["build", "VB"], ["more", "RBR"], ["complicated", "JJ"], ["algorithms", "NN"], ["and", "CC"], ["data", "NN"], ["structures", "NNS"], [".", "."], ["It", "PRP"], ["also", "RB"], ["allows", "VBZ"], ["us", "PRP"], ["to", "TO"], ["focus", "VB"], ["on", "IN"], ["performance", "NN"], ["when", "WRB"], ["appropriate", "NN"], [".", "."], ["Again", "NNP"], [",", ","], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], ["modular", "JJ"], ["programming", "NN"], ["style", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["enabled", "VBN"], ["by", "IN"], ["object", "NN"], ["oriented", "VBN"], ["programming", "VBG"], ["languages", "NNS"], ["such", "JJ"], ["as", "IN"], ["Java", "NNP"], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["be", "VB"], ["very", "RB"], ["disciplined", "VBN"], ["in", "IN"], ["our", "PRP$"], ["use", "NN"], ["of", "IN"], ["this", "DT"], ["style", "NN"], [".", "."], ["Alright", "NNP"], [".", "."], ["So", "RB"], ["to", "TO"], ["begin", "VB"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["talk", "VB"], ["about", "IN"], ["the", "DT"], ["stacks", "NNS"], [".", "."], ["[", "JJ"], ["cough", "NN"], ["]", "NN"], ["Stacks", "NNP"], ["are", "VBP"], ["familiar", "JJ"], [",", ","], ["many", "JJ"], ["of", "IN"], ["you", "PRP"], ["probably", "RB"], ["implemented", "VBD"], ["stacks", "NNS"], ["in", "IN"], ["an", "DT"], ["introductory", "JJ"], ["programming", "NN"], ["course", "NN"], ["but", "CC"], ["we", "PRP"], ["'ll", "MD"], ["do", "VB"], ["a", "DT"], ["thorough", "JJ"], ["introduction", "NN"], ["to", "TO"], ["implementations", "NNS"], ["right", "RB"], ["now", "RB"], [".", "."], ["As", "IN"], ["a", "DT"], ["warm", "NN"], ["up", "RP"], [",", ","], ["let", "VB"], ["'s", "POS"], ["suppose", "VB"], ["that", "IN"], ["we", "PRP"], ["have", "VBP"], ["string", "VBG"], [",", ","], ["a", "DT"], ["collection", "NN"], ["of", "IN"], ["strings", "NNS"], [".", "."], ["They", "PRP"], ["might", "MD"], ["be", "VB"], ["short", "JJ"], [",", ","], ["they", "PRP"], ["might", "MD"], ["be", "VB"], ["long", "RB"], ["and", "CC"], ["what", "WP"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["have", "VB"], ["is", "VBZ"], ["the", "DT"], ["ability", "NN"], ["to", "TO"], ["save", "VB"], ["away", "RP"], ["a", "DT"], ["collection", "NN"], ["of", "IN"], ["strings", "NNS"], ["and", "CC"], ["remove", "VB"], ["and", "CC"], ["return", "VB"], ["the", "DT"], ["most", "RBS"], ["recently", "RB"], ["added", "VBD"], ["string", "NN"], ["periodically", "RB"], [",", ","], ["and", "CC"], ["also", "RB"], ["test", "NN"], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["empty", "JJ"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["our", "PRP$"], ["API", "NNP"], [".", "."], ["We", "PRP"], ["have", "VBP"], ["a", "DT"], ["constructor", "NN"], ["to", "TO"], ["create", "VB"], ["an", "DT"], ["empty", "JJ"], ["stack", "NN"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["for", "IN"], ["insert", "NN"], ["and", "CC"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["method", "NN"], ["called", "VBN"], ["push", "NN"], ["that", "WDT"], ["takes", "VBZ"], ["a", "DT"], ["string", "NN"], ["as", "IN"], ["argument", "NN"], [".", "."], ["And", "CC"], ["for", "IN"], ["remove", "NN"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["method", "NN"], ["pop", "NN"], ["that", "WDT"], ["returns", "VBZ"], ["to", "TO"], ["the", "DT"], ["string", "NN"], ["most", "RBS"], ["recently", "RB"], ["added", "VBD"], [".", "."], ["And", "CC"], ["we", "PRP"], ["have", "VBP"], ["these", "DT"], ["empty", "JJ"], ["test", "NN"], ["which", "WDT"], ["returns", "VBZ"], ["a", "DT"], ["Boolean", "NNP"], [".", "."], ["Also", "RB"], ["in", "IN"], ["some", "DT"], ["applications", "NNS"], [",", ","], ["we", "PRP"], ["would", "MD"], ["include", "VB"], ["the", "DT"], ["size", "NN"], ["as", "RB"], ["well", "RB"], [".", "."], ["So", "RB"], ["again", "RB"], [",", ","], ["as", "IN"], ["always", "RB"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["first", "RB"], ["read", "VB"], ["a", "DT"], ["client", "NN"], ["and", "CC"], ["then", "RB"], ["look", "VB"], ["at", "IN"], ["implementations", "NNS"], ["and", "CC"], ["our", "PRP$"], ["client", "NN"], [",", ","], ["simple", "JJ"], ["client", "NN"], ["is", "VBZ"], ["to", "TO"], ["take", "VB"], ["some", "DT"], ["strings", "NNS"], ["on", "IN"], ["standard", "JJ"], ["input", "NN"], ["and", "CC"], ["some", "DT"], ["pop", "NN"], ["commands", "NNS"], ["which", "WDT"], ["are", "VBP"], ["indicated", "VBN"], ["with", "IN"], ["hyphens", "NNS"], [".", "."], ["And", "CC"], ["so", "RB"], [",", ","], ["it", "PRP"], ["'ll", "MD"], ["this", "DT"], ["client", "NN"], ["reads", "VBZ"], ["strings", "NNS"], ["from", "IN"], ["standard", "JJ"], ["input", "NN"], [".", "."], ["If", "IN"], ["the", "DT"], ["string", "NN"], ["is", "VBZ"], ["equal", "JJ"], ["to", "TO"], ["the", "DT"], ["hyphened", "VBN"], ["character", "NN"], [",", ","], ["it", "PRP"], ["'ll", "MD"], ["pop", "VB"], ["the", "DT"], ["string", "NN"], ["at", "IN"], ["the", "DT"], ["top", "NN"], ["of", "IN"], ["the", "DT"], ["stack", "NN"], ["and", "CC"], ["print", "NN"], ["it", "PRP"], [".", "."], ["Otherwise", "RB"], [",", ","], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["string", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["not", "RB"], ["equal", "JJ"], ["to", "TO"], ["the", "DT"], ["hyphen", "NN"], ["character", "NN"], [",", ","], ["it", "PRP"], ["'ll", "MD"], ["just", "RB"], ["push", "VB"], ["it", "PRP"], ["on", "IN"], ["to", "TO"], ["the", "DT"], ["stack", "NN"], [".", "."], ["So", "RB"], ["in", "IN"], ["the", "DT"], ["example", "NN"], ["down", "RP"], ["below", "IN"], ["here", "RB"], ["if", "IN"], ["we", "PRP"], ["have", "VBP"], ["this", "DT"], ["file", "NN"], ["called", "VBN"], ["tobe.txt", "NN"], ["then", "RB"], ["what", "WP"], ["we", "PRP"], ["'ll", "MD"], [",", ","], ["what", "WP"], ["the", "DT"], ["client", "NN"], ["will", "MD"], ["do", "VB"], ["is", "VBZ"], ["push", "VB"], ["to", "TO"], ["be", "VB"], ["or", "CC"], ["not", "RB"], ["to", "TO"], ["all", "DT"], ["in", "IN"], ["the", "DT"], ["stack", "NN"], ["then", "RB"], ["when", "WRB"], ["it", "PRP"], ["comes", "VBZ"], ["to", "TO"], ["this", "DT"], ["hyphen", "NN"], ["it", "PRP"], ["'ll", "MD"], ["pop", "VB"], ["the", "DT"], ["most", "RBS"], ["recently", "RB"], ["inserted", "VBN"], ["item", "NN"], ["which", "WDT"], ["is", "VBZ"], ["two", "CD"], ["in", "IN"], ["this", "DT"], ["case", "NN"], ["then", "RB"], ["it", "PRP"], ["'ll", "MD"], ["put", "VB"], ["b", "NN"], ["in", "IN"], ["the", "DT"], ["top", "NN"], ["of", "IN"], ["the", "DT"], ["stack", "NN"], ["and", "CC"], ["then", "RB"], ["pop", "VB"], ["the", "DT"], ["top", "JJ"], ["item", "NN"], ["on", "IN"], ["the", "DT"], ["stack", "NN"], ["which", "WDT"], ["is", "VBZ"], ["now", "RB"], ["b", "JJ"], ["and", "CC"], ["then", "RB"], ["pop", "VB"], ["the", "DT"], ["item", "NN"], ["most", "RBS"], ["recently", "RB"], ["added", "VBD"], [",", ","], ["b", "NN"], ["is", "VBZ"], ["gone", "VBN"], [",", ","], ["two", "CD"], ["is", "VBZ"], ["gone", "VBN"], ["so", "RB"], ["the", "DT"], ["next", "JJ"], ["is", "VBZ"], ["not", "RB"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["So", "RB"], [",", ","], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], ["simple", "JJ"], ["test", "NN"], ["client", "NN"], ["that", "IN"], ["we", "PRP"], ["can", "MD"], ["use", "VB"], ["to", "TO"], ["test", "VB"], ["our", "PRP$"], ["implementations", "NNS"], [".", "."], ["So", "RB"], ["now", "RB"], [",", ","], ["let", "VB"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["the", "DT"], ["code", "NN"], ["for", "IN"], ["implementing", "VBG"], ["a", "DT"], ["stack", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["the", "DT"], ["first", "JJ"], ["implementation", "NN"], ["that", "IN"], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], [",", ","], ["uses", "VBZ"], ["link", "VBP"], ["list", "NN"], [".", "."], ["If", "IN"], ["you", "PRP"], ["'re", "VBP"], ["not", "RB"], ["familiar", "JJ"], ["with", "IN"], ["the", "DT"], ["link", "NN"], ["list", "NN"], ["you", "PRP"], ["'ll", "MD"], ["need", "VB"], ["to", "TO"], ["review", "VB"], ["that", "IN"], ["in", "IN"], ["section", "NN"], ["1.3", "CD"], [",", ","], ["1.3", "CD"], ["at", "IN"], ["the", "DT"], ["book", "NN"], ["or", "CC"], ["in", "IN"], ["our", "PRP$"], ["Introduction", "NN"], ["To", "TO"], ["Programming", "NNP"], ["Java", "NNP"], ["book", "NN"], [".", "."], ["Even", "RB"], ["if", "IN"], ["you", "PRP"], ["are", "VBP"], ["familiar", "JJ"], ["with", "IN"], ["link", "JJ"], ["list", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["worth", "JJ"], ["taking", "VBG"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["this", "DT"], ["code", "NN"], ["because", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["the", "DT"], ["style", "NN"], ["of", "IN"], ["coding", "VBG"], ["that", "IN"], ["we", "PRP"], ["'ll", "MD"], ["use", "VB"], ["throughout", "IN"], ["the", "DT"], ["coarse", "NN"], ["for", "IN"], ["much", "RB"], ["more", "RBR"], ["complicated", "JJ"], ["data", "NN"], ["structures", "NNS"], [".", "."], ["So", "IN"], ["the", "DT"], ["idea", "NN"], ["is", "VBZ"], ["to", "TO"], ["keep", "VB"], ["a", "DT"], ["link", "NN"], ["list", "NN"], ["where", "WRB"], ["which", "WDT"], ["is", "VBZ"], ["consists", "NNS"], ["of", "IN"], ["nodes", "NNS"], ["that", "WDT"], ["have", "VBP"], ["strings", "NNS"], ["in", "IN"], ["them", "PRP"], ["and", "CC"], ["references", "NNS"], ["to", "TO"], ["the", "DT"], ["next", "JJ"], ["item", "NN"], ["in", "IN"], ["the", "DT"], ["link", "NN"], ["list", "NN"], ["and", "CC"], ["to", "TO"], [",", ","], ["to", "TO"], ["implement", "VB"], ["a", "DT"], ["stack", "NN"], ["when", "WRB"], ["we", "PRP"], ["do", "VBP"], ["a", "DT"], [",", ","], ["a", "DT"], ["push", "NN"], ["operation", "NN"], [",", ","], ["we", "PRP"], ["insert", "VBP"], ["a", "DT"], ["new", "JJ"], ["node", "NN"], ["at", "IN"], ["the", "DT"], ["beginning", "NN"], ["of", "IN"], ["the", "DT"], ["link", "NN"], ["list", "NN"], ["and", "CC"], ["we", "PRP"], ["do", "VBP"], ["a", "DT"], ["pop", "NN"], ["operation", "NN"], ["where", "WRB"], ["we", "PRP"], ["move", "VBP"], ["the", "DT"], ["first", "JJ"], ["node", "NN"], ["from", "IN"], ["the", "DT"], ["beginning", "NN"], ["of", "IN"], ["the", "DT"], ["link", "NN"], ["list", "NN"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["the", "DT"], ["most", "RBS"], ["recently", "RB"], ["added", "VBD"], ["items", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["let", "VB"], ["'s", "POS"], ["look", "VB"], ["at", "IN"], ["what", "WP"], ["that", "IN"], ["code", "NN"], ["looks", "VBZ"], ["like", "IN"], [".", "."], ["We", "PRP"], ["use", "VBP"], ["to", "TO"], ["implement", "VB"], ["link", "JJ"], ["list", "NN"], ["in", "IN"], ["all", "DT"], ["linked", "VBN"], ["data", "NNS"], ["structures", "NNS"], ["through", "IN"], ["out", "IN"], ["the", "DT"], ["course", "NN"], [".", "."], ["We", "PRP"], ["use", "VBP"], ["what", "WP"], ["'s", "VBZ"], ["called", "VBN"], ["an", "DT"], ["inner", "JJ"], ["class", "NN"], ["in", "IN"], ["Java", "NNP"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["just", "RB"], ["a", "DT"], ["way", "NN"], ["to", "TO"], ["describe", "VB"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["manipulating", "VBG"], ["node", "JJ"], ["objects", "NNS"], ["that", "WDT"], ["consist", "VBP"], [",", ","], ["each", "DT"], ["consist", "NN"], ["of", "IN"], ["a", "DT"], ["string", "NN"], ["and", "CC"], ["a", "DT"], ["reference", "NN"], ["to", "TO"], ["another", "DT"], ["node", "NN"], [".", "."], ["So", "RB"], [",", ","], ["the", "DT"], ["pop", "NN"], ["operation", "NN"], ["for", "IN"], ["link", "JJ"], ["list", "NN"], ["is", "VBZ"], ["very", "RB"], ["easy", "JJ"], ["to", "TO"], ["implement", "VB"], [".", "."], ["[", "JJ"], ["cough", "NN"], ["]", "NN"], ["first", "RB"], [",", ","], ["we", "PRP"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["need", "VB"], ["to", "TO"], ["return", "VB"], ["the", "DT"], ["first", "JJ"], ["item", "NN"], ["on", "IN"], ["the", "DT"], ["list", "NN"], ["so", "IN"], ["we", "PRP"], ["save", "VBP"], ["that", "DT"], ["away", "RB"], [".", "."], ["Take", "VB"], ["first", "JJ"], ["that", "DT"], ["item", "NN"], ["and", "CC"], ["save", "VB"], ["that", "DT"], ["in", "IN"], ["the", "DT"], ["variable", "JJ"], ["item", "NN"], [".", "."], ["A", "DT"], ["h", "NN"], [",", ","], ["then", "RB"], [",", ","], ["to", "TO"], ["get", "VB"], ["rid", "JJ"], ["on", "IN"], ["the", "DT"], ["first", "JJ"], ["node", "NN"], [",", ","], ["we", "PRP"], ["just", "RB"], ["advance", "VB"], ["our", "PRP$"], ["pointer", "NN"], ["to", "TO"], ["the", "DT"], ["first", "JJ"], ["item", "NN"], ["on", "IN"], ["the", "DT"], ["list", "NN"], ["to", "TO"], ["point", "VB"], ["two", "CD"], ["of", "IN"], ["the", "DT"], ["next", "JJ"], ["item", "NN"], ["and", "CC"], ["then", "RB"], ["that", "IN"], ["first", "JJ"], ["node", "NN"], ["is", "VBZ"], ["ready", "JJ"], ["to", "TO"], ["be", "VB"], ["reclaimed", "VBN"], ["by", "IN"], ["the", "DT"], ["garbage", "NN"], ["collector", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["the", "DT"], ["last", "JJ"], ["thing", "NN"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["just", "RB"], ["return", "VB"], ["the", "DT"], ["item", "NN"], ["that", "IN"], ["we", "PRP"], ["saved", "VBD"], ["away", "RB"], [".", "."], ["Okay", "NNP"], [",", ","], ["so", "IN"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["pop", "NN"], ["operation", "NN"], [".", "."], ["What", "WP"], ["about", "IN"], ["the", "DT"], ["push", "NN"], ["operation", "NN"], ["?", "."], ["[", "JJ"], ["cough", "NN"], ["]", "NNP"], ["push", "NN"], ["operation", "NN"], [",", ","], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["add", "VB"], ["a", "DT"], ["new", "JJ"], ["node", "NN"], ["at", "IN"], ["the", "DT"], ["beginning", "NN"], ["of", "IN"], ["the", "DT"], ["link", "NN"], ["list", "NN"], [".", "."], ["So", "RB"], [",", ","], ["first", "JJ"], ["thing", "NN"], ["we", "PRP"], ["do", "VBP"], ["is", "VBZ"], ["save", "VB"], ["a", "DT"], ["way", "NN"], ["the", "DT"], ["pointer", "NN"], ["to", "TO"], ["the", "DT"], ["beginning", "NN"], ["of", "IN"], ["the", "DT"], ["list", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["a", "DT"], ["little", "JJ"], ["first", "JJ"], ["thing", "NN"], ["first", "RB"], [".", "."], ["Then", "RB"], ["we", "PRP"], ["'ll", "MD"], ["create", "VB"], ["a", "DT"], ["new", "JJ"], ["node", "NN"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["the", "DT"], ["new", "JJ"], ["node", "NN"], ["that", "IN"], ["we", "PRP"], ["put", "VBD"], ["at", "IN"], ["the", "DT"], ["beginning", "NN"], ["of", "IN"], ["the", "DT"], ["list", "NN"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["first", "JJ"], ["equals", "NNS"], ["new", "JJ"], ["node", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["said", "VBD"], ["it", "PRP"], ["'s", "VBZ"], ["instance", "NN"], ["variables", "NNS"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["items", "NNS"], ["is", "VBZ"], ["the", "DT"], ["string", "NN"], ["that", "IN"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["put", "VB"], ["at", "IN"], ["the", "DT"], ["beginning", "NN"], ["of", "IN"], ["the", "DT"], ["list", "NN"], [",", ","], ["in", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["not", "RB"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["next", "JJ"], ["is", "VBZ"], ["the", "DT"], ["old", "JJ"], ["first", "JJ"], ["item", "NN"], ["of", "IN"], ["the", "DT"], ["list", "NN"], ["which", "WDT"], ["is", "VBZ"], ["now", "RB"], ["the", "DT"], ["second", "JJ"], ["item", "NN"], ["of", "IN"], ["the", "DT"], ["list", "NN"], [".", "."], ["So", "RB"], [",", ","], ["after", "IN"], ["this", "DT"], ["operation", "NN"], [",", ","], ["we", "PRP"], ["are", "VBP"], ["first", "JJ"], ["pointing", "VBG"], ["to", "TO"], ["the", "DT"], ["beginning", "NN"], ["of", "IN"], ["the", "DT"], ["list", "NN"], ["and", "CC"], ["we", "PRP"], ["have", "VBP"], ["the", "DT"], ["items", "NNS"], ["on", "IN"], ["the", "DT"], ["list", "NN"], ["in", "IN"], ["decreasing", "VBG"], ["order", "NN"], ["of", "IN"], ["when", "WRB"], ["they", "PRP"], ["were", "VBD"], ["put", "VBN"], ["on", "IN"], ["to", "TO"], ["the", "DT"], ["stack", "NN"], [".", "."], ["So", "CC"], ["that", "IN"], ["also", "RB"], ["is", "VBZ"], ["a", "DT"], ["four", "CD"], ["liner", "NN"], ["to", "TO"], ["implement", "VB"], ["the", "DT"], ["stack", "NN"], ["push", "NN"], ["operation", "NN"], [".", "."], ["So", "IN"], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], ["complete", "JJ"], ["link", "NN"], ["list", "NN"], ["implementation", "NN"], ["of", "IN"], ["all", "PDT"], ["the", "DT"], ["code", "NN"], ["to", "TO"], ["implement", "VB"], ["a", "DT"], ["link", "NN"], ["list", "NN"], ["for", "IN"], ["a", "DT"], ["stack", "NN"], ["of", "IN"], ["strings", "NNS"], ["in", "IN"], ["Java", "NNP"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["class", "NN"], ["the", "DT"], ["constructor", "NN"], ["does", "VBZ"], ["n't", "RB"], ["have", "VB"], ["to", "TO"], ["do", "VB"], ["anything", "NN"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["no", "DT"], ["constructor", "NN"], [".", "."], ["We", "PRP"], ["have", "VBP"], ["this", "DT"], ["inner", "JJ"], ["class", "NN"], ["that", "IN"], ["we", "PRP"], ["use", "VBP"], ["to", "TO"], ["build", "VB"], ["the", "DT"], ["items", "NNS"], ["in", "IN"], ["the", "DT"], ["link", "NN"], ["list", "NN"], ["and", "CC"], ["we", "PRP"], ["make", "VBP"], ["them", "PRP"], ["an", "DT"], ["inner", "JJ"], ["class", "NN"], ["so", "IN"], ["we", "PRP"], ["can", "MD"], ["directly", "RB"], ["refer", "VB"], ["to", "TO"], ["those", "DT"], ["instance", "NN"], ["variables", "NNS"], [".", "."], ["And", "CC"], ["then", "RB"], ["the", "DT"], ["only", "JJ"], ["instance", "NN"], ["variable", "NN"], ["of", "IN"], ["a", "DT"], ["stack", "NN"], ["is", "VBZ"], ["a", "DT"], ["reference", "NN"], ["to", "TO"], ["the", "DT"], ["first", "JJ"], ["node", "NN"], ["on", "IN"], [",", ","], ["on", "IN"], ["the", "DT"], ["list", "NN"], ["and", "CC"], ["that", "IN"], ["starts", "VBZ"], ["out", "RP"], ["being", "VBG"], ["null", "JJ"], [".", "."], ["Then", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["empty", "JJ"], ["is", "VBZ"], ["just", "RB"], ["testing", "VBG"], ["whether", "IN"], ["the", "DT"], ["first", "JJ"], ["node", "NN"], ["on", "IN"], ["the", "DT"], ["list", "NN"], ["is", "VBZ"], ["null", "JJ"], ["and", "CC"], ["then", "RB"], ["push", "NN"], ["is", "VBZ"], ["the", "DT"], ["four", "CD"], ["lines", "NNS"], ["of", "IN"], ["code", "NN"], ["that", "IN"], ["I", "PRP"], ["gave", "VBD"], ["on", "IN"], ["the", "DT"], ["previous", "JJ"], ["slide", "NN"], ["and", "CC"], ["pop", "NN"], ["is", "VBZ"], ["the", "DT"], ["three", "CD"], ["lines", "NNS"], ["of", "IN"], ["code", "NN"], ["that", "IN"], ["I", "PRP"], ["gave", "VBD"], ["on", "IN"], ["the", "DT"], ["slide", "NN"], ["before", "IN"], ["that", "DT"], [".", "."], ["Tha", "NNP"], ["t", "NN"], ["'s", "POS"], ["a", "DT"], ["complete", "JJ"], ["implementation", "NN"], ["for", "IN"], ["the", "DT"], ["link", "NN"], ["list", "NN"], ["that", "IN"], ["'ll", "MD"], ["work", "VB"], ["with", "IN"], ["as", "IN"], ["a", "DT"], ["fine", "JJ"], ["push", "NN"], ["down", "RP"], ["stack", "NN"], ["implementation", "NN"], ["for", "IN"], ["any", "DT"], ["client", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], ["we", "PRP"], ["can", "MD"], ["analyze", "VB"], ["the", "DT"], ["performance", "NN"], ["of", "IN"], ["that", "DT"], ["so", "RB"], ["that", "IN"], ["we", "PRP"], ["can", "MD"], ["provide", "VB"], ["clients", "NNS"], ["with", "IN"], ["information", "NN"], ["and", "CC"], ["how", "WRB"], ["well", "RB"], ["the", "DT"], ["algorithm", "NN"], ["data", "NN"], ["structure", "NN"], ["will", "MD"], ["perform", "VB"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["easy", "JJ"], ["to", "TO"], ["see", "VB"], ["that", "DT"], ["every", "DT"], ["operation", "NN"], ["takes", "VBZ"], ["constant", "JJ"], ["time", "NN"], ["in", "IN"], ["the", "DT"], ["worst", "JJS"], ["case", "NN"], [".", "."], ["There", "EX"], ["is", "VBZ"], ["only", "RB"], ["a", "DT"], ["few", "JJ"], ["instructions", "NNS"], ["for", "IN"], ["each", "DT"], ["one", "CD"], ["of", "IN"], ["the", "DT"], ["operations", "NNS"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["no", "DT"], ["loops", "NN"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["obviously", "RB"], ["a", "DT"], ["very", "RB"], ["desirable", "JJ"], ["characteristic", "NN"], [".", "."], ["Then", "RB"], ["how", "WRB"], ["about", "RB"], ["space", "NN"], ["units", "NNS"], [",", ","], ["usage", "NN"], ["?", "."], ["Well", "UH"], [",", ","], ["that", "DT"], ["depends", "VBZ"], ["very", "RB"], ["much", "JJ"], ["on", "IN"], ["the", "DT"], ["implementation", "NN"], ["in", "IN"], ["machines", "NNS"], ["so", "RB"], ["this", "DT"], ["a", "DT"], ["typical", "JJ"], ["Java", "NNP"], ["implementation", "NN"], ["that", "IN"], ["we", "PRP"], ["'ll", "MD"], ["do", "VB"], ["the", "DT"], ["analysis", "NN"], ["for", "IN"], ["and", "CC"], ["contest", "VB"], ["this", "DT"], ["out", "RP"], ["for", "IN"], ["different", "JJ"], ["types", "NNS"], ["of", "IN"], ["environments", "NNS"], ["easily", "RB"], ["in", "IN"], ["this", "DT"], ["representative", "NN"], [".", "."], ["So", "RB"], [",", ","], ["in", "IN"], ["Java", "NNP"], [",", ","], ["an", "DT"], ["inter", "NN"], ["class", "NN"], ["there", "EX"], ["'s", "VBZ"], ["for", "IN"], ["every", "DT"], ["object", "NN"], ["there", "EX"], ["is", "VBZ"], ["sixteen", "JJ"], ["bytes", "NNS"], ["of", "IN"], ["over", "IN"], ["head", "NN"], [".", "."], ["There", "EX"], ["are", "VBP"], ["some", "DT"], ["extra", "JJ"], ["over", "IN"], ["head", "NN"], [",", ","], ["eight", "CD"], ["bytes", "NNS"], ["because", "IN"], ["that", "DT"], ["'s", "VBZ"], ["an", "DT"], ["inter", "JJ"], ["class", "NN"], ["and", "CC"], ["then", "RB"], ["there", "EX"], ["is", "VBZ"], ["two", "CD"], ["references", "NNS"], ["that", "IN"], ["we", "PRP"], ["built", "VBP"], ["in", "IN"], ["our", "PRP$"], [",", ","], ["in", "IN"], [",", ","], ["in", "IN"], ["our", "PRP$"], ["class", "NN"], ["node", "NN"], [".", "."], ["One", "CD"], ["to", "TO"], ["string", "NN"], ["and", "CC"], ["another", "DT"], ["one", "CD"], ["to", "TO"], ["a", "DT"], ["node", "NN"], ["and", "CC"], ["those", "DT"], ["are", "VBP"], ["each", "DT"], ["eight", "CD"], ["bytes", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["40", "CD"], ["bytes", "NNS"], ["per", "IN"], ["stack", "NN"], ["node", "NN"], [",", ","], ["if", "IN"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["stack", "NN"], ["of", "IN"], ["size", "NN"], ["n", "NNS"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["about", "IN"], ["40", "CD"], ["n", "JJ"], ["bytes", "NNS"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["a", "DT"], ["little", "JJ"], ["extra", "JJ"], ["first", "RB"], ["but", "CC"], ["that", "DT"], ["'s", "VBZ"], ["about", "IN"], ["an", "DT"], ["overhead", "NN"], ["for", "IN"], ["the", "DT"], ["whole", "JJ"], ["stack", "NN"], ["but", "CC"], ["when", "WRB"], ["n", "NN"], ["is", "VBZ"], ["large", "JJ"], [",", ","], ["40n", "CD"], ["is", "VBZ"], ["a", "DT"], ["very", "RB"], ["close", "JJ"], ["estimate", "NN"], ["to", "TO"], ["the", "DT"], ["amount", "NN"], ["of", "IN"], ["space", "NN"], ["needed", "VBN"], [".", "."], ["This", "DT"], ["does", "VBZ"], ["not", "RB"], ["include", "VB"], ["the", "DT"], ["space", "NN"], ["for", "IN"], ["the", "DT"], ["strings", "NNS"], ["themselves", "PRP"], ["which", "WDT"], ["are", "VBP"], ["owned", "VBN"], ["by", "IN"], ["the", "DT"], ["client", "NN"], [".", "."], ["But", "CC"], ["with", "IN"], ["that", "DT"], [",", ","], ["we", "PRP"], ["can", "MD"], ["properly", "VB"], ["asses", "VBZ"], ["the", "DT"], ["research", "NN"], ["usage", "NN"], ["of", "IN"], ["this", "DT"], ["implementation", "NN"], ["for", "IN"], ["different", "JJ"], ["client", "NN"], ["programs", "NNS"], [".", "."], ["Now", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["constant", "JJ"], ["time", "NN"], ["but", "CC"], ["there", "EX"], ["'s", "VBZ"], ["faster", "JJR"], ["implementations", "NNS"], ["of", "IN"], ["stack", "NN"], ["and", "CC"], ["since", "IN"], ["stack", "NN"], ["is", "VBZ"], ["used", "VBN"], ["inner", "JJ"], ["loop", "NN"], ["of", "IN"], ["some", "DT"], ["algorithms", "VBP"], ["it", "PRP"], ["'s", "VBZ"], ["important", "JJ"], ["to", "TO"], ["think", "VB"], ["about", "IN"], ["even", "RB"], ["faster", "JJR"], ["implementations", "NNS"], [".", "."], ["And", "CC"], ["another", "DT"], [",", ","], ["natural", "JJ"], ["way", "NN"], ["to", "TO"], ["implement", "VB"], ["a", "DT"], ["stack", "NN"], ["is", "VBZ"], ["to", "TO"], ["use", "VB"], ["an", "DT"], ["array", "NN"], ["to", "TO"], ["store", "VB"], ["the", "DT"], ["items", "NNS"], ["on", "IN"], ["a", "DT"], ["stack", "NN"], ["so", "IN"], ["let", "NN"], ["'s", "POS"], ["take", "VB"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["that", "DT"], [".", "."], ["This", "DT"], ["alternative", "NN"], ["of", "IN"], ["choosing", "VBG"], ["between", "IN"], ["length", "NN"], ["structures", "NNS"], ["and", "CC"], ["arrays", "NNS"], ["is", "VBZ"], ["fundamental", "JJ"], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["go", "VB"], ["ing", "VBG"], ["to", "TO"], ["come", "VB"], ["up", "RP"], ["again", "RB"], ["and", "CC"], ["again", "RB"], ["when", "WRB"], ["we", "PRP"], ["consider", "VBP"], ["more", "RBR"], ["complicated", "JJ"], ["data", "NN"], ["structures", "NNS"], ["in", "IN"], ["algorithms", "NN"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["be", "VB"], ["sure", "JJ"], ["to", "TO"], ["analyze", "VB"], ["it", "PRP"], ["in", "IN"], ["the", "DT"], ["simple", "JJ"], ["case", "NN"], ["for", "IN"], ["stacks", "NNS"], ["to", "TO"], ["set", "VB"], ["the", "DT"], ["stage", "NN"], ["for", "IN"], ["more", "RBR"], ["complicated", "JJ"], ["applications", "NNS"], ["later", "RB"], ["on", "IN"], [".", "."], ["Alright", "NNP"], [",", ","], ["so", "IN"], ["the", "DT"], ["use", "NN"], ["in", "IN"], ["array", "NN"], ["we", "PRP"], ["just", "RB"], ["keep", "VB"], ["the", "DT"], ["n", "JJ"], ["items", "NNS"], ["on", "IN"], ["the", "DT"], ["stack", "NN"], ["in", "IN"], ["the", "DT"], ["array", "NN"], ["and", "CC"], ["the", "DT"], ["array", "NN"], ["location", "NN"], ["within", "IN"], ["the", "DT"], ["n", "NN"], ["is", "VBZ"], ["the", "DT"], ["place", "NN"], ["the", "DT"], ["top", "NN"], ["of", "IN"], ["the", "DT"], ["stack", "NN"], ["where", "WRB"], ["the", "DT"], ["next", "JJ"], ["item", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["go", "VB"], [".", "."], ["So", "RB"], [",", ","], ["to", "TO"], ["push", "VB"], ["we", "PRP"], ["just", "RB"], ["add", "VB"], ["a", "DT"], ["new", "JJ"], ["item", "NN"], ["at", "IN"], ["s", "NN"], ["(", "("], ["n", "JJ"], [")", ")"], ["into", "IN"], ["pop", "NN"], ["we", "PRP"], ["remove", "VBP"], ["the", "DT"], ["item", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["at", "IN"], ["s", "NN"], ["(", "("], ["n", "NN"], [")", ")"], ["-", ":"], ["one", "CD"], ["and", "CC"], ["decrement", "JJ"], ["n.", "RB"], ["Now", "RB"], ["there", "EX"], ["is", "VBZ"], ["a", "DT"], ["fundamental", "JJ"], ["defect", "NN"], ["in", "IN"], ["using", "VBG"], ["an", "DT"], ["array", "NN"], ["and", "CC"], ["that", "DT"], ["is", "VBZ"], ["that", "IN"], ["you", "PRP"], ["have", "VBP"], ["to", "TO"], ["declare", "VB"], ["the", "DT"], ["size", "NN"], ["of", "IN"], ["array", "NN"], ["ahead", "RB"], ["of", "IN"], ["time", "NN"], ["and", "CC"], ["so", "RB"], ["the", "DT"], ["stack", "NN"], ["has", "VBZ"], ["a", "DT"], ["certain", "JJ"], ["capacity", "NN"], [".", "."], ["And", "CC"], ["if", "IN"], ["there", "EX"], ["is", "VBZ"], ["more", "JJR"], ["items", "NNS"], ["on", "IN"], ["the", "DT"], ["stack", "NN"], ["than", "IN"], ["the", "DT"], ["capacity", "NN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["deal", "VB"], ["with", "IN"], ["that", "DT"], ["problem", "NN"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["fundamental", "JJ"], ["problem", "NN"], ["that", "IN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["deal", "VB"], ["with", "IN"], ["in", "IN"], ["array", "NN"], ["implementations", "NNS"], ["in", "IN"], ["all", "DT"], ["sorts", "NNS"], ["of", "IN"], ["algorithms", "NN"], ["and", "CC"], ["data", "NN"], ["structures", "NNS"], [".", "."], ["So", "RB"], ["again", "RB"], [",", ","], ["considering", "VBG"], ["it", "PRP"], ["for", "IN"], ["the", "DT"], ["simple", "JJ"], ["case", "NN"], ["we", "PRP"], ["'ll", "MD"], ["pay", "VB"], ["off", "RP"], ["later", "RB"], ["on", "IN"], [".", "."], ["Alright", "NNP"], [",", ","], ["so", "RB"], ["here", "RB"], ["'s", "VBZ"], ["the", "DT"], ["full", "JJ"], ["implementation", "NN"], ["of", "IN"], ["stack", "NN"], ["for", "IN"], ["using", "VBG"], ["an", "DT"], ["array", "NN"], ["to", "TO"], ["represent", "VB"], ["the", "DT"], ["stack", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], ["we", "PRP"], ["have", "VBP"], ["an", "DT"], ["instance", "NN"], ["variable", "NN"], ["which", "WDT"], ["is", "VBZ"], ["an", "DT"], ["array", "NN"], ["of", "IN"], ["strings", "NNS"], ["and", "CC"], ["or", "CC"], ["variable", "JJ"], ["n", "NN"], ["which", "WDT"], ["is", "VBZ"], ["both", "DT"], ["the", "DT"], ["size", "NN"], ["of", "IN"], ["the", "DT"], ["stack", "NN"], ["and", "CC"], ["the", "DT"], ["index", "NN"], ["of", "IN"], ["the", "DT"], ["next", "JJ"], ["position", "NN"], [",", ","], ["next", "JJ"], ["open", "JJ"], ["position", "NN"], ["on", "IN"], ["the", "DT"], ["stack", "NN"], [".", "."], ["This", "DT"], ["one", "NN"], ["has", "VBZ"], ["a", "DT"], ["constructor", "NN"], ["and", "CC"], ["the", "DT"], ["constructor", "NN"], ["creates", "VBZ"], ["the", "DT"], ["array", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["we", "PRP"], ["are", "VBP"], ["cheating", "VBG"], ["in", "IN"], ["this", "DT"], ["implementation", "NN"], ["to", "TO"], ["keep", "VB"], ["it", "PRP"], ["simple", "JJ"], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["take", "VB"], ["care", "NN"], ["of", "IN"], ["this", "DT"], ["cheat", "NN"], ["in", "IN"], ["a", "DT"], ["little", "JJ"], ["while", "NN"], ["by", "IN"], ["requiring", "VBG"], ["the", "DT"], ["client", "NN"], ["to", "TO"], ["provide", "VB"], ["the", "DT"], ["capacity", "NN"], ["of", "IN"], ["a", "DT"], ["stack", "NN"], [".", "."], ["In", "IN"], ["a", "DT"], ["few", "JJ"], ["applications", "NNS"], ["this", "DT"], ["might", "MD"], ["be", "VB"], ["fine", "JJ"], ["but", "CC"], ["in", "IN"], ["many", "JJ"], [",", ","], ["many", "JJ"], ["applications", "NNS"], ["that", "WDT"], ["'s", "VBZ"], ["two", "CD"], ["owners", "NNS"], ["are", "VBP"], ["requirement", "JJ"], ["and", "CC"], ["client", "NN"], ["really", "RB"], ["ca", "MD"], ["n't", "RB"], ["know", "VB"], ["how", "WRB"], ["big", "JJ"], ["the", "DT"], ["stack", "NN"], ["is", "VBZ"], [".", "."], ["Client", "NN"], ["might", "MD"], ["have", "VB"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["stacks", "NNS"], ["that", "WDT"], ["need", "VBP"], ["to", "TO"], ["be", "VB"], ["maintained", "VBN"], ["simultaneously", "RB"], ["and", "CC"], ["then", "RB"], ["maybe", "RB"], ["they", "PRP"], ["reached", "VBD"], ["their", "PRP$"], ["maximum", "JJ"], ["capacities", "NNS"], ["at", "IN"], ["different", "JJ"], ["times", "NNS"], ["and", "CC"], ["various", "JJ"], ["other", "JJ"], ["things", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["remove", "VB"], ["this", "DT"], ["cheat", "NN"], ["and", "CC"], ["will", "MD"], [".", "."], ["But", "CC"], ["the", "DT"], ["code", "NN"], ["is", "VBZ"], ["nearly", "RB"], ["trivial", "JJ"], [".", "."], ["If", "IN"], ["we", "PRP"], ["have", "VBP"], ["the", "DT"], ["capacity", "NN"], ["to", "TO"], ["check", "VB"], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["empty", "JJ"], ["we", "PRP"], ["check", "VBP"], ["if", "IN"], ["n", "NN"], ["is", "VBZ"], ["zero", "CD"], [".", "."], ["To", "TO"], ["push", "VB"], ["an", "DT"], ["item", "NN"], ["we", "PRP"], ["use", "VBP"], ["n", "JJ"], ["to", "TO"], ["index", "NN"], ["into", "IN"], ["the", "DT"], ["array", "NN"], ["put", "VBD"], ["the", "DT"], ["item", "NN"], ["there", "RB"], ["and", "CC"], ["then", "RB"], ["increment", "JJ"], ["n", "NN"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["the", "DT"], ["short", "JJ"], ["cut", "NN"], ["in", "IN"], ["many", "JJ"], ["programming", "NN"], ["languages", "NNS"], ["nowadays", "NNS"], ["for", "IN"], ["use", "VBP"], ["the", "DT"], ["index", "NN"], ["and", "CC"], ["then", "RB"], ["increment", "VB"], ["it", "PRP"], [".", "."], ["And", "CC"], ["to", "TO"], ["pop", "VB"], ["we", "PRP"], ["decrement", "VBP"], ["the", "DT"], ["index", "NN"], ["and", "CC"], ["then", "RB"], ["use", "VB"], ["it", "PRP"], ["to", "TO"], ["return", "VB"], ["the", "DT"], ["item", "NN"], ["in", "IN"], ["the", "DT"], ["array", "NN"], [".", "."], ["So", "IN"], ["each", "DT"], ["of", "IN"], ["the", "DT"], ["operations", "NNS"], ["is", "VBZ"], ["a", "DT"], ["one", "NN"], ["liner", "NN"], ["and", "CC"], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], ["fine", "JJ"], ["implementation", "NN"], ["for", "IN"], ["some", "DT"], ["clients", "NNS"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["array", "JJ"], ["implementation", "NN"], ["of", "IN"], ["stack", "NN"], ["but", "CC"], ["it", "PRP"], ["breaks", "VBZ"], ["the", "DT"], ["API", "NNP"], ["by", "IN"], ["requiring", "VBG"], ["the", "DT"], ["client", "NN"], ["to", "TO"], ["provide", "VB"], ["the", "DT"], ["capacity", "NN"], [".", "."], ["So", "IN"], ["what", "WP"], ["are", "VBP"], ["we", "PRP"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], ["about", "IN"], ["that", "DT"], ["?", "."], ["Well", "RB"], [",", ","], ["there", "EX"], ["are", "VBP"], ["a", "DT"], ["couple", "NN"], ["of", "IN"], ["things", "NNS"], ["that", "IN"], ["we", "PRP"], ["did", "VBD"], ["n't", "RB"], ["consider", "VB"], [".", "."], ["We", "PRP"], ["did", "VBD"], ["n't", "RB"], ["put", "VB"], ["in", "IN"], ["a", "DT"], ["code", "NN"], ["to", "TO"], ["throw", "VB"], ["an", "DT"], ["exception", "NN"], ["if", "IN"], ["the", "DT"], ["client", "NN"], ["pops", "NN"], ["from", "IN"], ["an", "DT"], ["empty", "JJ"], ["stack", "NN"], [".", "."], ["Probably", "RB"], ["should", "MD"], ["do", "VB"], ["that", "DT"], ["and", "CC"], ["for", "IN"], ["overflow", "NN"], [",", ","], ["what", "WP"], ["happens", "VBZ"], ["when", "WRB"], ["the", "DT"], ["client", "NN"], ["does", "VBZ"], ["too", "RB"], ["much", "JJ"], ["well", "RB"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["talk", "VB"], ["about", "IN"], ["an", "DT"], ["approach", "NN"], ["called", "VBD"], ["resizing", "VBG"], ["that", "DT"], ["will", "MD"], ["allow", "VB"], ["us", "PRP"], ["to", "TO"], ["avoid", "VB"], ["overflow", "NN"], ["for", "IN"], ["clients", "NNS"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["another", "DT"], ["issue", "NN"], ["about", "IN"], ["whether", "IN"], ["clients", "NNS"], ["can", "MD"], ["insert", "VB"], ["null", "JJ"], ["items", "NNS"], ["into", "IN"], ["the", "DT"], ["data", "NN"], ["structure", "NN"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["we", "PRP"], ["do", "VBP"], ["allow", "VB"], ["the", "DT"], ["client", "NN"], ["to", "TO"], ["insert", "VB"], ["null", "JJ"], ["items", "NNS"], ["but", "CC"], ["we", "PRP"], ["do", "VBP"], ["have", "VB"], ["to", "TO"], ["worry", "VB"], ["about", "IN"], ["in", "IN"], ["Java", "NNP"], ["about", "IN"], ["a", "DT"], ["problem", "NN"], ["called", "VBN"], ["loitering", "NN"], ["and", "CC"], ["that", "DT"], ["is", "VBZ"], ["the", "DT"], ["idea", "NN"], ["that", "IN"], ["we", "PRP"], ["have", "VBP"], ["references", "NNS"], ["to", "TO"], ["an", "DT"], ["object", "NN"], ["in", "IN"], ["our", "PRP$"], ["array", "NN"], ["implementation", "NN"], ["and", "CC"], ["the", "DT"], ["stack", "NN"], ["array", "NN"], ["and", "CC"], ["we", "PRP"], ["are", "VBP"], ["not", "RB"], ["really", "RB"], ["using", "VBG"], ["it", "PRP"], [".", "."], ["So", "RB"], [",", ","], ["when", "WRB"], ["we", "PRP"], ["decrement", "VBP"], ["that", "IN"], ["value", "NN"], ["in", "IN"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["still", "RB"], ["a", "DT"], ["pointer", "NN"], ["to", "TO"], ["the", "DT"], ["thing", "NN"], ["that", "IN"], ["we", "PRP"], ["took", "VBD"], ["off", "RP"], ["the", "DT"], ["stack", "NN"], ["in", "IN"], ["that", "DT"], ["array", "NN"], ["even", "RB"], ["though", "IN"], ["we", "PRP"], ["know", "VBP"], ["we", "PRP"], ["'re", "VBP"], ["not", "RB"], ["using", "VBG"], ["it", "PRP"], [".", "."], ["The", "DT"], ["Java", "NNP"], ["system", "NN"], ["does", "VBZ"], ["n't", "RB"], ["know", "VB"], ["that", "DT"], [".", "."], ["So", "RB"], ["to", "TO"], ["avoid", "VB"], ["that", "DT"], ["and", "CC"], ["really", "RB"], ["allow", "VB"], ["most", "JJS"], ["efficient", "JJ"], ["use", "NN"], ["of", "IN"], ["memory", "NN"], ["it", "PRP"], ["'s", "VBZ"], ["best", "RBS"], ["to", "TO"], ["set", "VB"], ["that", "DT"], [".", "."], ["[", "CC"], ["cough", "JJ"], ["]", "NN"], ["removed", "VBD"], ["item", "NN"], ["entry", "NN"], ["to", "TO"], ["null", "VB"], ["so", "RB"], ["there", "EX"], ["'s", "VBZ"], ["no", "DT"], ["reference", "NN"], ["to", "TO"], ["the", "DT"], ["old", "JJ"], ["item", "NN"], ["left", "VBD"], ["there", "EX"], ["and", "CC"], ["then", "RB"], ["the", "DT"], ["garbage", "NN"], ["collector", "NN"], ["can", "MD"], ["reclaim", "VB"], ["the", "DT"], ["memory", "NN"], ["since", "IN"], ["there", "EX"], ["'s", "VBZ"], ["no", "DT"], ["outstanding", "JJ"], ["references", "NNS"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], [",", ","], ["a", "DT"], ["detailed", "JJ"], ["but", "CC"], ["an", "DT"], ["important", "JJ"], ["one", "NN"], ["that", "IN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["take", "VB"], ["care", "NN"], ["of", "IN"], ["and", "CC"], ["or", "CC"], ["implementations", "NNS"], ["to", "TO"], ["make", "VB"], ["sure", "JJ"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["getting", "VBG"], ["most", "JJS"], ["efficien", "JJ"], ["t", "NN"], ["use", "NN"], ["of", "IN"], ["memory", "NN"], [".", "."]], "title": "stacks", "text": "Welcome back. Today we're going to talk about algorithms and data structures for implementing some fundamental data types called bags, queues and stacks. You maybe somewhat familiar with these, but today we're going to take a careful and close look at them. The idea is that in many applications, we have collections of objects that we want to maintain. And the operations are very simple. We want to add something to the collection, maybe remove something from the collection and iterate through the objects in the collection performing some operation on them, and of course, test if it's empty. Now for most of these, the intent is very clear. The key is when it comes to removing an item, which item do we remove? The two fundamental classic data structures for this, the stack and the queue differ in the way in which the item to be removed is chosen. For the stack, we take out the item that was most recently added for, the terminology that we used is push to insert an item and pop to remove the item most recently added. That's also called the LIFO discipline last-in-first-out. For queue, we examine the item least recently added and those operations to distinguish them we call inqueue to insert an item and dequeue to remove an item and that's also called the FIFO discipline, first in, first out. So now we're going to take a look today on how to implement these things. Our subtext today is all about modular programming. And that's going to be a discipline that we're going to follow up carefully throughout this course. The idea is to completely separate the interface and the implementation. So, when we have these types of data structures and data types that are precisely defined like stacks and queues and so forth, what we want to do is completely separate the details of the implementation from the client. The client has, can have many different implementations from which to choose but the client code should only perform the basic operations. The implementation on the other hand, can't know the details of the client needs, all it's supposed to do is implement those operations. In that way, many clients can reuse the same implementation. So this allows us to create modular reusable libraries of algorithms and data structures that we can use to build more complicated algorithms and data structures. It also allows us to focus on performance when appropriate. Again, this is a modular programming style that's enabled by object oriented programming languages such as Java and we'll be very disciplined in our use of this style. Alright. So to begin, we'll talk about the stacks. [cough] Stacks are familiar, many of you probably implemented stacks in an introductory programming course but we'll do a thorough introduction to implementations right now. As a warm up, let's suppose that we have string, a collection of strings. They might be short, they might be long and what we want to have is the ability to save away a collection of strings and remove and return the most recently added string periodically, and also test if it's empty. So that's our API. We have a constructor to create an empty stack, we have for insert and we have a method called push that takes a string as argument. And for remove, we have a method pop that returns to the string most recently added. And we have these empty test which returns a Boolean. Also in some applications, we would include the size as well. So again, as always, we'll first read a client and then look at implementations and our client, simple client is to take some strings on standard input and some pop commands which are indicated with hyphens. And so, it'll this client reads strings from standard input. If the string is equal to the hyphened character, it'll pop the string at the top of the stack and print it. Otherwise, if it's a string that's not equal to the hyphen character, it'll just push it on to the stack. So in the example down below here if we have this file called tobe.txt then what we'll, what the client will do is push to be or not to all in the stack then when it comes to this hyphen it'll pop the most recently inserted item which is two in this case then it'll put b in the top of the stack and then pop the top item on the stack which is now b and then pop the item most recently added, b is gone, two is gone so the next is not and so forth. So, this is a simple test client that we can use to test our implementations. So now, let's look at the code for implementing a stack. Now, the first implementation that we'll look at, uses link list. If you're not familiar with the link list you'll need to review that in section 1.3, 1.3 at the book or in our Introduction To Programming Java book. Even if you are familiar with link list, it's worth taking a look at this code because it's the style of coding that we'll use throughout the coarse for much more complicated data structures. So the idea is to keep a link list where which is consists of nodes that have strings in them and references to the next item in the link list and to, to implement a stack when we do a, a push operation, we insert a new node at the beginning of the link list and we do a pop operation where we move the first node from the beginning of the link list, that's the most recently added items. So, let's look at what that code looks like. We use to implement link list in all linked data structures through out the course. We use what's called an inner class in Java and that's just a way to describe that we're going to be manipulating node objects that consist, each consist of a string and a reference to another node. So, the pop operation for link list is very easy to implement. [cough] first, we, we're going to need to return the first item on the list so we save that away. Take first that item and save that in the variable item. A h, then, to get rid on the first node, we just advance our pointer to the first item on the list to point two of the next item and then that first node is ready to be reclaimed by the garbage collector. And then, the last thing we need to do is just return the item that we saved away. Okay, so that's the pop operation. What about the push operation? [cough] push operation, we want to add a new node at the beginning of the link list. So, first thing we do is save a way the pointer to the beginning of the list. That's a little first thing first. Then we'll create a new node, that's going to be the new node that we put at the beginning of the list, that's first equals new node. And then we said it's instance variables. It's items is the string that we want to put at the beginning of the list, in this case, not. And it's next is the old first item of the list which is now the second item of the list. So, after this operation, we are first pointing to the beginning of the list and we have the items on the list in decreasing order of when they were put on to the stack. So that also is a four liner to implement the stack push operation. So this is a complete link list implementation of all the code to implement a link list for a stack of strings in Java. It's, it's a class the constructor doesn't have to do anything, there's no constructor. We have this inner class that we use to build the items in the link list and we make them an inner class so we can directly refer to those instance variables. And then the only instance variable of a stack is a reference to the first node on, on the list and that starts out being null. Then it's empty is just testing whether the first node on the list is null and then push is the four lines of code that I gave on the previous slide and pop is the three lines of code that I gave on the slide before that. Tha t's a complete implementation for the link list that'll work with as a fine push down stack implementation for any client. So now we can analyze the performance of that so that we can provide clients with information and how well the algorithm data structure will perform. In this case, it's easy to see that every operation takes constant time in the worst case. There is only a few instructions for each one of the operations, there's no loops. So that's obviously a very desirable characteristic. Then how about space units, usage? Well, that depends very much on the implementation in machines so this a typical Java implementation that we'll do the analysis for and contest this out for different types of environments easily in this representative. So, in Java, an inter class there's for every object there is sixteen bytes of over head. There are some extra over head, eight bytes because that's an inter class and then there is two references that we built in our, in, in our class node. One to string and another one to a node and those are each eight bytes. So, we have 40 bytes per stack node, if we have a stack of size n, we have about 40 n bytes. That's a little extra first but that's about an overhead for the whole stack but when n is large, 40n is a very close estimate to the amount of space needed. This does not include the space for the strings themselves which are owned by the client. But with that, we can properly asses the research usage of this implementation for different client programs. Now it's constant time but there's faster implementations of stack and since stack is used inner loop of some algorithms it's important to think about even faster implementations. And another, natural way to implement a stack is to use an array to store the items on a stack so let's take a look at that. This alternative of choosing between length structures and arrays is fundamental and it's go ing to come up again and again when we consider more complicated data structures in algorithms. So, we want to be sure to analyze it in the simple case for stacks to set the stage for more complicated applications later on. Alright, so the use in array we just keep the n items on the stack in the array and the array location within the n is the place the top of the stack where the next item is going to go. So, to push we just add a new item at s(n) into pop we remove the item that's at s(n) - one and decrement n. Now there is a fundamental defect in using an array and that is that you have to declare the size of array ahead of time and so the stack has a certain capacity. And if there is more items on the stack than the capacity we have to deal with that problem and that's a fundamental problem that we have to deal with in array implementations in all sorts of algorithms and data structures. So again, considering it for the simple case we'll pay off later on. Alright, so here's the full implementation of stack for using an array to represent the stack. So now we have an instance variable which is an array of strings and or variable n which is both the size of the stack and the index of the next position, next open position on the stack. This one has a constructor and the constructor creates the array. Now, we are cheating in this implementation to keep it simple and we'll take care of this cheat in a little while by requiring the client to provide the capacity of a stack. In a few applications this might be fine but in many, many applications that's two owners are requirement and client really can't know how big the stack is. Client might have a lot of stacks that need to be maintained simultaneously and then maybe they reached their maximum capacities at different times and various other things. So, we need to remove this cheat and will. But the code is nearly trivial. If we have the capacity to check if it's empty we check if n is zero. To push an item we use n to index into the array put the item there and then increment n, that's the short cut in many programming languages nowadays for use the index and then increment it. And to pop we decrement the index and then use it to return the item in the array. So each of the operations is a one liner and this is a fine implementation for some clients. That's array implementation of stack but it breaks the API by requiring the client to provide the capacity. So what are we going to do about that? Well, there are a couple of things that we didn't consider. We didn't put in a code to throw an exception if the client pops from an empty stack. Probably should do that and for overflow, what happens when the client does too much well, we're going to talk about an approach called resizing that will allow us to avoid overflow for clients. There's another issue about whether clients can insert null items into the data structure. In this case, we do allow the client to insert null items but we do have to worry about in Java about a problem called loitering and that is the idea that we have references to an object in our array implementation and the stack array and we are not really using it. So, when we decrement that value in, there's still a pointer to the thing that we took off the stack in that array even though we know we're not using it. The Java system doesn't know that. So to avoid that and really allow most efficient use of memory it's best to set that. [cough] removed item entry to null so there's no reference to the old item left there and then the garbage collector can reclaim the memory since there's no outstanding references. So that's a, a detailed but an important one that we have to take care of and or implementations to make sure that we're getting most efficien t use of memory. ", "video_ID": 13, "course_id": 3}
{"category": ["stacks and queues"], "tagged": [["Okay", "NNP"], [",", ","], ["our", "PRP$"], ["basic", "JJ"], ["array", "NN"], ["implementation", "NN"], ["of", "IN"], ["stacks", "NNS"], ["had", "VBD"], ["the", "DT"], ["defect", "NN"], ["where", "WRB"], ["we", "PRP"], ["required", "VBD"], ["clients", "NNS"], ["to", "TO"], ["provide", "VB"], ["us", "PRP"], ["the", "DT"], ["maximum", "JJ"], ["capacity", "NN"], ["of", "IN"], ["the", "DT"], ["stack", "NN"], ["ahead", "RB"], ["of", "IN"], ["time", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["technique", "NN"], ["for", "IN"], ["resolving", "VBG"], ["that", "DT"], ["problem", "NN"], [".", "."], ["How", "WRB"], ["do", "VBP"], ["we", "PRP"], [",", ","], ["we", "PRP"], ["do", "VBP"], ["not", "RB"], ["implementing", "VBG"], ["the", "DT"], ["API", "NNP"], [".", "."], ["The", "DT"], ["API", "NNP"], ["says", "VBZ"], ["we", "PRP"], ["should", "MD"], ["just", "RB"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["create", "VB"], ["a", "DT"], ["stack", "NN"], ["and", "CC"], ["it", "PRP"], ["should", "MD"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["grow", "VB"], ["and", "CC"], ["shrink", "VB"], ["to", "TO"], ["any", "DT"], ["size", "NN"], [".", "."], ["So", "RB"], [",", ","], ["how", "WRB"], ["do", "VBP"], ["we", "PRP"], ["going", "VBG"], ["to", "TO"], ["go", "VB"], ["and", "CC"], ["shrink", "VB"], ["the", "DT"], ["array", "NN"], ["?", "."], ["Well", "UH"], [",", ","], ["first", "JJ"], ["thing", "NN"], ["you", "PRP"], ["might", "MD"], ["think", "VB"], ["of", "IN"], ["is", "VBZ"], ["when", "WRB"], ["the", "DT"], ["client", "NN"], ["pushes", "VBZ"], ["a", "DT"], ["new", "JJ"], ["item", "NN"], ["onto", "IN"], ["the", "DT"], ["stack", "NN"], ["increase", "NN"], ["the", "DT"], ["size", "NN"], ["of", "IN"], ["the", "DT"], ["array", "NN"], ["by", "IN"], ["one", "CD"], ["and", "CC"], ["when", "WRB"], ["pops", "NNS"], [",", ","], ["decrease", "VB"], ["the", "DT"], ["array", "NN"], ["by", "IN"], ["one", "CD"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["easy", "JJ"], ["to", "TO"], ["code", "VB"], ["up", "RP"], ["but", "CC"], ["not", "RB"], ["worth", "IN"], ["it", "PRP"], ["because", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["much", "RB"], ["too", "RB"], ["expensive", "JJ"], ["to", "TO"], ["do", "VB"], ["that", "DT"], [".", "."], ["The", "DT"], ["reason", "NN"], ["is", "VBZ"], ["that", "IN"], ["you", "PRP"], ["have", "VBP"], ["to", "TO"], ["create", "VB"], ["a", "DT"], ["new", "JJ"], ["array", "NN"], [",", ","], ["size", "NN"], ["one", "CD"], ["bigger", "JJR"], ["and", "CC"], ["copy", "VB"], ["all", "PDT"], ["the", "DT"], ["items", "NNS"], ["to", "TO"], ["that", "DT"], ["new", "JJ"], ["array", "NN"], [".", "."], ["So", "RB"], ["inserting", "VBG"], ["the", "DT"], ["first", "JJ"], ["N", "NNP"], ["items", "NNS"], ["would", "MD"], ["take", "VB"], ["time", "NN"], ["proportional", "JJ"], ["if", "IN"], ["the", "DT"], ["text", "NN"], [",", ","], ["stacks", "NNS"], ["is", "VBZ"], ["size", "NN"], ["N", "NNP"], ["-", ":"], ["one", "CD"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["take", "VB"], ["time", "NN"], ["N.", "NNP"], ["And", "CC"], ["when", "WRB"], ["it", "PRP"], ["'s", "VBZ"], ["two", "CD"], ["time", "NN"], ["N", "NNP"], ["-", ":"], ["one", "CD"], ["so", "IN"], ["the", "DT"], ["first", "JJ"], ["N", "NNP"], ["items", "NNS"], ["will", "MD"], ["take", "VB"], ["the", "DT"], ["sum", "NN"], ["of", "IN"], ["the", "DT"], ["first", "JJ"], ["N", "NNP"], ["integers", "NNS"], ["which", "WDT"], ["we", "PRP"], ["know", "VBP"], ["is", "VBZ"], ["about", "IN"], ["N^2", "NNP"], ["/", "NNP"], ["two", "CD"], [".", "."], ["Quadratic", "JJ"], ["time", "NN"], ["to", "TO"], ["insert", "VB"], ["N", "NNP"], ["items", "NNS"], ["into", "IN"], ["a", "DT"], ["stack", "NN"], ["that", "WDT"], ["kind", "NN"], ["of", "IN"], ["performance", "NN"], ["is", "VBZ"], ["unacceptable", "JJ"], ["for", "IN"], ["large", "JJ"], ["problems", "NNS"], ["as", "IN"], ["we", "PRP"], ["'ve", "VBP"], ["seen", "VBN"], [",", ","], ["as", "IN"], ["we", "PRP"], ["will", "MD"], ["see", "VB"], ["many", "JJ"], ["times", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["the", "DT"], ["challenge", "NN"], ["is", "VBZ"], ["to", "TO"], ["do", "VB"], ["the", "DT"], ["resizing", "NN"], [".", "."], ["But", "CC"], ["somehow", "RB"], ["ensured", "VBD"], ["that", "IN"], ["it", "PRP"], ["happens", "VBZ"], ["and", "CC"], ["frequently", "RB"], [".", "."], ["So", "RB"], [",", ","], ["the", "DT"], ["well", "JJ"], ["end", "NN"], ["technique", "NN"], ["for", "IN"], ["doing", "VBG"], ["that", "DT"], ["called", "VBD"], ["repeated", "VBN"], ["doubling", "NN"], ["is", "VBZ"], ["to", "TO"], ["when", "WRB"], ["the", "DT"], ["array", "NN"], ["fills", "VBZ"], ["up", "RP"], [",", ","], ["create", "VB"], ["a", "DT"], ["new", "JJ"], ["array", "NN"], ["of", "IN"], ["twice", "RB"], ["the", "DT"], ["size", "NN"], ["and", "CC"], ["copy", "NN"], ["all", "PDT"], ["the", "DT"], ["items", "NNS"], ["over", "IN"], [".", "."], ["Then", "RB"], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["create", "VB"], ["new", "JJ"], ["arrays", "NNS"], ["all", "PDT"], ["that", "DT"], ["often", "RB"], ["so", "RB"], ["here", "RB"], ["'s", "VBZ"], ["the", "DT"], ["implementation", "NN"], ["of", "IN"], ["that", "DT"], [".", "."], ["We", "PRP"], ["start", "VBP"], ["with", "IN"], ["an", "DT"], ["array", "NN"], ["of", "IN"], ["size", "NN"], ["one", "CD"], [".", "."], ["If", "IN"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["full", "JJ"], ["stack", "NN"], [",", ","], ["which", "WDT"], ["we", "PRP"], ["know", "VBP"], ["by", "IN"], ["testing", "VBG"], ["N", "NNP"], ["which", "WDT"], ["is", "VBZ"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["items", "NNS"], ["in", "IN"], ["the", "DT"], ["stack", "NN"], ["versus", "IN"], ["the", "DT"], ["rail", "NN"], ["length", "NN"], [",", ","], ["then", "RB"], ["we", "PRP"], ["just", "RB"], ["re-size", "VB"], ["the", "DT"], ["array", "NN"], ["into", "IN"], ["one", "CD"], ["of", "IN"], ["twice", "RB"], ["the", "DT"], ["length", "NN"], ["before", "IN"], ["inserting", "VBG"], ["the", "DT"], ["item", "NN"], [".", "."], ["And", "CC"], ["how", "WRB"], ["do", "VBP"], ["we", "PRP"], ["re-size", "VB"], ["to", "TO"], ["a", "DT"], ["new", "JJ"], ["capacity", "NN"], ["?", "."], ["We", "PRP"], ["create", "VBP"], ["a", "DT"], ["new", "JJ"], ["array", "NN"], ["of", "IN"], ["that", "DT"], ["capacity", "NN"], ["and", "CC"], ["just", "RB"], ["go", "VB"], ["ahead", "RB"], ["and", "CC"], ["copy", "VB"], ["our", "PRP$"], ["current", "JJ"], ["stack", "NN"], ["into", "IN"], ["that", "DT"], [",", ","], ["into", "IN"], ["the", "DT"], ["first", "JJ"], ["half", "NN"], ["of", "IN"], ["that", "DT"], ["and", "CC"], ["then", "RB"], ["retu", "VB"], ["rn", "NN"], ["it", "PRP"], [".", "."], ["And", "CC"], ["that", "DT"], ["will", "MD"], ["reset", "VB"], ["our", "PRP$"], ["instance", "NN"], ["variable", "NN"], ["which", "WDT"], ["is", "VBZ"], ["our", "PRP$"], ["stack", "NN"], ["to", "TO"], ["this", "DT"], ["new", "JJ"], ["bigger", "JJR"], ["array", "NN"], [".", "."], ["So", "RB"], [",", ","], ["the", "DT"], ["idea", "NN"], ["and", "CC"], ["the", "DT"], ["consequence", "NN"], ["of", "IN"], ["this", "DT"], ["is", "VBZ"], ["if", "IN"], ["you", "PRP"], ["insert", "VBP"], ["N", "JJ"], ["items", "NNS"], ["into", "IN"], ["an", "DT"], ["array", "NN"], [",", ","], ["into", "IN"], ["a", "DT"], ["stack", "NN"], ["with", "IN"], ["this", "DT"], ["array", "NN"], ["representation", "NN"], [",", ","], ["the", "DT"], ["time", "NN"], ["will", "MD"], ["be", "VB"], ["proportional", "JJ"], ["to", "TO"], ["N", "NNP"], ["not", "RB"], ["N^2", "NNP"], [".", "."], ["And", "CC"], ["the", "DT"], ["reason", "NN"], ["is", "VBZ"], ["that", "IN"], ["you", "PRP"], ["only", "RB"], ["create", "VB"], ["a", "DT"], ["new", "JJ"], ["array", "NN"], ["every", "DT"], ["time", "NN"], ["it", "PRP"], ["doubles", "VBZ"], ["but", "CC"], ["by", "IN"], ["the", "DT"], ["time", "NN"], ["that", "IN"], ["it", "PRP"], ["doubles", "VBZ"], [",", ","], ["you", "PRP"], ["'ve", "VBP"], ["inserted", "VBN"], ["that", "IN"], ["many", "JJ"], ["items", "NNS"], ["into", "IN"], ["the", "DT"], ["stack", "NN"], ["so", "RB"], ["on", "IN"], ["average", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["just", "RB"], ["like", "IN"], ["adding", "VBG"], ["one", "CD"], ["operation", "NN"], ["to", "TO"], ["cost", "NN"], ["of", "IN"], ["one", "CD"], ["to", "TO"], ["each", "DT"], ["operation", "NN"], [".", "."], ["So", "RB"], [",", ","], ["if", "IN"], ["we", "PRP"], ["just", "RB"], [",", ","], ["if", "IN"], ["we", "PRP"], ["just", "RB"], ["calculate", "VB"], ["the", "DT"], ["cost", "NN"], ["and", "CC"], ["inserting", "VBG"], ["the", "DT"], ["first", "JJ"], ["N", "NNP"], ["items", "NNS"], ["you", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], [",", ","], ["instead", "RB"], ["of", "IN"], ["the", "DT"], ["sum", "NN"], ["of", "IN"], ["the", "DT"], ["integers", "NNS"], ["from", "IN"], ["one", "CD"], ["end", "NN"], [",", ","], ["you", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["the", "DT"], ["sum", "NN"], ["of", "IN"], ["the", "DT"], ["powers", "NNS"], ["of", "IN"], ["two", "CD"], ["from", "IN"], ["one", "CD"], ["to", "TO"], ["end", "VB"], ["and", "CC"], ["that", "DT"], ["will", "MD"], ["give", "VB"], ["a", "DT"], ["total", "JJ"], ["cost", "NN"], ["of", "IN"], ["about", "RB"], ["3N", "CD"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["an", "DT"], ["array", "NN"], ["axises", "VBZ"], [".", "."], ["For", "IN"], ["the", "DT"], ["copy", "NN"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["two", "CD"], ["array", "NN"], ["axis", "NN"], [".", "."], ["So", "RB"], [",", ","], ["to", "TO"], ["insert", "VB"], ["an", "DT"], ["item", "NN"], [",", ","], ["its", "PRP$"], ["about", "IN"], ["three", "CD"], ["array", "NN"], ["axises", "NNS"], [".", "."], ["This", "DT"], ["plot", "NN"], ["is", "VBZ"], ["another", "DT"], ["way", "NN"], ["of", "IN"], ["looking", "VBG"], ["at", "IN"], ["it", "PRP"], ["which", "WDT"], ["is", "VBZ"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["array", "JJ"], ["axis", "NN"], ["its", "PRP$"], ["taken", "VBN"], ["as", "IN"], ["you", "PRP"], ["implement", "VBP"], ["push", "JJ"], ["operations", "NNS"], [".", "."], ["Every", "DT"], ["time", "NN"], ["you", "PRP"], ["hit", "VBP"], ["a", "DT"], ["power", "NN"], ["of", "IN"], ["two", "CD"], [",", ","], ["you", "PRP"], ["take", "VBP"], ["that", "IN"], ["many", "JJ"], ["array", "NN"], ["axises", "NNS"], ["but", "CC"], ["in", "IN"], ["the", "DT"], ["sense", "NN"], ["you", "PRP"], ["'ve", "VBP"], ["already", "RB"], ["paid", "VBN"], ["for", "IN"], ["them", "PRP"], ["by", "IN"], ["putting", "VBG"], ["those", "DT"], ["items", "NNS"], ["on", "IN"], ["the", "DT"], ["stack", "NN"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["called", "VBN"], ["amortize", "JJ"], ["analysis", "NN"], [",", ","], ["where", "WRB"], ["we", "PRP"], ["consider", "VBP"], ["the", "DT"], ["total", "NN"], ["cost", "NN"], ["averaged", "VBD"], ["overall", "JJ"], ["operations", "NNS"], ["and", "CC"], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], [",", ","], ["a", "DT"], ["fine", "JJ"], ["example", "NN"], ["and", "CC"], ["useful", "JJ"], ["example", "NN"], ["of", "IN"], ["amortize", "JJ"], ["analysis", "NN"], ["to", "TO"], ["get", "VB"], ["efficiency", "NN"], ["in", "IN"], ["a", "DT"], ["stack", "NN"], ["implementation", "NN"], [".", "."], ["Now", "RB"], ["we", "PRP"], [",", ","], ["we", "PRP"], ["have", "VBP"], [",", ","], ["what", "WP"], ["about", "IN"], ["the", "DT"], ["pop", "NN"], ["?", "."], ["We", "PRP"], ["have", "VBP"], ["to", "TO"], ["think", "VB"], ["about", "IN"], ["how", "WRB"], ["to", "TO"], ["shrink", "VB"], ["the", "DT"], ["array", "NN"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["might", "MD"], ["think", "VB"], [",", ","], ["well", "RB"], [",", ","], ["we", "PRP"], ["doubled", "VBD"], ["it", "PRP"], ["when", "WRB"], ["it", "PRP"], ["was", "VBD"], ["full", "JJ"], [",", ","], ["when", "WRB"], ["do", "VBP"], ["we", "PRP"], ["cut", "VB"], ["it", "PRP"], ["in", "IN"], ["half", "NN"], ["when", "WRB"], ["it", "PRP"], ["gets", "VBZ"], ["to", "TO"], ["be", "VB"], ["half", "JJ"], ["full", "JJ"], [".", "."], ["We", "PRP"], ["do", "VBP"], ["n't", "RB"], ["want", "VB"], ["to", "TO"], ["get", "VB"], ["the", "DT"], ["array", "NN"], ["to", "TO"], ["get", "VB"], ["two", "CD"], ["empty", "JJ"], [".", "."], ["Well", "UH"], [",", ","], ["that", "DT"], ["one", "CD"], [",", ","], ["one", "CD"], ["does", "VBZ"], ["n't", "RB"], ["exactly", "RB"], ["work", "VB"], ["because", "RB"], ["of", "IN"], ["a", "DT"], [",", ","], ["a", "DT"], ["phenomenon", "NN"], ["called", "VBN"], ["trashing", "NN"], [".", "."], ["If", "IN"], ["you", "PRP"], [",", ","], ["if", "IN"], ["the", "DT"], ["client", "NN"], ["happens", "VBZ"], ["to", "TO"], ["do", "VB"], ["push", "NN"], [",", ","], ["pop", "NN"], [",", ","], ["push", "NN"], [",", ","], ["pop", "NN"], ["alternating", "VBG"], ["when", "WRB"], ["the", "DT"], ["array", "NN"], ["is", "VBZ"], ["full", "JJ"], ["then", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["doubling", "VBG"], [",", ","], ["halving", "VBG"], [",", ","], ["doubling", "VBG"], [",", ","], ["halving", "VBG"], ["and", "CC"], ["creating", "VBG"], ["new", "JJ"], ["arrays", "NNS"], ["on", "IN"], ["every", "DT"], ["operation", "NN"], ["to", "TO"], ["take", "VB"], ["time", "NN"], ["proportional", "JJ"], ["to", "TO"], ["N", "NNP"], ["for", "IN"], ["every", "DT"], ["operation", "NN"], ["and", "CC"], ["therefore", "RB"], [",", ","], ["quadratic", "JJ"], ["time", "NN"], ["for", "IN"], ["everything", "NN"], ["so", "RB"], ["I", "PRP"], ["do", "VBP"], ["n't", "RB"], ["want", "VB"], ["to", "TO"], ["do", "VB"], ["that", "DT"], [".", "."], ["The", "DT"], ["efficient", "JJ"], ["solution", "NN"], ["is", "VBZ"], ["to", "TO"], ["wait", "VB"], ["until", "IN"], ["the", "DT"], ["array", "NN"], ["gets", "VBZ"], ["one", "CD"], ["quarter", "NN"], ["full", "JJ"], ["before", "IN"], ["you", "PRP"], ["have", "VBP"], ["it", "PRP"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["very", "RB"], ["easy", "JJ"], ["to", "TO"], ["implement", "VB"], [".", "."], ["We", "PRP"], ["'ll", "MD"], ["just", "RB"], ["test", "VB"], ["if", "IN"], ["the", "DT"], ["arrays", "NNS"], ["one", "CD"], ["quarter", "NN"], ["full", "JJ"], [",", ","], ["if", "IN"], ["it", "PRP"], ["is", "VBZ"], [",", ","], ["we", "PRP"], ["re-size", "VBP"], ["it", "PRP"], ["to", "TO"], ["half", "VB"], ["full", "JJ"], [".", "."], ["And", "CC"], ["so", "RB"], [",", ","], ["then", "RB"], ["at", "IN"], ["that", "DT"], ["point", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["half", "JJ"], ["full", "JJ"], ["and", "CC"], ["you", "PRP"], ["can", "MD"], ["either", "VB"], ["grow", "VB"], ["by", "IN"], ["adding", "VBG"], ["stuff", "NN"], ["or", "CC"], ["shrink", "VB"], ["by", "IN"], ["subtracting", "VBG"], ["stuff", "NN"], ["but", "CC"], ["there", "EX"], ["wo", "MD"], ["n't", "RB"], ["be", "VB"], ["another", "DT"], ["resizing", "VBG"], ["array", "NN"], ["operation", "NN"], ["until", "IN"], [",", ","], ["I", "PRP"], ["guess", "VBP"], ["totally", "RB"], ["full", "JJ"], ["or", "CC"], ["half", "NN"], ["again", "RB"], ["full", "JJ"], [".", "."], ["So", "IN"], ["the", "DT"], ["invariant", "NN"], ["of", "IN"], ["that", "DT"], ["is", "VBZ"], ["the", "DT"], ["arrays", "NNS"], ["always", "RB"], ["between", "IN"], ["25", "CD"], ["percent", "NN"], ["and", "CC"], ["a", "DT"], ["100", "CD"], ["percent", "NN"], ["full", "JJ"], [",", ","], ["number", "NN"], ["one", "CD"], ["and", "CC"], ["number", "NN"], ["two", "CD"], ["that", "WDT"], ["every", "DT"], ["time", "NN"], ["you", "PRP"], ["re-size", "VBP"], [",", ","], ["you", "PRP"], ["'ve", "VBP"], ["already", "RB"], ["paid", "VBN"], ["for", "IN"], ["it", "PRP"], ["in", "IN"], ["the", "DT"], ["amortize", "NN"], ["sense", "NN"], ["by", "IN"], ["inserting", "VBG"], ["pushing", "VBG"], ["or", "CC"], ["popping", "VBG"], [".", "."], ["So", "RB"], [",", ","], ["here", "RB"], ["'s", "VBZ"], ["just", "RB"], ["a", "DT"], ["what", "WP"], ["happens", "VBZ"], ["to", "TO"], ["the", "DT"], ["array", "NN"], ["for", "IN"], ["our", "PRP$"], ["small", "JJ"], ["client", "NN"], ["example", "NN"], ["and", "CC"], ["you", "PRP"], ["can", "MD"], ["see", "VB"], ["at", "IN"], ["the", "DT"], ["beginning", "NN"], [",", ","], ["it", "PRP"], ["doubles", "VBZ"], ["from", "IN"], ["one", "CD"], ["to", "TO"], ["two", "CD"], ["to", "TO"], ["four", "CD"], ["but", "CC"], ["once", "RB"], ["it", "PRP"], ["gets", "VBZ"], ["to", "TO"], ["four", "CD"], [",", ","], ["it", "PRP"], ["stays", "VBZ"], ["once", "IN"], ["it", "PRP"], ["gets", "VBZ"], ["to", "TO"], ["eight", "CD"], [",", ","], ["it", "PRP"], ["stays", "VBZ"], ["to", "TO"], ["that", "DT"], ["size", "NN"], ["for", "IN"], ["a", "DT"], ["while", "NN"], ["even", "RB"], ["though", "IN"], ["there", "EX"], ["'s", "VBZ"], ["some", "DT"], ["of", "IN"], ["the", "DT"], ["operations", "NNS"], ["it", "PRP"], ["does", "VBZ"], ["n't", "RB"], ["shrink", "VB"], ["back", "RB"], ["to", "TO"], ["four", "CD"], ["until", "IN"], ["after", "IN"], ["there", "EX"], ["'s", "VBZ"], ["only", "RB"], ["two", "CD"], ["items", "NNS"], ["in", "IN"], ["there", "EX"], ["and", "CC"], ["then", "RB"], ["it", "PRP"], ["shrinks", "VBZ"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["So", "RB"], [",", ","], ["array", "JJ"], ["resizing", "NN"], ["does", "VBZ"], ["n't", "RB"], ["happen", "VB"], ["that", "DT"], ["often", "RB"], ["but", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["very", "RB"], ["effective", "JJ"], ["a", "DT"], ["way", "NN"], ["of", "IN"], ["implementing", "VBG"], ["the", "DT"], ["stack", "NN"], ["API", "NNP"], ["with", "IN"], ["an", "DT"], ["array", "NN"], ["where", "WRB"], ["the", "DT"], ["client", "NN"], ["does", "VBZ"], ["not", "RB"], ["have", "VB"], ["to", "TO"], ["provide", "VB"], ["this", "DT"], ["maximum", "JJ"], ["capacity", "NN"], ["of", "IN"], ["the", "DT"], ["stack", "NN"], ["but", "CC"], ["still", "RB"], ["were", "VBD"], ["guaranteed", "VBN"], ["that", "IN"], ["the", "DT"], ["amount", "NN"], ["of", "IN"], ["memory", "NN"], ["that", "IN"], ["we", "PRP"], ["use", "VBP"], ["is", "VBZ"], ["always", "RB"], ["only", "RB"], ["a", "DT"], ["constant", "JJ"], ["multiple", "NN"], ["of", "IN"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["items", "NNS"], ["actually", "RB"], ["on", "IN"], ["the", "DT"], ["stack", "NN"], [".", "."], ["So", "IN"], ["the", "DT"], ["analysis", "NN"], ["now", "RB"], ["says", "VBZ"], ["that", "IN"], ["the", "DT"], ["average", "JJ"], ["running", "JJ"], ["time", "NN"], ["per", "IN"], ["operation", "NN"], ["for", "IN"], ["whatever", "WP"], ["the", "DT"], ["sequence", "NN"], ["of", "IN"], ["operations", "NNS"], ["is", "VBZ"], ["the", "DT"], ["average", "JJ"], ["running", "JJ"], ["time", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["proportional", "JJ"], ["to", "TO"], ["a", "DT"], ["constant", "JJ"], [".", "."], ["Now", "RB"], [",", ","], ["there", "EX"], ["is", "VBZ"], ["a", "DT"], ["worst", "JJ"], ["case", "NN"], ["that", "WDT"], ["is", "VBZ"], ["at", "IN"], ["the", "DT"], ["point", "NN"], ["when", "WRB"], ["the", "DT"], ["stack", "NN"], ["doubles", "VBZ"], [",", ","], ["it", "PRP"], ["takes", "VBZ"], ["time", "NN"], ["proportional", "JJ"], ["to", "TO"], ["N", "NNP"], ["so", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["quite", "RB"], ["as", "RB"], ["good", "JJ"], ["performance", "NN"], ["as", "IN"], ["we", "PRP"], ["might", "MD"], ["like", "VB"], ["but", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["what", "WP"], ["we", "PRP"], ["the", "DT"], ["advantage", "NN"], ["that", "IN"], ["we", "PRP"], ["get", "VBP"], ["is", "VBZ"], ["ve", "JJ"], ["ry", "NN"], ["fast", "NN"], ["pushes", "NNS"], ["and", "CC"], ["pops", "NNS"], ["just", "RB"], ["access", "NN"], ["array", "NN"], ["and", "CC"], ["increment", "NN"], ["it", "PRP"], ["and", "CC"], ["very", "RB"], ["efficient", "JJ"], ["for", "IN"], ["most", "JJS"], ["operations", "NNS"], [".", "."], ["And", "CC"], ["for", "IN"], ["many", "JJ"], [",", ","], ["many", "JJ"], ["clients", "NNS"], ["that", "WDT"], ["'s", "VBZ"], ["an", "DT"], ["effective", "JJ"], ["trade", "NN"], ["off", "IN"], ["to", "TO"], ["make", "VB"], [".", "."], ["So", "VB"], ["what", "WP"], ["about", "IN"], ["memory", "NN"], ["usage", "NN"], ["?", "."], ["Well", "UH"], [",", ","], ["this", "DT"], ["is", "VBZ"], ["the", "DT"], ["analysis", "NN"], ["of", "IN"], ["memory", "NN"], ["usage", "NN"], ["for", "IN"], ["stacks", "NNS"], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["actually", "RB"], ["less", "JJR"], ["memory", "NN"], ["than", "IN"], ["for", "IN"], ["strings", "NNS"], ["the", "DT"], ["amount", "NN"], ["used", "VBN"], ["is", "VBZ"], ["between", "IN"], ["8n", "CD"], ["and", "CC"], ["32n", "CD"], ["depending", "VBG"], ["on", "IN"], ["how", "WRB"], ["full", "JJ"], ["the", "DT"], ["array", "NN"], ["is", "VBZ"], ["and", "CC"], ["just", "RB"], ["a", "DT"], ["quick", "JJ"], ["analysis", "NN"], ["of", "IN"], ["the", "DT"], ["amount", "NN"], ["of", "IN"], ["space", "NN"], ["that", "WDT"], ["arrays", "NNS"], ["take", "VBP"], ["in", "IN"], ["Java", "NNP"], [".", "."], ["So", "RB"], [",", ","], ["again", "RB"], ["this", "DT"], ["analysis", "NN"], ["is", "VBZ"], ["just", "RB"], ["for", "IN"], ["the", "DT"], ["stack", "NN"], ["itself", "PRP"], ["not", "RB"], ["for", "IN"], ["the", "DT"], ["strings", "NNS"], ["which", "WDT"], ["the", "DT"], ["client", "NN"], ["wants", "VBZ"], [".", "."], ["So", "RB"], [",", ","], ["what", "WP"], ["are", "VBP"], ["the", "DT"], ["trade", "NN"], ["offs", "NNS"], ["between", "IN"], ["using", "VBG"], ["a", "DT"], ["re-sizing", "JJ"], ["array", "NN"], ["versus", "IN"], ["a", "DT"], ["link", "JJ"], ["list", "NN"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["a", "DT"], ["two", "CD"], ["different", "JJ"], ["implementations", "NNS"], ["and", "CC"], ["the", "DT"], ["same", "JJ"], ["API", "NNP"], ["and", "CC"], ["the", "DT"], ["client", "NN"], ["can", "MD"], ["use", "VB"], ["them", "PRP"], ["interchangeably", "RB"], [",", ","], ["which", "WDT"], ["one", "CD"], ["is", "VBZ"], ["better", "JJR"], ["?", "."], ["In", "IN"], ["many", "JJ"], ["situations", "NNS"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["multiple", "JJ"], ["implementation", "NN"], ["of", "IN"], ["APIs", "NNP"], ["and", "CC"], ["depending", "VBG"], ["on", "IN"], ["properties", "NNS"], ["of", "IN"], ["the", "DT"], ["client", "NN"], ["program", "NN"], ["you", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["to", "TO"], ["choose", "VB"], ["which", "WDT"], ["one", "NN"], ["is", "VBZ"], ["the", "DT"], ["better", "JJR"], ["one", "CD"], ["to", "TO"], ["use", "VB"], [".", "."], ["So", "RB"], [",", ","], ["for", "IN"], ["link", "JJ"], ["list", "NN"], ["every", "DT"], ["operation", "NN"], ["takes", "VBZ"], ["constant", "JJ"], ["time", "NN"], ["in", "IN"], ["the", "DT"], ["worst", "JJS"], ["case", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["a", "DT"], ["guarantee", "NN"], ["but", "CC"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["use", "VB"], ["a", "DT"], ["little", "JJ"], ["extra", "JJ"], ["time", "NN"], ["and", "CC"], ["space", "NN"], ["to", "TO"], ["deal", "VB"], ["with", "IN"], ["the", "DT"], ["links", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["slower", "JJR"], [".", "."], ["Resizing", "VBG"], ["array", "JJ"], ["implementation", "NN"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["good", "JJ"], ["amortized", "JJ"], ["time", "NN"], ["so", "IN"], ["total", "JJ"], ["average", "NN"], ["over", "IN"], ["the", "DT"], ["whole", "JJ"], ["process", "NN"], ["is", "VBZ"], ["good", "JJ"], [".", "."], ["We", "PRP"], ["have", "VBP"], ["less", "RBR"], ["wasted", "JJ"], ["space", "NN"], ["and", "CC"], ["probably", "RB"], ["faster", "RBR"], ["implementation", "NN"], ["of", "IN"], ["each", "DT"], ["operation", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], [",", ","], ["for", "IN"], ["some", "DT"], ["clients", "NNS"], [",", ","], ["maybe", "RB"], ["that", "IN"], ["makes", "VBZ"], ["a", "DT"], ["difference", "NN"], ["perhaps", "RB"], [",", ","], ["you", "PRP"], ["would", "MD"], ["n't", "RB"], ["want", "VB"], ["to", "TO"], ["use", "VB"], ["a", "DT"], ["re-sizing", "JJ"], ["array", "NN"], ["implementation", "NN"], ["at", "IN"], ["the", "DT"], ["moment", "NN"], ["that", "IN"], ["your", "PRP$"], ["plane", "NN"], ["is", "VBZ"], ["coming", "VBG"], ["in", "IN"], ["for", "IN"], ["a", "DT"], ["landing", "NN"], ["and", "CC"], ["you", "PRP"], ["would", "MD"], ["n't", "RB"], ["wanted", "VB"], ["to", "TO"], ["all", "DT"], ["of", "IN"], ["the", "DT"], ["sudden", "JJ"], [",", ","], ["not", "RB"], ["implement", "VB"], ["some", "DT"], ["operations", "NNS"], ["quickly", "RB"], [".", "."], ["If", "IN"], ["you", "PRP"], ["need", "VBP"], ["that", "IN"], ["kind", "NN"], ["or", "CC"], ["maybe", "RB"], ["in", "IN"], ["an", "DT"], ["Internet", "NNP"], ["switch", "NN"], ["where", "WRB"], ["packets", "NNS"], ["are", "VBP"], ["coming", "VBG"], ["through", "IN"], ["at", "IN"], ["a", "DT"], ["great", "JJ"], ["rate", "NN"], [",", ","], ["you", "PRP"], ["would", "MD"], ["n't", "RB"], ["want", "VB"], ["to", "TO"], ["be", "VB"], ["in", "IN"], ["the", "DT"], ["situation", "NN"], ["where", "WRB"], ["you", "PRP"], ["'re", "VBP"], ["missing", "VBG"], ["some", "DT"], ["data", "NNS"], ["because", "IN"], ["something", "NN"], ["got", "VBD"], ["slow", "JJ"], ["all", "DT"], ["of", "IN"], ["the", "DT"], ["sudden", "JJ"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["trade", "NN"], ["off", "IN"], ["that", "IN"], ["the", "DT"], ["client", "NN"], ["can", "MD"], ["make", "VB"], ["if", "IN"], ["I", "PRP"], ["want", "VBP"], ["that", "IN"], ["guaranteed", "NN"], [",", ","], ["if", "IN"], ["I", "PRP"], ["want", "VBP"], ["to", "TO"], ["be", "VB"], ["sure", "JJ"], ["that", "IN"], ["eve", "VBP"], ["ry", "NN"], ["operation", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["fast", "RB"], ["use", "IN"], ["a", "DT"], ["link", "NN"], ["list", "NN"], ["and", "CC"], ["if", "IN"], ["I", "PRP"], ["do", "VBP"], ["n't", "RB"], ["need", "VB"], ["that", "DT"], ["guarantee", "NN"], [",", ","], ["if", "IN"], ["I", "PRP"], ["just", "RB"], ["care", "VB"], ["about", "IN"], ["the", "DT"], ["total", "JJ"], ["amount", "NN"], ["of", "IN"], ["time", "NN"], ["I", "PRP"], ["'ll", "MD"], ["probably", "RB"], ["use", "VB"], ["the", "DT"], ["resizing", "NN"], ["array", "NN"], ["because", "IN"], ["the", "DT"], ["total", "NN"], ["will", "MD"], ["be", "VB"], ["much", "RB"], ["less", "RBR"], ["because", "IN"], ["individual", "JJ"], ["operations", "NNS"], ["are", "VBP"], ["fast", "RB"], [".", "."], ["So", "RB"], [",", ","], ["even", "RB"], ["with", "IN"], ["these", "DT"], ["simple", "JJ"], ["data", "NNS"], ["structures", "NNS"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["really", "RB"], ["important", "JJ"], ["trade", "NN"], ["offs", "NNS"], ["that", "WDT"], ["actually", "RB"], ["make", "VBP"], ["a", "DT"], ["difference", "NN"], ["in", "IN"], ["lots", "NNS"], ["of", "IN"], ["practical", "JJ"], ["situations", "NNS"], [".", "."]], "title": "resizing arrays", "text": "Okay, our basic array implementation of stacks had the defect where we required clients to provide us the maximum capacity of the stack ahead of time. Now, we're going to look at technique for resolving that problem. How do we, we do not implementing the API. The API says we should just be able to create a stack and it should be able to grow and shrink to any size. So, how do we going to go and shrink the array? Well, first thing you might think of is when the client pushes a new item onto the stack increase the size of the array by one and when pops, decrease the array by one. That's easy to code up but not worth it because it's much too expensive to do that. The reason is that you have to create a new array, size one bigger and copy all the items to that new array. So inserting the first N items would take time proportional if the text, stacks is size N - one, it's going to take time N. And when it's two time N - one so the first N items will take the sum of the first N integers which we know is about N^2 / two. Quadratic time to insert N items into a stack that kind of performance is unacceptable for large problems as we've seen, as we will see many times. So, the challenge is to do the resizing. But somehow ensured that it happens and frequently. So, the well end technique for doing that called repeated doubling is to when the array fills up, create a new array of twice the size and copy all the items over. Then we don't create new arrays all that often so here's the implementation of that. We start with an array of size one. If we have a full stack, which we know by testing N which is the number of items in the stack versus the rail length, then we just re-size the array into one of twice the length before inserting the item. And how do we re-size to a new capacity? We create a new array of that capacity and just go ahead and copy our current stack into that, into the first half of that and then retu rn it. And that will reset our instance variable which is our stack to this new bigger array. So, the idea and the consequence of this is if you insert N items into an array, into a stack with this array representation, the time will be proportional to N not N^2. And the reason is that you only create a new array every time it doubles but by the time that it doubles, you've inserted that many items into the stack so on average, it's just like adding one operation to cost of one to each operation. So, if we just, if we just calculate the cost and inserting the first N items you're going to have, instead of the sum of the integers from one end, you're going to have the sum of the powers of two from one to end and that will give a total cost of about 3N. So, that's an array axises. For the copy, there's two array axis. So, to insert an item, its about three array axises. This plot is another way of looking at it which is the number of array axis its taken as you implement push operations. Every time you hit a power of two, you take that many array axises but in the sense you've already paid for them by putting those items on the stack. So that's called amortize analysis, where we consider the total cost averaged overall operations and this is a, a fine example and useful example of amortize analysis to get efficiency in a stack implementation. Now we, we have, what about the pop? We have to think about how to shrink the array. So, we might think, well, we doubled it when it was full, when do we cut it in half when it gets to be half full. We don't want to get the array to get two empty. Well, that one, one doesn't exactly work because of a, a phenomenon called trashing. If you, if the client happens to do push, pop, push, pop alternating when the array is full then, it's going to be doubling, halving, doubling, halving and creating new arrays on every operation to take time proportional to N for every operation and therefore, quadratic time for everything so I don't want to do that. The efficient solution is to wait until the array gets one quarter full before you have it. And that's very easy to implement. We'll just test if the arrays one quarter full, if it is, we re-size it to half full. And so, then at that point, it's half full and you can either grow by adding stuff or shrink by subtracting stuff but there won't be another resizing array operation until, I guess totally full or half again full. So the invariant of that is the arrays always between 25 percent and a 100 percent full, number one and number two that every time you re-size, you've already paid for it in the amortize sense by inserting pushing or popping. So, here's just a what happens to the array for our small client example and you can see at the beginning, it doubles from one to two to four but once it gets to four, it stays once it gets to eight, it stays to that size for a while even though there's some of the operations it doesn't shrink back to four until after there's only two items in there and then it shrinks and so forth. So, array resizing doesn't happen that often but it's a very effective a way of implementing the stack API with an array where the client does not have to provide this maximum capacity of the stack but still were guaranteed that the amount of memory that we use is always only a constant multiple of the number of items actually on the stack. So the analysis now says that the average running time per operation for whatever the sequence of operations is the average running time is going to be proportional to a constant. Now, there is a worst case that is at the point when the stack doubles, it takes time proportional to N so it's not quite as good performance as we might like but it's what we the advantage that we get is ve ry fast pushes and pops just access array and increment it and very efficient for most operations. And for many, many clients that's an effective trade off to make. So what about memory usage? Well, this is the analysis of memory usage for stacks and it's actually less memory than for strings the amount used is between 8n and 32n depending on how full the array is and just a quick analysis of the amount of space that arrays take in Java. So, again this analysis is just for the stack itself not for the strings which the client wants. So, what are the trade offs between using a re-sizing array versus a link list. There's a two different implementations and the same API and the client can use them interchangeably, which one is better? In many situations, we're going to have multiple implementation of APIs and depending on properties of the client program you're going to have to choose which one is the better one to use. So, for link list every operation takes constant time in the worst case that's a guarantee but we have to use a little extra time and space to deal with the links. So, it's going to be slower. Resizing array implementation we have a good amortized time so total average over the whole process is good. We have less wasted space and probably faster implementation of each operation. And so, for some clients, maybe that makes a difference perhaps, you wouldn't want to use a re-sizing array implementation at the moment that your plane is coming in for a landing and you wouldn't wanted to all of the sudden, not implement some operations quickly. If you need that kind or maybe in an Internet switch where packets are coming through at a great rate, you wouldn't want to be in the situation where you're missing some data because something got slow all of the sudden. So, that's a trade off that the client can make if I want that guaranteed, if I want to be sure that eve ry operation is going to be fast use a link list and if I don't need that guarantee, if I just care about the total amount of time I'll probably use the resizing array because the total will be much less because individual operations are fast. So, even with these simple data structures, we have really important trade offs that actually make a difference in lots of practical situations. ", "video_ID": 14, "course_id": 3}
{"category": ["stacks and queues"], "tagged": [["Okay", "NNP"], [",", ","], ["next", "JJ"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["briefly", "VB"], ["consider", "VB"], ["queue", "JJ"], ["implementations", "NNS"], ["using", "VBG"], ["the", "DT"], ["same", "JJ"], ["basic", "JJ"], ["underlying", "VBG"], ["data", "NNS"], ["structures", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["here", "RB"], ["is", "VBZ"], ["the", "DT"], ["corresponding", "JJ"], ["API", "NNP"], ["for", "IN"], ["queue", "NN"], ["of", "IN"], ["strings", "NNS"], [".", "."], ["Actually", "RB"], ["you", "PRP"], ["know", "VBP"], ["it", "PRP"], ["'s", "VBZ"], ["the", "DT"], ["same", "JJ"], ["API", "NNP"], ["for", "IN"], ["stacks", "NNS"], ["just", "RB"], ["the", "DT"], ["names", "NNS"], ["are", "VBP"], ["different", "JJ"], [".", "."], ["Instead", "RB"], ["of", "IN"], ["push", "NN"], ["we", "PRP"], ["have", "VBP"], ["enqueue", "VBN"], ["instead", "RB"], ["of", "IN"], ["pop", "NN"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["dequeue", "VBN"], [".", "."], ["And", "CC"], ["the", "DT"], ["semantics", "NNS"], ["is", "VBZ"], ["different", "JJ"], [".", "."], ["For", "IN"], ["enqueue", "NN"], ["we", "PRP"], ["add", "VBP"], ["an", "DT"], ["item", "NN"], ["say", "VBP"], ["at", "IN"], ["the", "DT"], ["end", "NN"], ["of", "IN"], ["the", "DT"], ["queue", "NN"], ["and", "CC"], ["for", "IN"], ["dequeue", "NN"], ["we", "PRP"], ["remove", "VBP"], ["an", "DT"], ["item", "NN"], ["from", "IN"], ["the", "DT"], ["beginning", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["as", "IN"], ["if", "IN"], ["you", "PRP"], ["'re", "VBP"], ["waiting", "VBG"], ["in", "IN"], ["line", "NN"], ["to", "TO"], ["buy", "VB"], ["a", "DT"], ["ticket", "NN"], [".", "."], ["When", "WRB"], ["you", "PRP"], ["'re", "VBP"], ["enqueue", "JJ"], ["you", "PRP"], ["'re", "VBP"], ["at", "IN"], ["the", "DT"], ["end", "NN"], ["and", "CC"], ["when", "WRB"], ["that", "DT"], ["'s", "VBZ"], ["been", "VBN"], ["in", "IN"], ["there", "EX"], ["the", "DT"], ["longest", "JJS"], ["is", "VBZ"], ["the", "DT"], ["one", "NN"], ["that", "WDT"], ["comes", "VBZ"], ["off", "RB"], [".", "."], ["So", "NNP"], ["let", "NN"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["how", "WRB"], ["we", "PRP"], ["implement", "VBP"], ["those", "DT"], ["first", "JJ"], ["using", "VBG"], ["linked", "VBN"], ["list", "NN"], ["and", "CC"], ["then", "RB"], ["arrays", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["now", "RB"], ["our", "PRP$"], ["representation", "NN"], ["of", "IN"], ["a", "DT"], ["queue", "NN"], ["with", "IN"], ["the", "DT"], ["linked", "VBN"], ["list", "NN"], [",", ","], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["maintain", "VB"], ["two", "CD"], ["pointers", "NNS"], ["references", "NNS"], [".", "."], ["One", "CD"], ["to", "TO"], ["the", "DT"], ["first", "JJ"], ["item", "NN"], ["in", "IN"], ["the", "DT"], ["list", "NN"], ["and", "CC"], ["the", "DT"], ["other", "JJ"], ["to", "TO"], ["the", "DT"], ["last", "JJ"], ["item", "NN"], ["in", "IN"], ["the", "DT"], ["list", "NN"], [".", "."], ["When", "WRB"], ["we", "PRP"], ["insert", "VBP"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["add", "VB"], ["the", "DT"], ["item", "NN"], ["at", "IN"], ["the", "DT"], ["end", "NN"], ["of", "IN"], ["the", "DT"], ["list", "NN"], ["instead", "RB"], ["of", "IN"], ["the", "DT"], ["beginning", "NN"], ["and", "CC"], ["when", "WRB"], ["we", "PRP"], ["remove", "VBP"], ["we", "PRP"], ["'ll", "MD"], ["do", "VB"], ["the", "DT"], ["same", "JJ"], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["take", "VB"], ["it", "PRP"], ["off", "RP"], ["the", "DT"], ["front", "NN"], [".", "."], ["So", "CC"], ["here", "RB"], ["'s", "VBZ"], ["the", "DT"], ["implementation", "NN"], ["of", "IN"], ["dequeue", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["identical", "JJ"], ["to", "TO"], ["the", "DT"], ["code", "NN"], ["for", "IN"], ["pop", "NN"], ["for", "IN"], ["a", "DT"], ["stack", "NN"], [".", "."], ["We", "PRP"], ["save", "VBP"], ["away", "RB"], ["the", "DT"], ["item", "NN"], [".", "."], ["We", "PRP"], ["delete", "VBP"], ["the", "DT"], ["first", "JJ"], ["note", "NN"], ["by", "IN"], ["advancing", "VBG"], ["the", "DT"], ["reference", "NN"], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["return", "VBP"], ["the", "DT"], ["item", "NN"], [",", ","], ["so", "RB"], ["identical", "JJ"], [".", "."], ["To", "TO"], ["add", "VB"], ["a", "DT"], ["node", "NN"], ["or", "CC"], ["enqueue", "NN"], [",", ","], ["add", "VB"], ["a", "DT"], ["new", "JJ"], ["node", "NN"], ["to", "TO"], ["a", "DT"], ["linked", "VBN"], ["list", "NN"], [",", ","], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["put", "VB"], ["it", "PRP"], ["at", "IN"], ["the", "DT"], ["end", "NN"], ["so", "IN"], ["that", "DT"], ["would", "MD"], ["be", "VB"], ["the", "DT"], ["last", "JJ"], ["one", "CD"], ["return", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], [",", ","], ["to", "TO"], ["add", "VB"], ["it", "PRP"], ["at", "IN"], ["the", "DT"], ["end", "NN"], ["so", "RB"], ["first", "JJ"], ["thing", "NN"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["is", "VBZ"], ["save", "VB"], ["a", "DT"], ["link", "NN"], ["to", "TO"], ["the", "DT"], ["last", "JJ"], ["node", "NN"], [".", "."], ["We", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["need", "VB"], ["that", "IN"], ["because", "IN"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["change", "VB"], ["its", "PRP$"], ["reference", "NN"], ["from", "IN"], ["null", "JJ"], ["to", "TO"], ["point", "VB"], ["to", "TO"], ["the", "DT"], ["new", "JJ"], ["node", "NN"], [".", "."], ["Then", "RB"], ["we", "PRP"], ["'ll", "MD"], ["create", "VB"], ["a", "DT"], ["new", "JJ"], ["note", "NN"], ["for", "IN"], ["the", "DT"], ["end", "NN"], ["of", "IN"], ["the", "DT"], ["list", "NN"], ["will", "MD"], ["populate", "VB"], ["its", "PRP$"], ["fields", "NNS"], ["and", "CC"], ["then", "RB"], ["that", "IN"], ["old", "JJ"], ["link", "NN"], ["will", "MD"], ["change", "VB"], ["that", "IN"], ["from", "IN"], ["null", "NN"], ["to", "TO"], ["a", "DT"], ["pointer", "NN"], ["to", "TO"], ["the", "DT"], ["new", "JJ"], ["node", "NN"], [".", "."], ["So", "RB"], ["again", "RB"], ["just", "RB"], ["a", "DT"], ["few", "JJ"], ["lines", "NNS"], ["of", "IN"], ["code", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["basic", "JJ"], ["linked", "JJ"], ["list", "NN"], ["processing", "NN"], [".", "."], ["Actually", "RB"], ["years", "NNS"], ["ago", "RB"], ["when", "WRB"], ["we", "PRP"], ["taught", "VBD"], ["courses", "NNS"], ["in", "IN"], ["algorithms", "NN"], ["and", "CC"], ["data", "NN"], ["structures", "NNS"], ["much", "RB"], ["of", "IN"], ["the", "DT"], ["course", "NN"], ["would", "MD"], ["be", "VB"], ["about", "IN"], ["this", "DT"], ["kind", "NN"], ["of", "IN"], ["pointer", "NN"], ["manipulation", "NN"], ["but", "CC"], ["nowadays", "VBZ"], ["that", "DT"], ["'s", "VBZ"], ["restricted", "VBN"], ["to", "TO"], ["just", "RB"], ["a", "DT"], ["few", "JJ"], ["implementations", "NNS"], ["like", "IN"], ["stack", "NN"], ["and", "CC"], ["queue", "NN"], ["and", "CC"], ["a", "DT"], ["few", "JJ"], ["other", "JJ"], ["fundamental", "JJ"], ["data", "NNS"], ["structures", "NNS"], [".", "."], ["So", "IN"], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["need", "VB"], ["so", "RB"], ["much", "JJ"], ["anymore", "IN"], ["general", "JJ"], ["programs", "NNS"], ["for", "IN"], ["manipulating", "VBG"], ["linked", "VBN"], ["list", "NN"], [".", "."], ["We", "PRP"], ["encapsulate", "VBP"], ["them", "PRP"], ["in", "IN"], ["basic", "JJ"], ["data", "NNS"], ["types", "NNS"], ["like", "IN"], ["these", "DT"], [".", "."], ["Alright", "NNP"], [",", ","], ["so", "IN"], ["let", "NN"], ["'s", "POS"], ["go", "VB"], ["back", "RB"], ["to", "TO"], ["our", "PRP$"], ["full", "JJ"], ["implementation", "NN"], ["and", "CC"], ["this", "DT"], ["is", "VBZ"], ["just", "RB"], ["taking", "VBG"], ["care", "NN"], ["of", "IN"], ["collecting", "VBG"], ["a", "DT"], ["curve", "NN"], ["from", "IN"], ["the", "DT"], ["previous", "JJ"], ["slides", "NNS"], ["but", "CC"], ["also", "RB"], ["taking", "VBG"], ["care", "NN"], ["of", "IN"], ["special", "JJ"], ["cases", "NNS"], ["when", "WRB"], ["the", "DT"], ["queue", "NN"], ["is", "VBZ"], ["empty", "JJ"], ["to", "TO"], ["make", "VB"], ["sure", "JJ"], ["that", "IN"], ["if", "IN"], ["the", "DT"], ["queue", "NN"], ["is", "VBZ"], ["empty", "JJ"], ["after", "IN"], ["we", "PRP"], ["remove", "VBP"], ["an", "DT"], ["item", "NN"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["last", "JJ"], ["at", "IN"], ["null", "JJ"], ["and", "CC"], ["make", "VB"], ["sure", "JJ"], ["that", "IN"], ["both", "DT"], ["first", "JJ"], ["and", "CC"], ["last", "JJ"], ["always", "RB"], ["are", "VBP"], ["what", "WP"], ["we", "PRP"], ["want", "VBP"], ["them", "PRP"], ["to", "TO"], ["be", "VB"], [".", "."], ["So", "IN"], ["those", "DT"], ["are", "VBP"], ["details", "NNS"], ["that", "WDT"], ["are", "VBP"], ["easy", "JJ"], ["to", "TO"], ["check", "VB"], [".", "."], ["Okay", "NNP"], [",", ","], ["what", "WP"], ["about", "IN"], ["arrays", "NNS"], ["?", "."], ["Well", "RB"], [",", ","], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["do", "VB"], ["the", "DT"], ["details", "NNS"], ["but", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["difficult", "JJ"], ["to", "TO"], ["implement", "VB"], ["queues", "NNS"], ["with", "IN"], ["resizing", "VBG"], ["arrays", "NNS"], ["as", "RB"], ["well", "RB"], ["and", "CC"], ["not", "RB"], ["difficult", "JJ"], ["but", "CC"], ["definitely", "RB"], ["a", "DT"], ["tricky", "JJ"], ["programming", "NN"], ["exercise", "NN"], ["that", "IN"], ["people", "NNS"], ["are", "VBP"], ["welcome", "JJ"], ["to", "TO"], ["try", "VB"], [".", "."], ["So", "IN"], ["we", "PRP"], ["'ll", "MD"], ["maintain", "VB"], ["two", "CD"], ["pointers", "NNS"], [".", "."], ["The", "DT"], ["first", "JJ"], ["item", "NN"], ["in", "IN"], ["the", "DT"], ["queue", "NN"], ["and", "CC"], ["the", "DT"], ["tail", "NN"], ["which", "WDT"], ["is", "VBZ"], ["the", "DT"], ["position", "NN"], ["for", "IN"], ["the", "DT"], ["next", "JJ"], ["item", "NN"], ["to", "TO"], ["appear", "VB"], ["so", "RB"], ["for", "IN"], ["enqueue", "NN"], ["you", "PRP"], ["add", "VBP"], ["a", "DT"], ["new", "JJ"], ["item", "NN"], ["at", "IN"], ["tail", "NN"], ["and", "CC"], ["for", "IN"], ["dequeue", "NN"], ["you", "PRP"], ["remove", "VBP"], ["an", "DT"], ["item", "NN"], ["for", "IN"], ["head", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["trick", "NN"], ["is", "VBZ"], ["that", "DT"], ["once", "RB"], ["you", "PRP"], ["get", "VBP"], ["past", "IN"], ["the", "DT"], ["capacity", "NN"], [",", ","], ["you", "PRP"], ["have", "VBP"], ["to", "TO"], ["reset", "VB"], ["back", "RB"], ["to", "TO"], ["zero", "CD"], ["and", "CC"], ["so", "RB"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["little", "JJ"], ["extra", "JJ"], ["code", "NN"], ["and", "CC"], ["then", "RB"], ["you", "PRP"], ["have", "VBP"], ["to", "TO"], ["add", "VB"], ["the", "DT"], ["resizing", "VBG"], ["capability", "NN"], ["as", "RB"], ["well", "RB"], ["to", "TO"], ["implement", "VB"], ["data", "NNS"], ["structure", "NN"], ["the", "DT"], ["same", "JJ"], ["as", "IN"], ["for", "IN"], ["stack", "NN"], [".", "."], ["And", "CC"], ["we", "PRP"], ["'ll", "MD"], ["leave", "VB"], ["that", "IN"], ["as", "IN"], ["an", "DT"], ["exercise", "NN"], [".", "."]], "title": "queues", "text": "Okay, next, we'll briefly consider queue implementations using the same basic underlying data structures. So, here is the corresponding API for queue of strings. Actually you know it's the same API for stacks just the names are different. Instead of push we have enqueue instead of pop, we have dequeue. And the semantics is different. For enqueue we add an item say at the end of the queue and for dequeue we remove an item from the beginning. It's as if you're waiting in line to buy a ticket. When you're enqueue you're at the end and when that's been in there the longest is the one that comes off. So let's look at how we implement those first using linked list and then arrays. So, now our representation of a queue with the linked list, we need to maintain two pointers references. One to the first item in the list and the other to the last item in the list. When we insert we're going to add the item at the end of the list instead of the beginning and when we remove we'll do the same and we'll take it off the front. So here's the implementation of dequeue. It's identical to the code for pop for a stack. We save away the item. We delete the first note by advancing the reference and then we return the item, so identical. To add a node or enqueue, add a new node to a linked list, we want to put it at the end so that would be the last one return. So we, to add it at the end so first thing we need to is save a link to the last node. We're going to need that because we need to change its reference from null to point to the new node. Then we'll create a new note for the end of the list will populate its fields and then that old link will change that from null to a pointer to the new node. So again just a few lines of code. That's basic linked list processing. Actually years ago when we taught courses in algorithms and data structures much of the course would be about this kind of pointer manipulation but nowadays that's restricted to just a few implementations like stack and queue and a few other fundamental data structures. So we don't need so much anymore general programs for manipulating linked list. We encapsulate them in basic data types like these. Alright, so let's go back to our full implementation and this is just taking care of collecting a curve from the previous slides but also taking care of special cases when the queue is empty to make sure that if the queue is empty after we remove an item, we're going to last at null and make sure that both first and last always are what we want them to be. So those are details that are easy to check. Okay, what about arrays? Well, we want to do the details but it's not difficult to implement queues with resizing arrays as well and not difficult but definitely a tricky programming exercise that people are welcome to try. So we'll maintain two pointers. The first item in the queue and the tail which is the position for the next item to appear so for enqueue you add a new item at tail and for dequeue you remove an item for head. And the trick is that once you get past the capacity, you have to reset back to zero and so that's a little extra code and then you have to add the resizing capability as well to implement data structure the same as for stack. And we'll leave that as an exercise. ", "video_ID": 15, "course_id": 3}
{"category": ["stacks and queues"], "tagged": [["Next", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["consider", "VB"], ["addressing", "VBG"], ["another", "DT"], ["fundamental", "JJ"], ["defect", "NN"], ["in", "IN"], ["the", "DT"], ["implementations", "NNS"], ["we", "PRP"], ["'ve", "VBP"], ["considered", "VBN"], ["so", "RB"], ["far", "RB"], ["that", "IN"], ["those", "DT"], ["implementations", "NNS"], ["are", "VBP"], ["only", "RB"], ["good", "JJ"], ["for", "IN"], ["strings", "NNS"], [".", "."], ["What", "WP"], ["if", "IN"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["have", "VB"], ["queues", "NNS"], ["and", "CC"], ["stacks", "NNS"], ["of", "IN"], ["other", "JJ"], ["types", "NNS"], ["of", "IN"], ["data", "NNS"], ["?", "."], ["And", "CC"], ["that", "IN"], ["brings", "VBZ"], ["us", "PRP"], ["to", "TO"], ["the", "DT"], ["topic", "NN"], ["of", "IN"], ["generics", "NNS"], [".", "."], ["Alright", "NNP"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["implemented", "VBD"], ["stack", "NN"], ["of", "IN"], ["strings", "NNS"], ["but", "CC"], ["in", "IN"], ["applications", "NNS"], ["we", "PRP"], ["have", "VBP"], ["all", "DT"], ["different", "JJ"], ["types", "NNS"], ["of", "IN"], ["data", "NNS"], ["that", "IN"], ["we", "PRP"], ["might", "MD"], ["want", "VB"], ["to", "TO"], ["implement", "VB"], ["like", "IN"], ["stack", "NN"], ["of", "IN"], ["int", "NN"], ["say", "VBP"], ["or", "CC"], ["URLs", "NNP"], ["or", "CC"], ["cars", "NNS"], ["or", "CC"], ["vans", "NNS"], ["or", "CC"], ["whatever", "WDT"], ["data", "NNS"], ["that", "IN"], ["we", "PRP"], ["might", "MD"], ["be", "VB"], ["processing", "VBG"], [".", "."], ["So", "IN"], ["how", "WRB"], ["are", "VBP"], ["we", "PRP"], ["going", "VBG"], ["to", "TO"], ["implement", "VB"], ["stacks", "NNS"], ["and", "CC"], ["queues", "NNS"], ["for", "IN"], ["that", "DT"], ["types", "NNS"], ["of", "IN"], ["data", "NN"], [".", "."], ["Well", "NNP"], [",", ","], ["first", "JJ"], ["thing", "NN"], ["that", "IN"], ["we", "PRP"], ["might", "MD"], ["that", "IN"], ["we", "PRP"], ["might", "MD"], ["consider", "VB"], ["and", "CC"], ["actually", "RB"], ["we", "PRP"], ["'re", "VBP"], ["forced", "VBN"], ["to", "TO"], ["consider", "VB"], ["this", "DT"], ["one", "CD"], ["in", "IN"], ["lots", "NNS"], ["of", "IN"], ["programming", "VBG"], ["environment", "NN"], [",", ","], ["is", "VBZ"], ["to", "TO"], ["implement", "VB"], ["a", "DT"], ["separate", "JJ"], ["stack", "NN"], ["class", "NN"], ["for", "IN"], ["each", "DT"], ["type", "NN"], ["of", "IN"], ["data", "NNS"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["using", "VBG"], [".", "."], ["That", "DT"], ["really", "RB"], ["seems", "VBZ"], ["unsatisfactory", "JJ"], [".", "."], ["We", "PRP"], ["have", "VBP"], ["our", "PRP$"], ["carefully", "RB"], ["crafted", "VBN"], ["code", "NN"], ["that", "WDT"], ["does", "VBZ"], ["array", "VB"], ["resizing", "NN"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], ["and", "CC"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["copy", "VB"], ["that", "DT"], ["code", "NN"], ["and", "CC"], ["change", "VB"], ["the", "DT"], ["data", "NNS"], ["type", "NN"], ["string", "NN"], ["to", "TO"], ["the", "DT"], ["data", "NNS"], ["type", "NN"], ["van", "NN"], ["or", "CC"], ["int", "NN"], ["to", "TO"], ["everywhere", "VB"], [".", "."], ["And", "CC"], ["what", "WP"], ["if", "IN"], ["we", "PRP"], ["have", "VBP"], ["hundreds", "NNS"], ["of", "IN"], ["different", "JJ"], ["types", "NNS"], ["of", "IN"], ["data", "NNS"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["processing", "VBG"], [".", "."], ["We", "PRP"], ["have", "VBP"], ["hundreds", "NNS"], ["of", "IN"], ["different", "JJ"], ["implementations", "NNS"], [".", "."], ["Unfortunately", "RB"], ["that", "IN"], ["situation", "NN"], ["at", "IN"], ["the", "DT"], ["beginning", "NN"], ["of", "IN"], ["Java", "NNP"], ["where", "WRB"], ["we", "PRP"], ["stuck", "VBD"], ["with", "IN"], ["that", "DT"], ["and", "CC"], ["there", "EX"], ["are", "VBP"], ["plenty", "NN"], ["of", "IN"], ["programming", "NN"], ["languages", "NNS"], ["where", "WRB"], ["basically", "RB"], ["we", "PRP"], ["'re", "VBP"], ["stuck", "VBN"], ["with", "IN"], ["that", "DT"], ["so", "RB"], ["what", "WP"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["is", "VBZ"], ["a", "DT"], ["modern", "JJ"], ["approach", "NN"], ["to", "TO"], ["avoiding", "VBG"], ["having", "VBG"], ["multiple", "JJ"], ["implementations", "NNS"], ["for", "IN"], ["each", "DT"], ["type", "NN"], ["of", "IN"], ["data", "NNS"], [".", "."], ["So", "IN"], ["the", "DT"], ["a", "DT"], ["quick", "JJ"], ["hack", "NN"], ["that", "WDT"], ["is", "VBZ"], ["widely", "RB"], ["used", "VBN"], ["is", "VBZ"], ["to", "TO"], ["use", "VB"], ["casting", "NN"], ["to", "TO"], ["implement", "VB"], ["to", "TO"], ["reuse", "VB"], ["the", "DT"], ["code", "NN"], ["for", "IN"], ["different", "JJ"], ["data", "NNS"], ["types", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["make", "VBP"], ["our", "PRP$"], ["implementation", "NN"], ["with", "IN"], ["type", "NN"], ["Object", "NNP"], ["so", "IN"], ["everything", "NN"], ["in", "IN"], ["Java", "NNP"], ["is", "VBZ"], ["a", "DT"], ["sub", "JJ"], ["type", "NN"], ["of", "IN"], ["Object", "NNP"], ["and", "CC"], ["then", "RB"], ["the", "DT"], ["client", "NN"], [",", ","], ["when", "WRB"], ["the", "DT"], ["client", "NN"], ["comes", "VBZ"], ["to", "TO"], ["use", "VB"], ["it", "PRP"], [",", ","], ["will", "MD"], ["simply", "RB"], ["cast", "VB"], ["the", "DT"], ["result", "NN"], ["to", "TO"], ["the", "DT"], ["corresponding", "JJ"], ["type", "NN"], [".", "."], ["I", "PRP"], ["do", "VBP"], ["n't", "RB"], ["want", "VB"], ["to", "TO"], ["spend", "VB"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["time", "NN"], ["with", "IN"], ["this", "DT"], ["cuz", "NN"], ["I", "PRP"], ["think", "VBP"], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], ["unsatisfactory", "JJ"], ["solution", "NN"], [".", "."], ["So", "RB"], [",", ","], ["in", "IN"], ["this", "DT"], ["example", "NN"], ["we", "PRP"], ["have", "VBP"], ["two", "CD"], ["types", "NNS"], ["with", "IN"], ["two", "CD"], ["stacks", "NNS"], ["one", "CD"], ["of", "IN"], ["apples", "NNS"], ["and", "CC"], ["one", "CD"], ["of", "IN"], ["oranges", "NNS"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["up", "RP"], ["to", "TO"], ["the", "DT"], ["client", "NN"], ["when", "WRB"], ["it", "PRP"], ["pops", "VBZ"], ["something", "NN"], ["off", "RP"], ["the", "DT"], ["apple", "NN"], ["stacks", "NNS"], ["to", "TO"], ["cast", "VB"], ["at", "IN"], ["the", "DT"], ["apple", "NN"], ["to", "TO"], ["keep", "VB"], ["the", "DT"], ["type", "NN"], ["checking", "NN"], ["system", "NN"], ["happy", "JJ"], [".", "."], ["The", "DT"], ["problem", "NN"], ["with", "IN"], ["this", "DT"], ["is", "VBZ"], ["that", "IN"], ["the", "DT"], ["client", "NN"], ["code", "NN"], ["has", "VBZ"], ["to", "TO"], ["do", "VB"], ["this", "DT"], [",", ","], ["this", "DT"], ["casting", "NN"], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["kind", "NN"], ["of", "IN"], ["an", "DT"], ["insidious", "JJ"], ["bug", "NN"], ["if", "IN"], ["it", "PRP"], ["does", "VBZ"], ["n't", "RB"], ["quite", "VB"], ["get", "VB"], ["it", "PRP"], [".", "."], ["So", "RB"], [",", ","], ["the", "DT"], ["third", "JJ"], ["attempt", "NN"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["talk", "VB"], ["about", "IN"], ["uses", "NNS"], ["generics", "NNS"], [".", "."], ["And", "CC"], ["that", "DT"], ["way", "NN"], ["the", "DT"], ["client", "NN"], ["code", "NN"], ["does", "VBZ"], ["n't", "RB"], ["do", "VB"], ["casting", "VBG"], [".", "."], ["We", "PRP"], ["can", "MD"], ["discover", "VB"], ["mistakes", "NNS"], ["in", "IN"], ["typed", "JJ"], ["mismatches", "NNS"], ["at", "IN"], ["compile-time", "JJ"], ["instead", "RB"], ["of", "IN"], ["at", "IN"], ["run-time", "NN"], [".", "."], ["So", "RB"], [",", ","], ["in", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["we", "PRP"], ["put", "VBD"], [",", ","], ["with", "IN"], ["generics", "NNS"], [",", ","], ["we", "PRP"], ["can", "MD"], ["have", "VB"], ["a", "DT"], ["type", "NN"], ["parameter", "NN"], ["on", "IN"], ["our", "PRP$"], ["class", "NN"], ["and", "CC"], ["that", "DT"], ["include", "VBP"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["inside", "JJ"], ["angle", "JJ"], ["brackets", "NNS"], ["in", "IN"], ["this", "DT"], ["code", "NN"], ["and", "CC"], ["then", "RB"], [",", ","], ["we", "PRP"], ["can", "MD"], ["[", "VB"], ["cough", "JJ"], ["]", "NN"], ["if", "IN"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["stack", "NN"], ["of", "IN"], ["apples", "NNS"], ["and", "CC"], ["we", "PRP"], ["tried", "VBD"], ["to", "TO"], ["push", "VB"], ["an", "DT"], ["orange", "NN"], ["unto", "IN"], ["a", "DT"], ["stack", "NN"], ["of", "IN"], ["apples", "NNS"], ["then", "RB"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["get", "VB"], ["a", "DT"], ["compile-time", "JJ"], ["error", "NN"], ["because", "IN"], ["that", "DT"], ["'s", "VBZ"], ["stack", "NN"], ["was", "VBD"], ["declared", "VBN"], ["to", "TO"], ["only", "RB"], ["consist", "VB"], ["of", "IN"], [",", ","], ["of", "IN"], ["apples", "NNS"], [".", "."], ["And", "CC"], ["just", "RB"], ["the", "DT"], ["guiding", "NN"], ["principal", "NN"], ["in", "IN"], ["good", "JJ"], ["modular", "NN"], ["programming", "NN"], ["is", "VBZ"], ["that", "IN"], ["we", "PRP"], ["should", "MD"], ["welcome", "VB"], ["compile-time", "JJ"], ["errors", "NNS"], ["and", "CC"], ["avoid", "VB"], ["run-time", "JJ"], ["errors", "NNS"], ["because", "IN"], ["if", "IN"], ["we", "PRP"], ["can", "MD"], ["detect", "VB"], ["an", "DT"], ["error", "NN"], ["at", "IN"], ["compile-time", "NN"], [",", ","], ["then", "RB"], ["we", "PRP"], ["can", "MD"], ["ship", "VB"], ["our", "PRP$"], ["product", "NN"], ["or", "CC"], ["deploy", "VB"], ["our", "PRP$"], ["implementation", "NN"], ["our", "PRP$"], ["implementation", "NN"], ["of", "IN"], ["an", "DT"], ["API", "NNP"], ["and", "CC"], ["have", "VBP"], ["some", "DT"], ["confident", "NN"], ["that", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["work", "VB"], ["for", "IN"], ["any", "DT"], ["client", "NN"], ["whereas", "NNS"], [",", ","], ["the", "DT"], ["error", "NN"], ["is", "VBZ"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], ["get", "VB"], ["discovered", "VBN"], ["until", "IN"], ["run-time", "JJ"], ["it", "PRP"], ["might", "MD"], ["occur", "VB"], ["with", "IN"], ["some", "DT"], ["client", "NN"], ["development", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["years", "NNS"], ["after", "IN"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["deploy", "VB"], ["our", "PRP$"], ["software", "NN"], ["and", "CC"], ["be", "VB"], ["extremely", "RB"], ["difficult", "JJ"], ["on", "IN"], ["everyone", "NN"], [".", "."], ["Okay", "NNP"], [".", "."], ["So", "NNP"], ["actually", "RB"], ["with", "IN"], ["a", "DT"], ["good", "JJ"], ["generic", "JJ"], ["implementation", "NN"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["difficult", "JJ"], ["to", "TO"], ["simply", "RB"], ["[", "VB"], ["cough", "NN"], ["]", "NN"], [",", ","], ["take", "VB"], ["every", "DT"], ["place", "NN"], ["that", "IN"], ["we", "PRP"], ["used", "VBD"], ["string", "VBG"], ["and", "CC"], ["replace", "VB"], ["it", "PRP"], ["with", "IN"], ["a", "DT"], ["generic", "JJ"], ["type", "NN"], ["name", "NN"], ["as", "IN"], ["in", "IN"], ["this", "DT"], ["code", "NN"], ["here", "RB"], [".", "."], ["On", "IN"], ["the", "DT"], ["left", "NN"], ["is", "VBZ"], ["our", "PRP$"], ["implementation", "NN"], ["of", "IN"], ["a", "DT"], ["stack", "NN"], ["of", "IN"], ["strings", "NNS"], ["using", "VBG"], ["link", "JJ"], ["list", "NN"], [".", "."], ["On", "IN"], ["the", "DT"], ["right", "NN"], ["is", "VBZ"], ["a", "DT"], ["generic", "JJ"], ["implementation", "NN"], [".", "."], ["So", "RB"], [",", ","], ["every", "DT"], ["place", "NN"], ["that", "IN"], ["we", "PRP"], ["used", "VBD"], ["string", "VBG"], ["type", "NN"], ["on", "IN"], ["the", "DT"], ["left", "NN"], ["we", "PRP"], ["used", "VBD"], ["the", "DT"], ["word", "NN"], ["item", "NN"], ["on", "IN"], ["the", "DT"], ["right", "NN"], [".", "."], ["And", "CC"], ["at", "IN"], ["the", "DT"], ["top", "NN"], [",", ","], ["the", "DT"], ["class", "NN"], ["declaration", "NN"], ["we", "PRP"], ["declared", "VBD"], ["an", "DT"], ["angle", "JJ"], ["brackets", "NNS"], ["that", "IN"], ["item", "NN"], ["is", "VBZ"], ["the", "DT"], ["generic", "JJ"], ["type", "NN"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["use", "VB"], [".", "."], ["The", "DT"], ["implementation", "NN"], ["could", "MD"], ["hardly", "RB"], ["be", "VB"], ["more", "JJR"], ["straightforward", "NN"], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["an", "DT"], ["excellent", "JJ"], ["way", "NN"], ["to", "TO"], ["solve", "VB"], ["the", "DT"], ["problem", "NN"], ["of", "IN"], ["handling", "VBG"], ["multiple", "JJ"], ["types", "NNS"], ["of", "IN"], ["data", "NNS"], ["with", "IN"], ["one", "CD"], ["implementation", "NN"], [".", "."], ["With", "IN"], ["arrays", "NNS"], [",", ","], ["it", "PRP"], ["does", "VBZ"], ["n't", "RB"], ["quite", "VB"], ["work", "NN"], ["and", "CC"], ["again", "RB"], ["all", "DT"], ["programming", "NN"], ["languages", "NNS"], ["and", "CC"], [",", ","], ["you", "PRP"], ["know", "VBP"], [",", ","], ["many", "JJ"], ["programming", "NN"], ["languages", "NNS"], ["nowadays", "NNS"], ["have", "VBP"], ["difficulties", "NNS"], ["with", "IN"], ["this", "DT"], ["and", "CC"], ["Java", "NNP"], ["'s", "POS"], ["got", "VBD"], ["a", "DT"], ["particular", "JJ"], ["difficulty", "NN"], [".", "."], ["So", "RB"], [",", ","], ["what", "WP"], ["we", "PRP"], ["would", "MD"], ["like", "VB"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["just", "RB"], ["declare", "VB"], ["a", "DT"], ["new", "JJ"], ["array", "NN"], ["using", "VBG"], ["our", "PRP$"], ["generic", "JJ"], ["name", "NN"], ["Item", "NNP"], ["as", "IN"], ["in", "IN"], ["the", "DT"], ["highlighted", "JJ"], ["line", "NN"], ["here", "RB"], [".", "."], ["Otherwise", "VB"], ["it", "PRP"], ["'s", "VBZ"], ["the", "DT"], ["same", "JJ"], [".", "."], ["Unfortunately", "RB"], [",", ","], ["Java", "NNP"], ["does", "VBZ"], ["not", "RB"], ["allow", "VB"], ["generic", "JJ"], ["array", "NN"], ["creation", "NN"], [".", "."], ["So", "IN"], ["there", "EX"], ["'s", "VBZ"], ["various", "JJ"], ["technical", "JJ"], ["reasons", "NNS"], ["for", "IN"], ["that", "DT"], ["and", "CC"], ["you", "PRP"], ["can", "MD"], ["read", "VB"], [",", ","], ["read", "VB"], ["extensive", "JJ"], ["debates", "NNS"], ["about", "IN"], ["this", "DT"], ["on", "IN"], ["the", "DT"], ["web", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["go", "VB"], ["beyond", "IN"], ["our", "PRP$"], ["scope", "NN"], [".", "."], ["For", "IN"], ["now", "RB"], [",", ","], ["what", "WP"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["put", "VB"], ["a", "DT"], ["cast", "NN"], ["in", "IN"], ["to", "TO"], ["make", "VB"], ["this", "DT"], ["work", "NN"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["create", "VBP"], ["an", "DT"], ["array", "NN"], ["of", "IN"], ["objects", "NNS"], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["cast", "VBP"], ["it", "PRP"], ["down", "RP"], ["to", "TO"], ["an", "DT"], ["array", "NN"], ["of", "IN"], ["items", "NNS"], [".", "."], ["Now", "RB"], ["in", "IN"], ["my", "PRP$"], ["view", "NN"], [",", ","], ["a", "DT"], ["good", "JJ"], ["code", "NN"], ["has", "VBZ"], ["zero", "VBN"], ["cast", "NN"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["avoid", "VB"], ["cast", "NN"], ["as", "RB"], ["much", "RB"], ["as", "IN"], ["possible", "JJ"], ["because", "IN"], ["it", "PRP"], [",", ","], ["it", "PRP"], [",", ","], ["it", "PRP"], ["really", "RB"], ["is", "VBZ"], ["declaring", "VBG"], ["some", "DT"], ["kind", "NN"], ["of", "IN"], ["weakness", "NN"], ["in", "IN"], ["what", "WP"], ["we", "PRP"], ["'re", "VBP"], ["doing", "VBG"], [".", "."], ["But", "CC"], ["in", "IN"], ["this", "DT"], ["case", "NN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["put", "VB"], ["in", "IN"], ["this", "DT"], ["one", "CD"], ["cast", "NN"], ["and", "CC"], ["so", "RB"], ["what", "WP"], ["we", "PRP"], ["'ve", "VBP"], ["heard", "VBN"], ["about", "IN"], ["that", "DT"], ["is", "VBZ"], ["the", "DT"], ["ugly", "RB"], ["cast", "VBZ"], ["it", "PRP"], ["does", "VBZ"], ["n't", "RB"], [",", ","], ["it", "PRP"], ["does", "VBZ"], ["n't", "RB"], ["make", "VB"], ["you", "PRP"], ["feel", "VB"], ["good", "JJ"], ["about", "IN"], ["the", "DT"], ["code", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["something", "NN"], ["that", "IN"], ["you", "PRP"], ["will", "MD"], ["come", "VB"], ["up", "RP"], ["with", "IN"], ["on", "IN"], ["your", "PRP$"], ["own", "JJ"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], [",", ","], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["an", "DT"], ["undesirable", "JJ"], ["feature", "NN"], [",", ","], ["I", "PRP"], ["think", "VBP"], ["for", "IN"], ["codes", "NNS"], ["so", "RB"], ["simple", "JJ"], ["as", "IN"], ["this", "DT"], [".", "."], ["But", "CC"], ["fortunately", "RB"], [",", ","], ["we", "PRP"], ["can", "MD"], ["get", "VB"], ["through", "IN"], ["pretty", "RB"], ["much", "JJ"], ["everything", "NN"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], ["in", "IN"], ["this", "DT"], ["course", "NN"], ["just", "RB"], ["knowing", "VBG"], ["about", "IN"], ["this", "DT"], ["one", "CD"], ["of", "IN"], ["lay", "NN"], ["cast", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], [",", ","], ["when", "WRB"], ["we", "PRP"], ["compile", "VBP"], ["this", "DT"], ["program", "NN"], ["we", "PRP"], ["get", "VBP"], ["a", "DT"], [",", ","], ["a", "DT"], ["warning", "NN"], ["message", "NN"], ["from", "IN"], ["Java", "NNP"], [".", "."], ["It", "PRP"], ["says", "VBZ"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["using", "VBG"], ["unchecked", "JJ"], ["or", "CC"], ["unsafe", "JJ"], ["operations", "NNS"], ["and", "CC"], ["we", "PRP"], ["should", "MD"], ["recompile", "VB"], ["with", "IN"], ["a", "DT"], ["minus", "NN"], ["-Xlint", "NN"], ["equals", "NNS"], ["unchecked", "VBD"], ["for", "IN"], ["details", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["can", "MD"], ["go", "VB"], ["ahead", "RB"], ["and", "CC"], ["do", "VB"], ["that", "DT"], ["and", "CC"], ["it", "PRP"], ["says", "VBZ"], ["that", "IN"], ["you", "PRP"], ["have", "VBP"], ["put", "VBN"], ["in", "IN"], [",", ","], ["in", "IN"], ["your", "PRP$"], ["code", "NN"], ["an", "DT"], ["unchecked", "JJ"], ["cast", "NN"], ["and", "CC"], ["we", "PRP"], ["'re", "VBP"], ["warning", "VBG"], ["you", "PRP"], ["about", "IN"], ["that", "DT"], ["cuz", "NN"], ["you", "PRP"], ["should", "MD"], ["n't", "RB"], ["be", "VB"], ["putting", "VBG"], ["in", "IN"], ["unchecked", "JJ"], ["cast", "NN"], [".", "."], ["And", "CC"], ["okay", "UH"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["fine", "JJ"], ["and", "CC"], ["you", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["see", "VB"], ["that", "IN"], ["when", "WRB"], ["you", "PRP"], ["do", "VBP"], ["compiles", "NNS"], ["using", "VBG"], ["code", "NN"], ["like", "IN"], ["these", "DT"], [".", "."], ["I", "PRP"], [",", ","], ["I", "PRP"], ["think", "VBP"], ["maybe", "RB"], ["they", "PRP"], ["might", "MD"], ["have", "VB"], ["added", "VBN"], ["to", "TO"], ["this", "DT"], ["warning", "NN"], ["statement", "NN"], ["``", "``"], ["We", "PRP"], ["apologize", "VBP"], ["for", "IN"], ["making", "VBG"], ["you", "PRP"], ["do", "VBP"], ["this", "DT"], ["''", "''"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["our", "PRP$"], ["fault", "NN"], ["that", "IN"], ["we", "PRP"], ["had", "VBD"], ["to", "TO"], ["do", "VB"], ["that", "DT"], [",", ","], ["we", "PRP"], ["had", "VBD"], ["to", "TO"], ["do", "VB"], ["that", "DT"], ["cuz", "NN"], ["of", "IN"], ["your", "PRP$"], ["requirement", "NN"], ["about", "IN"], ["not", "RB"], ["allowing", "VBG"], ["us", "PRP"], ["to", "TO"], ["declare", "VB"], ["generic", "JJ"], ["arrays", "NNS"], [".", "."], ["So", "RB"], ["with", "IN"], ["that", "DT"], ["note", "NN"], ["please", "NN"], ["do", "VBP"], ["n't", "RB"], ["think", "VB"], ["there", "EX"], ["'s", "VBZ"], ["something", "NN"], ["wrong", "JJ"], ["with", "IN"], ["your", "PRP$"], ["code", "NN"], ["if", "IN"], ["you", "PRP"], ["follow", "VBP"], ["our", "PRP$"], ["prescriptive", "NN"], ["and", "CC"], [",", ","], ["and", "CC"], ["get", "VB"], ["this", "DT"], ["warning", "NN"], ["message", "NN"], [".", "."], ["Okay", "NNP"], ["then", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["one", "CD"], ["of", "IN"], ["the", "DT"], ["detail", "NN"], ["that", "WDT"], ["Java", "NNP"], ["takes", "VBZ"], ["care", "NN"], ["of", "IN"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["what", "WP"], ["about", "IN"], ["primitive", "JJ"], ["types", "NNS"], ["[", "VBP"], ["cough", "NN"], ["]", "NN"], ["so", "IN"], ["the", "DT"], ["generic", "JJ"], ["type", "NN"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["using", "VBG"], ["is", "VBZ"], ["for", "IN"], ["objects", "NNS"], ["and", "CC"], ["you", "PRP"], ["know", "VBP"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["casting", "VBG"], ["down", "RP"], ["from", "IN"], ["array", "NN"], ["of", "IN"], ["objects", "NNS"], [".", "."], ["So", "RB"], ["in", "IN"], ["order", "NN"], ["to", "TO"], ["handle", "VB"], ["generic", "JJ"], ["types", "NNS"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["use", "VB"], ["Java", "NNP"], ["'s", "POS"], ["wrapper", "NN"], ["object", "NN"], ["types", "NNS"], [".", "."], ["So", "RB"], ["Integer", "JJ"], ["with", "IN"], ["the", "DT"], ["capitalized", "JJ"], ["rapid", "JJ"], ["type", "NN"], ["for", "IN"], ["int", "NN"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], ["and", "CC"], ["many", "JJ"], ["of", "IN"], ["you", "PRP"], ["were", "VBD"], ["probably", "RB"], ["familiar", "JJ"], ["with", "IN"], ["that", "DT"], [".", "."], ["And", "CC"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["process", "NN"], ["called", "VBN"], ["auto-boxing", "NN"], ["which", "WDT"], ["automatically", "RB"], ["cast", "VBD"], ["between", "IN"], ["primitive", "JJ"], ["types", "NNS"], ["and", "CC"], ["wrappers", "NNS"], ["so", "RB"], ["all", "DT"], ["of", "IN"], ["that", "DT"], ["handles", "NNS"], ["of", "IN"], ["the", "DT"], [",", ","], ["the", "DT"], ["problem", "NN"], ["of", "IN"], ["dealing", "VBG"], ["with", "IN"], ["primitive", "JJ"], ["types", "NNS"], [",", ","], ["kind", "NN"], ["of", "IN"], ["behind", "IN"], ["the", "DT"], ["scenes", "NNS"], [".", "."], ["And", "CC"], ["the", "DT"], ["bottom", "JJ"], ["line", "NN"], ["is", "VBZ"], ["that", "IN"], ["we", "PRP"], ["can", "MD"], ["articulate", "VB"], ["an", "DT"], ["API", "NNP"], ["for", "IN"], ["generic", "JJ"], ["stacks", "NNS"], ["that", "WDT"], ["works", "VBZ"], ["for", "IN"], ["any", "DT"], ["type", "NN"], ["of", "IN"], ["data", "NNS"], ["and", "CC"], ["we", "PRP"], ["'ve", "VBP"], ["got", "VBN"], ["two", "CD"], ["implementations", "NNS"], [",", ","], ["link", "VBP"], ["list", "NN"], ["and", "CC"], ["arrays", "VBZ"], ["that", "IN"], [",", ","], ["that", "WDT"], ["performed", "VBD"], ["very", "RB"], ["well", "RB"], ["for", "IN"], ["[", "NNP"], ["cough", "NN"], ["]", "NNP"], ["any", "DT"], ["type", "NN"], ["of", "IN"], ["data", "NNS"], ["using", "VBG"], ["the", "DT"], [",", ","], ["the", "DT"], ["resizing", "NN"], ["or", "CC"], ["link", "JJ"], ["list", "NN"], ["as", "IN"], ["we", "PRP"], ["'ve", "VBP"], ["described", "VBN"], [".", "."]], "title": "generics", "text": "Next we're going to consider addressing another fundamental defect in the implementations we've considered so far that those implementations are only good for strings. What if we want to have queues and stacks of other types of data? And that brings us to the topic of generics. Alright. So, we implemented stack of strings but in applications we have all different types of data that we might want to implement like stack of int say or URLs or cars or vans or whatever data that we might be processing. So how are we going to implement stacks and queues for that types of data. Well, first thing that we might that we might consider and actually we're forced to consider this one in lots of programming environment, is to implement a separate stack class for each type of data that we're using. That really seems unsatisfactory. We have our carefully crafted code that does array resizing and so forth and we're going to copy that code and change the data type string to the data type van or int to everywhere. And what if we have hundreds of different types of data that we're processing. We have hundreds of different implementations. Unfortunately that situation at the beginning of Java where we stuck with that and there are plenty of programming languages where basically we're stuck with that so what we want to look at is a modern approach to avoiding having multiple implementations for each type of data. So the a quick hack that is widely used is to use casting to implement to reuse the code for different data types. So, we make our implementation with type Object so everything in Java is a sub type of Object and then the client, when the client comes to use it, will simply cast the result to the corresponding type. I don't want to spend a lot of time with this cuz I think this is a unsatisfactory solution. So, in this example we have two types with two stacks one of apples and one of oranges. And then, it's up to the client when it pops something off the apple stacks to cast at the apple to keep the type checking system happy. The problem with this is that the client code has to do this, this casting and it's kind of an insidious bug if it doesn't quite get it. So, the third attempt that we're going to talk about uses generics. And that way the client code doesn't do casting. We can discover mistakes in typed mismatches at compile-time instead of at run-time. So, in this case, we put, with generics, we can have a type parameter on our class and that include, that's inside angle brackets in this code and then, we can [cough] if we have a stack of apples and we tried to push an orange unto a stack of apples then we're going to get a compile-time error because that's stack was declared to only consist of, of apples. And just the guiding principal in good modular programming is that we should welcome compile-time errors and avoid run-time errors because if we can detect an error at compile-time, then we can ship our product or deploy our implementation our implementation of an API and have some confident that it's going to work for any client whereas, the error is not going to get discovered until run-time it might occur with some client development. Now, years after, we have to deploy our software and be extremely difficult on everyone. Okay. So actually with a good generic implementation it's not difficult to simply [cough], take every place that we used string and replace it with a generic type name as in this code here. On the left is our implementation of a stack of strings using link list. On the right is a generic implementation. So, every place that we used string type on the left we used the word item on the right. And at the top, the class declaration we declared an angle brackets that item is the generic type that we're going to use. The implementation could hardly be more straightforward and it's an excellent way to solve the problem of handling multiple types of data with one implementation. With arrays, it doesn't quite work and again all programming languages and, you know, many programming languages nowadays have difficulties with this and Java's got a particular difficulty. So, what we would like to do is just declare a new array using our generic name Item as in the highlighted line here. Otherwise it's the same. Unfortunately, Java does not allow generic array creation. So there's various technical reasons for that and you can read, read extensive debates about this on the web that's going to go beyond our scope. For now, what we need to do is put a cast in to make this work. So, we create an array of objects and then we cast it down to an array of items. Now in my view, a good code has zero cast. So, we want to avoid cast as much as possible because it, it, it really is declaring some kind of weakness in what we're doing. But in this case we have to put in this one cast and so what we've heard about that is the ugly cast it doesn't, it doesn't make you feel good about the code. It's not something that you will come up with on your own and that's, and that's an undesirable feature, I think for codes so simple as this. But fortunately, we can get through pretty much everything that we're going to do in this course just knowing about this one of lay cast. So now, when we compile this program we get a, a warning message from Java. It says that we're using unchecked or unsafe operations and we should recompile with a minus -Xlint equals unchecked for details. So, we can go ahead and do that and it says that you have put in, in your code an unchecked cast and we're warning you about that cuz you shouldn't be putting in unchecked cast. And okay, that's fine and you're going to see that when you do compiles using code like these. I, I think maybe they might have added to this warning statement \"We apologize for making you do this\". It's not our fault that we had to do that, we had to do that cuz of your requirement about not allowing us to declare generic arrays. So with that note please don't think there's something wrong with your code if you follow our prescriptive and, and get this warning message. Okay then, it's one of the detail that Java takes care of and that's what about primitive types [cough] so the generic type that we're using is for objects and you know, we're casting down from array of objects. So in order to handle generic types we have to use Java's wrapper object types. So Integer with the capitalized rapid type for int and so forth and many of you were probably familiar with that. And there's a process called auto-boxing which automatically cast between primitive types and wrappers so all of that handles of the, the problem of dealing with primitive types, kind of behind the scenes. And the bottom line is that we can articulate an API for generic stacks that works for any type of data and we've got two implementations, link list and arrays that, that performed very well for [cough] any type of data using the, the resizing or link list as we've described. ", "video_ID": 16, "course_id": 3}
{"category": ["stacks and queues"], "tagged": [["Okay", "NNP"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["another", "DT"], ["facility", "NN"], ["that", "WDT"], ["Java", "NNP"], ["provides", "VBZ"], ["that", "IN"], ["leads", "VBZ"], ["to", "TO"], ["very", "RB"], ["elegant", "JJ"], ["compact", "JJ"], ["client", "NN"], ["code", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["definitely", "RB"], ["worthwhile", "JJ"], ["to", "TO"], ["add", "VB"], ["to", "TO"], ["our", "PRP$"], ["basic", "JJ"], ["data", "NN"], ["types", "NNS"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["iteration", "NN"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["what", "WP"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["talk", "VB"], ["about", "IN"], ["now", "RB"], [".", "."], ["So", "RB"], [",", ","], ["what", "WP"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["to", "TO"], ["allow", "VB"], ["the", "DT"], ["client", "NN"], ["to", "TO"], ["iterate", "VB"], ["through", "IN"], ["the", "DT"], ["items", "NNS"], ["in", "IN"], ["the", "DT"], ["collection", "NN"], [".", "."], ["But", "CC"], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["have", "VB"], ["the", "DT"], ["client", "NN"], ["to", "TO"], ["know", "VB"], ["whether", "IN"], ["we", "PRP"], ["'re", "VBP"], ["using", "VBG"], ["an", "DT"], ["array", "NN"], ["or", "CC"], ["link", "VB"], ["list", "NN"], ["or", "CC"], ["whatever", "WDT"], ["internal", "JJ"], ["representation", "NN"], ["we", "PRP"], ["might", "MD"], ["have", "VB"], ["in", "IN"], ["mind", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["relevant", "JJ"], ["to", "TO"], ["the", "DT"], ["client", "NN"], [".", "."], ["And", "CC"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["clients", "NNS"], ["only", "RB"], ["want", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["just", "RB"], ["iterate", "JJ"], ["through", "IN"], ["the", "DT"], ["stuff", "NN"], ["in", "IN"], ["the", "DT"], ["collection", "NN"], [".", "."], ["But", "CC"], ["Java", "NNP"], ["does", "VBZ"], ["provide", "VB"], ["a", "DT"], ["nice", "JJ"], ["a", "DT"], ["solution", "NN"], ["to", "TO"], ["this", "DT"], ["called", "VBN"], ["iteration", "NN"], [".", "."], ["So", "RB"], ["what", "WP"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["look", "VB"], ["at", "IN"], ["how", "WRB"], ["to", "TO"], ["make", "VB"], ["our", "PRP$"], ["stack", "NN"], [",", ","], ["and", "CC"], ["queue", "NN"], [",", ","], ["and", "CC"], ["other", "JJ"], ["data", "NNS"], ["structures", "NNS"], ["that", "IN"], ["we", "PRP"], ["consider", "VBP"], ["later", "RB"], ["on", "IN"], ["implement", "VB"], ["the", "DT"], ["so-called", "JJ"], ["Iterable", "JJ"], ["interface", "NN"], ["and", "CC"], ["it", "PRP"], ["will", "MD"], ["work", "VB"], ["for", "IN"], ["client", "NN"], ["code", "NN"], ["no", "DT"], ["matter", "NN"], ["which", "WDT"], ["implementation", "NN"], ["we", "PRP"], ["used", "VBD"], ["so", "RB"], ["let", "JJ"], ["'s", "POS"], ["take", "VB"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["the", "DT"], ["details", "NNS"], ["of", "IN"], ["that", "DT"], [".", "."], ["So", "IN"], ["what", "WP"], ["'s", "VBZ"], ["an", "DT"], ["Iterable", "JJ"], ["?", "."], ["Well", "NNP"], [",", ","], ["in", "IN"], ["Java", "NNP"], ["lingo", "VBD"], ["what", "WP"], ["an", "DT"], ["Iterable", "JJ"], ["is", "VBZ"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["class", "NN"], ["that", "WDT"], ["has", "VBZ"], ["a", "DT"], ["method", "NN"], ["that", "WDT"], ["returns", "VBZ"], ["an", "DT"], ["iterator", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], ["what", "WP"], ["'s", "VBZ"], ["an", "DT"], ["Iterator", "NN"], ["?", "."], ["Well", "NNP"], ["an", "DT"], ["Iterator", "NNP"], ["is", "VBZ"], ["something", "NN"], [",", ","], ["a", "DT"], ["class", "NN"], ["that", "WDT"], ["has", "VBZ"], ["methods", "NNS"], ["hasNext", "NN"], ["(", "("], [")", ")"], ["and", "CC"], ["next", "JJ"], ["(", "("], [")", ")"], [".", "."], ["The", "DT"], ["Java", "NNP"], ["also", "RB"], ["allows", "VBZ"], ["remove", "VB"], ["(", "("], [")", ")"], [".", "."], ["We", "PRP"], ["think", "VBP"], ["that", "IN"], ["one", "CD"], ["is", "VBZ"], ["bad", "JJ"], ["news", "NN"], [",", ","], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["use", "VB"], ["it", "PRP"], ["can", "MD"], ["lead", "VB"], ["to", "TO"], ["insidious", "JJ"], ["debug", "NN"], [",", ","], ["bug", "NN"], ["debugging", "VBG"], ["problems", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["hasNext", "JJ"], ["(", "("], [")", ")"], ["and", "CC"], ["next", "JJ"], ["(", "("], [")", ")"], ["and", "CC"], ["so", "RB"], ["to", "TO"], ["make", "VB"], ["the", "DT"], ["data", "NN"], ["structure", "NN"], ["iterable", "JJ"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["implement", "VB"], ["those", "DT"], ["things", "NNS"], [".", "."], ["It", "PRP"], ["seems", "VBZ"], ["like", "IN"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["baggage", "NN"], ["to", "TO"], ["carry", "VB"], ["around", "RB"], ["and", "CC"], ["the", "DT"], ["reason", "NN"], ["that", "IN"], ["we", "PRP"], ["do", "VBP"], ["it", "PRP"], [",", ","], ["why", "WRB"], ["do", "VBP"], ["we", "PRP"], ["go", "VB"], ["to", "TO"], ["the", "DT"], ["trouble", "NN"], ["doing", "VBG"], ["it", "PRP"], ["is", "VBZ"], ["that", "IN"], ["we", "PRP"], ["can", "MD"], [",", ","], ["if", "IN"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["data", "NN"], ["structure", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["iterable", "JJ"], ["we", "PRP"], ["can", "MD"], ["use", "VB"], ["a", "DT"], ["very", "RB"], ["compact", "JJ"], ["and", "CC"], ["elegant", "JJ"], ["client", "NN"], ["code", "NN"], ["in", "IN"], ["Java", "NNP"], [",", ","], ["the", "DT"], ["so", "RB"], ["called", "JJ"], ["for-each", "NN"], ["statement", "NN"], [".", "."], ["So", "RB"], ["if", "IN"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["stack", "NN"], ["we", "PRP"], ["can", "MD"], ["say", "VB"], ["-", ":"], ["(", "("], ["for", "IN"], ["String", "VBG"], ["s", "NN"], [":", ":"], ["stack", "NN"], [")", ")"], [".", "."], ["It", "PRP"], ["means", "VBZ"], ["for", "IN"], ["each", "DT"], ["string", "NN"], ["in", "IN"], ["the", "DT"], ["stack", "NN"], ["-", ":"], ["print", "NN"], ["it", "PRP"], ["out", "RP"], [".", "."], ["And", "CC"], ["if", "IN"], ["we", "PRP"], ["did", "VBD"], ["n't", "RB"], ["have", "VB"], ["that", "DT"], ["we", "PRP"], ["would", "MD"], ["now", "RB"], [",", ","], ["if", "IN"], ["we", "PRP"], ["'re", "VBP"], ["using", "VBG"], ["iterators", "NNS"], [",", ","], ["we", "PRP"], ["could", "MD"], ["go", "VB"], ["ahead", "RB"], ["and", "CC"], ["write", "VB"], ["this", "DT"], ["longhand", "NN"], ["code", "NN"], ["but", "CC"], ["nobody", "NN"], ["would", "MD"], ["ever", "RB"], ["do", "VB"], ["that", "DT"], ["cuz", "VB"], ["it", "PRP"], ["'s", "VBZ"], ["equivalent", "JJ"], ["to", "TO"], ["the", "DT"], ["shorthand", "NN"], ["or", "CC"], ["we", "PRP"], ["might", "MD"], ["have", "VB"], ["to", "TO"], ["write", "VB"], ["client", "NN"], ["code", "NN"], ["that", "WDT"], ["does", "VBZ"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["unnecessary", "JJ"], ["pushes", "NNS"], ["and", "CC"], ["pops", "NNS"], ["just", "RB"], ["to", "TO"], ["do", "VB"], ["this", "DT"], ["iteration", "NN"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["key", "NN"], ["is", "VBZ"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["have", "VB"], ["client", "NN"], ["code", "NN"], ["that", "WDT"], ["is", "VBZ"], ["so", "RB"], ["compact", "JJ"], ["for", "IN"], ["iterating", "VBG"], ["through", "IN"], ["items", "NNS"], ["in", "IN"], ["the", "DT"], ["data", "NN"], ["structure", "NN"], ["so", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["provide", "VB"], ["iteration", "NN"], ["for", "IN"], ["all", "DT"], ["our", "PRP$"], ["basic", "JJ"], ["data", "NN"], ["structures", "NNS"], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["too", "RB"], ["hard", "JJ"], ["to", "TO"], ["do", "VB"], ["definitely", "RB"], ["worthwhile", "VB"], ["the", "DT"], ["effort", "NN"], [".", "."], ["So", "NNP"], ["here", "RB"], ["'s", "VBZ"], ["what", "WP"], ["it", "PRP"], ["looks", "VBZ"], ["like", "IN"], ["for", "IN"], ["link", "JJ"], ["list", "NN"], [".", "."], ["So", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["got", "VBD"], ["to", "TO"], ["implement", "VB"], ["Iterable", "NNP"], ["so", "IN"], ["what", "WP"], ["does", "VBZ"], ["that", "DT"], ["mean", "VB"], ["implement", "NN"], ["Iterable", "NNP"], ["?", "."], ["It", "PRP"], ["'s", "VBZ"], ["got", "VBD"], ["to", "TO"], ["have", "VB"], ["a", "DT"], [",", ","], ["a", "DT"], ["method", "NN"], ["iterator", "NN"], ["(", "("], [")", ")"], ["that", "IN"], ["returns", "VBZ"], ["an", "DT"], ["iterator", "NN"], [".", "."], ["So", "IN"], ["what", "WP"], ["'s", "VBZ"], ["an", "DT"], ["iterator", "NN"], ["?", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["use", "VB"], ["an", "DT"], ["inner", "JJ"], ["class", "NN"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["call", "VB"], ["it", "PRP"], ["ListIterator", "NNP"], ["that", "IN"], ["implements", "NNS"], ["Iterator", "NNP"], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["generic", "JJ"], [".", "."], ["And", "CC"], ["basically", "RB"], ["what", "WP"], ["this", "DT"], ["thing", "NN"], ["has", "VBZ"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["implement", "VB"], ["these", "DT"], ["methods", "NNS"], ["hasNext", "NN"], ["(", "("], [")", ")"], ["and", "CC"], ["next", "JJ"], ["(", "("], [")", ")"], [".", "."], ["And", "CC"], ["the", "DT"], ["semantics", "NNS"], ["just", "RB"], ["clear", "JJ"], ["from", "IN"], ["the", "DT"], ["names", "NNS"], [".", "."], ["hasNext", "NN"], ["(", "("], [")", ")"], ["is", "VBZ"], ["supposed", "VBN"], ["to", "TO"], ["if", "IN"], [",", ","], ["if", "IN"], ["we", "PRP"], ["'re", "VBP"], ["done", "VBN"], ["is", "VBZ"], ["supposed", "VBN"], ["to", "TO"], ["return", "VB"], ["false", "JJ"], [".", "."], ["If", "IN"], ["we", "PRP"], ["'re", "VBP"], ["not", "RB"], ["done", "VBN"], ["we", "PRP"], ["'re", "VBP"], ["supposed", "VBN"], ["to", "TO"], ["return", "VB"], ["true", "JJ"], ["and", "CC"], ["the", "DT"], ["next", "JJ"], ["(", "("], [")", ")"], ["is", "VBZ"], ["supposed", "VBN"], ["to", "TO"], ["give", "VB"], ["the", "DT"], ["next", "JJ"], ["item", "NN"], ["in", "IN"], ["the", "DT"], ["iteration", "NN"], [".", "."], ["So", "RB"], ["if", "IN"], ["the", "DT"], ["thing", "NN"], ["is", "VBZ"], ["a", "DT"], ["linked", "JJ"], ["list", "NN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["start", "VB"], ["out", "RP"], ["at", "IN"], ["first", "RB"], [".", "."], ["We", "PRP"], ["have", "VBP"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], [",", ","], ["our", "PRP$"], ["first", "JJ"], ["item", "NN"], ["in", "IN"], ["the", "DT"], ["list", "NN"], ["and", "CC"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["maintain", "VB"], ["an", "DT"], ["instance", "NN"], ["variable", "JJ"], ["current", "JJ"], ["inside", "IN"], ["this", "DT"], ["iterator", "NN"], ["which", "WDT"], ["is", "VBZ"], ["the", "DT"], ["current", "JJ"], ["thing", "NN"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["iterating", "VBG"], [".", "."], ["So", "RB"], [",", ","], ["get", "VB"], ["the", "DT"], ["next", "JJ"], ["one", "NN"], ["just", "RB"], ["like", "IN"], ["if", "IN"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["remove", "VB"], ["the", "DT"], ["first", "JJ"], [".", "."], ["We", "PRP"], ["pull", "VBP"], ["out", "RP"], ["the", "DT"], ["current", "JJ"], ["item", "NN"], ["and", "CC"], ["then", "RB"], ["advance", "VB"], ["the", "DT"], ["current", "JJ"], ["reference", "NN"], ["and", "CC"], ["return", "NN"], ["item", "NN"], [".", "."], ["Moving", "VBG"], ["current", "JJ"], ["to", "TO"], ["the", "DT"], ["next", "JJ"], ["place", "NN"], [".", "."], ["The", "DT"], ["client", "NN"], ["is", "VBZ"], ["always", "RB"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["testing", "VBG"], ["hasNext", "JJ"], ["(", "("], [")", ")"], ["as", "IN"], ["I", "PRP"], ["showed", "VBD"], ["as", "IN"], ["I", "PRP"], ["showed", "VBD"], ["and", "CC"], ["that", "IN"], ["stub", "JJ"], ["code", "NN"], ["before", "IN"], ["and", "CC"], ["so", "RB"], ["when", "WRB"], ["it", "PRP"], ["gets", "VBZ"], ["to", "TO"], ["null", "VB"], ["it", "PRP"], ["will", "MD"], ["return", "VB"], ["false", "JJ"], ["in", "IN"], ["the", "DT"], ["iterational", "JJ"], ["stop", "NN"], [".", "."], ["But", "CC"], ["for", "IN"], ["our", "PRP$"], ["iteration", "NN"], [",", ","], ["we", "PRP"], ["just", "RB"], ["have", "VBP"], ["to", "TO"], ["worry", "VB"], ["about", "IN"], ["implementing", "VBG"], ["next", "JJ"], ["(", "("], [")", ")"], ["and", "CC"], ["hasNext", "JJ"], ["(", "("], [")", ")"], ["and", "CC"], ["perhaps", "RB"], ["using", "VBG"], ["a", "DT"], ["local", "JJ"], ["instance", "NN"], ["variable", "NN"], ["to", "TO"], ["get", "VB"], ["it", "PRP"], ["done", "VBN"], [".", "."], ["We", "PRP"], ["have", "VBP"], ["to", "TO"], ["probably", "RB"], ["to", "TO"], ["make", "VB"], ["bullet", "NN"], ["proof", "NN"], ["code", "NN"], ["-", ":"], ["throw", "NN"], ["exceptions", "NNS"], ["if", "IN"], ["a", "DT"], ["client", "NN"], ["tries", "VBZ"], ["to", "TO"], ["call", "VB"], ["next", "JJ"], ["(", "("], [")", ")"], ["with", "IN"], ["no", "DT"], ["items", "NNS"], ["there", "RB"], ["and", "CC"], ["tries", "NNS"], ["to", "TO"], ["call", "VB"], ["remove", "VB"], ["(", "("], [")", ")"], ["at", "IN"], ["all", "DT"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], ["support", "VB"], ["remove", "VB"], ["(", "("], [")", ")"], [".", "."], ["For", "IN"], [",", ","], ["and", "CC"], ["for", "IN"], ["array", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["even", "RB"], ["simpler", "JJR"], [".", "."], ["So", "RB"], ["now", "RB"], ["with", "IN"], ["the", "DT"], ["iterator", "NN"], ["we", "PRP"], ["have", "VBP"], ["control", "VBN"], ["over", "IN"], ["which", "WDT"], ["order", "NN"], ["we", "PRP"], ["go", "VBP"], ["through", "IN"], ["the", "DT"], ["items", "NNS"], ["and", "CC"], ["so", "RB"], ["that", "IN"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["go", "VB"], ["along", "RB"], ["with", "IN"], ["the", "DT"], ["semantics", "NNS"], ["and", "CC"], ["the", "DT"], ["data", "NN"], ["structure", "NN"], ["so", "RB"], ["probably", "RB"], ["in", "IN"], ["a", "DT"], ["stack", "NN"], ["you", "PRP"], ["want", "VBP"], ["to", "TO"], ["get", "VB"], ["the", "DT"], ["things", "NNS"], ["in", "IN"], ["stack", "JJ"], ["order", "NN"], ["like", "IN"], ["the", "DT"], ["order", "NN"], ["that", "WDT"], ["come", "VBZ"], ["out", "IN"], ["of", "IN"], ["the", "DT"], ["stack", "NN"], ["so", "IN"], ["that", "DT"], ["'s", "VBZ"], ["reverse", "JJR"], ["order", "NN"], ["in", "IN"], ["the", "DT"], ["array", "NN"], ["so", "RB"], ["in", "IN"], ["this", "DT"], ["case", "NN"], ["then", "RB"], ["next", "JJ"], ["(", "("], [")", ")"], ["is", "VBZ"], ["just", "RB"], ["decrement", "JJ"], ["and", "CC"], ["return", "VB"], ["the", "DT"], ["next", "JJ"], ["one", "NN"], ["and", "CC"], ["our", "PRP$"], ["instance", "NN"], ["variable", "NN"], ["is", "VBZ"], ["an", "DT"], ["index", "NN"], ["in", "IN"], ["the", "DT"], ["array", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["hasNext", "VB"], ["(", "("], [")", ")"], ["is", "VBZ"], ["okay", "JJ"], ["as", "RB"], ["long", "RB"], ["as", "IN"], ["that", "DT"], ["thing", "NN"], ["is", "VBZ"], ["positive", "JJ"], [".", "."], ["So", "IN"], ["a", "DT"], ["little", "JJ"], ["Java", "NNP"], ["[", "NNP"], ["cough", "NN"], ["]", "NN"], ["code", "NN"], ["to", "TO"], ["provide", "VB"], ["this", "DT"], ["iteration", "NN"], ["facility", "NN"], ["but", "CC"], ["actually", "RB"], ["within", "IN"], ["this", "DT"], ["framework", "NN"], ["not", "RB"], ["too", "RB"], ["much", "JJ"], ["to", "TO"], ["do", "VB"], ["and", "CC"], ["you", "PRP"], ["can", "MD"], ["see", "VB"], ["how", "WRB"], ["to", "TO"], ["implement", "VB"], ["this", "DT"], ["for", "IN"], ["your", "PRP$"], ["own", "JJ"], ["data", "NNS"], ["type", "NN"], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["use", "VB"], ["this", "DT"], ["paradigm", "NN"], ["for", "IN"], ["every", "DT"], ["basic", "JJ"], ["data", "NNS"], ["type", "NN"], ["that", "IN"], ["we", "PRP"], [",", ","], ["that", "WDT"], ["involves", "VBZ"], ["collections", "NNS"], ["of", "IN"], ["objects", "NNS"], ["that", "IN"], ["we", "PRP"], ["'ll", "MD"], ["encounter", "VB"], [".", "."], ["Alright", "NNP"], [",", ","], ["and", "CC"], ["in", "IN"], ["fact", "NN"], [",", ","], ["it", "PRP"], ["leads", "VBZ"], ["us", "PRP"], ["to", "TO"], ["actually", "RB"], ["for", "IN"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["clients", "NNS"], ["it", "PRP"], ["does", "VBZ"], ["n't", "RB"], ["really", "RB"], ["matter", "VB"], ["what", "WP"], ["order", "NN"], ["we", "PRP"], ["get", "VBP"], ["the", "DT"], ["items", "NNS"], [".", "."], ["Really", "RB"], ["often", "RB"], ["what", "WP"], ["we", "PRP"], ["'re", "VBP"], ["doing", "VBG"], ["is", "VBZ"], ["just", "RB"], ["inserting", "JJ"], ["items", "NNS"], ["into", "IN"], ["a", "DT"], ["collection", "NN"], ["and", "CC"], ["then", "RB"], [",", ","], ["later", "RB"], ["on", "IN"], [",", ","], ["iterating", "VBG"], ["through", "IN"], ["the", "DT"], ["items", "NNS"], ["that", "IN"], ["we", "PRP"], ["have", "VBP"], [".", "."], ["That", "DT"], ["data", "NN"], ["structure", "NN"], ["is", "VBZ"], ["called", "VBN"], ["a", "DT"], ["bag", "NN"], ["and", "CC"], ["so", "RB"], ["let", "VB"], ["'s", "POS"], ["look", "VB"], ["at", "IN"], ["what", "WP"], ["that", "IN"], ["API", "NNP"], ["looks", "VBZ"], ["like", "IN"], [".", "."], ["Order", "NN"], ["does", "VBZ"], ["n't", "RB"], ["matter", "VB"], ["so", "RB"], ["all", "DT"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["add", "VB"], ["an", "DT"], ["item", "NN"], ["maybe", "RB"], ["you", "PRP"], ["want", "VBP"], ["to", "TO"], ["know", "VB"], ["the", "DT"], ["size", "NN"], ["and", "CC"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["iterate", "VB"], ["through", "IN"], ["all", "PDT"], ["the", "DT"], ["items", "NNS"], ["in", "IN"], ["the", "DT"], ["bag", "NN"], [".", "."], ["So", "IN"], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], ["simpler", "NN"], [",", ","], ["narrower", "JJR"], ["API", "NNP"], ["but", "CC"], ["still", "RB"], ["it", "PRP"], ["expresses", "VBZ"], ["an", "DT"], ["important", "JJ"], ["little", "JJ"], ["collection", "NN"], ["of", "IN"], ["operations", "NNS"], ["and", "CC"], [",", ","], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["use", "VB"], ["this", "DT"], ["one", "CD"], ["and", "CC"], ["we", "PRP"], ["'ve", "VBP"], ["already", "RB"], ["seen", "VBN"], ["the", "DT"], ["implementations", "NNS"], [".", "."], ["You", "PRP"], ["just", "RB"], ["take", "VB"], ["stack", "NN"], ["and", "CC"], ["remove", "VB"], ["the", "DT"], ["pop", "NN"], [",", ","], ["or", "CC"], ["queue", "NN"], ["and", "CC"], ["remove", "VB"], ["the", "DT"], ["dequeue", "NN"], ["[", "NNP"], ["cough", "NN"], ["]", "NN"], ["and", "CC"], ["you", "PRP"], ["have", "VBP"], ["fine", "JJ"], ["implementation", "NN"], ["of", "IN"], ["a", "DT"], ["useful", "JJ"], ["data", "NN"], ["structure", "NN"], [".", "."]], "title": "iterators", "text": "Okay. There's another facility that Java provides that leads to very elegant compact client code that's definitely worthwhile to add to our basic data types and that's iteration, that's what we're going to talk about now. So, what we want to do is to allow the client to iterate through the items in the collection. But we don't have the client to know whether we're using an array or link list or whatever internal representation we might have in mind. It's not relevant to the client. And a lot of clients only want to do is just iterate through the stuff in the collection. But Java does provide a nice a solution to this called iteration. So what we're going to do is look at how to make our stack, and queue, and other data structures that we consider later on implement the so-called Iterable interface and it will work for client code no matter which implementation we used so let's take a look at the details of that. So what's an Iterable? Well, in Java lingo what an Iterable is, it's, it's a class that has a method that returns an iterator. And so what's an Iterator? Well an Iterator is something, a class that has methods hasNext() and next(). The Java also allows remove(). We think that one is bad news, we don't use it can lead to insidious debug, bug debugging problems. So, it's hasNext() and next() and so to make the data structure iterable, we're going to implement those things. It seems like a lot of baggage to carry around and the reason that we do it, why do we go to the trouble doing it is that we can, if we have a data structure that's iterable we can use a very compact and elegant client code in Java, the so called for-each statement. So if we have a stack we can say - (for String s : stack). It means for each string in the stack - print it out. And if we didn't have that we would now, if we're using iterators, we could go ahead and write this longhand code but nobody would ever do that cuz it's equivalent to the shorthand or we might have to write client code that does a lot of unnecessary pushes and pops just to do this iteration. So that's the key is to be able to have client code that is so compact for iterating through items in the data structure so we're going to provide iteration for all our basic data structures and it's not too hard to do definitely worthwhile the effort. So here's what it looks like for link list. So it's got to implement Iterable so what does that mean implement Iterable? It's got to have a, a method iterator() that returns an iterator. So what's an iterator? So, we're going to use an inner class. In this case, we'll call it ListIterator that implements Iterator and it's generic. And basically what this thing has to do is implement these methods hasNext() and next(). And the semantics just clear from the names. hasNext() is supposed to if, if we're done is supposed to return false. If we're not done we're supposed to return true and the next() is supposed to give the next item in the iteration. So if the thing is a linked list we're going to start out at first. We have that's the, our first item in the list and we're going to maintain an instance variable current inside this iterator which is the current thing that we're iterating. So, get the next one just like if we want to remove the first. We pull out the current item and then advance the current reference and return item. Moving current to the next place. The client is always going to be testing hasNext() as I showed as I showed and that stub code before and so when it gets to null it will return false in the iterational stop. But for our iteration, we just have to worry about implementing next() and hasNext() and perhaps using a local instance variable to get it done. We have to probably to make bullet proof code - throw exceptions if a client tries to call next() with no items there and tries to call remove() at all, we're not going to support remove(). For, and for array, it's even simpler. So now with the iterator we have control over which order we go through the items and so that's going to go along with the semantics and the data structure so probably in a stack you want to get the things in stack order like the order that come out of the stack so that's reverse order in the array so in this case then next() is just decrement and return the next one and our instance variable is an index in the array. And then hasNext() is okay as long as that thing is positive. So a little Java [cough] code to provide this iteration facility but actually within this framework not too much to do and you can see how to implement this for your own data type and we'll use this paradigm for every basic data type that we, that involves collections of objects that we'll encounter. Alright, and in fact, it leads us to actually for a lot of clients it doesn't really matter what order we get the items. Really often what we're doing is just inserting items into a collection and then, later on, iterating through the items that we have. That data structure is called a bag and so let's look at what that API looks like. Order doesn't matter so all we want to do is add an item maybe you want to know the size and we want to iterate through all the items in the bag. So this is a simpler, narrower API but still it expresses an important little collection of operations and, and we'll use this one and we've already seen the implementations. You just take stack and remove the pop, or queue and remove the dequeue [cough] and you have fine implementation of a useful data structure. ", "video_ID": 17, "course_id": 3}
{"category": ["stacks and queues"], "tagged": [["Okay", "NNP"], [".", "."], ["Those", "DT"], ["are", "VBP"], ["some", "DT"], ["basic", "JJ"], ["data", "NNS"], ["structures", "NNS"], ["and", "CC"], ["implementations", "NNS"], ["and", "CC"], ["it", "PRP"], ["seem", "VBP"], ["quite", "RB"], ["elementary", "JJ"], ["and", "CC"], ["simple", "JJ"], ["but", "CC"], ["actually", "RB"], ["right", "JJ"], ["away", "IN"], ["we", "PRP"], ["can", "MD"], ["get", "VB"], ["to", "TO"], ["some", "DT"], ["very", "RB"], ["sophisticated", "JJ"], ["applications", "NNS"], ["of", "IN"], ["these", "DT"], ["basic", "JJ"], ["concepts", "NNS"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["what", "WP"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["consider", "VB"], ["next", "JJ"], [".", "."], ["Now", "RB"], [",", ","], ["first", "JJ"], ["thing", "NN"], ["to", "TO"], ["mention", "NN"], ["is", "VBZ"], ["that", "DT"], ["often", "RB"], ["the", "DT"], ["kinds", "NNS"], ["of", "IN"], ["data", "NNS"], ["types", "NNS"], ["and", "CC"], ["data", "NNS"], ["structures", "NNS"], ["that", "IN"], ["we", "PRP"], ["implement", "VBP"], ["or", "CC"], ["found", "VBN"], ["in", "IN"], ["a", "DT"], ["Java", "NNP"], ["library", "NN"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["true", "JJ"], ["in", "IN"], ["many", "JJ"], ["programming", "NN"], ["environments", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["for", "IN"], ["example", "NN"], ["stacks", "NNS"], ["and", "CC"], ["queues", "NNS"], ["you", "PRP"], ["can", "MD"], ["find", "VB"], ["those", "DT"], ["words", "NNS"], ["mentioned", "VBN"], ["in", "IN"], ["the", "DT"], ["Java", "NNP"], ["library", "NN"], ["so", "RB"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["Java", "NNP"], ["collection", "NN"], ["library", "NN"], ["and", "CC"], ["the", "DT"], ["so-called", "JJ"], ["List", "NNP"], ["interface", "NN"], ["which", "WDT"], ["is", "VBZ"], ["displayed", "VBN"], ["here", "RB"], [".", "."], ["So", "NNP"], ["Java", "NNP"], ["has", "VBZ"], ["general", "JJ"], ["API", "NNP"], ["for", "IN"], ["sequences", "NNS"], ["of", "IN"], ["items", "NNS"], ["and", "CC"], ["its", "PRP$"], ["got", "JJ"], ["things", "NNS"], ["like", "IN"], ["a", "DT"], [",", ","], ["append", "NN"], ["at", "IN"], ["the", "DT"], ["end", "NN"], [",", ","], ["remove", "VB"], ["from", "IN"], ["the", "DT"], ["beginning", "NN"], [",", ","], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["Any", "DT"], ["uses", "NNS"], ["of", "IN"], ["the", "DT"], ["resizing", "NN"], ["array", "NN"], [",", ","], ["so", "RB"], ["many", "JJ"], ["of", "IN"], ["the", "DT"], ["principles", "NNS"], ["that", "IN"], ["we", "PRP"], ["consider", "VBP"], ["does", "VBZ"], ["also", "RB"], ["a", "DT"], [",", ","], ["a", "DT"], ["link", "NN"], ["list", "NN"], ["interface", "NN"], [".", "."], ["So", "RB"], [",", ","], ["why", "WRB"], ["not", "RB"], ["just", "RB"], ["use", "VB"], ["those", "DT"], ["?", "."], ["Why", "WRB"], ["use", "VB"], ["our", "PRP$"], ["own", "JJ"], ["implementations", "NNS"], ["?", "."], ["Well", "RB"], [",", ","], ["the", "DT"], ["problem", "NN"], ["is", "VBZ"], ["often", "RB"], ["in", "IN"], ["such", "JJ"], ["library", "JJ"], ["code", "NN"], ["is", "VBZ"], ["kind", "NN"], ["of", "IN"], ["designed", "VBN"], ["by", "IN"], ["committee", "NN"], ["phenomenon", "NN"], ["that", "IN"], ["more", "JJR"], ["and", "CC"], ["more", "JJR"], ["operations", "NNS"], ["get", "VBP"], ["added", "VBN"], ["and", "CC"], ["the", "DT"], ["API", "NNP"], ["becomes", "VBZ"], ["too", "RB"], ["broad", "JJ"], ["or", "CC"], ["bloated", "VBN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["a", "DT"], ["good", "JJ"], ["idea", "NN"], ["to", "TO"], ["have", "VB"], ["lots", "NNS"], ["and", "CC"], ["lots", "NNS"], ["of", "IN"], [",", ","], ["you", "PRP"], ["know", "VBP"], [",", ","], ["operations", "NNS"], ["in", "IN"], ["the", "DT"], ["same", "JJ"], ["API", "NNP"], [".", "."], ["And", "CC"], ["we", "PRP"], ["'ll", "MD"], ["see", "VB"], ["example", "NN"], ["in", "IN"], ["a", "DT"], ["second", "JJ"], [".", "."], ["The", "DT"], ["problem", "NN"], [",", ","], ["the", "DT"], ["real", "JJ"], ["problem", "NN"], ["is", "VBZ"], ["that", "IN"], ["when", "WRB"], ["you", "PRP"], ["do", "VBP"], ["that", "IN"], ["you", "PRP"], ["ca", "MD"], ["n't", "RB"], ["know", "VB"], ["much", "RB"], ["about", "IN"], ["the", "DT"], ["performance", "NN"], ["or", "CC"], ["you", "PRP"], ["ca", "MD"], ["n't", "RB"], ["assume", "VB"], ["much", "JJ"], ["about", "IN"], ["the", "DT"], ["performance", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], ["you", "PRP"], ["can", "MD"], ["kind", "NN"], ["of", "IN"], ["immediately", "RB"], ["arrive", "JJ"], ["at", "IN"], ["that", "DT"], ["performance", "NN"], ["even", "RB"], ["for", "IN"], ["simple", "JJ"], ["clients", "NNS"], [".", "."], ["So", "RB"], ["our", "PRP$"], ["best", "JJS"], ["practice", "NN"], ["that", "IN"], ["we", "PRP"], ["recommend", "VBP"], ["is", "VBZ"], ["so", "RB"], ["few", "JJ"], ["that", "IN"], ["these", "DT"], ["basic", "JJ"], ["data", "NN"], ["structures", "NNS"], ["that", "IN"], ["we", "PRP"], ["use", "VBP"], ["and", "CC"], ["there", "EX"], ["'s", "VBZ"], ["so", "RB"], ["simple", "JJ"], ["is", "VBZ"], ["to", "TO"], ["go", "VB"], ["ahead", "RB"], ["and", "CC"], ["use", "VB"], ["the", "DT"], ["implementations", "NNS"], ["that", "IN"], ["we", "PRP"], ["'ve", "VBP"], ["just", "RB"], ["discussed", "VBN"], ["for", "IN"], ["these", "DT"], ["fundamental", "JJ"], ["data", "NN"], ["structures", "NNS"], [".", "."], ["Maybe", "RB"], ["later", "RB"], [",", ","], ["later", "RB"], ["on", "IN"], [",", ","], ["after", "IN"], ["an", "DT"], ["experienced", "JJ"], ["programmer", "NN"], ["who", "WP"], ["knows", "VBZ"], ["what", "WP"], ["he", "PRP"], ["or", "CC"], ["she", "PRP"], ["is", "VBZ"], ["doing", "VBG"], ["could", "MD"], ["use", "VB"], ["some", "DT"], ["of", "IN"], ["these", "DT"], ["library", "JJ"], ["collections", "NNS"], ["effectively", "RB"], [".", "."], ["But", "CC"], ["inexperienced", "JJ"], ["programmers", "NNS"], ["often", "RB"], ["have", "VBP"], ["trouble", "NN"], ["with", "IN"], ["it", "PRP"], [".", "."], ["Here", "RB"], ["'s", "VBZ"], ["a", "DT"], ["war", "NN"], ["story", "NN"], ["from", "IN"], ["students", "NNS"], ["Programming", "VBG"], ["assignments", "NNS"], ["not", "RB"], ["that", "IN"], ["long", "RB"], ["ago", "RB"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["an", "DT"], ["assignment", "NN"], ["where", "WRB"], ["you", "PRP"], ["need", "VBP"], ["to", "TO"], ["generate", "VB"], ["a", "DT"], ["random", "NN"], ["open", "JJ"], ["sites", "NNS"], ["in", "IN"], ["a", "DT"], ["percolation", "NN"], ["system", "NN"], [".", "."], ["We", "PRP"], ["have", "VBP"], ["one", "CD"], ["student", "NN"], ["who", "WP"], ["was", "VBD"], ["paying", "VBG"], ["attention", "NN"], ["to", "TO"], ["what", "WP"], ["we", "PRP"], ["'re", "VBP"], ["saying", "VBG"], ["and", "CC"], ["uses", "VBZ"], ["an", "DT"], ["array", "NN"], ["and", "CC"], ["can", "MD"], ["pick", "VB"], ["the", "DT"], ["indices", "NNS"], ["into", "IN"], ["that", "DT"], ["array", "NN"], ["at", "IN"], ["random", "NN"], ["check", "VBP"], ["whether", "IN"], ["they", "PRP"], ["'re", "VBP"], ["open", "JJ"], ["and", "CC"], [",", ","], ["and", "CC"], ["repeat", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], ["the", "DT"], ["array", "NN"], ["is", "VBZ"], ["N", "VBN"], ["by", "IN"], ["N", "NNP"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["N^2", "NNP"], ["things", "NNS"], ["and", "CC"], ["it", "PRP"], ["takes", "VBZ"], ["about", "IN"], ["N^2", "NNP"], ["time", "NN"], [",", ","], ["which", "WDT"], ["is", "VBZ"], ["actually", "RB"], ["a", "DT"], ["linear", "JJ"], ["time", "NN"], ["for", "IN"], ["this", "DT"], ["application", "NN"], [".", "."], ["But", "CC"], ["then", "RB"], ["we", "PRP"], ["have", "VBP"], ["another", "DT"], ["student", "NN"], ["who", "WP"], ["had", "VBD"], ["some", "DT"], ["Java", "NNP"], ["before", "IN"], ["coming", "VBG"], ["to", "TO"], ["us", "PRP"], ["and", "CC"], ["considered", "VBD"], ["himself", "PRP"], ["an", "DT"], ["expert", "NN"], ["and", "CC"], ["said", "VBD"], [",", ","], ["well", "UH"], [",", ","], ["I", "PRP"], ["'m", "VBP"], ["going", "VBG"], ["to", "TO"], ["use", "VB"], ["linked", "VBN"], ["list", "NN"], ["because", "IN"], ["I", "PRP"], ["could", "MD"], ["use", "VB"], ["Java", "NNP"], ["'s", "POS"], ["library", "JJ"], ["and", "CC"], ["I", "PRP"], ["do", "VBP"], ["n't", "RB"], ["have", "VB"], ["to", "TO"], ["worry", "VB"], ["about", "IN"], ["downloading", "VBG"], ["your", "PRP$"], ["stupid", "JJ"], ["code", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], [",", ","], ["I", "PRP"], ["'ll", "MD"], ["just", "RB"], ["use", "VB"], ["that", "IN"], ["one", "CD"], ["and", "CC"], ["pick", "VB"], ["an", "DT"], ["index", "NN"], ["at", "IN"], ["random", "NN"], ["and", "CC"], ["delete", "NN"], ["and", "CC"], ["that", "DT"], ["program", "NN"], ["took", "VBD"], ["quadratic", "JJ"], ["time", "NN"], ["and", "CC"], ["poor", "JJ"], ["Kenny", "NNP"], [",", ","], ["when", "WRB"], ["trying", "VBG"], ["to", "TO"], ["run", "VB"], ["his", "PRP$"], ["program", "NN"], ["for", "IN"], ["the", "DT"], ["huge", "JJ"], ["instance", "NN"], ["that", "IN"], ["we", "PRP"], ["asked", "VBD"], ["found", "VBN"], ["out", "RP"], ["that", "IN"], ["it", "PRP"], ["was", "VBD"], ["n't", "RB"], ["finishing", "VBG"], [".", "."], ["And", "CC"], ["the", "DT"], ["reason", "NN"], ["is", "VBZ"], ["that", "IN"], ["the", "DT"], ["Java", "NNP"], ["linked", "VBD"], ["list", "JJ"], ["implementation", "NN"], ["takes", "VBZ"], ["a", "DT"], ["linear", "JJ"], ["time", "NN"], ["to", "TO"], ["find", "VB"], ["an", "DT"], ["item", "NN"], ["with", "IN"], ["a", "DT"], ["given", "VBN"], ["index", "NN"], [".", "."], ["Not", "RB"], ["constant", "JJ"], ["time", "NN"], ["like", "IN"], ["an", "DT"], ["array", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["difficult", "JJ"], ["for", "IN"], ["Kenny", "NNP"], ["to", "TO"], ["think", "VB"], ["about", "IN"], ["and", "CC"], ["difficult", "JJ"], ["to", "TO"], ["drive", "VB"], ["that", "DT"], ["information", "NN"], ["from", "IN"], ["the", "DT"], ["implementation", "NN"], ["so", "IN"], ["program", "NN"], ["is", "VBZ"], ["just", "RB"], ["too", "RB"], ["slow", "JJ"], [".", "."], ["And", "CC"], ["with", "IN"], ["the", "DT"], ["Swiss", "JJ"], ["knife", "NN"], ["implementation", "NN"], ["with", "IN"], ["so", "RB"], ["many", "JJ"], ["operations", "NNS"], ["it", "PRP"], ["'s", "VBZ"], ["hard", "JJ"], ["to", "TO"], ["know", "VB"], ["whether", "IN"], ["or", "CC"], ["not", "RB"], ["the", "DT"], ["particular", "JJ"], ["set", "NN"], ["of", "IN"], ["operations", "NNS"], ["that", "IN"], ["your", "PRP$"], ["client", "NN"], ["needs", "NNS"], ["is", "VBZ"], ["efficiently", "RB"], ["implemented", "VBN"], [".", "."], ["So", "RB"], ["our", "PRP$"], ["insistence", "NN"], ["in", "IN"], ["this", "DT"], ["course", "NN"], ["is", "VBZ"], ["that", "IN"], ["students", "NNS"], ["should", "MD"], ["not", "RB"], ["use", "VB"], ["the", "DT"], ["library", "NN"], ["until", "IN"], ["we", "PRP"], ["'ve", "VBP"], ["implemented", "VBN"], ["it", "PRP"], ["in", "IN"], ["class", "NN"], [".", "."], ["At", "IN"], ["least", "JJS"], ["that", "IN"], ["some", "DT"], ["indication", "NN"], ["that", "IN"], ["you", "PRP"], ["understand", "VBP"], ["the", "DT"], ["performance", "NN"], ["characteristics", "NNS"], [".", "."], ["So", "RB"], ["now", "RB"], [",", ","], ["let", "VB"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["some", "DT"], ["applications", "NNS"], ["then", "RB"], ["of", "IN"], [",", ","], ["of", "IN"], ["stacks", "NNS"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["the", "DT"], ["stacks", "NNS"], ["are", "VBP"], ["really", "RB"], ["actually", "RB"], ["fundamental", "JJ"], ["underlying", "JJ"], ["computation", "NN"], ["because", "IN"], ["they", "PRP"], ["implement", "VBP"], [",", ","], ["recursion", "NN"], ["and", "CC"], ["so", "RB"], [",", ","], ["you", "PRP"], ["use", "VBP"], ["stacks", "NNS"], ["often", "RB"], ["everyday", "VBP"], ["when", "WRB"], ["you", "PRP"], ["wrote", "VBD"], [",", ","], ["use", "VB"], ["the", "DT"], ["Back", "NNP"], ["button", "NN"], ["in", "IN"], ["the", "DT"], ["Web", "NNP"], ["browser", "NN"], [",", ","], ["the", "DT"], ["places", "NNS"], ["that", "IN"], ["you", "PRP"], ["'ve", "VBP"], ["been", "VBN"], ["are", "VBP"], ["saved", "VBN"], ["on", "IN"], ["a", "DT"], ["stack", "NN"], [".", "."], ["Right", "RB"], ["now", "RB"], ["we", "PRP"], ["will", "MD"], ["look", "VB"], ["at", "IN"], ["two", "CD"], ["examples", "NNS"], [".", "."], ["One", "CD"], [",", ","], ["having", "VBG"], ["to", "TO"], ["deal", "VB"], ["with", "IN"], ["compiling", "VBG"], ["from", "IN"], ["a", "DT"], ["programming", "JJ"], ["language", "NN"], ["or", "CC"], ["interpreting", "VBG"], ["into", "IN"], ["an", "DT"], ["actual", "JJ"], ["computation", "NN"], ["and", "CC"], ["then", "RB"], ["the", "DT"], ["other", "JJ"], ["one", "CD"], ["is", "VBZ"], ["the", "DT"], ["PostScript", "NNP"], ["language", "NN"], ["which", "WDT"], ["is", "VBZ"], ["widely", "RB"], ["used", "VBN"], ["for", "IN"], [",", ","], ["for", "IN"], ["printing", "NN"], ["and", "CC"], ["publishing", "NN"], [".", "."], ["So", "RB"], [",", ","], ["so", "IN"], ["the", "DT"], ["way", "NN"], ["the", "DT"], ["compilers", "NNS"], ["implement", "JJ"], ["functions", "NNS"], ["is", "VBZ"], ["using", "VBG"], ["stacks", "NNS"], [".", "."], ["When", "WRB"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["function", "NN"], ["call", "NN"], ["the", "DT"], ["whole", "JJ"], ["local", "JJ"], ["environment", "NN"], ["is", "VBZ"], ["pushed", "VBN"], ["and", "CC"], ["then", "RB"], ["along", "RB"], ["with", "IN"], ["the", "DT"], ["return", "NN"], ["address", "NN"], ["and", "CC"], ["then", "RB"], ["the", "DT"], ["function", "NN"], ["returned", "VBD"], ["is", "VBZ"], ["pop", "IN"], ["the", "DT"], ["return", "NN"], ["address", "NN"], ["in", "IN"], ["the", "DT"], ["local", "JJ"], ["environment", "NN"], [".", "."], ["So", "IN"], ["there", "EX"], ["is", "VBZ"], ["the", "DT"], ["stack", "NN"], ["there", "EX"], ["that", "IN"], ["contains", "VBZ"], ["all", "DT"], ["that", "DT"], ["information", "NN"], ["and", "CC"], ["whether", "IN"], ["the", "DT"], ["function", "NN"], ["calls", "VBZ"], ["itself", "PRP"], ["or", "CC"], ["not", "RB"], ["is", "VBZ"], ["not", "RB"], ["relevant", "JJ"], [".", "."], ["The", "DT"], ["stack", "NN"], ["contains", "VBZ"], ["the", "DT"], ["recursion", "NN"], [".", "."], ["In", "IN"], ["fact", "NN"], [",", ","], ["you", "PRP"], ["can", "MD"], ["always", "RB"], ["use", "VB"], ["an", "DT"], ["explicit", "JJ"], ["stack", "NN"], ["to", "TO"], ["make", "VB"], ["a", "DT"], ["recursive", "JJ"], ["program", "NN"], ["non-recursive", "JJ"], [".", "."], ["So", "RB"], [",", ","], ["this", "DT"], ["is", "VBZ"], ["so", "RB"], ["when", "WRB"], ["we", "PRP"], ["have", "VBP"], ["the", "DT"], ["GCD", "NNP"], ["function", "NN"], [",", ","], ["computing", "VBG"], ["the", "DT"], ["greatest", "JJS"], ["common", "JJ"], ["denominator", "NN"], [",", ","], ["greatest", "JJS"], ["common", "JJ"], ["denominator", "NN"], ["p", "NN"], ["and", "CC"], ["q", "NN"], ["is", "VBZ"], ["greatest", "JJ"], ["common", "JJ"], ["denominator", "NN"], ["of", "IN"], ["q", "NN"], ["and", "CC"], ["p", "NN"], ["mod", "NN"], ["q", "NN"], ["and", "CC"], ["it", "PRP"], ["just", "RB"], ["calls", "VBZ"], ["itself", "PRP"], ["until", "IN"], ["q", "JJ"], ["gets", "VBZ"], ["to", "TO"], ["be", "VB"], ["zero", "CD"], [".", "."], ["And", "CC"], ["as", "IN"], ["this", "DT"], ["graphic", "JJ"], ["integrates", "NNS"], [",", ","], ["it", "PRP"], ["just", "RB"], ["does", "VBZ"], ["it", "PRP"], ["by", "IN"], ["saving", "VBG"], ["the", "DT"], ["information", "NN"], ["on", "IN"], ["a", "DT"], ["stack", "NN"], [".", "."], ["Now", "RB"], ["a", "DT"], ["specific", "JJ"], ["example", "NN"], ["that", "WDT"], ["really", "RB"], ["shows", "VBZ"], ["this", "DT"], ["off", "NN"], ["and", "CC"], ["also", "RB"], ["will", "MD"], ["illustrate", "VB"], ["the", "DT"], ["utility", "NN"], ["of", "IN"], ["being", "VBG"], ["able", "JJ"], ["to", "TO"], ["process", "VB"], ["multiple", "JJ"], ["types", "NNS"], ["of", "IN"], ["data", "NNS"], ["with", "IN"], ["the", "DT"], ["same", "JJ"], ["code", "NN"], ["is", "VBZ"], ["this", "DT"], ["example", "NN"], ["is", "VBZ"], ["Dijkstra", "NNP"], ["'s", "POS"], ["two-stack", "NN"], ["algorithm", "NN"], ["for", "IN"], ["arithmetic", "JJ"], ["expression", "NN"], ["evaluation", "NN"], [".", "."], ["So", "IN"], ["the", "DT"], ["goal", "NN"], ["is", "VBZ"], [",", ","], ["you", "PRP"], ["got", "VBD"], ["an", "DT"], ["arithmetic", "JJ"], ["expression", "NN"], ["this", "DT"], ["is", "VBZ"], ["just", "RB"], ["actually", "RB"], ["like", "IN"], ["a", "DT"], ["simple", "JJ"], ["stand", "NN"], ["in", "IN"], ["for", "IN"], ["a", "DT"], ["program", "NN"], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["talk", "VB"], ["about", "IN"], ["that", "DT"], ["in", "IN"], ["a", "DT"], ["second", "JJ"], ["but", "CC"], ["let", "NN"], ["'s", "POS"], ["say", "VB"], [",", ","], ["arithmetic", "JJ"], ["expressions", "NNS"], [".", "."], ["We", "PRP"], ["have", "VBP"], ["operands", "NNS"], ["and", "CC"], ["operators", "NNS"], ["and", "CC"], ["you", "PRP"], ["want", "VBP"], ["to", "TO"], ["evaluate", "VB"], ["it", "PRP"], [".", "."], ["And", "CC"], ["Dijkstra", "NNP"], ["'s", "POS"], ["algorithm", "NN"], ["is", "VBZ"], ["very", "RB"], ["simple", "JJ"], ["to", "TO"], ["express", "VB"], [".", "."], ["You", "PRP"], ["processes", "VBZ"], ["through", "IN"], ["the", "DT"], ["expression", "NN"], ["from", "IN"], ["left", "VBN"], ["to", "TO"], ["right", "VB"], [".", "."], ["If", "IN"], ["you", "PRP"], ["see", "VBP"], ["a", "DT"], ["value", "NN"], [",", ","], ["you", "PRP"], ["put", "VBP"], ["it", "PRP"], [",", ","], ["you", "PRP"], ["maintain", "VBP"], ["two", "CD"], ["stacks", "NNS"], ["and", "CC"], ["if", "IN"], ["you", "PRP"], ["see", "VBP"], ["a", "DT"], ["value", "NN"], [",", ","], ["you", "PRP"], ["put", "VBP"], ["it", "PRP"], ["on", "IN"], ["the", "DT"], ["value", "NN"], ["stack", "NN"], ["and", "CC"], ["if", "IN"], ["you", "PRP"], ["see", "VBP"], ["an", "DT"], ["operator", "NN"], [",", ","], ["you", "PRP"], ["put", "VBP"], ["on", "IN"], ["the", "DT"], ["operator", "NN"], ["stack", "NN"], [".", "."], ["Left", "VBN"], ["parenthesis", "NN"], ["you", "PRP"], ["ignore", "VBP"], [".", "."], ["Right", "JJ"], ["parenthesis", "NN"], [",", ","], ["you", "PRP"], ["pop", "VBP"], ["the", "DT"], ["operator", "NN"], ["and", "CC"], ["two", "CD"], ["values", "NNS"], ["and", "CC"], ["push", "VB"], ["the", "DT"], ["result", "NN"], [".", "."], ["Now", "RB"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["words", "NNS"], ["let", "VBP"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["a", "DT"], ["demo", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["start", "VBP"], ["out", "RP"], ["with", "IN"], ["the", "DT"], ["empty", "JJ"], ["value", "NN"], ["stack", "NN"], ["and", "CC"], ["operator", "NN"], ["stack", "NN"], ["and", "CC"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["move", "VB"], ["from", "IN"], ["left", "NN"], ["to", "TO"], ["right", "VB"], [".", "."], ["So", "RB"], [",", ","], ["and", "CC"], ["those", "DT"], ["are", "VBP"], ["the", "DT"], ["a", "DT"], ["top", "JJ"], ["is", "VBZ"], ["summarize", "VB"], ["the", "DT"], ["four", "CD"], ["type", "NN"], ["of", "IN"], ["things", "NNS"], ["that", "IN"], ["we", "PRP"], ["could", "MD"], ["wind", "VB"], ["up", "RP"], ["with", "IN"], ["and", "CC"], ["what", "WP"], ["to", "TO"], ["do", "VB"], ["so", "RB"], ["the", "DT"], ["left", "JJ"], ["parenthesis", "NN"], ["we", "PRP"], ["'ve", "VBP"], ["ignored", "VBN"], [",", ","], ["a", "DT"], ["value", "NN"], ["we", "PRP"], ["put", "VBD"], ["on", "IN"], ["to", "TO"], ["the", "DT"], ["value", "NN"], ["stack", "NN"], [".", "."], ["So", "RB"], [",", ","], ["that", "IN"], ["one", "CD"], ["goes", "VBZ"], ["right", "RB"], ["in", "IN"], ["to", "TO"], ["the", "DT"], ["value", "NN"], ["stack", "NN"], [".", "."], ["Operator", "NN"], [",", ","], ["we", "PRP"], ["put", "VBP"], ["on", "IN"], ["to", "TO"], ["the", "DT"], ["operator", "NN"], ["stack", "NN"], [".", "."], ["And", "CC"], ["plus", "CC"], ["it", "PRP"], ["goes", "VBZ"], ["on", "IN"], ["the", "DT"], ["operator", "NN"], ["stack", "NN"], [".", "."], ["Left", "VBN"], ["parenthesis", "NN"], ["you", "PRP"], ["ignore", "VBP"], [".", "."], ["It", "PRP"], ["seems", "VBZ"], ["strange", "JJ"], ["to", "TO"], ["be", "VB"], ["ignoring", "VBG"], ["parenthesis", "NN"], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["get", "VB"], ["back", "RB"], ["to", "TO"], ["that", "DT"], ["in", "IN"], ["a", "DT"], ["second", "JJ"], [".", "."], ["Value", "NNP"], [",", ","], ["put", "VBD"], ["in", "IN"], ["the", "DT"], ["value", "NN"], ["stack", "NN"], [".", "."], ["Operator", "NN"], [",", ","], ["put", "VBN"], ["on", "IN"], ["the", "DT"], ["operating", "NN"], ["stack", "NN"], [".", "."], ["Does", "VBZ"], ["n't", "RB"], ["seem", "VB"], ["like", "IN"], ["we", "PRP"], ["'re", "VBP"], ["doing", "VBG"], ["much", "JJ"], ["except", "IN"], ["putting", "VBG"], ["stuff", "NN"], ["on", "IN"], ["stacks", "NNS"], ["and", "CC"], ["now", "RB"], [",", ","], ["when", "WRB"], ["we", "PRP"], ["come", "VBP"], ["to", "TO"], ["our", "PRP$"], ["right", "JJ"], ["parenthesis", "NN"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["when", "WRB"], ["it", "PRP"], ["gets", "VBZ"], ["interesting", "JJ"], [".", "."], ["What", "WP"], ["it", "PRP"], ["says", "VBZ"], ["is", "VBZ"], ["to", "TO"], ["you", "PRP"], ["have", "VBP"], ["the", "DT"], ["top", "NN"], ["operator", "NN"], ["and", "CC"], ["the", "DT"], ["top", "JJ"], ["two", "CD"], ["values", "NNS"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["what", "WP"], ["you", "PRP"], ["want", "VBP"], ["to", "TO"], ["do", "VB"], [".", "."], ["Supply", "VB"], ["that", "DT"], ["operator", "NN"], ["to", "TO"], ["those", "DT"], ["values", "NNS"], ["and", "CC"], ["put", "VBD"], ["the", "DT"], ["resulting", "VBG"], ["value", "NN"], ["that", "WDT"], ["you", "PRP"], ["get", "VBP"], ["back", "RB"], ["on", "IN"], ["to", "TO"], ["the", "DT"], ["operation", "NN"], ["stack", "NN"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["take", "VBP"], ["off", "RP"], ["the", "DT"], ["top", "JJ"], ["two", "CD"], ["things", "NNS"], [",", ","], ["we", "PRP"], ["do", "VBP"], ["the", "DT"], ["operation", "NN"], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["put", "VBD"], ["the", "DT"], ["thing", "NN"], ["that", "IN"], ["we", "PRP"], ["get", "VBP"], ["onto", "IN"], ["the", "DT"], ["value", "NN"], ["stack", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["right", "JJ"], ["parenthesis", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], ["continuing", "VBG"], ["along", "IN"], ["we", "PRP"], ["put", "VBD"], ["a", "DT"], ["star", "NN"], ["on", "IN"], [".", "."], ["Left", "NNP"], ["parenthesis", "NN"], [",", ","], ["we", "PRP"], ["ignore", "VBP"], [".", "."], ["Four", "CD"], ["on", "IN"], [",", ","], ["star", "NN"], [".", "."], ["The", "DT"], ["right", "NN"], ["goes", "VBZ"], ["to", "TO"], ["the", "DT"], ["value", "NN"], ["stack", "NN"], ["and", "CC"], ["now", "RB"], ["we", "PRP"], ["got", "VBD"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["stuff", "NN"], ["on", "IN"], ["the", "DT"], ["stacks", "NNS"], ["and", "CC"], ["we", "PRP"], ["got", "VBD"], ["through", "RB"], ["right", "JJ"], ["parenthesis", "NN"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["finish", "VB"], ["up", "RP"], ["the", "DT"], ["computation", "NN"], [",", ","], ["take", "VB"], ["the", "DT"], ["top", "JJ"], ["two", "CD"], ["items", "NNS"], ["off", "IN"], ["the", "DT"], ["stack", "NN"], ["and", "CC"], ["the", "DT"], ["top", "JJ"], ["operator", "NN"], ["off", "IN"], ["the", "DT"], ["operator", "NN"], ["stack", "NN"], [",", ","], ["perform", "VB"], ["the", "DT"], ["operation", "NN"], [",", ","], ["put", "VBD"], ["the", "DT"], ["result", "NN"], ["back", "RB"], ["on", "IN"], ["the", "DT"], ["value", "NN"], ["stack", "NN"], [".", "."], ["Another", "DT"], ["right", "JJ"], ["parenthesis", "NN"], [",", ","], ["take", "VB"], ["the", "DT"], ["top", "JJ"], ["two", "CD"], ["values", "NNS"], ["off", "IN"], [".", "."], ["Perform", "VB"], ["the", "DT"], ["operation", "NN"], [".", "."], ["Put", "VB"], ["the", "DT"], ["value", "NN"], ["on", "IN"], ["to", "TO"], ["the", "DT"], ["value", "NN"], ["stack", "NN"], ["and", "CC"], ["finally", "RB"], [",", ","], ["the", "DT"], ["last", "JJ"], ["right", "JJ"], ["parenthesis", "NN"], [",", ","], ["take", "VBP"], ["the", "DT"], ["two", "CD"], ["operators", "NNS"], ["of", "IN"], ["the", "DT"], ["value", "NN"], ["stack", "NN"], [",", ","], ["operators", "NNS"], ["of", "IN"], ["the", "DT"], ["value", "NN"], ["stack", "NN"], [",", ","], ["and", "CC"], ["operator", "NN"], ["of", "IN"], ["the", "DT"], ["operator", "NN"], ["stack", "NN"], [",", ","], ["perform", "VB"], ["the", "DT"], ["operation", "NN"], [",", ","], ["put", "VBD"], ["the", "DT"], ["result", "NN"], ["back", "RB"], ["on", "IN"], ["the", "DT"], ["value", "NN"], ["stack", "NN"], [".", "."], ["And", "CC"], ["we", "PRP"], ["'re", "VBP"], ["at", "IN"], ["the", "DT"], ["end", "NN"], ["of", "IN"], ["the", "DT"], ["computation", "NN"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["result", "NN"], [".", "."], ["The", "DT"], ["value", "NN"], ["that", "WDT"], ["arithmetic", "JJ"], ["expression", "NN"], ["is", "VBZ"], ["101", "CD"], [".", "."], ["Okay", "VB"], ["?", "."], ["Yup", "NNP"], [".", "."], ["Here", "RB"], ["'s", "VBZ"], ["the", "DT"], ["code", "NN"], ["that", "IN"], ["implements", "VBZ"], ["Dijkstra", "NNP"], ["'s", "POS"], ["two-stack", "JJ"], ["algorithm", "NN"], [".", "."], ["We", "PRP"], ["have", "VBP"], ["two", "CD"], ["different", "JJ"], ["stacks", "NNS"], [".", "."], ["The", "DT"], ["operand", "NN"], ["stack", "VBD"], ["the", "DT"], ["operator", "NN"], ["stack", "NN"], ["is", "VBZ"], ["string", "VBG"], [",", ","], ["it", "PRP"], ["could", "MD"], ["be", "VB"], ["characters", "NNS"], ["which", "WDT"], ["is", "VBZ"], ["just", "RB"], ["our", "PRP$"], ["operator", "NN"], [".", "."], ["Then", "RB"], ["our", "PRP$"], ["value", "NN"], ["stack", "NN"], ["is", "VBZ"], ["doubled", "VBN"], ["so", "RB"], ["that", "IN"], ["'s", "VBZ"], ["the", "DT"], ["same", "JJ"], ["stack", "NN"], ["code", "NN"], ["but", "CC"], ["with", "IN"], ["generics", "NNS"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["using", "VBG"], [",", ","], ["using", "VBG"], ["two", "CD"], ["different", "JJ"], ["types", "NNS"], ["of", "IN"], ["data", "NNS"], [".", "."], ["And", "CC"], ["then", "RB"], ["simply", "RB"], ["perform", "VB"], ["Dijkstra", "NNP"], ["'s", "POS"], ["algorithm", "NN"], [".", "."], ["If", "IN"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["left", "JJ"], ["parenthesis", "NN"], ["...", ":"], ["Read", "VB"], ["a", "DT"], ["new", "JJ"], ["string", "NN"], [".", "."], ["If", "IN"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["left", "JJ"], ["parenthesis", "NN"], [",", ","], ["do", "VBP"], ["nothing", "NN"], [".", "."], ["If", "IN"], ["we", "PRP"], ["have", "VBP"], ["plus", "CC"], ["or", "CC"], ["times", "NNS"], [",", ","], ["push", "NN"], ["it", "PRP"], [".", "."], ["If", "IN"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["right", "JJ"], ["parenthesis", "NN"], [",", ","], ["then", "RB"], ["go", "VB"], ["ahead", "RB"], ["and", "CC"], ["pop", "VB"], ["the", "DT"], ["operator", "NN"], [".", "."], ["And", "CC"], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["plus", "CC"], [",", ","], ["add", "VB"], ["the", "DT"], ["result", "NN"], ["of", "IN"], ["the", "DT"], ["two", "CD"], ["values", "NNS"], ["at", "IN"], ["the", "DT"], ["top", "NN"], ["of", "IN"], ["the", "DT"], ["value", "NN"], ["stack", "NN"], ["and", "CC"], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["star", "NN"], [",", ","], ["multiply", "VB"], ["the", "DT"], ["two", "CD"], ["values", "NNS"], ["on", "IN"], ["the", "DT"], ["top", "NN"], ["of", "IN"], ["the", "DT"], ["stack", "NN"], ["and", "CC"], [",", ","], ["and", "CC"], ["then", "RB"], ["push", "VB"], ["the", "DT"], ["result", "NN"], [".", "."], ["So", "RB"], ["and", "CC"], ["then", "RB"], ["when", "WRB"], ["you", "PRP"], ["'re", "VBP"], ["done", "VBN"], ["then", "RB"], ["simply", "RB"], ["print", "VB"], ["out", "RP"], ["the", "DT"], ["value", "NN"], ["on", "IN"], ["the", "DT"], ["stack", "NN"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["fine", "JJ"], ["and", "CC"], ["elegant", "JJ"], ["implementation", "NN"], ["using", "VBG"], ["stacks", "NNS"], ["for", "IN"], ["any", "DT"], ["arithmetic", "JJ"], ["expression", "NN"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["easy", "JJ"], ["to", "TO"], ["extend", "VB"], ["that", "DT"], ["to", "TO"], ["handle", "VB"], ["other", "JJ"], ["types", "NNS"], ["of", "IN"], ["things", "NNS"], ["and", "CC"], ["so", "RB"], [",", ","], ["why", "WRB"], ["does", "VBZ"], ["this", "DT"], ["work", "NN"], ["?", "."], ["Well", "UH"], [",", ","], ["when", "WRB"], ["the", "DT"], ["algorithm", "NN"], ["encounters", "VBZ"], ["an", "DT"], ["operator", "NN"], [",", ","], ["say", "VBP"], [",", ","], ["in", "IN"], ["the", "DT"], ["inside", "NN"], [",", ","], ["we", "PRP"], ["got", "VBD"], ["the", "DT"], ["parenthesis", "NN"], [",", ","], ["operand", "NN"], [",", ","], ["operator", "NN"], [",", ","], ["operand", "NN"], [",", ","], ["parenthesis", "NN"], ["its", "PRP$"], ["easy", "JJ"], ["to", "TO"], ["see", "VB"], ["that", "IN"], ["what", "WP"], ["its", "PRP$"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], ["inside", "RB"], ["there", "EX"], ["is", "VBZ"], ["put", "VBN"], ["the", "DT"], ["at", "IN"], ["the", "DT"], ["top", "NN"], ["of", "IN"], ["the", "DT"], ["stack", "NN"], ["whatever", "NN"], ["it", "PRP"], ["is", "VBZ"], [",", ","], ["is", "VBZ"], ["to", "TO"], ["put", "VB"], ["the", "DT"], ["two", "CD"], ["and", "CC"], ["three", "CD"], ["on", "IN"], ["the", "DT"], ["top", "NN"], ["of", "IN"], ["the", "DT"], ["value", "NN"], ["stack", "NN"], ["and", "CC"], ["plus", "CC"], ["on", "IN"], ["the", "DT"], ["top", "NN"], ["of", "IN"], ["the", "DT"], ["operating", "NN"], ["stack", "NN"], ["and", "CC"], ["when", "WRB"], ["it", "PRP"], ["hits", "VBZ"], ["that", "IN"], ["right", "JJ"], ["parenthesis", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["perform", "VB"], ["the", "DT"], ["operation", "NN"], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["proceed", "VB"], ["then", "RB"], ["exactly", "RB"], ["as", "IN"], ["if", "IN"], ["the", "DT"], ["original", "JJ"], ["input", "NN"], ["where", "WRB"], ["that", "DT"], [",", ","], ["where", "WRB"], ["the", "DT"], ["value", "NN"], ["replaced", "VBD"], [".", "."], ["So", "NNP"], [",", ","], ["just", "RB"], ["go", "VB"], ["in", "IN"], ["from", "IN"], ["the", "DT"], ["inside", "NN"], ["out", "IN"], ["for", "IN"], ["every", "DT"], ["operation", "NN"], ["enclosed", "VBD"], ["within", "IN"], ["parenthesis", "NN"], ["like", "IN"], ["that", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["just", "RB"], ["repeat", "VB"], ["the", "DT"], ["argument", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["exactly", "RB"], ["as", "IN"], ["if", "IN"], ["the", "DT"], ["original", "JJ"], ["expression", "NN"], ["were", "VBD"], ["(", "("], ["one", "CD"], ["+", "NNP"], ["five", "CD"], [")", ")"], ["twenty", "NN"], ["and", "CC"], ["then", "RB"], ["again", "RB"], [",", ","], ["replacing", "VBG"], ["that", "IN"], ["one", "CD"], [",", ","], ["one", "CD"], ["+", "NN"], ["100", "CD"], [",", ","], ["101", "CD"], [".", "."], ["That", "DT"], ["'s", "VBZ"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["why", "WRB"], ["Dijkstra", "NNP"], ["'s", "POS"], ["algorithm", "NN"], ["works", "VBZ"], [".", "."], ["Actually", "RB"], ["fairly", "RB"], ["easy", "JJ"], ["to", "TO"], ["understand", "VB"], ["why", "WRB"], ["it", "PRP"], ["works", "VBZ"], [".", "."], ["And", "CC"], ["you", "PRP"], ["can", "MD"], ["go", "VB"], ["ahead", "RB"], ["and", "CC"], ["extend", "VB"], ["this", "DT"], ["algorithm", "NN"], ["to", "TO"], ["add", "VB"], ["functions", "NNS"], ["like", "IN"], ["logs", "NNS"], ["and", "CC"], ["sines", "NNS"], ["or", "CC"], ["other", "JJ"], ["operators", "NNS"], ["and", "CC"], ["have", "VBP"], ["precedence", "NN"], ["among", "IN"], ["operators", "NNS"], [",", ","], ["have", "VBP"], ["them", "PRP"], ["associate", "JJ"], ["and", "CC"], ["multiple", "JJ"], ["operations", "NNS"], [",", ","], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["And", "CC"], ["actually", "RB"], ["that", "DT"], ["'s", "VBZ"], ["on", "IN"], ["the", "DT"], ["road", "NN"], ["to", "TO"], ["developing", "VBG"], ["a", "DT"], ["compiler", "NN"], ["or", "CC"], ["a", "DT"], ["way", "NN"], ["to", "TO"], ["translate", "VB"], ["a", "DT"], [",", ","], ["a", "DT"], ["program", "NN"], ["from", "IN"], ["a", "DT"], ["programming", "NN"], ["language", "NN"], ["to", "TO"], ["a", "DT"], ["computation", "NN"], [",", ","], ["so", "IN"], ["Dijkstra", "NNP"], ["'s", "POS"], ["algorithm", "NN"], ["that", "WDT"], ["uses", "VBZ"], ["stack", "NN"], ["is", "VBZ"], ["one", "CD"], ["way", "NN"], ["for", "IN"], ["entering", "VBG"], ["and", "CC"], ["understanding", "NN"], ["of", "IN"], ["the", "DT"], ["basis", "NN"], ["of", "IN"], ["computation", "NN"], [".", "."]], "title": "stack and queue applications optional", "text": "Okay. Those are some basic data structures and implementations and it seem quite elementary and simple but actually right away we can get to some very sophisticated applications of these basic concepts and that's what we're going to consider next. Now, first thing to mention is that often the kinds of data types and data structures that we implement or found in a Java library. So, that's true in many programming environments. So, for example stacks and queues you can find those words mentioned in the Java library so there's a Java collection library and the so-called List interface which is displayed here. So Java has general API for sequences of items and its got things like a, append at the end, remove from the beginning, and so forth. Any uses of the resizing array, so many of the principles that we consider does also a, a link list interface. So, why not just use those? Why use our own implementations? Well, the problem is often in such library code is kind of designed by committee phenomenon that more and more operations get added and the API becomes too broad or bloated. It's not a good idea to have lots and lots of, you know, operations in the same API. And we'll see example in a second. The problem, the real problem is that when you do that you can't know much about the performance or you can't assume much about the performance. And so you can kind of immediately arrive at that performance even for simple clients. So our best practice that we recommend is so few that these basic data structures that we use and there's so simple is to go ahead and use the implementations that we've just discussed for these fundamental data structures. Maybe later, later on, after an experienced programmer who knows what he or she is doing could use some of these library collections effectively. But inexperienced programmers often have trouble with it. Here's a war story from students Programming assignments not that long ago. So, we have an assignment where you need to generate a random open sites in a percolation system. We have one student who was paying attention to what we're saying and uses an array and can pick the indices into that array at random check whether they're open and, and repeat. And so the array is N by N, it's N^2 things and it takes about N^2 time, which is actually a linear time for this application. But then we have another student who had some Java before coming to us and considered himself an expert and said, well, I'm going to use linked list because I could use Java's library and I don't have to worry about downloading your stupid code. And so, I'll just use that one and pick an index at random and delete and that program took quadratic time and poor Kenny, when trying to run his program for the huge instance that we asked found out that it wasn't finishing. And the reason is that the Java linked list implementation takes a linear time to find an item with a given index. Not constant time like an array. And that's difficult for Kenny to think about and difficult to drive that information from the implementation so program is just too slow. And with the Swiss knife implementation with so many operations it's hard to know whether or not the particular set of operations that your client needs is efficiently implemented. So our insistence in this course is that students should not use the library until we've implemented it in class. At least that some indication that you understand the performance characteristics. So now, let's look at some applications then of, of stacks. There's the stacks are really actually fundamental underlying computation because they implement , recursion and so, you use stacks often everyday when you wrote, use the Back button in the Web browser, the places that you've been are saved on a stack. Right now we will look at two examples. One, having to deal with compiling from a programming language or interpreting into an actual computation and then the other one is the PostScript language which is widely used for, for printing and publishing. So, so the way the compilers implement functions is using stacks. When there's a function call the whole local environment is pushed and then along with the return address and then the function returned is pop the return address in the local environment. So there is the stack there that contains all that information and whether the function calls itself or not is not relevant. The stack contains the recursion. In fact, you can always use an explicit stack to make a recursive program non-recursive. So, this is so when we have the GCD function, computing the greatest common denominator, greatest common denominator p and q is greatest common denominator of q and p mod q and it just calls itself until q gets to be zero. And as this graphic integrates, it just does it by saving the information on a stack. Now a specific example that really shows this off and also will illustrate the utility of being able to process multiple types of data with the same code is this example is Dijkstra's two-stack algorithm for arithmetic expression evaluation. So the goal is, you got an arithmetic expression this is just actually like a simple stand in for a program and we'll talk about that in a second but let's say, arithmetic expressions. We have operands and operators and you want to evaluate it. And Dijkstra's algorithm is very simple to express. You processes through the expression from left to right. If you see a value, you put it, you maintain two stacks and if you see a value, you put it on the value stack and if you see an operator, you put on the operator stack. Left parenthesis you ignore. Right parenthesis, you pop the operator and two values and push the result. Now that's a lot of words let's look at a demo. So we start out with the empty value stack and operator stack and we're going to move from left to right. So, and those are the a top is summarize the four type of things that we could wind up with and what to do so the left parenthesis we've ignored, a value we put on to the value stack. So, that one goes right in to the value stack. Operator, we put on to the operator stack. And plus it goes on the operator stack. Left parenthesis you ignore. It seems strange to be ignoring parenthesis and we'll get back to that in a second. Value, put in the value stack. Operator, put on the operating stack. Doesn't seem like we're doing much except putting stuff on stacks and now, when we come to our right parenthesis and that's when it gets interesting. What it says is to you have the top operator and the top two values and that's what you want to do. Supply that operator to those values and put the resulting value that you get back on to the operation stack. So, we take off the top two things, we do the operation and then we put the thing that we get onto the value stack. And that's right parenthesis. So now continuing along we put a star on. Left parenthesis, we ignore. Four on, star. The right goes to the value stack and now we got a lot of stuff on the stacks and we got through right parenthesis and that's going to finish up the computation, take the top two items off the stack and the top operator off the operator stack, perform the operation, put the result back on the value stack. Another right parenthesis, take the top two values off. Perform the operation. Put the value on to the value stack and finally, the last right parenthesis, take the two operators of the value stack, operators of the value stack, and operator of the operator stack, perform the operation, put the result back on the value stack. And we're at the end of the computation and that's the result. The value that arithmetic expression is 101. Okay? Yup. Here's the code that implements Dijkstra's two-stack algorithm. We have two different stacks. The operand stack the operator stack is string, it could be characters which is just our operator. Then our value stack is doubled so that's the same stack code but with generics, we're using, using two different types of data. And then simply perform Dijkstra's algorithm. If we have a left parenthesis... Read a new string. If we have a left parenthesis, do nothing. If we have plus or times, push it. If we have a right parenthesis, then go ahead and pop the operator. And if it's plus, add the result of the two values at the top of the value stack and if it's a star, multiply the two values on the top of the stack and, and then push the result. So and then when you're done then simply print out the value on the stack and that's a fine and elegant implementation using stacks for any arithmetic expression. And it's easy to extend that to handle other types of things and so, why does this work? Well, when the algorithm encounters an operator, say, in the inside, we got the parenthesis, operand, operator, operand, parenthesis its easy to see that what its going to do inside there is put the at the top of the stack whatever it is, is to put the two and three on the top of the value stack and plus on the top of the operating stack and when it hits that right parenthesis, it's going to perform the operation and it's going to proceed then exactly as if the original input where that, where the value replaced. So, just go in from the inside out for every operation enclosed within parenthesis like that it's just repeat the argument that's exactly as if the original expression were (one + five) twenty and then again, replacing that one, one + 100, 101. That's, that's why Dijkstra's algorithm works. Actually fairly easy to understand why it works. And you can go ahead and extend this algorithm to add functions like logs and sines or other operators and have precedence among operators, have them associate and multiple operations, and so forth. And actually that's on the road to developing a compiler or a way to translate a, a program from a programming language to a computation, so Dijkstra's algorithm that uses stack is one way for entering and understanding of the basis of computation. ", "video_ID": 18, "course_id": 3}
{"category": ["elementary sorts"], "tagged": [["Okay", "NNP"], [",", ","], ["what", "WDT"], ["are", "VBP"], ["the", "DT"], ["rules", "NNS"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["follow", "VB"], ["?", "."], ["Well", "NNP"], [",", ","], ["let", "VB"], ["'s", "POS"], ["start", "VB"], ["with", "IN"], ["looking", "VBG"], ["at", "IN"], ["a", "DT"], ["typical", "JJ"], ["basic", "JJ"], ["sorting", "NN"], ["problem", "NN"], [".", "."], ["Say", "NNP"], [",", ","], ["university", "NN"], ["has", "VBZ"], ["student", "NN"], ["records", "NNS"], ["and", "CC"], ["for", "IN"], ["every", "DT"], ["student", "NN"], ["there", "EX"], ["is", "VBZ"], ["a", "DT"], ["certain", "JJ"], ["amount", "NN"], ["of", "IN"], ["information", "NN"], [".", "."], ["Maybe", "RB"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["class", "NN"], ["number", "NN"], [",", ","], ["there", "EX"], ["is", "VBZ"], ["a", "DT"], ["grade", "NN"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["phone", "NN"], ["number", "NN"], ["maybe", "RB"], ["an", "DT"], ["address", "NN"], ["so", "IN"], ["we", "PRP"], ["refer", "VBP"], ["to", "TO"], ["an", "DT"], ["item", "NN"], ["and", "CC"], ["it", "PRP"], ["has", "VBZ"], ["a", "DT"], ["record", "NN"], ["or", "CC"], ["the", "DT"], ["information", "NN"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["sort", "VB"], [".", "."], ["But", "CC"], ["in", "IN"], ["particular", "JJ"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["piece", "NN"], ["of", "IN"], ["a", "DT"], ["record", "NN"], ["called", "VBN"], ["a", "DT"], ["key", "NN"], ["and", "CC"], ["what", "WP"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["put", "VB"], ["the", "DT"], ["records", "NNS"], ["into", "IN"], ["order", "NN"], ["according", "VBG"], ["to", "TO"], ["the", "DT"], ["key", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["the", "DT"], ["sort", "NN"], ["problem", "NN"], [".", "."], ["Re-arrange", "NNP"], ["an", "DT"], ["array", "NN"], ["of", "IN"], ["n", "JJ"], ["items", "NNS"], ["into", "IN"], ["ascending", "VBG"], ["order", "NN"], ["according", "VBG"], ["to", "TO"], ["a", "DT"], ["defined", "VBN"], ["key", "NN"], ["which", "WDT"], ["is", "VBZ"], ["part", "NN"], ["of", "IN"], ["the", "DT"], ["item", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["our", "PRP$"], ["goal", "NN"], ["is", "VBZ"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["sort", "VB"], ["any", "DT"], ["type", "NN"], ["of", "IN"], ["data", "NNS"], ["so", "RB"], ["let", "VB"], ["'s", "POS"], ["look", "VB"], ["at", "IN"], ["a", "DT"], ["couple", "NN"], ["of", "IN"], ["client", "NN"], ["programs", "NNS"], [".", "."], ["First", "JJ"], ["example", "NN"], ["is", "VBZ"], ["to", "TO"], ["just", "RB"], ["sort", "VB"], ["some", "DT"], ["random", "NN"], ["real", "JJ"], ["numbers", "NNS"], ["into", "IN"], ["ascending", "VBG"], ["order", "NN"], [".", "."], ["So", "RB"], [",", ","], ["here", "RB"], ["'s", "VBZ"], ["a", "DT"], ["client", "NN"], ["that", "WDT"], ["calls", "VBZ"], ["our", "PRP$"], ["insertion", "NN"], ["sort", "NN"], ["method", "NN"], ["and", "CC"], ["all", "DT"], ["it", "PRP"], ["does", "VBZ"], ["is", "VBZ"], ["read", "JJ"], ["numbers", "NNS"], ["from", "IN"], ["standard", "NN"], ["input", "NN"], ["than", "IN"], ["into", "IN"], ["an", "DT"], ["array", "NN"], ["a", "DT"], ["then", "RB"], ["calls", "VBZ"], ["insertion", "NN"], ["sort", "NN"], ["and", "CC"], ["then", "RB"], ["prints", "VB"], ["them", "PRP"], ["out", "RP"], [".", "."], ["And", "CC"], ["you", "PRP"], ["can", "MD"], ["see", "VB"], ["on", "IN"], ["the", "DT"], ["right", "NN"], ["that", "IN"], ["the", "DT"], ["numbers", "NNS"], ["are", "VBP"], ["printed", "VBN"], ["out", "RP"], ["in", "IN"], ["sorted", "JJ"], ["order", "NN"], [".", "."], ["This", "DT"], ["seems", "VBZ"], ["like", "IN"], ["an", "DT"], ["artificial", "JJ"], ["kind", "NN"], ["of", "IN"], ["input", "NN"], ["but", "CC"], ["actually", "RB"], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["an", "DT"], ["application", "NN"], ["even", "RB"], ["in", "IN"], ["this", "DT"], ["lecture", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["there", "EX"], ["are", "VBP"], ["many", "JJ"], ["applications", "NNS"], ["where", "WRB"], ["random", "NN"], ["inputs", "NNS"], ["are", "VBP"], ["fine", "JJ"], ["model", "NN"], [".", "."], ["Here", "RB"], ["'s", "VBZ"], ["maybe", "RB"], ["a", "DT"], ["more", "RBR"], ["familiar", "JJ"], ["sort", "NN"], ["client", "NN"], ["that", "WDT"], ["sort", "NN"], ["strings", "NNS"], [".", "."], ["And", "CC"], ["in", "IN"], ["this", "DT"], ["case", "NN"], ["it", "PRP"], ["reads", "VBZ"], ["the", "DT"], ["strings", "NNS"], ["from", "IN"], ["a", "DT"], ["file", "NN"], ["using", "VBG"], ["our", "PRP$"], ["readStrings", "NNS"], ["(", "("], [")", ")"], ["method", "NN"], ["in", "IN"], ["our", "PRP$"], ["In", "IN"], ["class", "NN"], ["that", "IN"], ["which", "WDT"], ["takes", "VBZ"], ["a", "DT"], ["file", "NN"], ["as", "IN"], ["argument", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["take", "VBP"], ["the", "DT"], ["file", "NN"], ["name", "NN"], ["as", "IN"], ["the", "DT"], ["first", "JJ"], ["command", "NN"], ["line", "NN"], ["argument", "NN"], [",", ","], ["read", "VBN"], ["in", "IN"], ["array", "NN"], ["of", "IN"], ["string", "VBG"], ["from", "IN"], ["that", "DT"], ["file", "NN"], ["separated", "VBN"], ["by", "IN"], ["blanks", "NNS"], [",", ","], ["call", "VB"], ["an", "DT"], ["Insertion.sort", "NNP"], ["(", "("], [")", ")"], ["method", "NN"], ["again", "RB"], [".", "."], ["So", "RB"], [",", ","], ["Insertion.sort", "NNP"], ["is", "VBZ"], ["a", "DT"], ["method", "NN"], ["that", "WDT"], ["takes", "VBZ"], ["an", "DT"], ["array", "NN"], ["a", "DT"], ["as", "IN"], ["its", "PRP$"], ["parameter", "NN"], ["and", "CC"], ["it", "PRP"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["the", "DT"], ["first", "JJ"], ["argument", "NN"], ["and", "CC"], ["it", "PRP"], ["rearranges", "VBZ"], ["the", "DT"], ["strings", "NNS"], ["in", "IN"], ["that", "DT"], ["array", "NN"], ["to", "TO"], ["be", "VB"], ["in", "IN"], ["sorted", "JJ"], ["order", "NN"], [".", "."], ["So", "RB"], ["in", "IN"], ["this", "DT"], ["case", "NN"], ["words", "NNS"], [",", ","], ["words", "NNS"], ["three.text", "NN"], ["has", "VBZ"], ["the", "DT"], ["certain", "JJ"], ["number", "NN"], ["of", "IN"], ["three", "CD"], ["letter", "NN"], ["words", "NNS"], ["and", "CC"], ["this", "DT"], ["client", "NN"], ["program", "NN"], ["will", "MD"], ["result", "VB"], ["in", "IN"], ["those", "DT"], ["three", "CD"], ["letter", "NN"], ["words", "NNS"], ["being", "VBG"], ["rearranged", "VBN"], ["into", "IN"], ["alphabetical", "JJ"], ["order", "NN"], [".", "."], ["Here", "RB"], ["'s", "VBZ"], ["another", "DT"], ["client", "NN"], ["that", "IN"], ["we", "PRP"], ["could", "MD"], ["use", "VB"], ["our", "PRP$"], ["sort", "NN"], ["program", "NN"], ["for", "IN"], [",", ","], ["if", "IN"], ["we", "PRP"], ["achieved", "VBD"], ["the", "DT"], ["goal", "NN"], ["of", "IN"], ["sorting", "VBG"], ["any", "DT"], ["type", "NN"], ["of", "IN"], ["data", "NNS"], [".", "."], ["In", "IN"], ["this", "DT"], ["one", "CD"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["sort", "VB"], ["file", "NN"], [",", ","], ["file", "NN"], ["'s", "POS"], ["name", "NN"], ["in", "IN"], ["a", "DT"], ["given", "VBN"], ["directory", "NN"], [".", "."], ["So", "RB"], ["again", "RB"], ["we", "PRP"], ["use", "VBP"], ["the", "DT"], ["File", "NNP"], ["class", "NN"], ["from", "IN"], ["Java", "NNP"], ["and", "CC"], ["we", "PRP"], ["use", "VBP"], [",", ","], ["we", "PRP"], ["go", "VBP"], ["and", "CC"], ["use", "VBP"], ["the", "DT"], ["listFiles", "NNS"], ["(", "("], [")", ")"], ["method", "NN"], ["from", "IN"], ["that", "DT"], ["class", "NN"], ["to", "TO"], ["get", "VB"], ["an", "DT"], ["array", "NN"], ["that", "WDT"], ["contains", "VBZ"], ["all", "PDT"], ["the", "DT"], ["file", "NN"], ["names", "NNS"], ["in", "IN"], ["the", "DT"], ["given", "VBN"], ["directory", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["an", "DT"], ["array", "NN"], ["with", "IN"], ["file", "NN"], ["names", "NNS"], ["in", "IN"], ["it", "PRP"], ["and", "CC"], ["Insertion.sort", "NNP"], ["(", "("], [")", ")"], ["takes", "VBZ"], ["that", "WDT"], ["array", "VBZ"], ["as", "IN"], ["its", "PRP$"], ["first", "JJ"], ["argument", "NN"], ["and", "CC"], ["again", "RB"], ["sorts", "NNS"], ["them", "PRP"], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["go", "VBP"], ["ahead", "RB"], ["and", "CC"], ["use", "VB"], ["as", "IN"], [",", ","], ["go", "VBP"], ["through", "IN"], ["them", "PRP"], ["one", "CD"], ["by", "IN"], ["one", "CD"], ["and", "CC"], ["print", "VB"], ["them", "PRP"], ["and", "CC"], ["they", "PRP"], ["come", "VBP"], ["out", "RP"], ["in", "IN"], ["order", "NN"], ["of", "IN"], ["file", "NN"], ["name", "NN"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["three", "CD"], ["different", "JJ"], ["clients", "NNS"], [",", ","], ["three", "CD"], ["completely", "RB"], ["different", "JJ"], ["types", "NNS"], ["of", "IN"], ["data", "NNS"], [".", "."], ["And", "CC"], ["the", "DT"], ["first", "JJ"], ["rule", "NN"], ["of", "IN"], ["the", "DT"], ["game", "NN"], ["that", "IN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["think", "VB"], ["about", "IN"], ["is", "VBZ"], [",", ","], ["how", "WRB"], ["can", "MD"], ["we", "PRP"], ["make", "VB"], ["it", "PRP"], ["so", "RB"], ["that", "IN"], ["we", "PRP"], ["can", "MD"], ["implement", "VB"], ["one", "CD"], ["sort", "NN"], ["program", "NN"], ["that", "WDT"], ["can", "MD"], ["be", "VB"], ["used", "VBN"], ["by", "IN"], ["these", "DT"], ["three", "CD"], ["different", "JJ"], ["clients", "NNS"], ["to", "TO"], ["implement", "VB"], ["three", "CD"], ["different", "JJ"], ["types", "NNS"], ["of", "IN"], ["data", "NNS"], [".", "."], ["In", "IN"], ["the", "DT"], ["way", "NN"], ["that", "IN"], [",", ","], ["that", "DT"], ["happens", "VBZ"], ["is", "VBZ"], ["a", "DT"], ["mechanism", "NN"], ["known", "VBN"], ["as", "IN"], ["a", "DT"], ["callback", "NN"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["our", "PRP$"], ["basic", "JJ"], ["question", "NN"], [",", ","], ["how", "WRB"], ["can", "MD"], ["sort", "VB"], [",", ","], ["now", "RB"], [",", ","], ["how", "WRB"], ["to", "TO"], ["compare", "VB"], ["data", "NNS"], ["of", "IN"], ["all", "PDT"], ["those", "DT"], ["different", "JJ"], ["types", "NNS"], ["without", "IN"], ["being", "VBG"], ["given", "VBN"], ["any", "DT"], ["information", "NN"], ["about", "IN"], ["the", "DT"], ["type", "NN"], ["of", "IN"], ["an", "DT"], ["item", "NN"], ["'s", "POS"], ["key", "NN"], ["?", "."], ["And", "CC"], ["the", "DT"], ["answer", "NN"], ["is", "VBZ"], ["that", "IN"], ["what", "WP"], ["is", "VBZ"], ["we", "PRP"], ["set", "VBP"], ["up", "RP"], ["a", "DT"], ["mechanism", "NN"], ["known", "VBN"], ["as", "IN"], ["a", "DT"], ["callback", "NN"], ["or", "CC"], ["reference", "NN"], ["to", "TO"], ["executable", "VB"], ["code", "NN"], ["where", "WRB"], ["the", "DT"], ["client", "NN"], [",", ","], ["by", "IN"], ["passing", "VBG"], ["an", "DT"], ["array", "NN"], ["of", "IN"], ["objects", "NNS"], ["to", "TO"], ["the", "DT"], ["sort", "NN"], ["function", "NN"], [".", "."], ["In", "IN"], ["Java", "NNP"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["an", "DT"], ["implicit", "JJ"], ["mechanism", "NN"], ["that", "WDT"], ["says", "VBZ"], ["that", "IN"], ["any", "DT"], ["such", "JJ"], ["array", "NN"], ["of", "IN"], ["object", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["the", "DT"], ["compareTo", "NN"], ["(", "("], [")", ")"], ["method", "NN"], [",", ","], ["then", "RB"], ["the", "DT"], ["sort", "NN"], ["function", "NN"], ["calls", "VBZ"], ["back", "RP"], ["the", "DT"], ["compareTo", "NN"], ["(", "("], [")", ")"], ["method", "NN"], ["associated", "VBN"], ["with", "IN"], ["the", "DT"], ["objects", "NNS"], ["in", "IN"], ["the", "DT"], ["array", "NN"], ["when", "WRB"], ["it", "PRP"], ["ever", "RB"], ["needs", "VBZ"], [",", ","], ["whenever", "WRB"], ["it", "PRP"], ["needs", "VBZ"], ["to", "TO"], ["compare", "VB"], ["two", "CD"], ["items", "NNS"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["different", "JJ"], ["ways", "NNS"], ["to", "TO"], ["implement", "VB"], ["callbacks", "NNS"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["programming", "JJ"], ["language", "NN"], ["specific", "JJ"], [".", "."], ["Different", "JJ"], ["languages", "NNS"], ["have", "VBP"], ["different", "JJ"], ["mechanisms", "NNS"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["all", "DT"], ["about", "IN"], ["the", "DT"], ["idea", "NN"], ["of", "IN"], ["passing", "VBG"], ["functions", "NNS"], ["as", "IN"], ["arguments", "NNS"], ["to", "TO"], ["other", "JJ"], ["functions", "NNS"], ["which", "WDT"], ["is", "VBZ"], ["the", "DT"], ["pair", "NN"], ["and", "CC"], ["gets", "VBZ"], ["into", "IN"], ["functional", "JJ"], ["programming", "NN"], ["and", "CC"], ["thinking", "VBG"], ["all", "PDT"], ["the", "DT"], ["way", "NN"], ["back", "RB"], ["to", "TO"], ["Turing", "NNP"], ["and", "CC"], ["Church", "NNP"], [".", "."], ["For", "IN"], ["Java", "NNP"], [",", ","], ["because", "IN"], ["of", "IN"], ["the", "DT"], ["desire", "NN"], ["to", "TO"], ["check", "VB"], ["types", "NNS"], ["at", "IN"], ["compile", "NN"], ["time", "NN"], [",", ","], ["the", "DT"], ["use", "NN"], ["of", "IN"], ["specific", "JJ"], ["method", "NN"], ["called", "VBD"], ["an", "DT"], ["interface", "NN"], ["and", "CC"], ["then", "RB"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["the", "DT"], ["details", "NNS"], ["of", "IN"], ["how", "WRB"], ["to", "TO"], ["implement", "VB"], ["callbacks", "NNS"], ["with", "IN"], ["the", "DT"], ["Java", "NNP"], ["interfaces", "NNS"], ["now", "RB"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["of", "IN"], ["programming", "VBG"], ["language", "NN"], ["detailed", "VBN"], ["but", "CC"], ["it", "PRP"], ["'s", "VBZ"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["really", "RB"], ["worthwhile", "JJ"], ["because", "IN"], ["it", "PRP"], ["allows", "VBZ"], ["us", "PRP"], ["to", "TO"], ["use", "VB"], ["the", "DT"], ["sorts", "NNS"], ["that", "IN"], ["we", "PRP"], ["developed", "VBD"], ["for", "IN"], ["any", "DT"], ["type", "NN"], ["of", "IN"], ["data", "NNS"], ["in", "IN"], ["a", "DT"], ["type", "NN"], ["safe", "JJ"], ["manner", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["already", "RB"], ["looked", "VBD"], ["at", "IN"], ["some", "DT"], ["clients", "NNS"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["the", "DT"], ["example", "NN"], ["of", "IN"], ["the", "DT"], ["client", "NN"], ["program", "NN"], ["that", "WDT"], ["sorts", "VBZ"], ["the", "DT"], ["files", "NNS"], ["in", "IN"], ["a", "DT"], ["given", "VBN"], ["directory", "NN"], ["by", "IN"], ["file", "NN"], ["name", "NN"], [".", "."], ["So", "IN"], ["it", "PRP"], ["just", "RB"], ["calls", "VBZ"], ["our", "PRP$"], ["sort", "NN"], ["(", "("], [")", ")"], ["method", "NN"], ["with", "IN"], ["a", "DT"], [",", ","], ["an", "DT"], ["array", "NN"], ["some", "DT"], ["type", "NN"], ["of", "IN"], ["object", "NN"], ["as", "IN"], ["first", "JJ"], ["argument", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["built", "VBN"], ["in", "IN"], ["to", "TO"], ["Java", "NNP"], ["is", "VBZ"], ["the", "DT"], ["so-called", "JJ"], ["the", "DT"], ["Comparable", "JJ"], ["interface", "NN"], ["and", "CC"], ["all", "PDT"], ["the", "DT"], ["Comparable", "JJ"], ["interface", "NN"], ["is", "VBZ"], ["the", "DT"], ["specification", "NN"], ["that", "IN"], ["a", "DT"], ["type", "NN"], [",", ","], ["data", "NNS"], ["type", "NN"], ["that", "IN"], ["implements", "VBZ"], ["Comparable", "NNP"], ["will", "MD"], ["have", "VB"], ["a", "DT"], ["compareTo", "NN"], ["(", "("], [")", ")"], ["method", "NN"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["generic", "JJ"], ["and", "CC"], ["will", "MD"], ["be", "VB"], ["compared", "VBN"], ["to", "TO"], ["against", "IN"], ["a", "DT"], ["certain", "JJ"], ["type", "NN"], ["of", "IN"], ["item", "NN"], [".", "."], ["Now", "RB"], ["when", "WRB"], ["we", "PRP"], ["implement", "VBP"], ["objects", "NNS"], ["that", "WDT"], ["are", "VBP"], ["to", "TO"], ["be", "VB"], ["sorted", "VBN"], ["we", "PRP"], ["'ll", "MD"], ["implement", "VB"], ["the", "DT"], ["Comparable", "JJ"], ["method", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["up", "RP"], ["in", "IN"], ["the", "DT"], ["top", "JJ"], ["class", "NN"], ["file", "NN"], [",", ","], ["implements", "NNS"], ["comparable", "JJ"], ["file", "NN"], [".", "."], ["And", "CC"], ["since", "IN"], ["sorting", "NN"], ["is", "VBZ"], ["an", "DT"], ["operation", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["used", "VBN"], ["in", "IN"], ["so", "RB"], ["many", "JJ"], ["situations", "NNS"], [",", ","], ["many", "JJ"], ["of", "IN"], ["the", "DT"], ["standard", "JJ"], ["Java", "NNP"], ["types", "NNS"], ["that", "IN"], ["you", "PRP"], ["would", "MD"], ["expect", "VB"], ["to", "TO"], ["involve", "VB"], ["sorts", "NNS"], ["will", "MD"], ["implement", "VB"], ["Comparable", "NNP"], [".", "."], ["And", "CC"], ["all", "DT"], ["that", "DT"], ["means", "VBZ"], ["is", "VBZ"], ["that", "IN"], [",", ","], ["that", "DT"], ["data", "NN"], ["type", "NN"], ["has", "VBZ"], ["an", "DT"], ["instance", "NN"], ["method", "NN"], ["that", "WDT"], ["will", "MD"], ["implement", "VB"], ["the", "DT"], ["compareTo", "NN"], ["(", "("], [")", ")"], ["method", "NN"], [".", "."], ["It", "PRP"], ["'ll", "MD"], ["compare", "VB"], ["this", "DT"], ["object", "NN"], ["against", "IN"], ["the", "DT"], ["object", "JJ"], ["given", "VBN"], ["as", "IN"], ["argument", "NN"], ["and", "CC"], ["depending", "VBG"], ["on", "IN"], ["some", "DT"], ["complicated", "JJ"], ["tests", "NNS"], [",", ","], ["it", "PRP"], ["'ll", "MD"], ["return", "VB"], ["-1", "NNP"], [",", ","], ["meaning", "VBG"], ["less", "RBR"], [",", ","], ["+1", "NNP"], [",", ","], ["meaning", "VBG"], ["greater", "JJR"], ["or", "CC"], ["0", "CD"], [",", ","], ["meaning", "VBG"], ["equal", "JJ"], [".", "."], ["Now", "RB"], [",", ","], ["that", "IN"], ["compareTo", "NN"], ["(", "("], [")", ")"], ["method", "NN"], ["is", "VBZ"], ["really", "RB"], ["all", "DT"], ["that", "IN"], ["the", "DT"], ["sort", "NN"], ["implementation", "NN"], ["needs", "NNS"], [".", "."], ["First", "NNP"], ["it", "PRP"], ["says", "VBZ"], ["that", "IN"], [",", ","], ["that", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["take", "VB"], ["as", "IN"], ["argument", "NN"], ["an", "DT"], ["array", "NN"], ["of", "IN"], ["type", "NN"], ["Comparable", "NNP"], [".", "."], ["So", "CC"], ["that", "IN"], ["means", "VBZ"], [",", ","], ["the", "DT"], ["objects", "NNS"], ["in", "IN"], ["the", "DT"], ["array", "NN"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["implement", "VB"], ["the", "DT"], ["Comparable", "JJ"], ["interface", "NN"], ["or", "CC"], ["that", "IN"], ["it", "PRP"], ["will", "MD"], ["have", "VB"], ["a", "DT"], ["compareTo", "NN"], ["(", "("], [")", ")"], ["method", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["the", "DT"], ["sort", "NN"], ["code", "NN"], ["can", "MD"], ["just", "RB"], ["use", "VB"], ["that", "DT"], ["compareTo", "NN"], ["(", "("], [")", ")"], ["method", "NN"], [",", ","], ["invoked", "VBN"], ["in", "IN"], ["a", "DT"], ["sense", "NN"], ["of", "IN"], ["the", "DT"], ["object", "NN"], ["like", "IN"], ["an", "DT"], ["entry", "NN"], ["in", "IN"], ["the", "DT"], ["array", "NN"], ["and", "CC"], ["as", "IN"], ["argument", "NN"], ["and", "CC"], ["another", "DT"], ["instance", "NN"], ["in", "IN"], ["the", "DT"], ["object", "NN"], ["like", "IN"], ["another", "DT"], ["entry", "NN"], ["in", "IN"], ["the", "DT"], ["array", "NN"], ["to", "TO"], ["test", "VB"], ["whether", "IN"], ["the", "DT"], ["first", "JJ"], ["is", "VBZ"], ["less", "RBR"], ["than", "IN"], ["the", "DT"], ["second", "JJ"], ["as", "IN"], ["in", "IN"], ["this", "DT"], ["example", "NN"], [".", "."], ["The", "DT"], ["key", "JJ"], ["point", "NN"], ["is", "VBZ"], ["that", "IN"], ["the", "DT"], ["sort", "NN"], ["implementation", "NN"], ["has", "VBZ"], ["no", "DT"], ["dependence", "NN"], ["on", "IN"], ["the", "DT"], ["type", "NN"], ["of", "IN"], ["data", "NNS"], ["that", "WDT"], ["'s", "VBZ"], ["handled", "VBN"], ["by", "IN"], ["the", "DT"], ["Comparable", "JJ"], ["interface", "NN"], ["and", "CC"], ["a", "DT"], ["different", "JJ"], ["Comparable", "JJ"], ["array", "NN"], ["will", "MD"], ["be", "VB"], ["sorted", "VBN"], ["in", "IN"], ["the", "DT"], ["same", "JJ"], ["way", "NN"], ["though", "IN"], ["eventually", "RB"], [",", ","], ["because", "IN"], ["of", "IN"], ["the", "DT"], ["interface", "NN"], ["mechanism", "NN"], [",", ","], ["they", "PRP"], ["call", "VBP"], ["back", "RB"], ["to", "TO"], ["the", "DT"], ["actual", "JJ"], ["compareTo", "NN"], ["(", "("], [")", ")"], ["code", "NN"], ["that", "IN"], ["goes", "VBZ"], ["with", "IN"], ["a", "DT"], ["type", "NN"], ["of", "IN"], ["object", "JJ"], ["being", "VBG"], ["sorted", "VBN"], [".", "."], ["Now", "RB"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["few", "JJ"], ["rules", "NNS"], ["and", "CC"], ["there", "EX"], ["'s", "VBZ"], ["natural", "JJ"], ["rules", "NNS"], ["but", "CC"], ["they", "PRP"], ["'re", "VBP"], ["worth", "JJ"], ["talking", "VBG"], ["about", "IN"], ["and", "CC"], ["paying", "VBG"], ["attention", "NN"], ["to", "TO"], ["that", "IN"], ["the", "DT"], ["compareTo", "NN"], ["(", "("], [")", ")"], ["method", "NN"], ["has", "VBZ"], ["to", "TO"], ["implement", "VB"], ["in", "IN"], ["the", "DT"], ["so", "RB"], ["called", "VBD"], ["a", "DT"], ["total", "JJ"], ["order", "NN"], [".", "."], ["In", "IN"], ["all", "DT"], ["that", "IN"], ["saying", "VBG"], ["is", "VBZ"], ["really", "RB"], ["that", "IN"], ["it", "PRP"], ["must", "MD"], ["be", "VB"], ["possible", "JJ"], ["to", "TO"], ["put", "VB"], ["items", "NNS"], ["in", "IN"], ["order", "NN"], ["in", "IN"], ["a", "DT"], ["sort", "NN"], [".", "."], ["So", "IN"], ["there", "EX"], ["'s", "VBZ"], ["three", "CD"], ["properties", "NNS"], [".", "."], ["First", "NNP"], ["one", "CD"], ["says", "VBZ"], ["that", "IN"], ["if", "IN"], ["v", "NN"], ["is", "VBZ"], ["less", "RBR"], ["than", "IN"], ["or", "CC"], ["equal", "JJ"], ["to", "TO"], ["w", "VB"], ["and", "CC"], ["w", "VB"], ["is", "VBZ"], ["less", "JJR"], ["than", "IN"], ["or", "CC"], ["equal", "JJ"], ["to", "TO"], ["v", "VB"], ["then", "RB"], ["the", "DT"], ["only", "JJ"], ["way", "NN"], ["for", "IN"], ["that", "DT"], ["to", "TO"], ["be", "VB"], ["true", "JJ"], ["is", "VBZ"], ["if", "IN"], ["they", "PRP"], ["'re", "VBP"], ["equal", "JJ"], ["and", "CC"], ["then", "RB"], ["there", "EX"], ["'s", "VBZ"], ["transitivity", "NN"], [".", "."], ["If", "IN"], ["v", "NN"], ["less", "JJR"], ["than", "IN"], ["w", "NN"], [",", ","], ["w", "WP"], ["is", "VBZ"], ["less", "JJR"], ["than", "IN"], ["x", "NN"], [",", ","], ["then", "RB"], ["v", "VB"], ["must", "MD"], ["be", "VB"], ["less", "JJR"], ["than", "IN"], ["or", "CC"], ["equal", "JJ"], ["to", "TO"], ["x", "VB"], [".", "."], ["In", "IN"], ["totality", "NN"], [",", ","], ["is", "VBZ"], ["that", "IN"], ["either", "DT"], ["v", "NN"], ["is", "VBZ"], ["less", "RBR"], ["than", "IN"], ["or", "CC"], ["equal", "JJ"], ["to", "TO"], ["w", "VB"], ["or", "CC"], ["w", "VB"], ["is", "VBZ"], ["less", "JJR"], ["than", "IN"], ["equal", "JJ"], ["to", "TO"], ["v", "VB"], ["or", "CC"], ["both", "DT"], ["they", "PRP"], ["are", "VBP"], ["equal", "JJ"], [".", "."], ["And", "CC"], ["there", "EX"], ["'s", "VBZ"], ["plenty", "NN"], ["of", "IN"], ["natural", "JJ"], ["total", "JJ"], ["orders", "NNS"], ["in", "IN"], ["the", "DT"], ["types", "NNS"], ["of", "IN"], ["data", "NNS"], ["that", "IN"], ["we", "PRP"], ["normally", "RB"], ["want", "VBP"], ["to", "TO"], ["consider", "VB"], ["for", "IN"], ["sort", "NN"], ["keys", "NNS"], [".", "."], ["Like", "IN"], ["the", "DT"], ["integers", "NNS"], ["or", "CC"], ["natural", "JJ"], ["numbers", "NNS"], ["or", "CC"], ["real", "JJ"], ["numbers", "NNS"], ["or", "CC"], ["alphabetical", "JJ"], ["order", "NN"], ["for", "IN"], ["strings", "NNS"], [",", ","], ["chronological", "JJ"], ["order", "NN"], ["for", "IN"], ["dates", "NNS"], ["or", "CC"], ["times", "NNS"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["The", "DT"], ["cartoon", "NN"], ["on", "IN"], ["the", "DT"], ["right", "NN"], ["shows", "VBZ"], ["that", "IN"], ["not", "RB"], ["all", "DT"], ["orders", "NNS"], ["are", "VBP"], ["necessarily", "RB"], ["total", "JJ"], ["orders", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["rock", "NN"], [",", ","], ["paper", "NN"], [",", ","], ["scissors", "NNS"], ["is", "VBZ"], ["intransitive", "JJ"], [".", "."], ["If", "IN"], ["you", "PRP"], ["know", "VBP"], ["that", "DT"], ["v", "NN"], ["is", "VBZ"], ["less", "RBR"], ["that", "IN"], ["w", "NN"], [",", ","], ["w", "WP"], ["is", "VBZ"], ["less", "JJR"], ["than", "IN"], ["v", "NN"], [",", ","], ["you", "PRP"], ["do", "VBP"], ["n't", "RB"], ["know", "VB"], ["that", "DT"], ["v", "NN"], ["is", "VBZ"], ["less", "RBR"], ["than", "IN"], ["or", "CC"], ["equal", "JJ"], ["to", "TO"], ["v.", "VB"], ["I", "PRP"], ["'m", "VBP"], ["sorry", "JJ"], [",", ","], ["v", "EX"], ["is", "VBZ"], ["less", "JJR"], ["than", "IN"], ["w", "NN"], [",", ","], ["w", "NN"], ["less", "JJR"], ["than", "IN"], ["equal", "JJ"], ["to", "TO"], ["x", "VB"], ["that", "IN"], ["you", "PRP"], ["do", "VBP"], ["n't", "RB"], ["necessarily", "RB"], ["know", "VB"], ["that", "DT"], ["v", "NN"], ["is", "VBZ"], ["less", "RBR"], ["than", "IN"], ["or", "CC"], ["equal", "JJ"], ["to", "TO"], ["x.", "VB"], ["Alright", "NNP"], [".", "."], ["So", "IN"], ["the", "DT"], ["Comparable", "JJ"], ["API", "NNP"], ["then", "RB"], [",", ","], ["by", "IN"], ["convention", "NN"], ["in", "IN"], ["Java", "NNP"], ["we", "PRP"], ["always", "RB"], ["need", "VBP"], ["to", "TO"], ["implement", "VB"], ["compareTo", "NN"], ["(", "("], [")", ")"], ["such", "PDT"], ["that", "IN"], ["v", "NN"], ["that", "WDT"], ["compared", "VBN"], ["to", "TO"], ["w", "VB"], ["is", "VBZ"], ["a", "DT"], ["total", "JJ"], ["order", "NN"], [".", "."], ["And", "CC"], ["also", "RB"], ["by", "IN"], ["convention", "NN"], [",", ","], ["it", "PRP"], ["returns", "VBZ"], ["a", "DT"], ["negative", "JJ"], ["integer", "NN"], ["for", "IN"], ["its", "PRP$"], ["less", "JJR"], ["zero", "NN"], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["equal", "JJ"], ["positive", "JJ"], ["its", "PRP$"], ["greater", "JJR"], [".", "."], ["If", "IN"], ["this", "DT"], ["object", "NN"], ["is", "VBZ"], ["greater", "JJR"], ["than", "IN"], ["the", "DT"], ["object", "JJ"], ["given", "VBN"], ["as", "IN"], ["argument", "NN"], [".", "."], ["If", "IN"], ["the", "DT"], ["types", "NNS"], ["are", "VBP"], ["incompatible", "JJ"], ["or", "CC"], ["if", "IN"], ["either", "DT"], ["one", "CD"], ["is", "VBZ"], ["null", "JJ"], ["compareTo", "NN"], ["(", "("], [")", ")"], ["should", "MD"], ["throw", "VB"], ["an", "DT"], ["exception", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["again", "RB"], [",", ","], ["many", "JJ"], ["of", "IN"], ["Java", "NNP"], ["'s", "POS"], ["standard", "JJ"], ["types", "NNS"], ["for", "IN"], ["numbers", "NNS"], ["and", "CC"], ["dates", "NNS"], ["and", "CC"], ["files", "NNS"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], ["implement", "JJ"], ["compareTo", "NN"], ["(", "("], [")", ")"], ["by", "IN"], ["convention", "NN"], [".", "."], ["Now", "RB"], ["if", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["implement", "VB"], ["our", "PRP$"], ["own", "JJ"], ["type", "NN"], ["then", "RB"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["go", "VB"], ["ahead", "RB"], ["and", "CC"], ["implement", "VB"], ["the", "DT"], ["Comparable", "JJ"], ["interface", "NN"], ["according", "VBG"], ["to", "TO"], ["these", "DT"], ["rules", "NNS"], [".", "."], ["And", "CC"], ["usually", "RB"], ["that", "DT"], ["'s", "VBZ"], ["fairly", "RB"], ["straightforward", "JJ"], [".", "."], ["So", "RB"], ["here", "RB"], ["'s", "VBZ"], ["an", "DT"], ["example", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["simplified", "JJ"], ["version", "NN"], ["of", "IN"], ["the", "DT"], ["Date", "NNP"], ["class", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["implemented", "VBN"], ["within", "IN"], ["Java", "NNP"], ["just", "RB"], ["to", "TO"], ["show", "VB"], ["the", "DT"], ["idea", "NN"], ["of", "IN"], ["implementing", "VBG"], ["Comparable", "NNP"], [".", "."], ["So", "NNP"], [",", ","], ["after", "IN"], ["the", "DT"], ["class", "NN"], ["declaration", "NN"], [",", ","], ["we", "PRP"], ["write", "VBP"], ["implements", "NNS"], ["Comparable", "JJ"], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["fill", "VBP"], ["in", "IN"], ["the", "DT"], ["generic", "NN"], ["with", "IN"], ["the", "DT"], ["same", "JJ"], ["type", "NN"], ["because", "IN"], ["we", "PRP"], ["'re", "VBP"], ["only", "RB"], ["going", "VBG"], ["to", "TO"], ["compare", "VB"], ["dates", "NNS"], ["to", "TO"], ["other", "JJ"], ["dates", "NNS"], [".", "."], ["In", "IN"], ["this", "DT"], ["implementation", "NN"], [",", ","], ["the", "DT"], ["Date", "NNP"], ["class", "NN"], ["has", "VBZ"], ["three", "CD"], ["instance", "NN"], ["variables", "NNS"], [".", "."], ["The", "DT"], ["month", "NN"], [",", ","], ["the", "DT"], ["day", "NN"], ["and", "CC"], ["the", "DT"], ["year", "NN"], ["and", "CC"], ["the", "DT"], ["constructor", "NN"], ["fills", "NNS"], ["those", "DT"], ["from", "IN"], ["the", "DT"], ["arguments", "NNS"], ["as", "IN"], ["you", "PRP"], ["can", "MD"], ["see", "VB"], [".", "."], ["So", "RB"], ["now", "RB"], [",", ","], ["if", "IN"], ["you", "PRP"], ["want", "VBP"], ["to", "TO"], ["compare", "VB"], ["two", "CD"], ["different", "JJ"], ["dates", "NNS"], ["then", "RB"], ["the", "DT"], ["first", "JJ"], ["thing", "NN"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["to", "TO"], ["check", "VB"], ["if", "IN"], ["this", "DT"], ["year", "NN"], ["is", "VBZ"], ["less", "JJR"], ["than", "IN"], ["that", "DT"], ["year", "NN"], [",", ","], ["over", "IN"], ["that", "DT"], ["is", "VBZ"], ["the", "DT"], ["year", "NN"], ["given", "VBN"], [",", ","], ["the", "DT"], ["date", "NN"], ["given", "VBN"], ["in", "IN"], ["the", "DT"], ["argument", "NN"], [".", "."], ["If", "IN"], ["that", "DT"], ["'s", "VBZ"], ["true", "JJ"], ["then", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["less", "JJR"], ["return", "JJ"], ["-1", "NN"], ["and", "CC"], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], [",", ","], ["the", "DT"], ["year", "NN"], ["is", "VBZ"], ["greater", "JJR"], [",", ","], ["return", "NN"], ["+1", "NNP"], [".", "."], ["Otherwise", "NNP"], [",", ","], ["the", "DT"], ["year", "NN"], [",", ","], ["years", "NNS"], ["must", "MD"], ["be", "VB"], ["equal", "JJ"], ["so", "IN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["the", "DT"], ["months", "NNS"], ["to", "TO"], ["do", "VB"], ["the", "DT"], ["compare", "NN"], ["and", "CC"], ["so", "RB"], ["forth", "RB"], ["down", "RB"], ["to", "TO"], ["do", "VB"], ["the", "DT"], ["days", "NNS"], [".", "."], ["Only", "RB"], ["if", "IN"], ["they", "PRP"], ["'re", "VBP"], ["all", "DT"], ["equal", "JJ"], ["that", "IN"], ["we", "PRP"], ["return", "VBP"], ["zero", "CD"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["an", "DT"], ["example", "NN"], ["of", "IN"], ["an", "DT"], ["implementation", "NN"], ["of", "IN"], ["Comparable", "JJ"], ["by", "IN"], ["implementing", "VBG"], ["the", "DT"], ["compareTo", "NN"], ["(", "("], [")", ")"], ["method", "NN"], ["to", "TO"], ["put", "VB"], ["dates", "NNS"], ["in", "IN"], ["order", "NN"], ["as", "IN"], ["you", "PRP"], ["might", "MD"], ["expect", "VB"], [".", "."], ["So", "IN"], ["the", "DT"], ["Java", "NNP"], ["language", "NN"], ["helps", "VBZ"], ["us", "PRP"], ["with", "IN"], ["this", "DT"], ["Comparable", "JJ"], ["mechanism", "NN"], ["so", "RB"], ["that", "IN"], ["we", "PRP"], ["can", "MD"], ["sort", "VB"], ["data", "NNS"], ["of", "IN"], ["any", "DT"], ["type", "NN"], [".", "."], ["When", "WRB"], ["we", "PRP"], ["continue", "VBP"], ["to", "TO"], ["implement", "VB"], ["sorting", "VBG"], ["algorithms", "RB"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["actually", "RB"], ["even", "RB"], ["in", "IN"], ["a", "DT"], ["hide", "NN"], ["that", "WDT"], ["beneath", "VBZ"], ["our", "PRP$"], ["own", "JJ"], ["implementations", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["are", "VBP"], ["sorting", "VBG"], ["algorithms", "NNS"], ["actually", "RB"], ["their", "PRP$"], ["actual", "JJ"], ["code", "NN"], ["can", "MD"], ["be", "VB"], ["used", "VBN"], ["to", "TO"], ["implement", "VB"], ["sorting", "VBG"], ["in", "IN"], ["many", "JJ"], ["other", "JJ"], ["languages", "NNS"], [".", "."], ["The", "DT"], ["way", "NN"], ["we", "PRP"], ["do", "VBP"], ["that", "DT"], ["is", "VBZ"], ["to", "TO"], ["take", "VB"], ["the", "DT"], ["two", "CD"], ["primary", "JJ"], ["operations", "NNS"], [",", ","], ["compares", "NNS"], ["and", "CC"], ["exchangers", "NNS"], ["that", "WDT"], ["were", "VBD"], ["that", "DT"], ["were", "VBD"], [",", ","], ["were", "VBD"], ["used", "VBN"], ["to", "TO"], ["refer", "VB"], ["the", "DT"], ["data", "NNS"], ["and", "CC"], ["encapsulate", "VB"], ["them", "PRP"], ["just", "RB"], ["the", "DT"], ["static", "JJ"], ["methods", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["use", "VB"], ["a", "DT"], ["method", "NN"], ["less", "JJR"], ["(", "("], [")", ")"], ["that", "WDT"], ["takes", "VBZ"], ["two", "CD"], ["Comparable", "JJ"], ["objects", "NNS"], ["as", "IN"], ["arguments", "NNS"], ["and", "CC"], ["it", "PRP"], ["just", "RB"], ["returns", "NNS"], [",", ","], ["v.compareTo", "NN"], ["(", "("], ["w", "NN"], [")", ")"], ["less", "JJR"], ["than", "IN"], ["zero", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["the", "DT"], ["other", "JJ"], ["thing", "NN"], ["that", "IN"], ["we", "PRP"], ["do", "VBP"], ["when", "WRB"], ["we", "PRP"], ["sort", "VBP"], ["items", "NNS"], ["that", "WDT"], ["are", "VBP"], ["in", "IN"], ["an", "DT"], ["array", "NN"], ["is", "VBZ"], ["to", "TO"], [",", ","], ["to", "TO"], ["swap", "VB"], ["or", "CC"], ["exchange", "NN"], ["of", "IN"], ["the", "DT"], ["item", "NN"], ["at", "IN"], ["a", "DT"], ["given", "VBN"], ["index", "NN"], ["i", "NN"], ["with", "IN"], ["the", "DT"], ["one", "NN"], ["at", "IN"], ["a", "DT"], ["given", "VBN"], ["index", "NN"], ["j", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["every", "DT"], ["programmer", "NN"], ["'s", "POS"], ["first", "JJ"], ["introduction", "NN"], ["to", "TO"], ["assignment", "JJ"], ["statements", "NNS"], [".", "."], ["We", "PRP"], ["save", "VBP"], ["a", "DT"], ["[", "NN"], ["i", "NN"], ["]", "VBP"], ["in", "IN"], ["a", "DT"], ["variable", "JJ"], ["swap", "NN"], [",", ","], ["put", "VBD"], ["a", "DT"], ["[", "NNP"], ["j", "NN"], ["]", "NN"], ["in", "IN"], ["a", "DT"], ["[", "NN"], ["i", "NN"], ["]", "NNP"], [",", ","], ["and", "CC"], ["then", "RB"], ["put", "VBD"], ["swap", "RP"], ["back", "RB"], ["in", "IN"], ["a", "DT"], ["[", "JJ"], ["j", "NN"], ["]", "NNP"], [".", "."], ["So", "RB"], ["now", "RB"], ["our", "PRP$"], ["sort", "NN"], ["methods", "NNS"], ["to", "TO"], ["refer", "VB"], ["the", "DT"], ["data", "NNS"], ["will", "MD"], ["just", "RB"], ["use", "VB"], ["this", "DT"], ["two", "CD"], ["static", "JJ"], ["methods", "NNS"], [".", "."], ["And", "CC"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["good", "JJ"], ["reason", "NN"], ["for", "IN"], ["that", "DT"], [".", "."], ["Here", "RB"], ["'s", "VBZ"], ["an", "DT"], ["example", "NN"], [".", "."], ["Suppose", "NNP"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["test", "VB"], ["if", "IN"], ["an", "DT"], ["array", "NN"], ["is", "VBZ"], ["sorted", "VBN"], [".", "."], ["So", "IN"], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], ["static", "JJ"], ["method", "NN"], ["that", "WDT"], ["is", "VBZ"], ["supposed", "VBN"], ["to", "TO"], ["return", "VB"], ["true", "JJ"], ["if", "IN"], ["the", "DT"], ["array", "NN"], ["is", "VBZ"], ["sorted", "VBN"], ["and", "CC"], ["false", "JJ"], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], [".", "."], ["And", "CC"], ["all", "DT"], ["it", "PRP"], ["does", "VBZ"], ["is", "VBZ"], ["just", "RB"], ["go", "VBN"], ["through", "IN"], ["the", "DT"], ["array", "NN"], ["from", "IN"], ["the", "DT"], ["one", "CD"], ["to", "TO"], ["the", "DT"], ["length", "NN"], ["of", "IN"], ["the", "DT"], ["array", "NN"], ["and", "CC"], ["test", "NN"], ["if", "IN"], ["each", "DT"], ["item", "NN"], ["is", "VBZ"], ["less", "JJR"], ["than", "IN"], ["the", "DT"], ["one", "CD"], ["before", "NN"], [".", "."], ["If", "IN"], ["you", "PRP"], ["have", "VBP"], ["an", "DT"], ["item", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["less", "JJR"], ["than", "IN"], ["one", "CD"], ["before", "IN"], ["then", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["sorted", "VBN"], ["you", "PRP"], ["return", "VBP"], ["false", "JJ"], [".", "."], ["If", "IN"], ["you", "PRP"], ["get", "VBP"], ["all", "PDT"], ["the", "DT"], ["way", "NN"], ["through", "IN"], ["the", "DT"], ["array", "NN"], ["without", "IN"], ["that", "DT"], ["happening", "NN"], [",", ","], ["then", "RB"], ["you", "PRP"], ["say", "VBP"], ["the", "DT"], ["array", "NN"], ["is", "VBZ"], ["true", "JJ"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["pretty", "RB"], ["simple", "JJ"], ["code", "NN"], [",", ","], ["the", "DT"], ["question", "NN"], ["is", "VBZ"], [",", ","], ["if", "IN"], ["you", "PRP"], ["have", "VBP"], ["a", "DT"], ["sorting", "NN"], ["algorithm", "NN"], ["that", "WDT"], ["passes", "VBZ"], ["that", "IN"], ["test", "NN"], [",", ","], ["are", "VBP"], ["you", "PRP"], ["sure", "JJ"], ["that", "IN"], ["it", "PRP"], ["correctly", "RB"], ["sorted", "VBD"], ["the", "DT"], ["array", "NN"], ["?", "."], ["Well", "UH"], ["the", "DT"], ["answer", "NN"], ["to", "TO"], ["that", "DT"], ["question", "NN"], ["is", "VBZ"], [",", ","], ["yes", "RB"], ["if", "IN"], [",", ","], ["yes", "UH"], ["if", "IN"], ["you", "PRP"], ["used", "VBD"], ["only", "RB"], ["the", "DT"], ["less", "JJS"], ["(", "("], [")", ")"], ["and", "CC"], ["exchange", "NN"], ["(", "("], [")", ")"], ["methods", "NNS"], ["to", "TO"], ["implement", "VB"], [",", ","], ["to", "TO"], ["refer", "VB"], ["the", "DT"], ["data", "NNS"], ["because", "IN"], ["then", "RB"], ["you", "PRP"], ["know", "VBP"], ["because", "IN"], ["you", "PRP"], ["used", "VBD"], ["the", "DT"], ["exchange", "NN"], ["(", "("], [")", ")"], ["method", "NN"], ["that", "IN"], ["the", "DT"], ["data", "NNS"], ["in", "IN"], ["the", "DT"], ["array", "NN"], ["after", "IN"], ["the", "DT"], ["sort", "NN"], ["is", "VBZ"], ["the", "DT"], ["same", "JJ"], ["data", "NN"], ["as", "IN"], ["was", "VBD"], ["in", "IN"], ["the", "DT"], ["array", "NN"], ["before", "IN"], ["the", "DT"], ["sort", "NN"], [",", ","], ["sort", "NN"], [".", "."], ["If", "IN"], ["you", "PRP"], ["have", "VBP"], ["a", "DT"], ["sort", "NN"], ["method", "NN"], ["that", "WDT"], ["can", "MD"], ["store", "VB"], ["any", "DT"], ["values", "NNS"], ["in", "IN"], ["an", "DT"], ["array", "NN"], [",", ","], ["it", "PRP"], ["could", "MD"], [",", ","], ["for", "IN"], ["example", "NN"], [",", ","], ["store", "NN"], ["zeros", "NN"], ["in", "IN"], ["every", "DT"], ["array", "NN"], ["entry", "NN"], ["that", "WDT"], ["method", "NN"], ["would", "MD"], ["pass", "VB"], ["this", "DT"], ["test", "NN"], [",", ","], ["but", "CC"], ["it", "PRP"], ["did", "VBD"], ["n't", "RB"], ["really", "RB"], ["correctly", "RB"], ["sort", "VB"], ["the", "DT"], ["array", "NN"], ["because", "IN"], ["overwrote", "NN"], ["all", "PDT"], ["the", "DT"], ["values", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["use", "VBP"], ["less", "JJR"], ["(", "("], [")", ")"], ["and", "CC"], ["exchange", "NN"], ["(", "("], [")", ")"], ["to", "TO"], ["be", "VB"], ["sure", "JJ"], ["that", "IN"], ["we", "PRP"], ["can", "MD"], ["test", "VB"], ["that", "IN"], ["our", "PRP$"], [",", ","], ["our", "PRP$"], ["methods", "NNS"], ["work", "NN"], ["with", "IN"], ["the", "DT"], ["method", "NN"], ["like", "IN"], ["this", "DT"], [".", "."]], "title": "sorting introduction", "text": "Okay, what are the rules that we're going to follow? Well, let's start with looking at a typical basic sorting problem. Say, university has student records and for every student there is a certain amount of information. Maybe there's a class number, there is a grade, there's a phone number maybe an address so we refer to an item and it has a record or the information that we're going to sort. But in particular, there's a piece of a record called a key and what we want to do is put the records into order according to the key. That's the sort problem. Re-arrange an array of n items into ascending order according to a defined key which is part of the item. Now, our goal is to be able to sort any type of data so let's look at a couple of client programs. First example is to just sort some random real numbers into ascending order. So, here's a client that calls our insertion sort method and all it does is read numbers from standard input than into an array a then calls insertion sort and then prints them out. And you can see on the right that the numbers are printed out in sorted order. This seems like an artificial kind of input but actually we'll look at an application even in this lecture. And then there are many applications where random inputs are fine model. Here's maybe a more familiar sort client that sort strings. And in this case it reads the strings from a file using our readStrings() method in our In class that which takes a file as argument. So we take the file name as the first command line argument, read in array of string from that file separated by blanks, call an Insertion.sort() method again. So, Insertion.sort is a method that takes an array a as its parameter and it, it's the first argument and it rearranges the strings in that array to be in sorted order. So in this case words, words three.text has the certain number of three letter words and this client program will result in those three letter words being rearranged into alphabetical order. Here's another client that we could use our sort program for, if we achieved the goal of sorting any type of data. In this one, we're going to sort file, file's name in a given directory. So again we use the File class from Java and we use, we go and use the listFiles() method from that class to get an array that contains all the file names in the given directory. That's an array with file names in it and Insertion.sort() takes that array as its first argument and again sorts them and then we go ahead and use as, go through them one by one and print them and they come out in order of file name. So that's three different clients, three completely different types of data. And the first rule of the game that we have to think about is, how can we make it so that we can implement one sort program that can be used by these three different clients to implement three different types of data. In the way that, that happens is a mechanism known as a callback. So, that's our basic question, how can sort, now, how to compare data of all those different types without being given any information about the type of an item's key? And the answer is that what is we set up a mechanism known as a callback or reference to executable code where the client, by passing an array of objects to the sort function. In Java, there's an implicit mechanism that says that any such array of object is going to have the compareTo() method, then the sort function calls back the compareTo() method associated with the objects in the array when it ever needs, whenever it needs to compare two items. There's a lot of different ways to implement callbacks and that's programming language specific. Different languages have different mechanisms. It's all about the idea of passing functions as arguments to other functions which is the pair and gets into functional programming and thinking all the way back to Turing and Church. For Java, because of the desire to check types at compile time, the use of specific method called an interface and then, we'll look at the details of how to implement callbacks with the Java interfaces now. It's a little bit of programming language detailed but it's, it's really worthwhile because it allows us to use the sorts that we developed for any type of data in a type safe manner. So we already looked at some clients. This is the example of the client program that sorts the files in a given directory by file name. So it just calls our sort() method with a, an array some type of object as first argument. Now, built in to Java is the so-called the Comparable interface and all the Comparable interface is the specification that a type, data type that implements Comparable will have a compareTo() method. And it's generic and will be compared to against a certain type of item. Now when we implement objects that are to be sorted we'll implement the Comparable method. That's up in the top class file, implements comparable file. And since sorting is an operation that's used in so many situations, many of the standard Java types that you would expect to involve sorts will implement Comparable. And all that means is that, that data type has an instance method that will implement the compareTo() method. It'll compare this object against the object given as argument and depending on some complicated tests, it'll return -1, meaning less, +1, meaning greater or 0, meaning equal. Now, that compareTo() method is really all that the sort implementation needs. First it says that, that it's going to take as argument an array of type Comparable. So that means, the objects in the array are going to implement the Comparable interface or that it will have a compareTo() method. And then the sort code can just use that compareTo() method, invoked in a sense of the object like an entry in the array and as argument and another instance in the object like another entry in the array to test whether the first is less than the second as in this example. The key point is that the sort implementation has no dependence on the type of data that's handled by the Comparable interface and a different Comparable array will be sorted in the same way though eventually, because of the interface mechanism, they call back to the actual compareTo() code that goes with a type of object being sorted. Now there's a few rules and there's natural rules but they're worth talking about and paying attention to that the compareTo() method has to implement in the so called a total order. In all that saying is really that it must be possible to put items in order in a sort. So there's three properties. First one says that if v is less than or equal to w and w is less than or equal to v then the only way for that to be true is if they're equal and then there's transitivity. If v less than w, w is less than x, then v must be less than or equal to x. In totality, is that either v is less than or equal to w or w is less than equal to v or both they are equal. And there's plenty of natural total orders in the types of data that we normally want to consider for sort keys. Like the integers or natural numbers or real numbers or alphabetical order for strings, chronological order for dates or times and so forth. The cartoon on the right shows that not all orders are necessarily total orders. So, rock, paper, scissors is intransitive. If you know that v is less that w, w is less than v, you don't know that v is less than or equal to v. I'm sorry, v is less than w, w less than equal to x that you don't necessarily know that v is less than or equal to x. Alright. So the Comparable API then, by convention in Java we always need to implement compareTo() such that v that compared to w is a total order. And also by convention, it returns a negative integer for its less zero if it's equal positive its greater. If this object is greater than the object given as argument. If the types are incompatible or if either one is null compareTo() should throw an exception. Now, again, many of Java's standard types for numbers and dates and files and so forth implement compareTo() by convention. Now if we're going to implement our own type then we have to go ahead and implement the Comparable interface according to these rules. And usually that's fairly straightforward. So here's an example. It's a simplified version of the Date class that's implemented within Java just to show the idea of implementing Comparable. So, after the class declaration, we write implements Comparable and then we fill in the generic with the same type because we're only going to compare dates to other dates. In this implementation, the Date class has three instance variables. The month, the day and the year and the constructor fills those from the arguments as you can see. So now, if you want to compare two different dates then the first thing to do is to check if this year is less than that year, over that is the year given, the date given in the argument. If that's true then it's less return -1 and if it's, the year is greater, return +1. Otherwise, the year, years must be equal so we have to look at the months to do the compare and so forth down to do the days. Only if they're all equal that we return zero. So, that's an example of an implementation of Comparable by implementing the compareTo() method to put dates in order as you might expect. So the Java language helps us with this Comparable mechanism so that we can sort data of any type. When we continue to implement sorting algorithms, we're actually even in a hide that beneath our own implementations. So, that are sorting algorithms actually their actual code can be used to implement sorting in many other languages. The way we do that is to take the two primary operations, compares and exchangers that were that were, were used to refer the data and encapsulate them just the static methods. So, we're going to use a method less() that takes two Comparable objects as arguments and it just returns, v.compareTo(w) less than zero. And then the other thing that we do when we sort items that are in an array is to, to swap or exchange of the item at a given index i with the one at a given index j. And that's every programmer's first introduction to assignment statements. We save a[i] in a variable swap, put a[j] in a[i], and then put swap back in a[j]. So now our sort methods to refer the data will just use this two static methods. And there's a good reason for that. Here's an example. Suppose we want to test if an array is sorted. So this is a static method that is supposed to return true if the array is sorted and false if it's not. And all it does is just go through the array from the one to the length of the array and test if each item is less than the one before. If you have an item that's less than one before then it's not sorted you return false. If you get all the way through the array without that happening, then you say the array is true. That's pretty simple code, the question is, if you have a sorting algorithm that passes that test, are you sure that it correctly sorted the array? Well the answer to that question is, yes if, yes if you used only the less() and exchange() methods to implement, to refer the data because then you know because you used the exchange() method that the data in the array after the sort is the same data as was in the array before the sort, sort. If you have a sort method that can store any values in an array, it could, for example, store zeros in every array entry that method would pass this test, but it didn't really correctly sort the array because overwrote all the values. So, we use less() and exchange() to be sure that we can test that our, our methods work with the method like this. ", "video_ID": 19, "course_id": 3}
{"category": ["elementary sorts"], "tagged": [["The", "DT"], ["first", "JJ"], ["elementary", "JJ"], ["sorting", "VBG"], ["method", "NN"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["take", "VB"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["is", "VBZ"], ["an", "DT"], ["easy", "JJ"], ["method", "NN"], ["known", "VBN"], ["as", "IN"], ["selection", "NN"], ["sort", "NN"], [".", "."], ["The", "DT"], ["idea", "NN"], ["of", "IN"], ["selection", "NN"], ["sort", "NN"], [",", ","], ["is", "VBZ"], ["start", "VBN"], ["out", "RP"], ["with", "IN"], ["a", "DT"], ["unsorted", "JJ"], ["array", "NN"], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["use", "VB"], ["these", "DT"], ["playing", "NN"], ["cards", "NNS"], ["as", "IN"], ["an", "DT"], ["example", "NN"], [".", "."], ["And", "CC"], ["in", "IN"], ["the", "DT"], ["ith", "NN"], ["iteration", "NN"], [",", ","], ["we", "PRP"], ["go", "VBP"], ["through", "IN"], ["the", "DT"], ["array", "NN"], ["to", "TO"], ["try", "VB"], ["to", "TO"], ["find", "VB"], ["the", "DT"], ["smallest", "JJS"], ["remaining", "JJ"], ["entry", "NN"], [",", ","], ["in", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["the", "DT"], ["2", "CD"], ["is", "VBZ"], ["the", "DT"], ["smallest", "JJS"], ["from", "IN"], ["any", "DT"], ["entry", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["'ll", "MD"], ["swap", "VB"], ["that", "IN"], ["with", "IN"], ["the", "DT"], ["first", "JJ"], ["entry", "NN"], ["in", "IN"], ["the", "DT"], ["array", "NN"], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["know", "VBP"], ["we", "PRP"], ["'ve", "VBP"], ["got", "VBD"], ["one", "CD"], ["step", "NN"], ["done", "VBN"], [".", "."], ["Selection", "NNP"], ["sort", "NN"], ["is", "VBZ"], ["based", "VBN"], ["on", "IN"], ["iterating", "VBG"], ["that", "DT"], ["idea", "NN"], [".", "."], ["Okay", "NNP"], [".", "."], ["So", "RB"], [",", ","], ["the", "DT"], ["basic", "JJ"], ["selection", "NN"], ["sort", "NN"], ["method", "NN"], ["is", "VBZ"], ["to", "TO"], [",", ","], ["in", "IN"], ["the", "DT"], ["ith", "NN"], ["iteration", "NN"], [",", ","], ["find", "VBP"], ["the", "DT"], ["smallest", "JJS"], ["remaining", "JJ"], ["entry", "NN"], ["and", "CC"], ["to", "TO"], ["the", "DT"], ["right", "NN"], ["of", "IN"], ["i", "NN"], ["or", "CC"], ["bigger", "JJR"], ["index", "NN"], ["than", "IN"], ["i", "NN"], ["and", "CC"], ["then", "RB"], ["swap", "VB"], ["that", "IN"], ["with", "IN"], ["i", "NN"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["start", "VBP"], ["out", "RP"], ["i", "NN"], ["is", "VBZ"], ["at", "IN"], ["the", "DT"], ["left", "JJ"], ["end", "NN"], ["and", "CC"], ["then", "RB"], ["the", "DT"], ["remaining", "VBG"], [",", ","], ["all", "PDT"], ["the", "DT"], ["remaining", "VBG"], ["entries", "NNS"], ["to", "TO"], ["the", "DT"], ["right", "NN"], [".", "."], ["We", "PRP"], ["scan", "VBP"], ["through", "IN"], ["and", "CC"], ["the", "DT"], ["smallest", "JJS"], ["one", "NN"], ["is", "VBZ"], ["the", "DT"], ["two", "CD"], [",", ","], ["three", "CD"], ["entries", "NNS"], ["from", "IN"], ["the", "DT"], ["right", "NN"], ["so", "IN"], ["we", "PRP"], ["swap", "VBP"], ["that", "DT"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["first", "JJ"], ["step", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["that", "IN"], ["part", "NN"], ["of", "IN"], ["the", "DT"], ["array", "NN"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["of", "IN"], ["i", "NN"], ["is", "VBZ"], ["in", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["final", "JJ"], ["order", "NN"], ["and", "CC"], ["we", "PRP"], ["simply", "RB"], ["continue", "VBP"], [".", "."], ["So", "RB"], ["now", "RB"], [",", ","], ["the", "DT"], ["smallest", "JJS"], ["is", "VBZ"], ["the", "DT"], ["three", "CD"], [".", "."], ["Swap", "VB"], ["that", "IN"], ["with", "IN"], ["i", "NN"], [",", ","], ["increment", "NN"], ["i", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["the", "DT"], ["two", "CD"], ["and", "CC"], ["three", "CD"], ["in", "IN"], ["order", "NN"], [",", ","], ["continuing", "VBG"], ["that", "DT"], ["way", "NN"], [".", "."], ["Find", "IN"], ["the", "DT"], ["smallest", "JJS"], [",", ","], ["the", "DT"], ["four", "CD"], [".", "."], ["Swap", "NN"], ["that", "IN"], ["one", "CD"], ["with", "IN"], ["i", "NN"], [",", ","], ["increment", "NN"], ["i", "NN"], [".", "."], ["Find", "IN"], ["the", "DT"], ["smallest", "JJS"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["five", "CD"], [",", ","], ["swap", "NN"], ["that", "IN"], ["with", "IN"], ["i", "NN"], [",", ","], ["increment", "NN"], ["i", "NN"], [".", "."], ["Find", "IN"], ["the", "DT"], ["smallest", "JJS"], [",", ","], ["swap", "NN"], ["that", "IN"], ["with", "IN"], ["i", "NN"], [",", ","], ["increment", "NN"], ["i", "NN"], [".", "."], ["Each", "DT"], ["time", "NN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["scan", "VB"], ["through", "IN"], ["all", "PDT"], ["the", "DT"], ["remaining", "VBG"], ["entries", "NNS"], ["in", "IN"], ["order", "NN"], ["to", "TO"], ["find", "VB"], ["the", "DT"], ["smallest", "JJS"], [".", "."], ["But", "CC"], ["then", "RB"], [",", ","], ["once", "RB"], ["we", "PRP"], ["found", "VBD"], ["it", "PRP"], [",", ","], ["we", "PRP"], ["only", "RB"], ["have", "VBP"], ["to", "TO"], ["swap", "VB"], ["two", "CD"], ["cards", "NNS"], ["those", "DT"], ["are", "VBP"], ["both", "DT"], ["key", "JJ"], ["properties", "NNS"], ["of", "IN"], ["selection", "NN"], ["sort", "NN"], [".", "."], ["Now", "RB"], ["the", "DT"], ["eight", "CD"], ["is", "VBZ"], ["the", "DT"], ["smallest", "JJS"], ["and", "CC"], ["we", "PRP"], ["swap", "VBP"], [".", "."], ["And", "CC"], ["now", "RB"], [",", ","], ["we", "PRP"], ["know", "VBP"], ["they", "PRP"], ["'re", "VBP"], ["in", "IN"], ["order", "NN"], ["but", "CC"], ["the", "DT"], ["program", "NN"], ["does", "VBZ"], ["n't", "RB"], ["so", "RB"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["look", "VB"], ["and", "CC"], ["decide", "VB"], ["that", "IN"], ["i", "NN"], ["and", "CC"], ["n", "NN"], ["are", "VBP"], ["the", "DT"], ["same", "JJ"], ["and", "CC"], ["then", "RB"], ["it", "PRP"], ["swaps", "VBZ"], ["it", "PRP"], ["with", "IN"], ["itself", "PRP"], ["and", "CC"], ["does", "VBZ"], ["the", "DT"], ["same", "JJ"], ["thing", "NN"], ["for", "IN"], ["the", "DT"], ["last", "JJ"], [".", "."], ["And", "CC"], ["so", "RB"], [",", ","], ["after", "IN"], ["that", "DT"], ["process", "NN"], [",", ","], ["then", "RB"], ["we", "PRP"], ["know", "VBP"], ["that", "IN"], ["the", "DT"], ["entire", "JJ"], ["array", "NN"], ["is", "VBZ"], ["in", "IN"], ["its", "PRP$"], ["final", "JJ"], ["order", "NN"], [",", ","], ["all", "DT"], ["sorted", "VBN"], [".", "."], ["Alright", "NNP"], [".", "."], ["So", "NNP"], ["let", "NN"], ["'s", "POS"], [",", ","], ["one", "CD"], ["way", "NN"], ["to", "TO"], ["understand", "VB"], ["the", "DT"], ["way", "NN"], ["that", "IN"], ["an", "DT"], ["algorithm", "NN"], ["works", "VBZ"], ["is", "VBZ"], ["to", "TO"], ["think", "VB"], ["about", "IN"], ["invariants", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["for", "IN"], ["the", "DT"], ["selection", "NN"], ["sort", "NN"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["pointer", "NN"], ["that", "WDT"], ["was", "VBD"], ["our", "PRP$"], ["variable", "JJ"], ["i", "NN"], [",", ","], ["that", "WDT"], ["scans", "VBZ"], ["from", "IN"], ["left", "VBN"], ["to", "TO"], ["right", "VB"], [".", "."], ["Now", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["indicated", "VBN"], ["by", "IN"], ["a", "DT"], ["little", "JJ"], ["red", "JJ"], ["arrow", "NN"], ["in", "IN"], ["this", "DT"], ["representation", "NN"], [".", "."], ["The", "DT"], ["invariants", "NNS"], ["are", "VBP"], ["that", "IN"], ["the", "DT"], ["entries", "NNS"], ["on", "IN"], ["onto", "IN"], ["the", "DT"], ["left", "NN"], ["of", "IN"], ["the", "DT"], ["arrow", "NN"], ["are", "VBP"], ["never", "RB"], ["changed", "VBN"], ["and", "CC"], ["they", "PRP"], ["'re", "VBP"], ["in", "IN"], ["ascending", "VBG"], ["order", "NN"], [".", "."], ["No", "DT"], ["entry", "NN"], ["to", "TO"], ["the", "DT"], ["right", "NN"], ["of", "IN"], ["the", "DT"], ["arrow", "NN"], ["is", "VBZ"], ["smaller", "JJR"], ["than", "IN"], ["any", "DT"], ["entry", "NN"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["of", "IN"], ["it", "PRP"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["the", "DT"], ["way", "NN"], ["that", "IN"], ["we", "PRP"], ["set", "VBD"], ["it", "PRP"], ["up", "RP"], [".", "."], ["And", "CC"], ["the", "DT"], ["algorithm", "NN"], ["maintains", "VBZ"], ["those", "DT"], ["invariants", "NNS"], ["by", "IN"], ["finding", "VBG"], ["the", "DT"], ["smallest", "JJS"], ["entry", "NN"], ["to", "TO"], ["the", "DT"], ["right", "NN"], ["and", "CC"], ["exchange", "NN"], ["it", "PRP"], ["with", "IN"], ["the", "DT"], ["next", "JJ"], ["one", "NN"], [".", "."], ["So", "IN"], ["the", "DT"], ["code", "NN"], ["implements", "VBZ"], ["the", "DT"], ["invariants", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["to", "TO"], ["move", "VB"], ["the", "DT"], ["pointer", "NN"], ["to", "TO"], ["the", "DT"], ["right", "NN"], [",", ","], ["we", "PRP"], ["increment", "VBP"], ["i", "JJ"], [".", "."], ["So", "RB"], [",", ","], ["now", "RB"], ["the", "DT"], ["invariant", "NN"], ["might", "MD"], ["be", "VB"], ["violated", "VBN"], ["so", "IN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["fix", "VB"], ["it", "PRP"], [".", "."], ["It", "PRP"], ["might", "MD"], ["be", "VB"], ["violated", "VBN"], ["because", "IN"], ["you", "PRP"], ["might", "MD"], ["have", "VB"], ["an", "DT"], ["element", "NN"], ["to", "TO"], ["the", "DT"], ["right", "NN"], ["of", "IN"], ["the", "DT"], ["pointer", "NN"], ["that", "WDT"], ["is", "VBZ"], ["smaller", "JJR"], ["than", "IN"], ["some", "DT"], [",", ","], ["the", "DT"], ["element", "NN"], ["on", "IN"], ["the", "DT"], ["pointer", "NN"], [".", "."], ["So", "RB"], [",", ","], ["what", "WP"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["identify", "VB"], ["the", "DT"], ["index", "NN"], ["or", "CC"], ["that", "IN"], ["minimum", "JJ"], ["entry", "NN"], ["and", "CC"], ["exchange", "NN"], ["it", "PRP"], [".", "."], ["Then", "RB"], ["once", "IN"], ["we", "PRP"], ["'ve", "VBP"], ["exchanged", "VBN"], ["it", "PRP"], [",", ","], ["again", "RB"], [",", ","], ["we", "PRP"], ["preserved", "VBD"], ["our", "PRP$"], ["invariant", "NN"], [".", "."], ["After", "IN"], ["that", "DT"], ["point", "NN"], [",", ","], ["no", "DT"], ["element", "NN"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["of", "IN"], ["the", "DT"], ["pointer", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["change", "VB"], ["and", "CC"], ["all", "PDT"], ["the", "DT"], ["element", "NN"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["no", "DT"], ["smaller", "JJR"], ["element", "NN"], ["to", "TO"], ["the", "DT"], ["right", "NN"], [".", "."], ["[", "CC"], ["cough", "JJ"], ["]", "NN"], ["and", "CC"], ["that", "DT"], ["gives", "VBZ"], ["us", "PRP"], ["immediately", "RB"], ["our", "PRP$"], ["code", "NN"], ["for", "IN"], ["the", "DT"], ["selection", "NN"], ["sort", "NN"], ["implementation", "NN"], [".", "."], ["We", "PRP"], ["identify", "VBP"], ["the", "DT"], [",", ","], ["the", "DT"], ["length", "NN"], ["of", "IN"], ["the", "DT"], ["array", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["n.", "JJ"], ["Then", "RB"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["for", "IN"], ["loop", "NN"], ["that", "WDT"], ["goes", "VBZ"], ["through", "IN"], ["every", "DT"], ["element", "NN"], ["in", "IN"], ["the", "DT"], ["array", "NN"], [",", ","], ["we", "PRP"], ["keep", "VBP"], ["a", "DT"], ["variable", "JJ"], ["min", "NN"], ["in", "IN"], ["that", "DT"], ["is", "VBZ"], ["the", "DT"], ["index", "NN"], ["of", "IN"], ["the", "DT"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["the", "DT"], ["index", "NN"], ["of", "IN"], ["the", "DT"], ["smallest", "JJS"], ["element", "NN"], ["to", "TO"], ["the", "DT"], ["right", "NN"], ["of", "IN"], ["pointer", "NN"], ["i", "NN"], [".", "."], ["We", "PRP"], ["have", "VBP"], ["an", "DT"], ["inter-for", "JJ"], ["loop", "NN"], ["that", "IN"], ["for", "IN"], ["j", "NN"], [",", ","], ["if", "IN"], ["it", "PRP"], ["finds", "VBZ"], ["a", "DT"], ["smaller", "JJR"], ["one", "CD"], [",", ","], ["resets", "VBZ"], ["min", "NNS"], ["and", "CC"], ["then", "RB"], ["once", "RB"], ["we", "PRP"], ["'ve", "VBP"], ["looked", "VBN"], ["at", "IN"], ["all", "PDT"], ["the", "DT"], ["elements", "NNS"], ["to", "TO"], ["the", "DT"], ["right", "NN"], ["of", "IN"], ["i", "NN"], ["we", "PRP"], ["exchange", "VBP"], ["the", "DT"], ["smallest", "JJS"], ["one", "NN"], ["with", "IN"], ["i", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["a", "DT"], ["complete", "JJ"], ["implementation", "NN"], ["of", "IN"], ["selection", "NN"], ["sort", "NN"], [".", "."], ["Now", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["easy", "JJ"], ["to", "TO"], ["develop", "VB"], ["on", "IN"], ["mathematical", "JJ"], ["model", "NN"], ["for", "IN"], ["the", "DT"], ["cost", "NN"], ["of", "IN"], ["selection", "NN"], ["sort", "NN"], ["and", "CC"], ["here", "RB"], ["'s", "VBZ"], ["the", "DT"], ["proposition", "NN"], ["that", "WDT"], ["describes", "VBZ"], ["that", "IN"], [".", "."], ["Selections", "NNS"], ["or", "CC"], ["uses", "VBZ"], ["about", "IN"], ["N^2", "NNP"], ["/", "VBD"], ["2", "CD"], ["compares", "NNS"], ["and", "CC"], ["exactly", "RB"], ["n", "JJ"], ["exchanges", "NNS"], [".", "."], ["And", "CC"], ["just", "RB"], ["looking", "VBG"], ["at", "IN"], ["this", "DT"], ["trace", "NN"], ["of", "IN"], ["selection", "NN"], ["sort", "NN"], ["and", "CC"], ["operation", "NN"], ["really", "RB"], ["is", "VBZ"], ["a", "DT"], ["proof", "NN"], [",", ","], ["visual", "JJ"], ["proof", "NN"], ["of", "IN"], ["this", "DT"], ["proposition", "NN"], [".", "."], ["In", "IN"], ["this", "DT"], ["diagram", "NN"], [",", ","], ["the", "DT"], ["entries", "NNS"], ["in", "IN"], ["black", "JJ"], [",", ","], ["are", "VBP"], ["the", "DT"], ["ones", "NNS"], ["that", "WDT"], ["are", "VBP"], ["examined", "VBN"], ["in", "IN"], ["order", "NN"], ["to", "TO"], ["find", "VB"], ["the", "DT"], ["minimum", "JJ"], ["each", "DT"], ["time", "NN"], ["with", "IN"], ["the", "DT"], ["minimum", "NN"], ["in", "IN"], ["red", "JJ"], [".", "."], ["Entries", "NNS"], ["in", "IN"], ["gray", "NN"], ["are", "VBP"], ["not", "RB"], ["touched", "VBN"], [",", ","], ["they", "PRP"], ["'re", "VBP"], ["in", "IN"], ["their", "PRP$"], ["final", "JJ"], ["position", "NN"], [".", "."], ["Well", "UH"], [",", ","], ["you", "PRP"], ["can", "MD"], ["see", "VB"], ["that", "IN"], ["this", "DT"], ["is", "VBZ"], ["n't", "RB"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["in", "IN"], ["general", "JJ"], ["an", "DT"], ["N", "NNP"], ["by", "IN"], ["N", "NNP"], ["square", "NN"], ["and", "CC"], ["about", "IN"], ["half", "NN"], ["of", "IN"], ["the", "DT"], ["elements", "NNS"], ["in", "IN"], ["the", "DT"], ["square", "NN"], ["are", "VBP"], ["black", "JJ"], ["or", "CC"], ["about", "IN"], ["N^2", "NNP"], ["/", "NNP"], ["2", "CD"], ["and", "CC"], ["you", "PRP"], ["can", "MD"], ["see", "VB"], ["also", "RB"], ["the", "DT"], ["exact", "JJ"], ["formula", "NN"], ["(", "("], ["N", "NNP"], ["-", ":"], ["1", "CD"], [")", ")"], ["+", "NN"], ["(", "("], ["N", "NNP"], ["-", ":"], ["2", "CD"], [")", ")"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], ["is", "VBZ"], ["the", "DT"], ["total", "JJ"], ["number", "NN"], ["of", "IN"], ["compares", "NNS"], ["used", "VBN"], [".", "."], ["And", "CC"], ["then", "RB"], ["on", "IN"], ["each", "DT"], ["of", "IN"], ["the", "DT"], ["Ns", "NNP"], ["values", "NNS"], ["of", "IN"], ["the", "DT"], ["variable", "JJ"], ["i", "NN"], ["there", "EX"], ["'s", "VBZ"], ["an", "DT"], ["exchange", "NN"], ["so", "IN"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["cost", "NN"], ["in", "IN"], ["terms", "NNS"], ["of", "IN"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["exchanges", "NNS"], [".", "."], ["Now", "RB"], [",", ","], ["what", "WP"], ["'s", "VBZ"], ["interesting", "VBG"], ["about", "IN"], ["this", "DT"], ["proposition", "NN"], ["about", "IN"], ["selection", "NN"], ["sort", "NN"], ["is", "VBZ"], ["that", "IN"], [",", ","], ["it", "PRP"], ["does", "VBZ"], ["n't", "RB"], ["matter", "VB"], ["what", "WP"], ["order", "NN"], ["the", "DT"], ["input", "NN"], ["is", "VBZ"], [".", "."], ["Selection", "NNP"], ["sort", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["use", "VB"], ["quadratic", "JJ"], ["time", "NN"], ["because", "IN"], ["it", "PRP"], ["always", "RB"], ["has", "VBZ"], ["to", "TO"], ["go", "VB"], ["through", "IN"], ["the", "DT"], ["whole", "JJ"], ["thing", "NN"], ["to", "TO"], ["look", "VB"], ["for", "IN"], ["the", "DT"], ["minimum", "NN"], [".", "."], ["And", "CC"], ["another", "DT"], ["property", "NN"], ["is", "VBZ"], ["that", "IN"], ["you", "PRP"], ["ca", "MD"], ["n't", "RB"], ["sort", "VB"], ["moving", "VBG"], ["less", "JJR"], ["data", "NNS"], ["because", "IN"], ["selection", "NN"], ["sort", "NN"], ["does", "VBZ"], ["just", "RB"], ["a", "DT"], ["linear", "JJ"], ["number", "NN"], ["of", "IN"], ["exchanges", "NNS"], [".", "."], ["Every", "DT"], ["item", "NN"], ["is", "VBZ"], ["put", "VBN"], ["in", "IN"], ["to", "TO"], ["it", "PRP"], ["'s", "VBZ"], ["final", "JJ"], ["position", "NN"], ["with", "IN"], ["just", "RB"], ["one", "CD"], ["exchange", "NN"], [".", "."], ["Let", "NNP"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["an", "DT"], ["animation", "NN"], ["of", "IN"], ["selection", "NN"], ["sort", "NN"], ["in", "IN"], ["operation", "NN"], [".", "."], ["[", "CC"], ["cough", "JJ"], ["]", "NN"], ["You", "PRP"], ["can", "MD"], ["see", "VB"], ["our", "PRP$"], ["pointer", "NN"], ["moving", "VBG"], ["from", "IN"], ["right", "NN"], ["to", "TO"], ["left", "VB"], ["every", "DT"], ["time", "NN"], ["it", "PRP"], ["finds", "VBZ"], ["the", "DT"], ["smallest", "JJS"], ["element", "NN"], ["to", "TO"], ["the", "DT"], ["right", "NN"], [",", ","], ["it", "PRP"], ["exchanges", "NNS"], ["it", "PRP"], ["into", "IN"], ["position", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["if", "IN"], ["the", "DT"], ["array", "NN"], ["is", "VBZ"], ["partially", "RB"], ["sorted", "VBN"], [",", ","], ["it", "PRP"], ["does", "VBZ"], ["n't", "RB"], ["matter", "VB"], ["to", "TO"], ["selection", "VB"], ["sort", "NN"], [".", "."], ["Still", "RB"], ["has", "VBZ"], ["to", "TO"], ["go", "VB"], ["through", "IN"], [",", ","], ["even", "RB"], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["totally", "RB"], ["sorted", "VBN"], [",", ","], ["still", "RB"], ["has", "VBZ"], ["to", "TO"], ["go", "VB"], ["through", "IN"], ["to", "TO"], ["the", "DT"], ["side", "NN"], ["where", "WRB"], ["that", "DT"], ["minimum", "JJ"], ["element", "NN"], ["is", "VBZ"], [".", "."], ["That", "DT"], ["selection", "NN"], ["sort", "NN"], [",", ","], ["our", "PRP$"], ["first", "JJ"], ["elementary", "JJ"], ["sorting", "NN"], ["method", "NN"], [".", "."]], "title": "selection sort", "text": "The first elementary sorting method that we're going to take a look at is an easy method known as selection sort. The idea of selection sort, is start out with a unsorted array and we'll use these playing cards as an example. And in the ith iteration, we go through the array to try to find the smallest remaining entry, in this case, the 2 is the smallest from any entry. And then we'll swap that with the first entry in the array and then we know we've got one step done. Selection sort is based on iterating that idea. Okay. So, the basic selection sort method is to, in the ith iteration, find the smallest remaining entry and to the right of i or bigger index than i and then swap that with i. So, we start out i is at the left end and then the remaining, all the remaining entries to the right. We scan through and the smallest one is the two, three entries from the right so we swap that. So that's the first step. Now, that part of the array to the left of i is in it's final order and we simply continue. So now, the smallest is the three. Swap that with i, increment i. So now, we have the two and three in order, continuing that way. Find the smallest, the four. Swap that one with i, increment i. Find the smallest, it's five, swap that with i, increment i. Find the smallest, swap that with i, increment i.  Each time we have to scan through all the remaining entries in order to find the smallest. But then, once we found it, we only have to swap two cards those are both key properties of selection sort. Now the eight is the smallest and we swap. And now, we know they're in order but the program doesn't so we have to look and decide that i and n are the same and then it swaps it with itself and does the same thing for the last. And so, after that process, then we know that the entire array is in its final order, all sorted. Alright. So let's, one way to understand the way that an algorithm works is to think about invariants . So, for the selection sort, we have a pointer that was our variable i, that scans from left to right. Now, it's indicated by a little red arrow in this representation. The invariants are that the entries on onto the left of the arrow are never changed and they're in ascending order. No entry to the right of the arrow is smaller than any entry to the left of it. That's the way that we set it up. And the algorithm maintains those invariants by finding the smallest entry to the right and exchange it with the next one. So the code implements the invariants. So, to move the pointer to the right, we increment i. So, now the invariant might be violated so we have to fix it. It might be violated because you might have an element to the right of the pointer that is smaller than some, the element on the pointer. So, what we have to do is identify the index or that minimum entry and exchange it. Then once we've exchanged it, again, we preserved our invariant. After that point, no element to the left of the pointer is going to change and all the element, there's no smaller element to the right. [cough] and that gives us immediately our code for the selection sort implementation. We identify the, the length of the array that's n. Then we have a for loop that goes through every element in the array, we keep a variable min in that is the index of the going to be the index of the smallest element to the right of pointer i. We have an inter-for loop that for j, if it finds a smaller one, resets min and then once we've looked at all the elements to the right of i we exchange the smallest one with i. That's a complete implementation of selection sort. Now it's easy to develop on mathematical model for the cost of selection sort and here's the proposition that describes that. Selections or uses about N^2 / 2 compares and exactly n exchanges. And just looking at this trace of selection sort and operation really is a proof, visual proof of this proposition. In this diagram, the entries in black, are the ones that are examined in order to find the minimum each time with the minimum in red. Entries in gray are not touched, they're in their final position. Well, you can see that this isn't going to be in general an N by N square and about half of the elements in the square are black or about N^2 / 2 and you can see also the exact formula (N - 1) + (N - 2) and so forth is the total number of compares used. And then on each of the Ns values of the variable i there's an exchange so that's the cost in terms of the number of exchanges. Now, what's interesting about this proposition about selection sort is that, it doesn't matter what order the input is. Selection sort is going to use quadratic time because it always has to go through the whole thing to look for the minimum. And another property is that you can't sort moving less data because selection sort does just a linear number of exchanges. Every item is put in to it's final position with just one exchange. Let's look at an animation of selection sort in operation. [cough] You can see our pointer moving from right to left every time it finds the smallest element to the right, it exchanges it into position. Now, if the array is partially sorted, it doesn't matter to selection sort. Still has to go through, even if it's totally sorted, still has to go through to the side where that minimum element is. That selection sort, our first elementary sorting method. ", "video_ID": 20, "course_id": 3}
{"category": ["elementary sorts"], "tagged": [["Now", "RB"], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["insertion", "NN"], ["sort", "NN"], [",", ","], ["which", "WDT"], ["is", "VBZ"], ["another", "DT"], ["elementary", "JJ"], ["method", "NN"], ["that", "WDT"], ["interestingly", "RB"], ["has", "VBZ"], ["quite", "RB"], ["different", "JJ"], ["performance", "NN"], ["characteristics", "NNS"], ["than", "IN"], ["selection", "NN"], ["sort", "NN"], [".", "."], ["Let", "NNP"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["a", "DT"], ["demo", "NN"], ["of", "IN"], ["insertion", "NN"], ["sort", "NN"], [".", "."], ["For", "IN"], ["insertion", "NN"], ["sort", "NN"], [",", ","], ["what", "WP"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["we", "PRP"], ["'ll", "MD"], ["move", "VB"], ["an", "DT"], ["index", "NN"], ["i", "NN"], ["from", "IN"], ["left", "VBN"], ["to", "TO"], ["right", "VB"], ["as", "IN"], ["before", "RB"], [",", ","], ["but", "CC"], ["now", "RB"], [",", ","], ["in", "IN"], ["the", "DT"], ["i'th", "JJ"], ["iteration", "NN"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["move", "VB"], ["a", "DT"], ["[", "NN"], ["i", "NN"], ["]", "VBP"], ["into", "IN"], ["position", "NN"], ["among", "IN"], ["the", "DT"], ["elements", "NNS"], ["to", "TO"], ["its", "PRP$"], ["left", "NN"], [".", "."], ["Let", "VB"], ["'s", "POS"], ["look", "VB"], ["at", "IN"], ["how", "WRB"], ["that", "DT"], ["works", "VBZ"], ["on", "IN"], ["our", "PRP$"], ["example", "NN"], ["with", "IN"], ["cards", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["now", "RB"], ["we", "PRP"], ["start", "VBP"], ["by", "IN"], ["initializing", "VBG"], ["i", "NN"], ["at", "IN"], ["the", "DT"], ["first", "JJ"], ["card", "NN"], [",", ","], ["and", "CC"], ["we", "PRP"], ["take", "VBP"], ["the", "DT"], ["idea", "NN"], ["that", "IN"], ["everything", "NN"], ["from", "IN"], ["i", "NN"], ["to", "TO"], ["its", "PRP$"], ["left", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["sorted", "VBN"], [",", ","], ["and", "CC"], ["everything", "NN"], ["from", "IN"], ["the", "DT"], ["right", "NN"], ["we", "PRP"], ["'re", "VBP"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["at", "IN"], ["all", "DT"], [".", "."], ["So", "RB"], ["everything", "NN"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["of", "IN"], ["i", "NN"], ["is", "VBZ"], ["in", "IN"], ["ascending", "VBG"], ["order", "NN"], [",", ","], ["everything", "NN"], ["to", "TO"], ["the", "DT"], ["right", "NN"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["n't", "RB"], ["seen", "VBN"], ["it", "PRP"], ["all", "DT"], ["yet", "RB"], [".", "."], ["So", "RB"], ["now", "RB"], ["when", "WRB"], ["we", "PRP"], ["increment", "VBP"], ["i", "RB"], [",", ","], ["well", "RB"], [",", ","], ["in", "IN"], ["this", "DT"], ["case", "NN"], ["it", "PRP"], ["'s", "VBZ"], ["already", "RB"], ["in", "IN"], ["order", "NN"], [",", ","], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["have", "VB"], ["anything", "NN"], ["else", "RB"], ["to", "TO"], ["do", "VB"], [".", "."], ["In", "IN"], ["the", "DT"], ["third", "JJ"], ["case", "NN"], ["now", "RB"], [",", ","], ["when", "WRB"], ["i", "NN"], ["is", "VBZ"], ["at", "IN"], ["the", "DT"], ["third", "JJ"], ["entry", "NN"], ["in", "IN"], ["the", "DT"], ["array", "NN"], [",", ","], ["now", "RB"], ["we", "PRP"], ["start", "VBP"], ["a", "DT"], ["index", "NN"], ["j", "NN"], [",", ","], ["and", "CC"], ["we", "PRP"], ["move", "VBP"], ["that", "IN"], ["starting", "VBG"], ["at", "IN"], ["i", "NN"], ["to", "TO"], ["the", "DT"], ["left", "NN"], [".", "."], ["And", "CC"], ["what", "WP"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["just", "RB"], ["exchange", "VB"], ["the", "DT"], ["5", "CD"], ["with", "IN"], ["every", "DT"], ["element", "NN"], ["to", "TO"], ["its", "PRP$"], ["left", "NN"], ["that", "DT"], ["'s", "VBZ"], ["greater", "JJR"], [".", "."], ["So", "RB"], ["first", "JJ"], ["we", "PRP"], ["exchange", "VBP"], ["it", "PRP"], ["with", "IN"], ["the", "DT"], ["10", "CD"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["still", "RB"], ["not", "RB"], ["in", "IN"], ["place", "NN"], [",", ","], ["so", "IN"], ["we", "PRP"], ["exchange", "VBP"], ["it", "PRP"], ["with", "IN"], ["the", "DT"], ["7", "CD"], [".", "."], ["Now", "RB"], ["we", "PRP"], ["get", "VBP"], ["to", "TO"], ["the", "DT"], ["beginning", "NN"], ["of", "IN"], ["the", "DT"], ["array", "NN"], [",", ","], ["and", "CC"], ["once", "RB"], ["we", "PRP"], ["'ve", "VBP"], ["done", "VBN"], ["that", "DT"], ["or", "CC"], ["we", "PRP"], ["'ve", "VBP"], ["hit", "VBN"], ["a", "DT"], ["smaller", "JJR"], ["element", "NN"], [",", ","], ["then", "RB"], ["we", "PRP"], ["have", "VBP"], ["everybody", "VBN"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["of", "IN"], ["i", "NN"], ["in", "IN"], ["order", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], ["we", "PRP"], ["increment", "VBP"], ["that", "DT"], ["again", "RB"], [",", ","], ["and", "CC"], ["we", "PRP"], ["come", "VBP"], ["to", "TO"], ["the", "DT"], ["3", "CD"], [".", "."], ["Again", "NNP"], [",", ","], ["we", "PRP"], ["exchange", "VBP"], ["as", "RB"], ["long", "RB"], ["as", "IN"], ["the", "DT"], ["card", "NN"], ["immediately", "RB"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["is", "VBZ"], ["greater", "JJR"], [".", "."], ["And", "CC"], ["once", "RB"], ["we", "PRP"], ["'ve", "VBP"], ["done", "VBN"], ["that", "IN"], [",", ","], ["then", "RB"], ["we", "PRP"], ["have", "VBP"], ["everything", "NN"], ["to", "TO"], ["the", "DT"], ["left", "VBN"], ["by", "IN"], ["in", "IN"], ["ascending", "VBG"], ["order", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["in", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["the", "DT"], ["8", "CD"], [",", ","], ["and", "CC"], ["we", "PRP"], ["only", "RB"], ["have", "VBP"], ["to", "TO"], ["exchange", "VB"], ["one", "CD"], [",", ","], ["and", "CC"], ["now", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["got", "VBD"], ["the", "DT"], ["7", "CD"], ["to", "TO"], ["its", "PRP$"], ["left", "JJ"], ["and", "CC"], ["everything", "NN"], ["is", "VBZ"], ["in", "IN"], ["order", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["'ve", "VBP"], ["achieved", "VBN"], ["putting", "VBG"], ["it", "PRP"], ["in", "IN"], ["order", "NN"], ["with", "IN"], ["less", "JJR"], ["work", "NN"], ["in", "IN"], ["this", "DT"], ["case", "NN"], [".", "."], ["We", "PRP"], ["do", "VBP"], ["n't", "RB"], ["always", "RB"], ["have", "VB"], ["to", "TO"], ["go", "VB"], ["all", "PDT"], ["the", "DT"], ["way", "NN"], ["back", "RB"], ["to", "TO"], ["the", "DT"], ["beginning", "NN"], [".", "."], ["4", "CD"], [",", ","], ["exchange", "NN"], ["it", "PRP"], ["with", "IN"], ["everybody", "NN"], ["to", "TO"], ["its", "PRP$"], ["left", "NN"], ["that", "DT"], ["'s", "VBZ"], ["greater", "JJR"], [",", ","], ["until", "IN"], ["we", "PRP"], ["find", "VBP"], ["a", "DT"], ["smaller", "JJR"], ["element", "NN"], [",", ","], ["then", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["in", "IN"], ["ascending", "VBG"], ["order", "NN"], [".", "."], ["2", "CD"], ["has", "VBZ"], ["to", "TO"], ["go", "VB"], ["all", "PDT"], ["the", "DT"], ["way", "NN"], ["back", "RB"], ["to", "TO"], ["the", "DT"], ["beginning", "NN"], [".", "."], ["But", "CC"], ["then", "RB"], ["the", "DT"], ["very", "RB"], ["next", "JJ"], ["one", "CD"], [",", ","], ["the", "DT"], ["9", "CD"], ["has", "VBZ"], ["to", "TO"], ["only", "RB"], ["go", "VB"], ["back", "RB"], ["one", "CD"], ["position", "NN"], [",", ","], ["and", "CC"], ["the", "DT"], ["6", "CD"], ["has", "VBZ"], ["to", "TO"], ["go", "VB"], ["about", "IN"], ["halfway", "RB"], ["back", "RB"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["have", "VBP"], ["the", "DT"], ["entire", "JJ"], ["array", "NN"], ["sorted", "VBD"], [".", "."], ["Again", "NNP"], [",", ","], ["we", "PRP"], ["can", "MD"], ["look", "VB"], ["at", "IN"], ["insertion", "NN"], ["sort", "NN"], ["in", "IN"], ["terms", "NNS"], ["of", "IN"], ["invariants", "NNS"], [".", "."], ["Our", "PRP$"], ["pointer", "NN"], ["still", "RB"], ["scans", "VBZ"], ["from", "IN"], ["left", "VBN"], ["to", "TO"], ["right", "VB"], [",", ","], ["but", "CC"], ["now", "RB"], ["the", "DT"], ["elements", "NNS"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["of", "IN"], ["the", "DT"], ["pointer", "NN"], [",", ","], ["including", "VBG"], ["it", "PRP"], [",", ","], ["are", "VBP"], ["in", "IN"], ["order", "NN"], [",", ","], ["but", "CC"], ["the", "DT"], ["elements", "NNS"], ["to", "TO"], ["the", "DT"], ["right", "NN"], ["have", "VBP"], ["not", "RB"], ["yet", "RB"], ["been", "VBN"], ["seen", "VBN"], ["at", "IN"], ["all", "DT"], [".", "."], ["So", "IN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["the", "DT"], ["code", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["maintain", "VB"], ["that", "DT"], ["invariant", "NN"], ["as", "IN"], ["the", "DT"], ["pointer", "NN"], ["increments", "NNS"], [".", "."], ["Move", "VB"], ["the", "DT"], ["pointer", "NN"], ["to", "TO"], ["the", "DT"], ["right", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["incremented", "VBN"], ["again", "RB"], [".", "."], ["Now", "RB"], ["the", "DT"], ["invariant", "NN"], ["'s", "POS"], ["broken", "NN"], ["because", "IN"], ["the", "DT"], ["element", "NN"], ["on", "IN"], ["the", "DT"], ["pointer", "NN"], ["is", "VBZ"], ["not", "RB"], ["in", "IN"], ["sorted", "JJ"], ["order", "NN"], [".", "."], ["To", "TO"], ["put", "VB"], ["it", "PRP"], ["in", "IN"], ["sorted", "JJ"], ["order", "NN"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["move", "VB"], ["from", "IN"], ["right", "NN"], ["to", "TO"], ["left", "VB"], [",", ","], ["exchanging", "VBG"], ["it", "PRP"], ["with", "IN"], ["every", "DT"], ["larger", "JJR"], ["elements", "NNS"], ["to", "TO"], ["its", "PRP$"], ["left", "NN"], [",", ","], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["what", "WP"], ["the", "DT"], ["code", "NN"], ["at", "IN"], ["the", "DT"], ["bottom", "NN"], ["does", "VBZ"], [".", "."], ["It", "PRP"], ["starts", "VBZ"], ["j", "NN"], ["at", "IN"], ["i", "NN"], [",", ","], ["and", "CC"], ["decrements", "NNS"], ["j", "NN"], [",", ","], ["exchanging", "VBG"], ["j", "NN"], ["with", "IN"], ["the", "DT"], ["elements", "NNS"], ["to", "TO"], ["its", "PRP$"], ["left", "NN"], [",", ","], ["a", "DT"], ["of", "IN"], ["j", "NN"], ["with", "IN"], ["the", "DT"], ["element", "NN"], ["to", "TO"], ["its", "PRP$"], ["left", "NN"], [",", ","], ["a", "DT"], ["of", "IN"], ["j-1", "NN"], [",", ","], ["as", "RB"], ["long", "RB"], ["as", "IN"], ["a", "DT"], ["of", "IN"], ["j", "NN"], ["is", "VBZ"], ["less", "JJR"], ["than", "IN"], ["a", "DT"], ["of", "IN"], ["j-1", "NN"], ["or", "CC"], ["j", "NN"], ["is", "VBZ"], ["bigger", "JJR"], ["than", "IN"], ["0", "CD"], [".", "."], ["And", "CC"], ["that", "IN"], ["immediately", "RB"], ["gives", "VBZ"], ["this", "DT"], ["code", "NN"], ["for", "IN"], ["insertion", "NN"], ["sort", "NN"], [",", ","], ["which", "WDT"], ["is", "VBZ"], ["similar", "JJ"], ["to", "TO"], ["our", "PRP$"], ["code", "NN"], ["for", "IN"], ["selection", "NN"], ["sort", "NN"], ["and", "CC"], ["just", "RB"], ["as", "RB"], ["simple", "JJ"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["got", "VBD"], ["two", "CD"], ["nested", "VBN"], ["for", "IN"], ["loops", "NNS"], [",", ","], ["selection", "NN"], ["sort", "NN"], ["had", "VBD"], ["two", "CD"], ["nested", "VBN"], ["for", "IN"], ["loops", "NNS"], [",", ","], ["a", "DT"], ["test", "NN"], [",", ","], ["a", "DT"], ["comparison", "NN"], [",", ","], ["and", "CC"], ["an", "DT"], ["exchange", "NN"], ["inside", "IN"], ["the", "DT"], ["for", "IN"], ["loop", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["fine", "JJ"], ["implementation", "NN"], ["of", "IN"], ["an", "DT"], ["elementary", "JJ"], ["sorting", "NN"], ["method", "NN"], [".", "."], ["What", "WP"], ["about", "IN"], ["the", "DT"], ["analysis", "NN"], ["of", "IN"], ["insertion", "NN"], ["sort", "NN"], ["?", "."], ["It", "PRP"], ["'s", "VBZ"], ["more", "RBR"], ["complicated", "JJ"], [".", "."], ["Our", "PRP$"], ["proposition", "NN"], ["says", "VBZ"], ["that", "IN"], ["insertion", "NN"], ["sort", "NN"], [",", ","], ["to", "TO"], ["sort", "VB"], ["randomly", "RB"], ["ordered", "VBN"], ["array", "NN"], ["with", "IN"], ["distinct", "JJ"], ["keys", "NNS"], [",", ","], ["it", "PRP"], ["'ll", "MD"], ["use", "VB"], ["about", "IN"], ["one", "CD"], ["quarter", "NN"], ["N", "NNP"], ["squared", "VBD"], ["compares", "NNS"], [",", ","], ["and", "CC"], ["about", "IN"], ["the", "DT"], ["same", "JJ"], ["number", "NN"], [",", ","], ["one", "CD"], ["quarter", "NN"], ["N", "NNP"], ["squared", "VBD"], ["exchanges", "NNS"], [",", ","], ["on", "IN"], ["the", "DT"], ["average", "NN"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["more", "RBR"], ["complicated", "JJ"], ["to", "TO"], ["prove", "VB"], [".", "."], ["It", "PRP"], ["depends", "VBZ"], ["on", "IN"], ["the", "DT"], ["array", "NN"], ["being", "VBG"], ["randomly", "RB"], ["ordered", "VBN"], [".", "."], ["And", "CC"], ["again", "RB"], [",", ","], ["you", "PRP"], ["can", "MD"], ["get", "VB"], ["a", "DT"], ["feeling", "NN"], ["for", "IN"], ["where", "WRB"], ["the", "DT"], ["proposition", "NN"], ["comes", "VBZ"], ["from", "IN"], ["by", "IN"], ["looking", "VBG"], ["at", "IN"], ["this", "DT"], ["N", "NNP"], ["by", "IN"], ["N", "NNP"], ["trace", "NN"], [".", "."], ["Again", "NNP"], [",", ","], ["the", "DT"], ["black", "JJ"], ["elements", "NNS"], ["are", "VBP"], ["the", "DT"], ["ones", "NNS"], ["that", "IN"], ["we", "PRP"], ["compare", "VBP"], [",", ","], ["and", "CC"], ["actually", "RB"], [",", ","], ["they", "PRP"], ["'re", "VBP"], ["also", "RB"], ["the", "DT"], ["exchanges", "NNS"], [".", "."], ["On", "IN"], ["the", "DT"], ["red", "JJ"], ["one", "NN"], ["is", "VBZ"], ["the", "DT"], ["one", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["finally", "RB"], ["put", "VBN"], ["into", "IN"], ["place", "NN"], [".", "."], ["And", "CC"], ["you", "PRP"], ["can", "MD"], ["see", "VB"], ["that", "DT"], ["for", "IN"], ["a", "DT"], ["large", "JJ"], ["array", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["randomly", "RB"], ["ordered", "VBN"], [",", ","], ["the", "DT"], ["element", "NN"], ["that", "IN"], ["we", "PRP"], ["put", "VBD"], ["into", "IN"], ["place", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["go", "VB"], ["about", "IN"], ["halfway", "RB"], ["back", "RB"], ["on", "IN"], ["the", "DT"], ["average", "NN"], [".", "."], ["So", "CC"], ["that", "IN"], ["means", "VBZ"], ["about", "IN"], ["half", "PDT"], ["the", "DT"], ["elements", "NNS"], ["below", "IN"], ["the", "DT"], ["diagonal", "NN"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["black", "JJ"], ["on", "IN"], ["the", "DT"], ["average", "NN"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["N", "NNP"], ["squared", "VBD"], ["over", "IN"], ["2", "CD"], ["below", "IN"], ["the", "DT"], ["diagonal", "NN"], [",", ","], ["half", "NN"], ["of", "IN"], ["that", "DT"], ["is", "VBZ"], ["N", "NNP"], ["squared", "VBD"], ["over", "IN"], ["4", "CD"], [".", "."], ["The", "DT"], ["exact", "JJ"], ["analysis", "NN"], ["is", "VBZ"], ["not", "RB"], ["much", "RB"], ["more", "RBR"], ["detailed", "JJ"], ["than", "IN"], ["that", "DT"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["a", "DT"], ["bigger", "JJR"], ["trace", "NN"], ["that", "WDT"], ["shows", "VBZ"], [",", ","], ["again", "RB"], [",", ","], ["about", "IN"], ["half", "PDT"], ["the", "DT"], ["elements", "NNS"], ["below", "IN"], ["the", "DT"], ["diagonal", "NN"], ["are", "VBP"], ["involved", "VBN"], ["in", "IN"], ["the", "DT"], ["sort", "NN"], [".", "."], ["[", "CC"], ["COUGH", "NNP"], ["]", "NNP"], ["Let", "NNP"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["an", "DT"], ["animation", "NN"], [".", "."], ["Since", "IN"], ["N", "NNP"], ["squared", "VBD"], ["over", "IN"], ["4", "CD"], ["versus", "NN"], ["N", "NNP"], ["squared", "VBD"], ["over", "IN"], ["2", "CD"], [",", ","], ["insertion", "NN"], ["sort", "NN"], ["'s", "POS"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["about", "RB"], ["twice", "RB"], ["as", "RB"], ["fast", "JJ"], ["as", "IN"], ["selection", "NN"], ["sort", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["can", "MD"], ["do", "VB"], ["about", "RB"], ["twice", "RB"], ["as", "IN"], ["many", "JJ"], ["items", "NNS"], ["in", "IN"], ["the", "DT"], ["trace", "NN"], ["in", "IN"], ["the", "DT"], ["same", "JJ"], ["amount", "NN"], ["of", "IN"], ["time", "NN"], [".", "."], ["It", "PRP"], ["grabs", "VBD"], ["an", "DT"], ["element", "NN"], ["and", "CC"], ["brings", "VBZ"], ["it", "PRP"], ["back", "RP"], ["into", "IN"], ["position", "NN"], ["every", "DT"], ["time", "NN"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["an", "DT"], ["animation", "NN"], ["for", "IN"], ["randomly", "RB"], ["ordered", "VBN"], ["items", "NNS"], [".", "."], ["Now", "RB"], [",", ","], ["insertion", "NN"], ["sort", "NN"], ["does", "VBZ"], ["depend", "VB"], ["on", "IN"], ["the", "DT"], ["initial", "JJ"], ["order", "NN"], ["of", "IN"], ["the", "DT"], ["data", "NNS"], [".", "."], ["Let", "NNP"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["the", "DT"], ["best", "JJS"], ["case", "NN"], ["and", "CC"], ["the", "DT"], ["worst", "JJS"], ["case", "NN"], [",", ","], ["which", "WDT"], ["are", "VBP"], ["certainly", "RB"], ["outliers", "NNS"], [".", "."], ["If", "IN"], ["the", "DT"], ["array", "NN"], ["happens", "VBZ"], ["to", "TO"], ["be", "VB"], ["already", "RB"], ["sorted", "VBN"], [",", ","], ["all", "DT"], ["insertion", "NN"], ["sort", "NN"], ["does", "VBZ"], ["is", "VBZ"], ["really", "RB"], ["validate", "JJ"], ["that", "IN"], ["each", "DT"], ["element", "NN"], ["has", "VBZ"], ["got", "VBN"], ["smaller", "JJR"], ["elements", "NNS"], ["to", "TO"], ["its", "PRP$"], ["left", "NN"], [".", "."], ["So", "IN"], ["it", "PRP"], ["does", "VBZ"], ["no", "DT"], ["exchanges", "NNS"], [".", "."], ["It", "PRP"], ["gets", "VBZ"], ["the", "DT"], ["sorting", "VBG"], ["job", "NN"], ["done", "VBN"], ["with", "IN"], ["just", "RB"], ["N", "NNP"], ["minus", "CC"], ["1", "CD"], ["compares", "NNS"], [".", "."], ["On", "IN"], ["the", "DT"], ["other", "JJ"], ["hand", "NN"], [",", ","], ["if", "IN"], ["the", "DT"], ["array", "NN"], ["is", "VBZ"], ["in", "IN"], ["descending", "VBG"], ["order", "NN"], ["and", "CC"], ["has", "VBZ"], ["no", "DT"], ["duplicates", "NNS"], [",", ","], ["then", "RB"], ["every", "DT"], ["element", "NN"], ["goes", "VBZ"], ["all", "PDT"], ["the", "DT"], ["way", "NN"], ["back", "RB"], [".", "."], ["It", "PRP"], ["makes", "VBZ"], ["n", "RB"], ["squared", "VBN"], ["over", "IN"], ["2", "CD"], ["compares", "NNS"], ["and", "CC"], ["n", "NNS"], ["squared", "VBD"], ["over", "IN"], ["2", "CD"], ["exchanges", "NNS"], [".", "."], ["So", "RB"], ["in", "IN"], ["the", "DT"], ["first", "JJ"], ["case", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["much", "RB"], [",", ","], ["much", "RB"], ["faster", "JJR"], ["than", "IN"], ["selection", "NN"], ["sort", "NN"], [",", ","], ["linear", "JJ"], ["instead", "RB"], ["of", "IN"], ["quadratic", "JJ"], [".", "."], ["In", "IN"], ["the", "DT"], ["second", "JJ"], ["case", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["slower", "JJR"], ["than", "IN"], ["selection", "NN"], ["sort", "NN"], [",", ","], ["because", "IN"], ["it", "PRP"], ["uses", "VBZ"], ["about", "IN"], ["the", "DT"], ["same", "JJ"], ["number", "NN"], ["of", "IN"], ["compares", "NNS"], [",", ","], ["but", "CC"], ["it", "PRP"], ["uses", "VBZ"], ["many", "JJ"], ["more", "JJR"], ["exchanges", "NNS"], [".", "."], ["So", "NNP"], ["let", "NN"], ["'s", "POS"], ["see", "VB"], ["that", "IN"], ["in", "IN"], ["the", "DT"], ["animation", "NN"], [".", "."], ["So", "IN"], ["this", "DT"], ["is", "VBZ"], ["when", "WRB"], ["the", "DT"], ["items", "NNS"], ["come", "VBP"], ["in", "IN"], ["in", "IN"], ["reverse", "NN"], ["order", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["every", "DT"], ["time", "NN"], ["it", "PRP"], ["gets", "VBZ"], ["a", "DT"], ["new", "JJ"], ["item", "NN"], [",", ","], ["it", "PRP"], ["has", "VBZ"], ["to", "TO"], ["exchange", "VB"], ["it", "PRP"], ["all", "PDT"], ["the", "DT"], ["way", "NN"], ["back", "RB"], ["to", "TO"], ["the", "DT"], ["beginning", "NN"], [".", "."], ["Same", "JJ"], ["kind", "NN"], ["of", "IN"], ["dynamic", "JJ"], ["characteristic", "JJ"], ["as", "IN"], ["selection", "NN"], ["sort", "NN"], [",", ","], ["except", "IN"], [",", ","], ["for", "IN"], ["every", "DT"], ["step", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["just", "RB"], ["comparing", "VBG"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["also", "RB"], ["exchanging", "VBG"], [",", ","], ["which", "WDT"], ["makes", "VBZ"], ["it", "PRP"], ["even", "RB"], ["slower", "RBR"], ["in", "IN"], ["practice", "NN"], [".", "."], ["So", "IN"], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], ["bad", "JJ"], ["case", "NN"], ["that", "IN"], ["we", "PRP"], ["would", "MD"], ["n't", "RB"], ["like", "VB"], ["to", "TO"], ["see", "VB"], ["in", "IN"], ["a", "DT"], ["practical", "JJ"], ["application", "NN"], [".", "."], ["But", "CC"], ["there", "EX"], ["'s", "VBZ"], ["also", "RB"], ["a", "DT"], ["good", "JJ"], ["case", "NN"], ["that", "WDT"], ["actually", "RB"], ["we", "PRP"], ["take", "VBP"], ["advantage", "NN"], ["of", "IN"], ["in", "IN"], ["plenty", "NN"], ["of", "IN"], ["practical", "JJ"], ["applications", "NNS"], [".", "."], ["And", "CC"], ["that", "DT"], ["has", "VBZ"], ["to", "TO"], ["do", "VB"], ["with", "IN"], ["when", "WRB"], ["the", "DT"], ["array", "NN"], ["is", "VBZ"], ["partially", "RB"], ["sorted", "VBN"], [".", "."], ["To", "TO"], ["talk", "VB"], ["about", "IN"], ["this", "DT"], ["in", "IN"], ["a", "DT"], ["quantitative", "JJ"], ["way", "NN"], [",", ","], ["we", "PRP"], ["define", "VBP"], ["what", "WP"], ["'s", "VBZ"], ["called", "VBN"], ["an", "DT"], ["inversion", "NN"], [".", "."], ["An", "DT"], ["inversion", "NN"], ["is", "VBZ"], ["just", "RB"], ["a", "DT"], ["pair", "NN"], ["of", "IN"], ["keys", "NNS"], ["that", "WDT"], ["are", "VBP"], ["out", "IN"], ["of", "IN"], ["order", "NN"], ["in", "IN"], ["the", "DT"], ["array", "NN"], [".", "."], ["So", "IN"], ["this", "DT"], ["array", "NN"], ["has", "VBZ"], ["six", "CD"], ["inversions", "NNS"], [",", ","], ["T", "NNP"], ["and", "CC"], ["R", "NNP"], ["are", "VBP"], ["out", "IN"], ["of", "IN"], ["order", "NN"], [",", ","], ["because", "IN"], ["R", "NNP"], ["should", "MD"], ["go", "VB"], ["before", "IN"], ["T.", "NNP"], ["T", "NNP"], ["and", "CC"], ["P", "NNP"], ["are", "VBP"], ["out", "IN"], ["of", "IN"], ["order", "NN"], [",", ","], ["and", "CC"], ["so", "RB"], ["forth", "RB"], [".", "."], ["This", "DT"], ["array", "NN"], ["has", "VBZ"], ["six", "CD"], ["inversions", "NNS"], [".", "."], ["And", "CC"], ["we", "PRP"], ["define", "VBP"], ["an", "DT"], ["array", "NN"], ["to", "TO"], ["be", "VB"], ["partially", "RB"], ["sorted", "VBN"], ["if", "IN"], ["its", "PRP$"], ["number", "NN"], ["of", "IN"], ["inversions", "NNS"], ["is", "VBZ"], ["linear", "JJ"], [",", ","], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["less", "JJR"], ["than", "IN"], ["some", "DT"], ["constant", "JJ"], ["times", "NNS"], ["N.", "NNP"], ["And", "CC"], ["partially", "RB"], ["sorted", "VBD"], ["arrays", "NNS"], ["appear", "VBP"], ["often", "RB"], ["in", "IN"], ["practice", "NN"], [".", "."], ["For", "IN"], ["example", "NN"], [",", ","], ["if", "IN"], ["you", "PRP"], ["have", "VBP"], ["a", "DT"], ["large", "JJ"], ["array", "NN"], ["with", "IN"], ["just", "RB"], ["a", "DT"], ["few", "JJ"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["sorted", "VBN"], ["except", "IN"], ["for", "IN"], ["just", "RB"], ["a", "DT"], ["few", "JJ"], ["unsorted", "JJ"], ["elements", "NNS"], ["appended", "VBN"], ["at", "IN"], ["the", "DT"], ["end", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["partially", "RB"], ["sorted", "VBN"], [".", "."], ["Or", "CC"], ["in", "IN"], ["other", "JJ"], ["cases", "NNS"], [",", ","], ["if", "IN"], ["you", "PRP"], ["only", "RB"], ["have", "VBP"], ["a", "DT"], ["few", "JJ"], ["entries", "NNS"], ["out", "IN"], ["of", "IN"], ["place", "NN"], [",", ","], ["the", "DT"], ["array", "NN"], ["'s", "POS"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["partially", "RB"], ["sorted", "VBN"], [".", "."], ["These", "DT"], ["types", "NNS"], ["of", "IN"], ["things", "NNS"], ["arise", "RB"], ["often", "RB"], ["in", "IN"], ["practical", "JJ"], ["applications", "NNS"], [".", "."], ["And", "CC"], ["what", "WP"], ["'s", "VBZ"], ["interesting", "VBG"], ["about", "IN"], ["insertion", "NN"], ["sort", "NN"], ["is", "VBZ"], ["that", "IN"], ["it", "PRP"], ["runs", "VBZ"], ["in", "IN"], ["linear", "JJ"], ["time", "NN"], ["for", "IN"], ["partially", "RB"], ["sorted", "VBN"], ["arrays", "NNS"], [".", "."], ["And", "CC"], ["the", "DT"], ["proof", "NN"], ["is", "VBZ"], [",", ","], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["comparisons", "NNS"], ["and", "CC"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["exchanges", "NNS"], ["is", "VBZ"], ["equal", "JJ"], ["to", "TO"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["exchanges", "NNS"], ["equal", "VBP"], ["to", "TO"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["inversions", "NNS"], [",", ","], ["and", "CC"], ["there", "EX"], ["'s", "VBZ"], ["an", "DT"], ["extra", "JJ"], ["compare", "NN"], ["for", "IN"], ["every", "DT"], ["element", "NN"], ["except", "IN"], ["the", "DT"], ["first", "JJ"], [".", "."], ["So", "NNP"], ["let", "NN"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["how", "WRB"], ["that", "DT"], ["looks", "VBZ"], ["in", "IN"], ["the", "DT"], ["animation", "NN"], [".", "."], ["Here", "RB"], ["'s", "VBZ"], ["a", "DT"], ["partially", "RB"], ["sorted", "JJ"], ["array", "NN"], [",", ","], ["and", "CC"], ["you", "PRP"], ["can", "MD"], ["see", "VB"], ["that", "DT"], ["insertion", "NN"], ["sort", "NN"], ["quickly", "RB"], ["gets", "VBZ"], ["the", "DT"], ["job", "NN"], ["done", "VBN"], [".", "."], ["We", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["take", "VB"], ["advantage", "NN"], ["of", "IN"], ["this", "DT"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["later", "RB"], ["in", "IN"], ["this", "DT"], ["lecture", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["insertion", "NN"], ["sort", "NN"], [",", ","], ["our", "PRP$"], ["second", "JJ"], ["elementary", "JJ"], ["sorting", "VBG"], ["method", "NN"], [".", "."]], "title": "insertion sort", "text": "Now we'll look at insertion sort, which is another elementary method that interestingly has quite different performance characteristics than selection sort. Let's look at a demo of insertion sort. For insertion sort, what we're going to do is we'll move an index i from left to right as before, but now, in the i'th iteration, we're going to move a[i] into position among the elements to its left. Let's look at how that works on our example with cards. So, now we start by initializing i at the first card, and we take the idea that everything from i to its left is going to be sorted, and everything from the right we're not going to look at at all. So everything to the left of i is in ascending order, everything to the right, we haven't seen it all yet. So now when we increment i, well, in this case it's already in order, we don't have anything else to do. In the third case now, when i is at the third entry in the array, now we start a index j, and we move that starting at i to the left. And what we need to do is just exchange the 5 with every element to its left that's greater. So first we exchange it with the 10, it's still not in place, so we exchange it with the 7. Now we get to the beginning of the array, and once we've done that or we've hit a smaller element, then we have everybody to the left of i in order. So now we increment that again, and we come to the 3. Again, we exchange as long as the card immediately to the left is greater. And once we've done that, then we have everything to the left by in ascending order. Now, in this case, we have the 8, and we only have to exchange one, and now it's got the 7 to its left and everything is in order. So we've achieved putting it in order with less work in this case. We don't always have to go all the way back to the beginning. 4, exchange it with everybody to its left that's greater, until we find a smaller element, then it's in ascending order. 2 has to go all the way back to the beginning. But then the very next one, the 9 has to only go back one position, and the 6 has to go about halfway back. And then we have the entire array sorted. Again, we can look at insertion sort in terms of invariants. Our pointer still scans from left to right, but now the elements to the left of the pointer, including it, are in order, but the elements to the right have not yet been seen at all. So we have to look at the code that's going to maintain that invariant as the pointer increments. Move the pointer to the right, it's incremented again. Now the invariant's broken because the element on the pointer is not in sorted order. To put it in sorted order, we have to move from right to left, exchanging it with every larger elements to its left, and that's what the code at the bottom does. It starts j at i, and decrements j, exchanging j with the elements to its left, a of j with the element to its left, a of j-1, as long as a of j is less than a of j-1 or j is bigger than 0. And that immediately gives this code for insertion sort, which is similar to our code for selection sort and just as simple. It's got two nested for loops, selection sort had two nested for loops, a test, a comparison, and an exchange inside the for loop. And that's a fine implementation of an elementary sorting method. What about the analysis of insertion sort? It's more complicated. Our proposition says that insertion sort, to sort randomly ordered array with distinct keys, it'll use about one quarter N squared compares, and about the same number, one quarter N squared exchanges, on the average. This is more complicated to prove. It depends on the array being randomly ordered. And again, you can get a feeling for where the proposition comes from by looking at this N by N trace. Again, the black elements are the ones that we compare, and actually, they're also the exchanges. On the red one is the one that's finally put into place. And you can see that for a large array that's randomly ordered, the element that we put into place is going to go about halfway back on the average. So that means about half the elements below the diagonal are going to be black on the average. There's N squared over 2 below the diagonal, half of that is N squared over 4. The exact analysis is not much more detailed than that. This is a bigger trace that shows, again, about half the elements below the diagonal are involved in the sort. [COUGH] Let's look at an animation. Since N squared over 4 versus N squared over 2, insertion sort's going to be about twice as fast as selection sort. So we can do about twice as many items in the trace in the same amount of time. It grabs an element and brings it back into position every time. So that's an animation for randomly ordered items. Now, insertion sort does depend on the initial order of the data. Let's look at the best case and the worst case, which are certainly outliers. If the array happens to be already sorted, all insertion sort does is really validate that each element has got smaller elements to its left. So it does no exchanges. It gets the sorting job done with just N minus 1 compares. On the other hand, if the array is in descending order and has no duplicates, then every element goes all the way back. It makes n squared over 2 compares and n squared over 2 exchanges. So in the first case, it's much, much faster than selection sort, linear instead of quadratic. In the second case, it's slower than selection sort, because it uses about the same number of compares, but it uses many more exchanges. So let's see that in the animation. So this is when the items come in in reverse order. Now, every time it gets a new item, it has to exchange it all the way back to the beginning. Same kind of dynamic characteristic as selection sort, except, for every step, it's not just comparing, it's also exchanging, which makes it even slower in practice. So this is a bad case that we wouldn't like to see in a practical application. But there's also a good case that actually we take advantage of in plenty of practical applications. And that has to do with when the array is partially sorted. To talk about this in a quantitative way, we define what's called an inversion. An inversion is just a pair of keys that are out of order in the array. So this array has six inversions, T and R are out of order, because R should go before T. T and P are out of order, and so forth. This array has six inversions. And we define an array to be partially sorted if its number of inversions is linear, if it's less than some constant times N. And partially sorted arrays appear often in practice. For example, if you have a large array with just a few, that's sorted except for just a few unsorted elements appended at the end, it's going to be partially sorted. Or in other cases, if you only have a few entries out of place, the array's going to be partially sorted. These types of things arise often in practical applications. And what's interesting about insertion sort is that it runs in linear time for partially sorted arrays. And the proof is, the number of comparisons and the number of exchanges is equal to the number of exchanges equal to the number of inversions, and there's an extra compare for every element except the first. So let's look at how that looks in the animation. Here's a partially sorted array, and you can see that insertion sort quickly gets the job done. We're going to take advantage of this a little bit later in this lecture. That's insertion sort, our second elementary sorting method. ", "video_ID": 21, "course_id": 3}
{"category": ["elementary sorts"], "tagged": [["Now", "RB"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["Shellsort", "NNP"], ["which", "WDT"], ["is", "VBZ"], ["a", "DT"], ["bit", "NN"], ["elementary", "JJ"], ["on", "IN"], ["the", "DT"], ["face", "NN"], ["of", "IN"], ["it", "PRP"], ["but", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["at", "IN"], ["all", "DT"], ["elementary", "JJ"], ["as", "IN"], ["you", "PRP"], ["'ll", "MD"], ["see", "VB"], [".", "."], ["The", "DT"], ["idea", "NN"], ["of", "IN"], ["Shellsort", "NNP"], ["is", "VBZ"], ["that", "IN"], ["Insertion", "NNP"], ["Sort", "NNP"], ["is", "VBZ"], ["inefficient", "JJ"], ["because", "IN"], ["elements", "NNS"], ["really", "RB"], ["move", "VBP"], ["only", "RB"], ["one", "CD"], ["position", "NN"], ["at", "IN"], ["the", "DT"], ["time", "NN"], ["even", "RB"], ["when", "WRB"], ["we", "PRP"], ["'re", "VBP"], ["kind", "NN"], ["of", "IN"], ["know", "NN"], ["that", "IN"], ["they", "PRP"], ["have", "VBP"], ["a", "DT"], ["long", "JJ"], ["way", "NN"], ["to", "TO"], ["go", "VB"], [".", "."], ["The", "DT"], ["idea", "NN"], ["behind", "IN"], ["Shellsort", "NNP"], ["is", "VBZ"], ["that", "IN"], ["we", "PRP"], ["'ll", "MD"], ["move", "VB"], ["entries", "NNS"], ["several", "JJ"], ["positions", "NNS"], ["at", "IN"], ["a", "DT"], ["time", "NN"], ["and", "CC"], ["the", "DT"], ["way", "NN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], ["it", "PRP"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["called", "VBN"], ["h-sorting", "NN"], ["the", "DT"], ["array", "NN"], [".", "."], ["So", "RB"], [",", ","], ["an", "DT"], ["h-sorted", "JJ"], ["array", "NN"], ["is", "VBZ"], ["h", "JJ"], ["different", "JJ"], ["inter", "NN"], ["leaves", "NNS"], ["sorted", "VBD"], ["sub-sequences", "NNS"], ["so", "RB"], ["in", "IN"], ["this", "DT"], ["case", "NN"], ["with", "IN"], ["h=4", "NN"], ["if", "IN"], ["we", "PRP"], ["start", "VBP"], ["at", "IN"], ["L", "NNP"], ["and", "CC"], ["look", "NN"], ["at", "IN"], ["every", "DT"], ["fourth", "JJ"], ["element", "NN"], ["-", ":"], ["M", "NNP"], [",", ","], ["P", "NNP"], [",", ","], ["T", "NNP"], ["-", ":"], ["then", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["sorted", "VBN"], [".", "."], ["If", "IN"], ["we", "PRP"], ["start", "VBP"], ["in", "IN"], ["the", "DT"], ["second", "JJ"], ["place", "NN"], ["at", "IN"], ["E", "NNP"], ["and", "CC"], ["look", "NN"], ["at", "IN"], ["every", "DT"], ["fourth", "JJ"], ["element", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["sorted", "VBN"], [".", "."], ["So", "IN"], ["this", "DT"], ["is", "VBZ"], ["4", "CD"], ["interleave", "NN"], ["sequences", "NNS"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["4-sorted", "JJ"], ["array", "NN"], [".", "."], ["And", "CC"], ["what", "WP"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["implement", "VB"], ["a", "DT"], ["sorting", "NN"], ["method", "NN"], ["that", "IN"], ["h-sort", "NN"], ["for", "IN"], ["decreasing", "VBG"], ["sequences", "NNS"], ["of", "IN"], ["values", "NNS"], ["of", "IN"], ["h.", "NN"], ["This", "DT"], ["is", "VBZ"], ["one", "CD"], ["of", "IN"], ["the", "DT"], ["oldest", "JJS"], ["sorting", "NN"], ["methods", "NNS"], ["invented", "VBN"], ["by", "IN"], ["Shell", "NNP"], ["in", "IN"], ["1959", "CD"], [".", "."], ["So", "RB"], [",", ","], ["in", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["it", "PRP"], ["starts", "VBZ"], ["out", "RP"], ["with", "IN"], ["the", "DT"], ["input", "NN"], ["example", "NN"], ["shown", "VBN"], ["and", "CC"], ["then", "RB"], ["the", "DT"], ["13-sort", "JJ"], ["-", ":"], ["a", "DT"], ["few", "JJ"], ["items", "NNS"], ["are", "VBP"], ["moved", "VBN"], [",", ","], ["4-sort", "JJ"], ["-", ":"], ["a", "DT"], ["few", "JJ"], ["more", "JJR"], ["are", "VBP"], ["moved", "VBN"], [",", ","], ["and", "CC"], ["then", "RB"], ["finally", "RB"], [",", ","], ["a", "DT"], ["1-sort", "JJ"], [".", "."], ["And", "CC"], ["the", "DT"], ["idea", "NN"], ["is", "VBZ"], ["that", "IN"], ["each", "DT"], ["of", "IN"], ["the", "DT"], ["sorts", "NNS"], ["can", "MD"], ["be", "VB"], ["implemented", "VBN"], ["with", "IN"], ["only", "RB"], ["a", "DT"], ["few", "JJ"], ["exchanges", "NNS"], ["given", "VBN"], ["that", "IN"], ["the", "DT"], ["previous", "JJ"], ["ones", "NNS"], ["happened", "VBD"], [".", "."], ["So", "RB"], ["first", "JJ"], ["thing", "NN"], ["is", "VBZ"], ["how", "WRB"], ["do", "VBP"], ["we", "PRP"], ["get", "VB"], ["an", "DT"], ["array", "NN"], ["h-sorted", "JJ"], ["?", "."], ["That", "DT"], ["'s", "VBZ"], ["actually", "RB"], ["pretty", "JJ"], ["easy", "JJ"], [".", "."], ["We", "PRP"], ["just", "RB"], ["use", "VBP"], ["Insertion", "NNP"], ["Sort", "NNP"], ["but", "CC"], ["instead", "RB"], ["of", "IN"], ["going", "VBG"], ["one", "CD"], ["back", "RB"], ["every", "DT"], ["time", "NN"], ["we", "PRP"], ["come", "VBP"], ["with", "IN"], ["a", "DT"], ["new", "JJ"], ["item", "NN"], [",", ","], ["we", "PRP"], ["go", "VBP"], ["h", "JJ"], ["back", "RB"], [".", "."], ["So", "NNP"], ["for", "IN"], ["example", "NN"], ["when", "WRB"], ["we", "PRP"], ["come", "VBP"], ["to", "TO"], ["this", "DT"], ["A", "NNP"], ["in", "IN"], ["the", "DT"], ["Insertion", "NNP"], ["Sort", "NNP"], [",", ","], ["then", "RB"], ["it", "PRP"], ["'s", "VBZ"], [",", ","], ["we", "PRP"], ["look", "VBP"], ["at", "IN"], ["the", "DT"], ["array", "NN"], ["before", "IN"], ["that", "DT"], ["and", "CC"], ["then", "RB"], ["there", "EX"], ["was", "VBD"], ["M", "NNP"], ["and", "CC"], ["E", "NNP"], ["in", "IN"], ["the", "DT"], ["positions", "NNS"], ["three", "CD"], ["back", "RB"], ["so", "IN"], ["we", "PRP"], ["exchange", "VBP"], ["the", "DT"], ["A", "NNP"], ["with", "IN"], ["the", "DT"], ["larger", "JJR"], ["one", "CD"], ["to", "TO"], ["its", "PRP$"], ["left", "NN"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["M", "NNP"], ["and", "CC"], ["then", "RB"], ["the", "DT"], ["other", "JJ"], ["larger", "JJR"], ["one", "CD"], ["to", "TO"], ["its", "PRP$"], ["left", "NN"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["E", "NNP"], ["and", "CC"], ["then", "RB"], ["put", "VB"], ["it", "PRP"], ["into", "IN"], ["position", "NN"], [".", "."], ["So", "IN"], ["the", "DT"], ["code", "NN"], ["is", "VBZ"], ["the", "DT"], ["same", "JJ"], ["as", "IN"], ["insertion", "NN"], [",", ","], ["as", "IN"], ["for", "IN"], ["Insertion", "NNP"], ["Sort", "NNP"], [",", ","], ["except", "IN"], ["that", "DT"], ["when", "WRB"], ["we", "PRP"], ["go", "VBP"], ["backwards", "NNS"], ["through", "IN"], ["the", "DT"], ["array", "NN"], ["we", "PRP"], ["skip", "VBP"], ["by", "IN"], ["h", "NN"], ["instead", "RB"], ["of", "IN"], ["just", "RB"], ["by", "IN"], ["one", "CD"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["how", "WRB"], ["we", "PRP"], ["h-sort", "VBP"], ["an", "DT"], ["array", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["idea", "NN"], ["is", "VBZ"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["use", "VB"], ["Insertion", "NNP"], ["Sort", "NNP"], ["because", "IN"], ["of", "IN"], ["two", "CD"], ["reasons", "NNS"], ["based", "VBN"], ["on", "IN"], ["our", "PRP$"], ["understanding", "NN"], ["of", "IN"], ["how", "WRB"], ["Insertion", "NNP"], ["Sort", "NNP"], ["works", "NNS"], [".", "."], ["While", "IN"], ["the", "DT"], ["first", "JJ"], ["thing", "NN"], ["is", "VBZ"], ["if", "IN"], ["the", "DT"], ["increments", "NNS"], ["are", "VBP"], ["big", "JJ"], ["then", "RB"], ["the", "DT"], ["size", "NN"], ["of", "IN"], ["the", "DT"], ["sub", "NN"], ["arrays", "VBZ"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["sorting", "VBG"], ["are", "VBP"], ["pretty", "RB"], ["small", "JJ"], ["so", "RB"], ["any", "DT"], ["sorting", "VBG"], ["method", "NN"], ["including", "VBG"], ["Insertion", "NNP"], ["Sort", "NNP"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["work", "VB"], ["well", "RB"], [".", "."], ["But", "CC"], ["the", "DT"], ["other", "JJ"], ["thing", "NN"], ["is", "VBZ"], ["if", "IN"], ["the", "DT"], ["increments", "NNS"], ["are", "VBP"], ["small", "JJ"], ["because", "IN"], ["we", "PRP"], ["'ve", "VBP"], ["done", "VBN"], ["previous", "JJ"], ["h-sorts", "NNS"], ["for", "IN"], ["bigger", "JJR"], ["values", "NNS"], ["of", "IN"], ["h", "NN"], [",", ","], ["the", "DT"], ["array", "NN"], ["is", "VBZ"], ["partially", "RB"], ["sorted", "VBN"], ["and", "CC"], ["so", "RB"], ["Insertions", "NNP"], ["Sort", "NNP"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["fast", "RB"], [".", "."], ["You", "PRP"], ["would", "MD"], ["n't", "RB"], ["work", "VB"], ["to", "TO"], ["use", "VB"], ["Shellsort", "NNP"], ["as", "IN"], ["the", "DT"], ["basis", "NN"], ["for", "IN"], ["h-sorting", "NN"], ["because", "IN"], ["that", "DT"], ["always", "RB"], ["takes", "VBZ"], ["quadratic", "JJ"], ["time", "NN"], ["no", "DT"], ["matter", "NN"], ["what", "WP"], ["order", "NN"], ["there", "EX"], ["is", "VBZ"], ["in", "IN"], ["the", "DT"], ["array", "NN"], [".", "."], ["So", "NNP"], ["let", "NN"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["example", "NN"], ["of", "IN"], ["Shellsort", "NNP"], ["with", "IN"], ["increment", "JJ"], ["7", "CD"], [",", ","], ["3", "CD"], [",", ","], ["and", "CC"], ["1", "CD"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["start", "VBP"], ["with", "IN"], ["this", "DT"], ["sort", "NN"], ["example", "NN"], ["and", "CC"], ["then", "RB"], ["7-sorting", "VBG"], ["it", "PRP"], ["-", ":"], ["just", "RB"], ["involves", "VBZ"], ["doing", "VBG"], ["insertion", "NN"], ["sort", "NN"], ["but", "CC"], ["just", "RB"], ["reaching", "VBG"], ["back", "RB"], ["7", "CD"], ["each", "DT"], ["time", "NN"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["the", "DT"], ["4", "CD"], ["subfiles", "NNS"], ["stretched", "VBN"], ["out", "RP"], ["at", "IN"], ["seven", "CD"], ["each", "DT"], ["only", "RB"], ["have", "VBP"], ["two", "CD"], ["elements", "NNS"], ["in", "IN"], ["them", "PRP"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["3-sort", "VBP"], [".", "."], ["Now", "RB"], [",", ","], ["because", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["7-sorted", "JJ"], ["and", "CC"], ["a", "DT"], ["3-sort", "JJ"], ["elements", "NNS"], ["are", "VBP"], ["either", "DT"], ["already", "RB"], ["in", "IN"], ["placed", "VBN"], ["or", "CC"], ["on", "IN"], ["a", "DT"], ["go", "NN"], ["back", "RB"], ["a", "DT"], ["few", "JJ"], ["strides", "NNS"], [".", "."], ["On", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["only", "RB"], ["the", "DT"], ["A", "NNP"], ["that", "WDT"], ["goes", "VBZ"], ["back", "RB"], ["two", "CD"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["1-sort", "VBP"], ["and", "CC"], ["again", "RB"], ["because", "IN"], ["of", "IN"], ["the", "DT"], ["fact", "NN"], ["that", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["been", "VBN"], ["7-sorted", "JJ"], ["and", "CC"], ["3-sorted", "JJ"], [",", ","], ["the", "DT"], ["arrays", "NNS"], ["are", "VBP"], ["almost", "RB"], ["in", "IN"], ["order", "NN"], ["when", "WRB"], ["it", "PRP"], ["comes", "VBZ"], ["time", "NN"], ["to", "TO"], ["do", "VB"], ["the", "DT"], ["1-sort", "CD"], ["and", "CC"], ["most", "JJS"], ["of", "IN"], ["the", "DT"], ["items", "NNS"], ["only", "RB"], ["go", "VBP"], ["back", "RB"], ["one", "CD"], ["or", "CC"], ["two", "CD"], ["positions", "NNS"], [".", "."], ["So", "IN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["do", "VB"], ["a", "DT"], ["few", "JJ"], ["extra", "JJ"], ["passes", "NNS"], ["to", "TO"], ["do", "VB"], ["the", "DT"], ["higher", "JJR"], ["sorts", "NNS"], ["but", "CC"], ["the", "DT"], ["each", "DT"], ["element", "NN"], ["moves", "VBZ"], ["only", "RB"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["on", "IN"], ["each", "DT"], ["path", "NN"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["how", "WRB"], ["Shellsort", "NNP"], ["gains", "NNS"], ["its", "PRP$"], ["efficiency", "NN"], [".", "."], ["So", "NNP"], ["actually", "RB"], ["once", "RB"], ["you", "PRP"], ["1-sort", "VBP"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["Insertion", "NNP"], ["Sort", "NNP"], ["so", "IN"], ["you", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["always", "RB"], ["get", "VB"], ["a", "DT"], ["sorted", "JJ"], ["result", "NN"], [".", "."], ["The", "DT"], ["only", "JJ"], ["difference", "NN"], ["is", "VBZ"], ["how", "WRB"], ["efficient", "JJ"], ["is", "VBZ"], ["that", "IN"], [".", "."], ["Now", "RB"], ["the", "DT"], ["intuition", "NN"], ["behind", "IN"], ["Shellsort", "NNP"], ["and", "CC"], ["actually", "RB"], ["the", "DT"], ["mathematical", "JJ"], ["fact", "NN"], ["is", "VBZ"], ["that", "IN"], ["if", "IN"], ["you", "PRP"], ["'ve", "VBP"], ["got", "VBN"], ["an", "DT"], ["array", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["h-sorted", "JJ"], ["and", "CC"], ["then", "RB"], ["you", "PRP"], ["k-sort", "VBP"], ["it", "PRP"], ["for", "IN"], ["another", "DT"], ["value", "NN"], ["k", "FW"], ["different", "JJ"], ["from", "IN"], ["h", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["still", "RB"], ["h-sorted", "JJ"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["one", "CD"], ["of", "IN"], ["those", "DT"], ["mathematical", "JJ"], ["facts", "NNS"], ["that", "WDT"], ["seems", "VBZ"], ["obvious", "JJ"], ["but", "CC"], ["then", "RB"], ["if", "IN"], ["you", "PRP"], ["try", "VBP"], ["to", "TO"], ["prove", "VB"], ["that", "IN"], ["maybe", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["little", "RB"], ["more", "RBR"], ["subtle", "JJ"], ["than", "IN"], ["you", "PRP"], ["think", "VBP"], [".", "."], ["So", "RB"], [",", ","], ["if", "IN"], ["you", "PRP"], ["think", "VBP"], ["of", "IN"], ["all", "PDT"], ["this", "DT"], ["is", "VBZ"], [",", ","], ["is", "VBZ"], [",", ","], ["is", "VBZ"], ["trivial", "JJ"], ["and", "CC"], ["easy", "JJ"], [",", ","], ["go", "VB"], ["ahead", "RB"], ["and", "CC"], ["try", "VB"], ["to", "TO"], ["write", "VB"], ["down", "RP"], ["a", "DT"], ["proof", "NN"], ["that", "IN"], ["a", "DT"], ["g-sorted", "JJ"], ["array", "NN"], ["remains", "VBZ"], ["g-sorted", "JJ"], ["even", "RB"], ["after", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["h-sorted", "JJ"], [".", "."], ["But", "CC"], ["most", "JJS"], ["people", "NNS"], ["will", "MD"], ["accept", "VB"], ["that", "DT"], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["fact", "NN"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["how", "WRB"], ["Shellsort", "NNP"], ["gains", "NNS"], ["efficiency", "NN"], [".", "."], ["Now", "RB"], ["there", "EX"], ["'s", "VBZ"], ["another", "DT"], ["problem", "NN"], ["is", "VBZ"], ["what", "WP"], ["increment", "JJ"], ["sequence", "NN"], ["should", "MD"], ["we", "PRP"], ["use", "VB"], ["for", "IN"], ["Shellsort", "NNP"], [".", "."], ["One", "CD"], ["of", "IN"], ["the", "DT"], ["first", "JJ"], ["things", "NNS"], ["you", "PRP"], ["might", "MD"], ["think", "VB"], ["of", "IN"], ["is", "VBZ"], ["let", "NN"], ["'s", "POS"], ["try", "NN"], ["powers", "NNS"], ["of", "IN"], ["two", "CD"], [".", "."], ["Actually", "RB"], ["that", "IN"], ["one", "CD"], ["does", "VBZ"], ["n't", "RB"], ["work", "VB"], ["at", "IN"], ["all", "DT"], [",", ","], ["very", "RB"], ["well", "RB"], ["at", "IN"], ["all", "DT"], ["because", "IN"], ["it", "PRP"], ["winds", "VBZ"], ["up", "RP"], ["not", "RB"], ["comparing", "VBG"], ["elements", "NNS"], ["in", "IN"], ["even", "RB"], ["positions", "NNS"], ["with", "IN"], ["elements", "NNS"], ["in", "IN"], ["the", "DT"], ["odd", "JJ"], ["positions", "NNS"], ["until", "IN"], ["the", "DT"], ["1-sort", "JJ"], ["which", "WDT"], ["means", "VBZ"], ["performance", "NN"], ["can", "MD"], ["be", "VB"], ["bad", "JJ"], [".", "."], ["Shell", "NNP"], ["'s", "POS"], ["original", "JJ"], ["idea", "NN"], ["is", "VBZ"], ["to", "TO"], ["try", "VB"], ["powers", "NNS"], ["to", "TO"], ["two", "CD"], ["minus", "NNS"], ["one", "CD"], ["and", "CC"], ["that", "DT"], ["works", "VBZ"], ["okay", "RB"], [".", "."], ["Knuth", "NNP"], ["when", "WRB"], ["he", "PRP"], ["wrote", "VBD"], ["his", "PRP$"], ["books", "NNS"], ["in", "IN"], ["the", "DT"], ["60s", "NNS"], ["proposed", "VBD"], ["the", "DT"], ["increment", "JJ"], ["sequence", "NN"], ["3x", "CD"], ["+", "JJ"], ["1", "CD"], [".", "."], ["We", "PRP"], ["'ll", "MD"], ["start", "VB"], ["with", "IN"], ["the", "DT"], ["1", "CD"], [",", ","], ["4", "CD"], [",", ","], ["13", "CD"], [",", ","], ["40", "CD"], [",", ","], ["121", "CD"], [",", ","], ["364", "CD"], ["like", "IN"], ["that", "DT"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["good", "JJ"], ["because", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["easy", "JJ"], ["to", "TO"], ["compute", "VB"], [".", "."], ["When", "WRB"], ["we", "PRP"], ["'re", "VBP"], ["using", "VBG"], ["in", "IN"], ["Shellsort", "NNP"], ["of", "IN"], ["course", "NN"], [",", ","], ["we", "PRP"], ["find", "VBP"], ["the", "DT"], ["largest", "JJS"], ["increment", "NN"], ["less", "JJR"], ["than", "IN"], ["our", "PRP$"], ["file", "NN"], ["size", "NN"], ["and", "CC"], ["then", "RB"], ["do", "VB"], ["the", "DT"], ["sorts", "NNS"], ["for", "IN"], ["decreasing", "VBG"], ["values", "NNS"], ["of", "IN"], ["that", "DT"], ["increment", "NN"], [".", "."], ["But", "CC"], ["finding", "VBG"], ["the", "DT"], ["best", "JJS"], ["increment", "JJ"], ["sequence", "NN"], ["is", "VBZ"], ["a", "DT"], ["research", "NN"], ["problem", "NN"], ["that", "WDT"], ["has", "VBZ"], ["confounded", "VBN"], ["people", "NNS"], ["for", "IN"], ["quite", "RB"], ["a", "DT"], ["long", "JJ"], ["time", "NN"], [".", "."], ["Here", "RB"], ["'s", "VBZ"], ["an", "DT"], ["increment", "JJ"], ["sequence", "NN"], ["that", "IN"], ["I", "PRP"], ["found", "VBD"], ["after", "IN"], ["maybe", "RB"], ["a", "DT"], ["year", "NN"], ["'s", "POS"], ["work", "NN"], ["and", "CC"], ["it", "PRP"], ["works", "VBZ"], ["well", "RB"], ["but", "CC"], ["nobody", "NN"], ["knows", "VBZ"], ["if", "IN"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["best", "JJS"], ["one", "NN"], [".", "."], ["So", "IN"], ["here", "RB"], ["'s", "VBZ"], ["the", "DT"], ["implementation", "NN"], ["in", "IN"], ["Java", "NNP"], ["of", "IN"], ["Shellsort", "NNP"], ["for", "IN"], ["Knuth", "NNP"], ["'s", "POS"], ["3x", "CD"], ["+", "JJ"], ["1", "CD"], ["increment", "JJ"], ["sequence", "NN"], [".", "."], ["We", "PRP"], ["'ll", "MD"], ["just", "RB"], ["go", "VB"], ["ahead", "RB"], ["and", "CC"], ["compute", "VB"], ["the", "DT"], ["increments", "NNS"], ["that", "WDT"], ["are", "VBP"], ["less", "JJR"], ["than", "IN"], ["n", "RB"], [",", ","], ["n", "JJ"], ["/", "NN"], ["3", "CD"], ["and", "CC"], ["then", "RB"], ["starting", "VBG"], ["at", "IN"], ["that", "DT"], ["increment", "NN"], ["whatever", "IN"], ["it", "PRP"], ["is", "VBZ"], ["and", "CC"], ["say", "VB"], [",", ","], ["we", "PRP"], ["started", "VBD"], ["364", "CD"], ["then", "RB"], ["next", "JJ"], ["time", "NN"], ["we", "PRP"], ["need", "VBP"], ["an", "DT"], ["increment", "NN"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["just", "RB"], ["divide", "VB"], ["it", "PRP"], ["by", "IN"], ["3", "CD"], [",", ","], ["364", "CD"], ["integer", "NN"], ["divide", "NN"], ["by", "IN"], ["3", "CD"], [",", ","], ["364", "CD"], ["integer", "NN"], ["/", "VBD"], ["3", "CD"], ["it", "PRP"], ["gets", "VBZ"], ["121", "CD"], [",", ","], ["40", "CD"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["So", "RB"], [",", ","], ["this", "DT"], ["h", "NN"], ["=", "VBZ"], ["h", "JJ"], ["/", "JJ"], ["3", "CD"], ["gets", "VBZ"], ["us", "PRP"], ["to", "TO"], ["the", "DT"], ["next", "JJ"], ["increment", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["the", "DT"], ["implementation", "NN"], ["is", "VBZ"], ["just", "RB"], ["Insertion", "NNP"], ["Sort", "NNP"], [".", "."], ["We", "PRP"], ["just", "RB"], ["go", "VBP"], ["through", "IN"], ["starting", "VBG"], ["at", "IN"], ["h", "NN"], ["for", "IN"], ["i", "NN"], ["and", "CC"], ["when", "WRB"], ["we", "PRP"], ["do", "VBP"], ["the", "DT"], ["insertion", "NN"], [",", ","], ["the", "DT"], ["j", "NN"], ["loop", "NN"], [",", ","], ["we", "PRP"], ["decrement", "VBP"], ["j", "JJ"], ["by", "IN"], ["h", "JJ"], ["each", "DT"], ["time", "NN"], [",", ","], ["otherwise", "RB"], ["the", "DT"], ["code", "NN"], ["is", "VBZ"], ["exactly", "RB"], ["like", "JJ"], ["Insertion", "NNP"], ["Sort", "NNP"], [".", "."], ["So", "NNP"], [",", ","], ["just", "RB"], ["adding", "VBG"], ["this", "DT"], ["extra", "JJ"], ["loop", "NN"], ["for", "IN"], ["h-sorting", "NN"], ["and", "CC"], ["this", "DT"], ["extra", "JJ"], ["loop", "NN"], ["to", "TO"], ["compute", "VB"], ["the", "DT"], ["increments", "NNS"], ["to", "TO"], ["Insertion", "NNP"], ["Sort", "NNP"], [",", ","], ["we", "PRP"], ["get", "VBP"], ["a", "DT"], ["slightly", "RB"], ["more", "RBR"], ["complicated", "JJ"], ["piece", "NN"], ["of", "IN"], ["code", "NN"], ["but", "CC"], ["its", "PRP$"], ["much", "JJ"], [",", ","], ["much", "RB"], ["more", "RBR"], ["efficient", "JJ"], [".", "."], ["Here", "RB"], ["'s", "VBZ"], ["what", "WP"], ["it", "PRP"], ["looks", "VBZ"], ["like", "IN"], ["for", "IN"], ["a", "DT"], ["bigger", "JJR"], ["array", "NN"], [".", "."], ["We", "PRP"], ["start", "VBP"], ["with", "IN"], ["the", "DT"], ["randomly", "NN"], ["ordered", "VBD"], ["input", "NN"], ["and", "CC"], ["you", "PRP"], ["can", "MD"], ["see", "VB"], ["that", "IN"], ["it", "PRP"], ["gets", "VBZ"], ["more", "JJR"], ["and", "CC"], ["more", "RBR"], ["in", "IN"], ["order", "NN"], ["on", "IN"], ["each", "DT"], ["time", "NN"], ["that", "IN"], ["we", "PRP"], ["h-sort", "VBP"], ["for", "IN"], ["the", "DT"], ["decreasing", "VBG"], ["values", "NNS"], ["of", "IN"], ["h.", "NN"], ["Here", "RB"], ["'s", "VBZ"], ["an", "DT"], ["animation", "NN"], [".", "."], ["This", "DT"], ["animation", "NN"], ["does", "VBZ"], ["the", "DT"], ["whole", "JJ"], ["h-sort", "NN"], ["for", "IN"], ["each", "DT"], ["subarray", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["little", "JJ"], ["better", "JJR"], ["feeling", "NN"], ["for", "IN"], ["what", "WP"], ["'s", "VBZ"], ["going", "VBG"], ["on", "IN"], [".", "."], ["And", "CC"], ["now", "RB"], ["to", "TO"], ["do", "VB"], ["the", "DT"], ["high", "JJ"], ["ones", "NNS"], ["pretty", "RB"], ["quickly", "RB"], ["and", "CC"], ["now", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["doing", "VBG"], ["the", "DT"], ["1-sort", "JJ"], ["and", "CC"], ["again", "RB"], ["it", "PRP"], ["steps", "VBZ"], ["through", "IN"], ["the", "DT"], ["array", "NN"], ["pretty", "RB"], ["quickly", "RB"], [".", "."], ["If", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["partially", "RB"], ["sorted", "VBN"], ["it", "PRP"], ["does", "VBZ"], ["n't", "RB"], ["make", "VB"], ["much", "JJ"], ["difference", "NN"], ["-", ":"], ["does", "VBZ"], ["the", "DT"], ["higher", "JJR"], ["sorts", "VBZ"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["faster", "RBR"], [".", "."], ["But", "CC"], ["that", "DT"], ["'s", "VBZ"], ["simple", "JJ"], ["to", "TO"], ["implement", "VB"], ["and", "CC"], ["very", "RB"], ["efficient", "JJ"], ["sorting", "VBG"], ["algorithm", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["the", "DT"], ["analysis", "NN"], ["of", "IN"], ["Shellsort", "NNP"], ["is", "VBZ"], ["still", "RB"], ["open", "JJ"], [".", "."], ["Now", "RB"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["few", "JJ"], ["things", "NNS"], ["that", "IN"], ["we", "PRP"], ["can", "MD"], ["say", "VB"], [".", "."], ["For", "IN"], ["example", "NN"], ["we", "PRP"], ["can", "MD"], ["say", "VB"], ["that", "IN"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["comparison", "NN"], ["and", "CC"], ["the", "DT"], ["worst", "JJS"], ["case", "NN"], ["is", "VBZ"], ["O", "NNP"], ["(", "("], ["N3/2", "NNP"], [")", ")"], ["for", "IN"], ["the", "DT"], ["3x", "CD"], ["+", "$"], ["1", "CD"], ["increments", "NNS"], [".", "."], ["But", "CC"], ["actually", "RB"], ["in", "IN"], ["practice", "NN"], ["it", "PRP"], ["'s", "VBZ"], ["much", "RB"], ["less", "JJR"], ["than", "IN"], ["that", "DT"], [".", "."], ["The", "DT"], ["problem", "NN"], ["is", "VBZ"], ["nobody", "JJ"], ["knows", "VBZ"], ["an", "DT"], ["accurate", "JJ"], ["model", "NN"], ["for", "IN"], ["describing", "VBG"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["compares", "NNS"], ["taken", "VBN"], ["by", "IN"], ["Shellsort", "NNP"], ["for", "IN"], ["any", "DT"], ["interesting", "JJ"], ["increment", "NN"], ["sequence", "NN"], [".", "."], ["This", "DT"], ["seems", "VBZ"], ["to", "TO"], ["be", "VB"], ["with", "IN"], ["a", "DT"], ["small", "JJ"], ["value", "NN"], [",", ","], ["multiple", "NN"], ["of", "IN"], ["n", "JJ"], ["times", "NNS"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["increments", "NNS"], ["used", "VBN"], ["which", "WDT"], ["is", "VBZ"], ["some", "DT"], ["multiple", "JJ"], ["maybe", "NN"], ["of", "IN"], ["n", "JJ"], ["log", "NN"], ["n", "NNS"], ["but", "CC"], ["nobody", "NN"], ["is", "VBZ"], ["been", "VBN"], ["able", "JJ"], ["to", "TO"], ["find", "VB"], ["an", "DT"], ["accurate", "JJ"], ["model", "NN"], ["that", "WDT"], ["proves", "VBZ"], ["that", "IN"], ["for", "IN"], ["any", "DT"], ["interesting", "JJ"], ["increment", "NN"], ["sequence", "NN"], ["for", "IN"], ["Shellsort", "NNP"], [".", "."], ["So", "RB"], [",", ","], ["why", "WRB"], ["we", "PRP"], ["are", "VBP"], ["interested", "JJ"], ["in", "IN"], ["this", "DT"], ["algorithm", "NN"], ["?", "."], ["Well", "UH"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["simple", "JJ"], ["idea", "NN"], ["that", "WDT"], ["leads", "VBZ"], ["to", "TO"], ["substantial", "JJ"], ["performance", "NN"], ["gains", "NNS"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["very", "RB"], ["useful", "JJ"], ["in", "IN"], ["practice", "NN"], ["because", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["pretty", "JJ"], ["fast", "RB"], ["except", "IN"], ["for", "IN"], ["very", "RB"], ["huge", "JJ"], ["arrays", "NNS"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["beat", "VB"], ["even", "RB"], ["the", "DT"], ["classical", "JJ"], ["sophisticated", "JJ"], ["methods", "NNS"], ["for", "IN"], ["medium", "NN"], ["sized", "VBN"], ["arrays", "NNS"], [".", "."], ["And", "CC"], ["it", "PRP"], ["does", "VBZ"], ["n't", "RB"], ["take", "VB"], ["much", "JJ"], ["code", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["often", "RB"], ["used", "VBN"], ["in", "IN"], ["embedded", "JJ"], ["systems", "NNS"], ["or", "CC"], ["in", "IN"], ["hardware", "JJ"], ["sort", "NN"], ["type", "NN"], ["systems", "NNS"], ["because", "IN"], ["there", "EX"], ["'s", "VBZ"], ["so", "RB"], ["little", "JJ"], ["code", "NN"], ["involved", "VBN"], ["to", "TO"], ["implement", "VB"], ["it", "PRP"], [".", "."], ["And", "CC"], ["it", "PRP"], ["just", "RB"], ["leads", "VBZ"], ["to", "TO"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["interesting", "JJ"], ["questions", "NNS"], [".", "."], ["This", "DT"], ["gets", "VBZ"], ["to", "TO"], ["the", "DT"], ["intellectual", "JJ"], ["challenge", "NN"], ["of", "IN"], ["developing", "VBG"], ["algorithms", "NN"], [".", "."], ["If", "IN"], ["you", "PRP"], ["think", "VBP"], ["what", "WP"], ["we", "PRP"], ["'ve", "VBP"], ["been", "VBN"], ["studying", "VBG"], ["so", "RB"], ["far", "RB"], ["is", "VBZ"], ["trivial", "JJ"], [",", ","], ["go", "VB"], ["ahead", "RB"], ["and", "CC"], ["find", "VB"], ["a", "DT"], ["better", "JJR"], ["increment", "JJ"], ["sequence", "NN"], [".", "."], ["Try", "VB"], ["some", "DT"], ["technique", "NN"], ["to", "TO"], ["discover", "VB"], ["one", "CD"], ["and", "CC"], ["try", "VB"], ["to", "TO"], ["say", "VB"], ["something", "NN"], ["about", "IN"], ["the", "DT"], ["average-case", "JJ"], ["performance", "NN"], ["of", "IN"], ["Shellsort", "NNP"], [".", "."], ["People", "NNS"], ["have", "VBP"], ["been", "VBN"], ["trying", "VBG"], ["to", "TO"], ["do", "VB"], ["that", "DT"], ["for", "IN"], ["50", "CD"], ["years", "NNS"], ["without", "IN"], ["a", "DT"], ["whole", "JJ"], ["lot", "NN"], ["of", "IN"], ["success", "NN"], [".", "."], ["So", "RB"], [",", ","], ["the", "DT"], ["lesson", "NN"], ["is", "VBZ"], ["that", "IN"], ["we", "PRP"], ["can", "MD"], ["develop", "VB"], ["good", "JJ"], ["algorithms", "NN"], ["or", "CC"], ["good", "JJ"], ["implementations", "NNS"], ["without", "IN"], ["much", "JJ"], ["code", "NN"], ["but", "CC"], ["there", "EX"], ["are", "VBP"], ["some", "DT"], ["out", "IN"], ["there", "EX"], ["that", "WDT"], ["are", "VBP"], ["still", "RB"], ["waiting", "VBG"], ["discovery", "NN"], [".", "."], ["It", "PRP"], ["could", "MD"], ["be", "VB"], ["that", "IN"], ["there", "EX"], ["are", "VBP"], ["some", "DT"], ["increment", "JJ"], ["sequence", "NN"], ["out", "IN"], ["there", "RB"], ["that", "DT"], ["make", "VBP"], ["Shellsort", "NNP"], ["more", "RBR"], ["efficient", "JJ"], ["than", "IN"], ["any", "DT"], ["other", "JJ"], ["method", "NN"], [",", ","], ["any", "DT"], ["of", "IN"], ["the", "DT"], ["sorting", "VBG"], ["method", "NN"], ["that", "IN"], ["we", "PRP"], ["know", "VBP"], ["for", "IN"], ["pratical", "JJ"], ["file", "NN"], ["size", "NN"], [",", ","], ["no", "DT"], ["one", "NN"], ["can", "MD"], ["deny", "VB"], ["that", "DT"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["Shellsort", "NNP"], ["or", "CC"], ["first", "JJ"], ["non-trivial", "JJ"], ["sorting", "NN"], ["method", "NN"], [".", "."]], "title": "shellsort", "text": "Now, we'll look at Shellsort which is a bit elementary on the face of it but it's not at all elementary as you'll see. The idea of Shellsort is that Insertion Sort is inefficient because elements really move only one position at the time even when we're kind of know that they have a long way to go. The idea behind Shellsort is that we'll move entries several positions at a time and the way we're going to do it, it's called h-sorting the array. So, an h-sorted array is h different inter leaves sorted sub-sequences so in this case with h=4 if we start at L and look at every fourth element - M, P, T - then it's sorted. If we start in the second place at E and look at every fourth element, it's sorted. So this is 4 interleave sequences, that's a 4-sorted array. And what we're going to do is implement a sorting method that h-sort for decreasing sequences of values of h. This is one of the oldest sorting methods invented by Shell in 1959. So, in this case, it starts out with the input example shown and then the 13-sort - a few items are moved, 4-sort - a few more are moved, and then finally, a 1-sort. And the idea is that each of the sorts can be implemented with only a few exchanges given that the previous ones happened. So first thing is how do we get an array h-sorted? That's actually pretty easy. We just use Insertion Sort but instead of going one back every time we come with a new item, we go h back. So for example when we come to this A in the Insertion Sort, then it's, we look at the array before that and then there was M and E in the positions three back so we exchange the A with the larger one to its left, that's M and then the other larger one to its left, that's E and then put it into position. So the code is the same as insertion, as for Insertion Sort, except that when we go backwards through the array we skip by h instead of just by one. That's how we h-sort an array. And the idea is we're going to use Insertion Sort because of two reasons based on our understanding of how Insertion Sort works. While the first thing is if the increments are big then the size of the sub arrays that we're sorting are pretty small so any sorting method including Insertion Sort is going to work well. But the other thing is if the increments are small because we've done previous h-sorts for bigger values of h, the array is partially sorted and so Insertions Sort is going to be fast. You wouldn't work to use Shellsort as the basis for h-sorting because that always takes quadratic time no matter what order there is in the array. So let's look at example of Shellsort with increment 7, 3, and 1. So, we start with this sort example and then 7-sorting it - just involves doing insertion sort but just reaching back 7 each time. In this case, the 4 subfiles stretched out at seven each only have two elements in them. And then we 3-sort. Now, because it's 7-sorted and a 3-sort elements are either already in placed or on a go back a few strides. On this case, it's only the A that goes back two. And then we 1-sort and again because of the fact that it's been 7-sorted and 3-sorted, the arrays are almost in order when it comes time to do the 1-sort and most of the items only go back one or two positions. So we have to do a few extra passes to do the higher sorts but the each element moves only a little bit on each path and that's how Shellsort gains its efficiency. So actually once you 1-sort, that's Insertion Sort so you're going to always get a sorted result. The only difference is how efficient is that. Now the intuition behind Shellsort and actually the mathematical fact is that if you've got an array that's h-sorted and then you k-sort it for another value k different from h, it's still h-sorted. This is one of those mathematical facts that seems obvious but then if you try to prove that maybe it's a little more subtle than you think. So, if you think of all this is, is, is trivial and easy, go ahead and try to write down a proof that a g-sorted array remains g-sorted even after it's h-sorted. But most people will accept that and it's a fact and that's how Shellsort gains efficiency. Now there's another problem is what increment sequence should we use for Shellsort. One of the first things you might think of is let's try powers of two. Actually that one doesn't work at all, very well at all because it winds up not comparing elements in even positions with elements in the odd positions until the 1-sort which means performance can be bad. Shell's original idea is to try powers to two minus one and that works okay. Knuth when he wrote his books in the 60s proposed the increment sequence 3x + 1. We'll start with the 1, 4, 13, 40, 121, 364 like that and that's good because it's easy to compute. When we're using in Shellsort of course, we find the largest increment less than our file size and then do the sorts for decreasing values of that increment. But finding the best increment sequence is a research problem that has confounded people for quite a long time. Here's an increment sequence that I found after maybe a year's work and it works well but nobody knows if that's the best one. So here's the implementation in Java of Shellsort for Knuth's 3x + 1 increment sequence. We'll just go ahead and compute the increments that are less than n, n / 3 and then starting at that increment whatever it is and say, we started 364 then next time we need an increment, we'll just divide it by 3, 364 integer divide by 3, 364 integer / 3 it gets 121, 40 and so forth. So, this h = h / 3 gets us to the next increment. And then, the implementation is just Insertion Sort. We just go through starting at h for i and when we do the insertion, the j loop, we decrement j by h each time, otherwise the code is exactly like Insertion Sort. So, just adding this extra loop for h-sorting and this extra loop to compute the increments to Insertion Sort, we get a slightly more complicated piece of code but its much, much more efficient. Here's what it looks like for a bigger array. We start with the randomly ordered input and you can see that it gets more and more in order on each time that we h-sort for the decreasing values of h. Here's an animation. This animation does the whole h-sort for each subarray. It's a little better feeling for what's going on. And now to do the high ones pretty quickly and now it's doing the 1-sort and again it steps through the array pretty quickly. If it's partially sorted it doesn't make much difference - does the higher sorts a little bit faster. But that's simple to implement and very efficient sorting algorithm. Now, the analysis of Shellsort is still open. Now, there's a few things that we can say. For example we can say that the number of comparison and the worst case is O(N3/2) for the 3x + 1 increments. But actually in practice it's much less than that. The problem is nobody knows an accurate model for describing the number of compares taken by Shellsort for any interesting increment sequence. This seems to be with a small value, multiple of n times the number of increments used which is some multiple maybe of n log n but nobody is been able to find an accurate model that proves that for any interesting increment sequence for Shellsort. So, why we are interested in this algorithm? Well, it's a simple idea that leads to substantial performance gains. It's very useful in practice because it's pretty fast except for very huge arrays. It's going to beat even the classical sophisticated methods for medium sized arrays. And it doesn't take much code. It's often used in embedded systems or in hardware sort type systems because there's so little code involved to implement it. And it just leads to a lot of interesting questions. This gets to the intellectual challenge of developing algorithms. If you think what we've been studying so far is trivial, go ahead and find a better increment sequence. Try some technique to discover one and try to say something about the average-case performance of Shellsort. People have been trying to do that for 50 years without a whole lot of success. So, the lesson is that we can develop good algorithms or good implementations without much code but there are some out there that are still waiting discovery. It could be that there are some increment sequence out there that make Shellsort more efficient than any other method, any of the sorting method that we know for pratical file size, no one can deny that. That's Shellsort or first non-trivial sorting method. ", "video_ID": 22, "course_id": 3}
{"category": ["elementary sorts"], "tagged": [["Next", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["an", "DT"], ["easy", "JJ"], ["application", "NN"], ["of", "IN"], ["sorting", "VBG"], ["to", "TO"], ["related", "VBN"], ["problem", "NN"], ["called", "VBN"], ["Shuffling", "NNP"], [".", "."], ["So", "RB"], [",", ","], ["suppose", "VBP"], ["you", "PRP"], ["have", "VBP"], ["a", "DT"], ["deck", "NN"], ["of", "IN"], ["cards", "NNS"], [".", "."], ["One", "CD"], ["of", "IN"], ["the", "DT"], ["things", "NNS"], ["that", "IN"], ["you", "PRP"], ["might", "MD"], ["want", "VB"], ["to", "TO"], ["try", "VB"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["to", "TO"], ["simply", "RB"], ["rearrange", "VB"], ["those", "DT"], ["cards", "NNS"], ["into", "IN"], ["random", "JJ"], ["order", "NN"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["called", "VBN"], ["shuffling", "NN"], [".", "."], ["Here", "RB"], ["'s", "VBZ"], ["a", "DT"], ["way", "NN"], ["to", "TO"], ["get", "VB"], ["shuffling", "VBG"], ["done", "VBN"], ["using", "VBG"], ["a", "DT"], ["sort", "NN"], ["and", "CC"], ["seems", "VBZ"], ["like", "IN"], ["the", "DT"], ["opposite", "NN"], [".", "."], ["The", "DT"], ["idea", "NN"], ["is", "VBZ"], [",", ","], ["just", "RB"], ["generate", "VB"], ["a", "DT"], ["random", "JJ"], ["real", "JJ"], ["number", "NN"], ["for", "IN"], ["every", "DT"], ["array", "NN"], ["entry", "NN"], ["and", "CC"], ["then", "RB"], ["sort", "NN"], ["using", "VBG"], ["those", "DT"], ["random", "JJ"], ["numbers", "NNS"], ["as", "IN"], ["the", "DT"], ["keys", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["an", "DT"], ["effective", "JJ"], ["way", "NN"], ["to", "TO"], ["get", "VB"], ["things", "NNS"], ["shuffled", "VBN"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["possible", "JJ"], ["to", "TO"], ["prove", "VB"], ["that", "DT"], [",", ","], ["that", "WDT"], ["produces", "VBZ"], ["a", "DT"], ["uniformly", "JJ"], ["random", "JJ"], ["permutation", "NN"], ["of", "IN"], ["the", "DT"], ["input", "NN"], ["if", "IN"], ["there", "EX"], ["'s", "VBZ"], ["no", "DT"], ["duplicate", "NN"], ["values", "NNS"], [",", ","], ["assuming", "VBG"], ["that", "IN"], ["you", "PRP"], ["have", "VBP"], ["a", "DT"], ["real", "JJ"], ["numbers", "NNS"], ["that", "WDT"], ["are", "VBP"], ["generated", "VBN"], ["uniformly", "RB"], ["at", "IN"], ["random", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["just", "RB"], ["means", "VBZ"], ["that", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["well", "RB"], ["shuffled", "VBN"], ["that", "IN"], ["every", "DT"], ["possible", "JJ"], ["way", "NN"], ["of", "IN"], ["shuffling", "VBG"], ["the", "DT"], ["deck", "NN"], ["appears", "VBZ"], ["with", "IN"], ["the", "DT"], ["equal", "JJ"], ["probability", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["fine", "JJ"], ["but", "CC"], ["it", "PRP"], ["requires", "VBZ"], ["a", "DT"], ["sort", "NN"], ["and", "CC"], ["a", "DT"], ["sort", "NN"], ["seems", "VBZ"], ["like", "IN"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["work", "NN"], ["for", "IN"], ["this", "DT"], ["problem", "NN"], ["and", "CC"], ["the", "DT"], ["question", "NN"], ["is", "VBZ"], [",", ","], ["can", "MD"], ["we", "PRP"], ["do", "VB"], ["better", "JJR"], ["?", "."], ["Can", "MD"], ["we", "PRP"], ["have", "VB"], ["a", "DT"], ["faster", "JJR"], ["way", "NN"], ["to", "TO"], ["shuffle", "VB"], ["?", "."], ["Do", "NNP"], ["we", "PRP"], ["really", "RB"], ["need", "VB"], ["to", "TO"], ["pay", "VB"], ["the", "DT"], ["cost", "NN"], ["of", "IN"], ["a", "DT"], ["full", "JJ"], ["sort", "NN"], ["?", "."], ["The", "DT"], ["answer", "NN"], ["to", "TO"], ["that", "DT"], ["question", "NN"], ["is", "VBZ"], [",", ","], ["no", "DT"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["actually", "RB"], ["a", "DT"], ["very", "RB"], ["easy", "JJ"], ["way", "NN"], ["to", "TO"], ["rearrange", "VB"], ["an", "DT"], ["array", "NN"], ["so", "RB"], ["that", "IN"], ["the", "DT"], ["result", "NN"], ["is", "VBZ"], ["a", "DT"], ["uniformly", "JJ"], ["random", "JJ"], ["permutation", "NN"], [".", "."], ["It", "PRP"], ["only", "RB"], ["require", "VBZ"], ["a", "DT"], ["linear", "JJ"], ["time", "NN"], ["to", "TO"], ["get", "VB"], ["the", "DT"], ["job", "NN"], ["done", "VBN"], [".", "."], ["Let", "VB"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["the", "DT"], ["demo", "NN"], [".", "."], ["The", "DT"], ["idea", "NN"], ["this", "DT"], ["to", "TO"], ["pass", "VB"], ["through", "IN"], ["the", "DT"], ["array", "NN"], ["from", "IN"], ["left", "VBN"], ["to", "TO"], ["right", "VB"], ["with", "IN"], ["an", "DT"], ["index", "NN"], ["i", "NN"], ["as", "IN"], ["we", "PRP"], ["'ve", "VBP"], ["been", "VBN"], ["doing", "VBG"], ["but", "CC"], ["now", "RB"], ["we", "PRP"], ["start", "VBP"], ["with", "IN"], ["the", "DT"], ["array", "NN"], ["in", "IN"], ["order", "NN"], [".", "."], ["And", "CC"], ["actually", "RB"], [",", ","], ["it", "PRP"], ["does", "VBZ"], ["n't", "RB"], ["matter", "VB"], ["how", "WRB"], ["we", "PRP"], ["start", "VBP"], ["the", "DT"], ["array", "NN"], ["and", "CC"], ["every", "DT"], ["time", "NN"], ["we", "PRP"], ["pick", "VBP"], ["an", "DT"], ["integer", "NN"], ["between", "IN"], ["0", "CD"], ["and", "CC"], ["i", "VB"], ["uniformly", "RB"], ["at", "IN"], ["random", "NN"], ["and", "CC"], [",", ","], ["and", "CC"], ["swap", "VB"], ["a", "DT"], ["[", "NN"], ["i", "NN"], ["]", "VBP"], ["with", "IN"], ["that", "DT"], ["integer", "NN"], [".", "."], ["So", "RB"], [",", ","], ["let", "VB"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["the", "DT"], ["beginning", "NN"], [",", ","], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["do", "VB"], ["anything", "NN"], ["just", "RB"], ["swap", "VB"], ["it", "PRP"], ["with", "IN"], ["itself", "PRP"], [".", "."], ["Now", "RB"], [",", ","], ["with", "IN"], ["i", "JJ"], ["=", "VBP"], ["2", "CD"], ["or", "CC"], ["i", "VB"], ["pointing", "VBG"], ["to", "TO"], ["the", "DT"], ["second", "JJ"], ["card", "NN"], ["we", "PRP"], ["generate", "VBP"], ["a", "DT"], ["random", "NN"], ["integer", "NN"], ["in", "IN"], ["between", "IN"], ["0", "CD"], ["and", "CC"], ["i", "NN"], [",", ","], ["in", "IN"], ["this", "DT"], ["case", "NN"], ["it", "PRP"], ["'s", "VBZ"], ["the", "DT"], ["one", "CD"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["and", "CC"], ["we", "PRP"], ["swap", "VBP"], ["those", "DT"], [".", "."], ["Increment", "JJ"], ["i", "NN"], [",", ","], ["generate", "VBP"], ["a", "DT"], ["random", "NN"], ["integer", "NN"], [",", ","], ["this", "DT"], ["time", "NN"], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["the", "DT"], ["first", "JJ"], ["one", "NN"], ["again", "RB"], [",", ","], ["swap", "VB"], ["them", "PRP"], [".", "."], ["Increment", "NN"], ["i", "NN"], [",", ","], ["generate", "VBP"], ["a", "DT"], ["random", "NN"], ["integer", "NN"], [",", ","], ["swap", "VB"], ["them", "PRP"], [".", "."], ["Increment", "NN"], ["i", "NN"], [",", ","], ["generate", "VBP"], ["a", "DT"], ["random", "NN"], ["integer", "NN"], [",", ","], ["swap", "VB"], ["them", "PRP"], [".", "."], ["And", "CC"], ["continue", "VB"], ["in", "IN"], ["that", "DT"], ["way", "NN"], [".", "."], ["Swap", "NNP"], [".", "."], ["So", "RB"], ["for", "IN"], ["every", "DT"], ["i", "NN"], [",", ","], ["we", "PRP"], ["do", "VBP"], ["exactly", "RB"], ["one", "CD"], ["swap", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["card", "NN"], ["could", "MD"], ["be", "VB"], ["involved", "VBN"], ["in", "IN"], ["more", "JJR"], ["than", "IN"], ["one", "CD"], ["swap", "NN"], ["but", "CC"], ["that", "DT"], ["'s", "VBZ"], ["not", "RB"], ["an", "DT"], ["issue", "NN"], [".", "."], ["The", "DT"], ["point", "NN"], ["is", "VBZ"], ["that", "IN"], ["the", "DT"], ["cards", "NNS"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["of", "IN"], ["i", "NN"], ["are", "VBP"], ["shuffled", "VBN"], ["there", "RB"], ["uniform", "JJ"], [",", ","], ["randomly", "RB"], ["shuffled", "VBN"], [".", "."], ["On", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["i", "NN"], ["and", "CC"], ["r", "NN"], ["are", "VBP"], ["the", "DT"], ["same", "JJ"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["no", "DT"], ["swap", "NN"], [".", "."], ["Increment", "NN"], ["i", "NN"], [",", ","], ["generate", "VBP"], ["a", "DT"], ["random", "NN"], ["r", "NN"], [",", ","], ["swap", "VB"], ["them", "PRP"], [".", "."], ["And", "CC"], ["at", "IN"], ["the", "DT"], ["end", "NN"], ["we", "PRP"], ["have", "VBP"], ["the", "DT"], ["deck", "NN"], ["shuffled", "VBD"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["a", "DT"], ["linear", "JJ"], ["time", "NN"], ["shuffling", "VBG"], ["algorithm", "NNS"], ["making", "VBG"], ["use", "NN"], ["of", "IN"], ["randomness", "NN"], [".", "."], ["It", "PRP"], ["was", "VBD"], ["proved", "VBN"], ["through", "IN"], ["actually", "RB"], ["a", "DT"], ["long", "JJ"], ["time", "NN"], ["ago", "RB"], ["even", "RB"], ["before", "IN"], ["computer", "NN"], ["implementations", "NNS"], ["that", "IN"], ["if", "IN"], ["you", "PRP"], ["do", "VBP"], ["that", "DT"], [",", ","], ["you", "PRP"], ["get", "VBP"], ["a", "DT"], ["uniformly", "JJ"], ["random", "NN"], ["permutation", "NN"], ["and", "CC"], ["it", "PRP"], ["only", "RB"], ["takes", "VBZ"], ["linear", "JJ"], ["time", "NN"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["definitely", "RB"], ["a", "DT"], ["way", "NN"], ["to", "TO"], ["get", "VB"], ["a", "DT"], ["deck", "NN"], ["shuffled", "VBD"], ["quite", "RB"], ["easily", "RB"], [".", "."], ["Easy", "NNP"], ["to", "TO"], ["implement", "VB"], [".", "."], ["Now", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["key", "JJ"], ["that", "IN"], ["the", "DT"], ["uniform", "JJ"], ["random", "NN"], ["number", "NN"], ["will", "MD"], ["be", "VB"], ["between", "IN"], ["0", "CD"], ["and", "CC"], ["i-1", "JJ"], [".", "."], ["You", "PRP"], ["'ll", "MD"], ["often", "RB"], ["see", "VB"], ["programmers", "NNS"], ["thinking", "VBG"], ["that", "IN"], ["they", "PRP"], ["'re", "VBP"], ["implementing", "VBG"], ["a", "DT"], ["shuffle", "NN"], ["and", "CC"], ["they", "PRP"], ["just", "RB"], ["choose", "VBP"], ["for", "IN"], ["every", "DT"], ["entry", "NN"], [",", ","], ["they", "PRP"], ["just", "RB"], ["choose", "VBP"], ["random", "JJ"], ["place", "NN"], ["in", "IN"], ["the", "DT"], ["array", "NN"], ["to", "TO"], ["exchange", "VB"], ["it", "PRP"], ["with", "IN"], ["and", "CC"], ["that", "DT"], ["does", "VBZ"], ["n't", "RB"], ["really", "RB"], ["work", "VB"], [".", "."], ["You", "PRP"], ["could", "MD"], ["do", "VB"], ["the", "DT"], ["items", "NNS"], ["between", "IN"], ["i", "NNS"], ["and", "CC"], ["n-1", "JJ"], [",", ","], ["the", "DT"], ["ones", "NNS"], ["that", "IN"], ["you", "PRP"], ["have", "VBP"], ["n't", "RB"], ["seen", "VBN"], ["yet", "RB"], ["and", "CC"], ["that", "DT"], ["would", "MD"], ["also", "RB"], ["work", "VB"], ["but", "CC"], ["doing", "VBG"], ["a", "DT"], ["whole", "JJ"], ["array", "NN"], ["does", "VBZ"], ["n't", "RB"], ["give", "VB"], ["you", "PRP"], ["a", "DT"], ["uniformly", "JJ"], ["random", "NN"], ["result", "NN"], [".", "."], ["So", "RB"], [",", ","], ["with", "IN"], ["that", "DT"], ["one", "CD"], ["caveat", "NN"], [",", ","], ["this", "DT"], ["code", "NN"], ["is", "VBZ"], ["almost", "RB"], ["trivial", "JJ"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["method", "NN"], ["in", "IN"], ["our", "PRP$"], ["standard", "JJ"], ["random", "NN"], ["class", "NN"], [".", "."], ["Now", "RB"], ["if", "IN"], ["you", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["using", "VBG"], ["random", "JJ"], ["methods", "NNS"], ["that", "WDT"], ["depend", "VBP"], ["on", "IN"], ["randomness", "NN"], ["in", "IN"], ["real", "JJ"], ["applications", "NNS"], [",", ","], ["you", "PRP"], ["do", "VBP"], ["have", "VB"], ["to", "TO"], ["be", "VB"], ["careful", "JJ"], [".", "."], ["So", "IN"], ["this", "DT"], ["is", "VBZ"], ["just", "RB"], ["an", "DT"], ["example", "NN"], ["about", "IN"], ["software", "NN"], ["security", "NN"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["difficult", "JJ"], ["and", "CC"], ["deep", "JJ"], ["issues", "NNS"], ["to", "TO"], ["worry", "VB"], ["about", "IN"], ["in", "IN"], ["software", "NN"], ["security", "NN"], ["and", "CC"], ["we", "PRP"], ["'re", "VBP"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], ["worry", "VB"], ["about", "IN"], ["all", "DT"], ["of", "IN"], ["them", "PRP"], [".", "."], ["But", "CC"], ["one", "CD"], ["thing", "NN"], ["that", "IN"], ["we", "PRP"], ["can", "MD"], ["do", "VB"], ["is", "VBZ"], ["make", "VB"], ["sure", "JJ"], ["that", "IN"], ["our", "PRP$"], ["algorithms", "JJ"], ["work", "NN"], ["as", "IN"], ["advertised", "JJ"], [".", "."], ["So", "RB"], [",", ","], ["here", "RB"], ["'s", "VBZ"], ["an", "DT"], ["example", "NN"], ["of", "IN"], ["an", "DT"], ["implementation", "NN"], ["for", "IN"], ["online", "JJ"], ["poker", "NN"], [".", "."], ["Here", "RB"], ["'s", "VBZ"], ["the", "DT"], ["code", "NN"], ["that", "IN"], ["you", "PRP"], ["can", "MD"], ["find", "VB"], ["on", "IN"], ["the", "DT"], ["web", "NN"], ["for", "IN"], ["how", "WRB"], ["to", "TO"], ["shuffle", "VB"], ["a", "DT"], ["deck", "NN"], ["of", "IN"], ["cards", "NNS"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["pretty", "RB"], ["similar", "JJ"], ["to", "TO"], ["our", "PRP$"], ["code", "NN"], ["but", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["actually", "RB"], ["got", "VBD"], ["a", "DT"], ["few", "JJ"], ["bugs", "NNS"], [",", ","], ["more", "JJR"], ["than", "IN"], ["a", "DT"], ["few", "JJ"], ["bugs", "NNS"], [".", "."], ["So", "RB"], ["first", "JJ"], ["one", "CD"], ["is", "VBZ"], ["the", "DT"], ["way", "NN"], ["that", "IN"], ["random", "NN"], ["works", "VBZ"], ["it", "PRP"], ["'s", "VBZ"], ["actually", "RB"], ["never", "RB"], ["gets", "VBZ"], ["to", "TO"], ["52", "CD"], ["which", "WDT"], ["means", "VBZ"], ["that", "IN"], ["the", "DT"], ["last", "JJ"], ["card", "NN"], ["just", "RB"], ["stays", "VBZ"], ["it", "PRP"], ["can", "MD"], ["end", "VB"], ["up", "RP"], ["in", "IN"], ["the", "DT"], ["last", "JJ"], ["place", "NN"], [".", "."], ["So", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["definitely", "RB"], ["not", "RB"], ["shuffled", "VBN"], ["because", "IN"], ["of", "IN"], ["that", "DT"], [".", "."], ["Maybe", "RB"], ["that", "IN"], ["one", "CD"], ["'s", "POS"], ["minor", "JJ"], ["but", "CC"], ["it", "PRP"], ["also", "RB"], ["is", "VBZ"], ["picking", "VBG"], ["a", "DT"], ["random", "JJ"], ["card", "NN"], ["from", "IN"], ["the", "DT"], ["whole", "JJ"], ["deck", "NN"], ["as", "IN"], ["we", "PRP"], ["just", "RB"], ["pointed", "VBD"], ["out", "RP"], ["that", "IN"], ["'s", "VBZ"], ["not", "RB"], ["uniform", "JJ"], [".", "."], ["Should", "MD"], ["be", "VB"], ["between", "IN"], ["1", "CD"], ["and", "CC"], ["i", "VB"], ["or", "CC"], ["between", "IN"], ["i+1", "NNS"], ["and", "CC"], ["52", "CD"], [".", "."], ["Another", "DT"], ["problem", "NN"], ["is", "VBZ"], ["in", "IN"], ["this", "DT"], ["implementation", "NN"], ["that", "IN"], ["the", "DT"], ["random", "JJ"], ["uses", "VBZ"], ["just", "RB"], ["a", "DT"], ["32", "CD"], ["bit", "NN"], ["seed", "NN"], ["that", "IN"], ["if", "IN"], ["you", "PRP"], ["do", "VBP"], ["that", "DT"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["not", "RB"], ["enough", "JJ"], ["possible", "JJ"], ["shuffles", "NNS"], [".", "."], ["The", "DT"], ["number", "NN"], ["of", "IN"], ["possible", "JJ"], ["shuffles", "NNS"], ["is", "VBZ"], [",", ","], ["is", "VBZ"], [",", ","], ["is", "VBZ"], ["much", "RB"], ["more", "RBR"], [",", ","], ["if", "IN"], ["n", "VBN"], [",", ","], ["if", "IN"], ["n", "VBN"], ["is", "VBZ"], ["52", "CD"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["52", "CD"], ["factorial", "JJ"], ["which", "WDT"], ["is", "VBZ"], ["a", "DT"], ["lot", "NN"], ["bigger", "JJR"], ["than", "IN"], ["two", "CD"], ["to", "TO"], ["the", "DT"], ["32nd", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["close", "JJ"], ["to", "TO"], ["a", "DT"], ["random", "NN"], ["or", "CC"], ["uniform", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["other", "JJ"], ["thing", "NN"], ["is", "VBZ"], ["that", "IN"], [",", ","], ["the", "DT"], ["seed", "NN"], ["is", "VBZ"], ["just", "RB"], ["a", "DT"], ["number", "NN"], ["of", "IN"], ["milliseconds", "NNS"], ["since", "IN"], ["midnight", "NN"], ["and", "CC"], ["that", "IN"], ["cuts", "VBZ"], ["down", "RP"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["shuffles", "NNS"], ["even", "RB"], ["more", "RBR"], [".", "."], ["And", "CC"], ["in", "IN"], ["fact", "NN"], [",", ","], ["it", "PRP"], ["did", "VBD"], ["n't", "RB"], ["take", "VB"], ["that", "RB"], ["much", "JJ"], ["hacking", "NN"], ["for", "IN"], ["someone", "NN"], ["to", "TO"], ["realize", "VB"], ["that", "IN"], ["after", "IN"], ["seeing", "VBG"], ["five", "CD"], ["cards", "NNS"], ["and", "CC"], ["figuring", "VBG"], ["out", "RP"], ["what", "WP"], ["the", "DT"], ["server", "NN"], ["clock", "NN"], ["was", "VBD"], ["doing", "VBG"], [",", ","], ["you", "PRP"], ["could", "MD"], ["get", "VB"], ["all", "PDT"], ["the", "DT"], ["future", "NN"], ["cards", "NNS"], ["in", "IN"], ["a", "DT"], ["real", "JJ"], ["time", "NN"], ["in", "IN"], ["a", "DT"], ["program", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["pretty", "RB"], ["tough", "JJ"], ["thing", "NN"], ["to", "TO"], ["have", "VB"], ["happen", "VB"], ["if", "IN"], ["you", "PRP"], ["'re", "VBP"], ["implementing", "VBG"], ["online", "JJ"], ["poker", "NN"], [".", "."], ["You", "PRP"], ["might", "MD"], ["want", "VB"], ["to", "TO"], ["make", "VB"], ["sure", "JJ"], ["that", "IN"], ["if", "IN"], ["you", "PRP"], ["'re", "VBP"], ["advertising", "VBG"], ["that", "IN"], ["you", "PRP"], ["'re", "VBP"], ["doing", "VBG"], ["a", "DT"], ["random", "NN"], ["shuffle", "NN"], [",", ","], ["that", "IN"], ["you", "PRP"], ["go", "VBP"], ["ahead", "RB"], ["and", "CC"], ["do", "VB"], ["so", "RB"], [".", "."], ["And", "CC"], ["the", "DT"], ["famous", "JJ"], ["quote", "NN"], ["in", "IN"], ["this", "DT"], ["many", "JJ"], ["similar", "JJ"], ["quotes", "NNS"], [",", ","], ["the", "DT"], ["generation", "NN"], ["of", "IN"], ["random", "JJ"], ["numbers", "NNS"], ["is", "VBZ"], ["too", "RB"], ["important", "JJ"], ["to", "TO"], ["be", "VB"], ["left", "VBN"], ["to", "TO"], ["chance", "NN"], [".", "."], ["So", "RB"], [",", ","], ["if", "IN"], ["your", "PRP$"], ["business", "NN"], ["does", "VBZ"], ["depend", "VB"], ["on", "IN"], ["shuffling", "VBG"], ["people", "NNS"], ["have", "VBP"], ["looked", "VBN"], ["at", "IN"], ["all", "DT"], ["sorts", "NNS"], ["of", "IN"], ["options", "NNS"], ["including", "VBG"], ["using", "VBG"], ["hardware", "JJ"], ["random", "JJ"], ["number", "NN"], ["generators", "NNS"], ["and", "CC"], ["these", "DT"], ["various", "JJ"], ["tests", "NNS"], ["available", "JJ"], ["to", "TO"], ["make", "VB"], ["sure", "JJ"], ["that", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["random", "JJ"], ["and", "CC"], ["you", "PRP"], ["'d", "MD"], ["better", "VB"], ["use", "NN"], ["good", "JJ"], ["shuffling", "NN"], ["code", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["our", "PRP$"], ["topic", "NN"], ["but", "CC"], ["the", "DT"], ["bottom", "JJ"], ["line", "NN"], ["is", "VBZ"], ["do", "VBP"], ["n't", "RB"], ["think", "VB"], ["that", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["easy", "JJ"], ["to", "TO"], ["shuffle", "VB"], ["a", "DT"], ["deck", "NN"], ["of", "IN"], ["cards", "NNS"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["shuffling", "VBG"], ["-", ":"], ["our", "PRP$"], ["first", "JJ"], ["non-trivial", "JJ"], ["sorting", "VBG"], ["application", "NN"], [".", "."]], "title": "shuffling", "text": "Next we're going to look at an easy application of sorting to related problem called Shuffling. So, suppose you have a deck of cards. One of the things that you might want to try to do is to simply rearrange those cards into random order, that's called shuffling. Here's a way to get shuffling done using a sort and seems like the opposite. The idea is, just generate a random real number for every array entry and then sort using those random numbers as the keys. That's an effective way to get things shuffled. And it's possible to prove that, that produces a uniformly random permutation of the input if there's no duplicate values, assuming that you have a real numbers that are generated uniformly at random. And that's just means that it's well shuffled that every possible way of shuffling the deck appears with the equal probability. That's fine but it requires a sort and a sort seems like a lot of work for this problem and the question is, can we do better? Can we have a faster way to shuffle? Do we really need to pay the cost of a full sort? The answer to that question is, no. There's actually a very easy way to rearrange an array so that the result is a uniformly random permutation. It only require a linear time to get the job done. Let's look at the demo. The idea this to pass through the array from left to right with an index i as we've been doing but now we start with the array in order. And actually, it doesn't matter how we start the array and every time we pick an integer between 0 and i uniformly at random and, and swap a[i] with that integer. So, let's look at the beginning, we don't do anything just swap it with itself. Now, with i = 2 or i pointing to the second card we generate a random integer in between 0 and i, in this case it's the one to the left and we swap those. Increment i, generate a random integer, this time it's going to be the first one again, swap them. Increment i, generate a random integer, swap them. Increment i, generate a random integer, swap them. And continue in that way. Swap. So for every i, we do exactly one swap. Now, card could be involved in more than one swap but that's not an issue. The point is that the cards to the left of i are shuffled there uniform, randomly shuffled. On this case, i and r are the same. There's no swap. Increment i, generate a random r, swap them. And at the end we have the deck shuffled. That's a linear time shuffling algorithm making use of randomness. It was proved through actually a long time ago even before computer implementations that if you do that, you get a uniformly random permutation and it only takes linear time. So, that's definitely a way to get a deck shuffled quite easily. Easy to implement. Now it's key that the uniform random number will be between 0 and i-1. You'll often see programmers thinking that they're implementing a shuffle and they just choose for every entry, they just choose random place in the array to exchange it with and that doesn't really work. You could do the items between i and n-1, the ones that you haven't seen yet and that would also work but doing a whole array doesn't give you a uniformly random result. So, with that one caveat, this code is almost trivial. And it's a method in our standard random class. Now if you're going to be using random methods that depend on randomness in real applications, you do have to be careful. So this is just an example about software security. There's a lot of difficult and deep issues to worry about in software security and we're not going to worry about all of them. But one thing that we can do is make sure that our algorithms work as advertised. So, here's an example of an implementation for online poker. Here's the code that you can find on the web for how to shuffle a deck of cards and that's pretty similar to our code but it's actually got a few bugs, more than a few bugs. So first one is the way that random works it's actually never gets to 52 which means that the last card just stays it can end up in the last place. So, it's definitely not shuffled because of that. Maybe that one's minor but it also is picking a random card from the whole deck as we just pointed out that's not uniform. Should be between 1 and i or between i+1 and 52. Another problem is in this implementation that the random uses just a 32 bit seed that if you do that, there's not enough possible shuffles. The number of possible shuffles is, is, is much more, if n, if n is 52, it's 52 factorial which is a lot bigger than two to the 32nd. So, it's not close to a random or uniform. And the other thing is that, the seed is just a number of milliseconds since midnight and that cuts down the number of shuffles even more. And in fact, it didn't take that much hacking for someone to realize that after seeing five cards and figuring out what the server clock was doing, you could get all the future cards in a real time in a program. And that's a pretty tough thing to have happen if you're implementing online poker. You might want to make sure that if you're advertising that you're doing a random shuffle, that you go ahead and do so. And the famous quote in this many similar quotes, the generation of random numbers is too important to be left to chance. So, if your business does depend on shuffling people have looked at all sorts of options including using hardware random number generators and these various tests available to make sure that it's random and you'd better use good shuffling code that's our topic but the bottom line is don't think that it's easy to shuffle a deck of cards. So that's shuffling - our first non-trivial sorting application. ", "video_ID": 23, "course_id": 3}
{"category": ["elementary sorts"], "tagged": [[">", "JJ"], [">", "RB"], ["Now", "RB"], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["an", "DT"], ["application", "NN"], ["of", "IN"], ["sorting", "VBG"], ["from", "IN"], ["the", "DT"], ["field", "NN"], ["of", "IN"], ["computational", "JJ"], ["geometry", "NN"], ["for", "IN"], ["an", "DT"], ["interesting", "JJ"], ["computation", "NN"], [".", "."], ["If", "IN"], ["you", "PRP"], ["have", "VBP"], ["a", "DT"], ["set", "NN"], ["of", "IN"], ["N", "NNP"], ["points", "NNS"], ["in", "IN"], ["a", "DT"], ["plane", "NN"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["a", "DT"], ["geometric", "JJ"], ["object", "NN"], ["called", "VBD"], ["the", "DT"], ["Convex", "NNP"], ["Hull", "NNP"], ["which", "WDT"], ["is", "VBZ"], ["the", "DT"], ["smallest", "JJS"], ["polygon", "NN"], ["that", "WDT"], ["encloses", "VBZ"], ["all", "PDT"], ["the", "DT"], ["points", "NNS"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["the", "DT"], ["Convex", "NNP"], ["Hull", "NNP"], ["for", "IN"], ["that", "DT"], ["set", "NN"], ["of", "IN"], ["points", "NNS"], [".", "."], ["[", "JJ"], ["cough", "NN"], ["]", "NN"], ["There", "EX"], ["'s", "VBZ"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["equivalent", "JJ"], ["definitions", "NNS"], ["of", "IN"], ["this", "DT"], [".", "."], ["Some", "DT"], ["of", "IN"], ["them", "PRP"], ["very", "RB"], ["mathematical", "JJ"], [",", ","], ["that", "WDT"], ["extend", "VBP"], ["the", "DT"], ["higher", "JJR"], ["dimensions", "NNS"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["the", "DT"], ["smallest", "JJS"], ["convex", "NN"], ["set", "NN"], ["that", "WDT"], ["contain", "VBP"], ["all", "PDT"], ["the", "DT"], ["points", "NNS"], [",", ","], ["the", "DT"], ["smallest", "JJS"], ["area", "NN"], ["of", "IN"], ["convex", "NN"], ["polygon", "NN"], ["enclosing", "VBG"], ["the", "DT"], ["points", "NNS"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["convex", "NN"], ["polygon", "NN"], ["that", "WDT"], ["encloses", "VBZ"], ["the", "DT"], ["points", "NNS"], ["whose", "WP$"], ["vertices", "NNS"], ["points", "NNS"], ["in", "IN"], ["the", "DT"], ["set", "NN"], ["and", "CC"], ["those", "DT"], ["are", "VBP"], ["all", "DT"], ["equivalent", "JJ"], ["definitions", "NNS"], [".", "."], ["And", "CC"], ["what", "WP"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["given", "VBN"], ["the", "DT"], ["set", "NN"], ["of", "IN"], ["points", "NNS"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["a", "DT"], ["program", "NN"], ["that", "WDT"], ["can", "MD"], ["give", "VB"], ["us", "PRP"], ["the", "DT"], ["convex", "NN"], ["hull", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["which", "WDT"], ["should", "MD"], ["the", "DT"], ["output", "NN"], ["of", "IN"], ["such", "JJ"], ["a", "DT"], ["program", "NN"], [",", ","], ["such", "PDT"], ["a", "DT"], ["method", "NN"], ["be", "VB"], ["?", "."], ["Well", "NNP"], [",", ","], ["in", "IN"], ["order", "NN"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["work", "VB"], ["with", "IN"], ["the", "DT"], ["result", "NN"], [",", ","], ["it", "PRP"], ["should", "MD"], ["be", "VB"], ["a", "DT"], ["sequence", "NN"], ["of", "IN"], ["vertices", "NNS"], ["that", "WDT"], ["gives", "VBZ"], ["us", "PRP"], ["that", "IN"], ["polygon", "NN"], ["if", "IN"], ["we", "PRP"], ["follow", "VBP"], ["it", "PRP"], [".", "."], ["If", "IN"], ["we", "PRP"], ["'ve", "VBP"], ["got", "VBD"], ["some", "DT"], ["points", "NNS"], ["that", "WDT"], ["are", "VBP"], ["on", "IN"], ["the", "DT"], ["boundary", "JJ"], ["but", "CC"], ["are", "VBP"], ["n't", "RB"], ["really", "RB"], ["vertices", "NNS"], ["they", "PRP"], ["should", "MD"], ["n't", "RB"], ["be", "VB"], ["included", "VBN"], [".", "."], ["This", "DT"], ["points", "VBZ"], ["out", "RP"], ["examples", "NNS"], ["of", "IN"], ["how", "WRB"], ["difficult", "JJ"], ["computational", "JJ"], ["geometry", "NN"], ["can", "MD"], ["sometimes", "RB"], ["be", "VB"], ["because", "IN"], ["degenerate", "JJ"], ["cases", "NNS"], ["like", "IN"], ["these", "DT"], ["are", "VBP"], ["difficult", "JJ"], ["to", "TO"], ["deal", "VB"], ["with", "IN"], ["in", "IN"], ["code", "NN"], [".", "."], ["We", "PRP"], ["'re", "VBP"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], ["spend", "VB"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["time", "NN"], ["on", "IN"], ["this", "DT"], [",", ","], ["in", "IN"], ["this", "DT"], ["lecture", "NN"], [".", "."], ["But", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["something", "NN"], ["always", "RB"], ["to", "TO"], ["be", "VB"], ["aware", "JJ"], ["of", "IN"], ["when", "WRB"], ["trying", "VBG"], ["to", "TO"], ["[", "VB"], ["cough", "JJ"], ["]", "NNP"], ["apply", "RB"], ["simple", "JJ"], ["algorithms", "NNS"], ["in", "IN"], ["situations", "NNS"], ["like", "IN"], ["these", "DT"], ["that", "WDT"], ["turn", "VBP"], ["out", "RP"], ["to", "TO"], ["be", "VB"], ["maybe", "RB"], ["more", "RBR"], ["sophisticated", "JJ"], ["than", "IN"], ["we", "PRP"], ["might", "MD"], ["think", "VB"], [".", "."], [">", "VB"], [">", "JJ"], ["[", "NNP"], ["inaudible", "JJ"], ["]", "VBD"], ["the", "DT"], ["large", "JJ"], ["screen", "NN"], [".", "."], [">", "CC"], [">", "JJ"], ["Oh", "NNP"], ["yeah", "NN"], [",", ","], ["got", "VBD"], ["you", "PRP"], [".", "."], ["Mm-hm", "NNP"], [".", "."], ["Well", "NNP"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["actually", "RB"], ["a", "DT"], ["way", "NN"], ["to", "TO"], ["compute", "VB"], ["the", "DT"], ["convex", "NN"], ["hull", "NN"], ["just", "RB"], ["mechanically", "RB"], ["if", "IN"], ["you", "PRP"], ["put", "VBP"], ["the", "DT"], ["nails", "NNS"], ["around", "IN"], ["the", "DT"], ["points", "NNS"], ["and", "CC"], ["put", "VB"], ["a", "DT"], ["rubber", "NN"], ["band", "NN"], ["around", "IN"], ["it", "PRP"], [",", ","], ["that", "WDT"], ["gives", "VBZ"], ["you", "PRP"], ["the", "DT"], ["convex", "JJ"], ["hull", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["really", "RB"], ["implement", "VB"], ["that", "IN"], ["in", "IN"], ["a", "DT"], ["computer", "NN"], ["program", "NN"], ["but", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["surprising", "JJ"], ["how", "WRB"], ["well", "RB"], ["we", "PRP"], ["can", "MD"], ["do", "VB"], [".", "."], ["Here", "RB"], ["'s", "VBZ"], ["an", "DT"], ["application", "NN"], ["where", "WRB"], ["people", "NNS"], ["want", "VBP"], ["to", "TO"], ["compute", "VB"], ["the", "DT"], ["convex", "NN"], ["hull", "NN"], [".", "."], ["Suppose", "NNP"], ["you", "PRP"], ["have", "VBP"], ["a", "DT"], ["robot", "NN"], ["that", "WDT"], ["wants", "VBZ"], ["to", "TO"], ["get", "VB"], ["from", "IN"], ["s", "NN"], ["to", "TO"], ["t", "VB"], ["and", "CC"], ["there", "EX"], ["'s", "VBZ"], ["an", "DT"], ["obstacle", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["defined", "VBN"], ["by", "IN"], ["some", "DT"], ["polygon", "NN"], [".", "."], ["You", "PRP"], ["wanted", "VBD"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["go", "VB"], ["around", "RP"], ["the", "DT"], ["obstacle", "NN"], ["and", "CC"], ["it", "PRP"], ["turns", "VBZ"], ["out", "RP"], ["that", "IN"], ["the", "DT"], ["shortest", "JJS"], ["path", "NN"], [",", ","], ["either", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["straight", "JJ"], ["line", "NN"], ["from", "IN"], ["s", "NN"], ["to", "TO"], ["t", "VB"], ["or", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["part", "NN"], ["of", "IN"], ["the", "DT"], ["convex", "NN"], ["hull", "NN"], ["and", "CC"], ["is", "VBZ"], ["not", "RB"], ["hard", "JJ"], ["to", "TO"], ["see", "VB"], ["why", "WRB"], ["that", "DT"], ["might", "MD"], ["be", "VB"], ["true", "JJ"], [".", "."], ["And", "CC"], ["there", "EX"], ["'s", "VBZ"], ["plenty", "NN"], ["of", "IN"], ["other", "JJ"], ["applications", "NNS"], ["where", "WRB"], ["people", "NNS"], ["want", "VBP"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["compute", "VB"], ["the", "DT"], ["convex", "NN"], ["hull", "NN"], [".", "."], ["Here", "RB"], ["'s", "VBZ"], ["another", "DT"], ["application", "NN"], [".", "."], ["If", "IN"], ["you", "PRP"], ["want", "VBP"], ["to", "TO"], ["find", "VB"], ["the", "DT"], ["pair", "NN"], ["of", "IN"], ["points", "NNS"], ["that", "WDT"], ["are", "VBP"], ["the", "DT"], ["farthest", "JJS"], ["apart", "NN"], ["in", "IN"], ["the", "DT"], ["set", "NN"], ["of", "IN"], ["points", "NNS"], ["in", "IN"], ["the", "DT"], ["plane", "NN"], [",", ","], ["this", "DT"], ["is", "VBZ"], ["sometimes", "RB"], ["important", "JJ"], ["in", "IN"], ["statistical", "JJ"], ["calculation", "NN"], ["or", "CC"], ["other", "JJ"], ["applications", "NNS"], [".", "."], ["They", "PRP"], ["'re", "VBP"], ["on", "IN"], ["the", "DT"], ["convex", "NN"], ["hull", "NN"], [".", "."], ["If", "IN"], ["you", "PRP"], ["have", "VBP"], ["the", "DT"], ["convex", "NN"], ["hull", "NN"], [",", ","], ["this", "DT"], ["computation", "NN"], ["is", "VBZ"], ["easy", "JJ"], [".", "."], ["[", "JJ"], ["cough", "NN"], ["]", "NN"], ["They", "PRP"], ["'re", "VBP"], [",", ","], ["they", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["extreme", "JJ"], ["points", "NNS"], ["on", "IN"], ["the", "DT"], ["convex", "NN"], ["hull", "NN"], [".", "."], ["So", "RB"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["geometric", "JJ"], ["properties", "NNS"], ["of", "IN"], ["the", "DT"], ["convex", "NN"], ["hull", "NN"], ["that", "IN"], ["we", "PRP"], ["can", "MD"], ["take", "VB"], ["advantage", "NN"], ["of", "IN"], ["to", "TO"], ["develop", "VB"], ["an", "DT"], ["algorithm", "NN"], [".", "."], ["In", "IN"], ["here", "RB"], ["two", "CD"], ["properties", "NNS"], [".", "."], ["Now", "RB"], [",", ","], ["these", "DT"], ["are", "VBP"], ["the", "DT"], ["things", "NNS"], ["that", "WDT"], ["have", "VBP"], ["to", "TO"], ["be", "VB"], ["proven", "VBN"], ["and", "CC"], ["we", "PRP"], ["'re", "VBP"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], ["get", "VB"], ["into", "IN"], ["the", "DT"], ["details", "NNS"], ["of", "IN"], ["geometric", "JJ"], ["proof", "NN"], ["but", "CC"], ["they", "PRP"], ["'re", "VBP"], ["intuitive", "JJ"], ["and", "CC"], ["certainly", "RB"], ["have", "VBP"], ["no", "DT"], ["trouble", "NN"], ["accepting", "VBG"], ["that", "IN"], ["these", "DT"], ["things", "NNS"], ["are", "VBP"], ["true", "JJ"], [".", "."], ["One", "CD"], ["thing", "NN"], ["is", "VBZ"], [",", ","], ["that", "IN"], ["you", "PRP"], ["can", "MD"], ["traverse", "VB"], ["the", "DT"], ["convex", "NN"], ["hull", "NN"], ["by", "IN"], ["making", "VBG"], ["only", "RB"], ["counter", "RB"], ["clockwise", "NN"], ["turns", "VBZ"], ["or", "CC"], ["left", "VBN"], ["turns", "VBZ"], ["if", "IN"], ["you", "PRP"], ["'re", "VBP"], ["looking", "VBG"], ["at", "IN"], ["the", "DT"], ["screen", "NN"], ["here", "RB"], [".", "."], ["And", "CC"], ["the", "DT"], ["other", "JJ"], ["thing", "NN"], ["is", "VBZ"], ["that", "IN"], [",", ","], ["so", "RB"], ["if", "IN"], ["we", "PRP"], ["travel", "VBP"], ["from", "IN"], ["p", "NN"], ["to", "TO"], ["point", "VB"], ["1", "CD"], ["then", "RB"], ["we", "PRP"], ["make", "VBP"], ["a", "DT"], ["left", "JJ"], ["turn", "NN"], ["to", "TO"], ["go", "VB"], ["to", "TO"], ["point", "VB"], ["5", "CD"], ["or", "CC"], ["counterclockwise", "VB"], ["turn", "NN"], ["and", "CC"], ["then", "RB"], ["from", "IN"], ["there", "RB"], [",", ","], ["we", "PRP"], ["go", "VBP"], ["to", "TO"], ["point", "VB"], ["9", "CD"], ["and", "CC"], ["12", "CD"], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["eventually", "RB"], ["get", "VB"], ["back", "RB"], ["to", "TO"], ["the", "DT"], ["start", "NN"], ["point", "NN"], [".", "."], ["The", "DT"], ["other", "JJ"], ["thing", "NN"], ["is", "VBZ"], [",", ","], ["if", "IN"], ["you", "PRP"], ["take", "VBP"], ["the", "DT"], ["point", "NN"], ["with", "IN"], ["the", "DT"], ["lowest", "JJS"], ["y", "NN"], ["coordinate", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["if", "IN"], ["you", "PRP"], ["look", "VBP"], ["at", "IN"], ["the", "DT"], ["polar", "JJ"], ["angle", "NN"], ["with", "IN"], ["respect", "NN"], ["for", "IN"], ["every", "DT"], ["other", "JJ"], ["point", "NN"], ["with", "IN"], ["the", "DT"], ["respect", "NN"], ["to", "TO"], ["that", "DT"], ["one", "CD"], [",", ","], ["so", "IN"], ["the", "DT"], ["angle", "NN"], ["you", "PRP"], ["get", "VBP"], ["from", "IN"], ["of", "IN"], ["the", "DT"], ["x-axis", "JJ"], ["through", "IN"], ["p", "NN"], ["up", "RB"], ["to", "TO"], ["the", "DT"], ["point", "NN"], [",", ","], ["then", "RB"], ["the", "DT"], ["vertices", "NNS"], ["appear", "VBP"], ["in", "IN"], ["increasing", "VBG"], ["order", "NN"], ["of", "IN"], ["that", "DT"], ["angle", "NN"], [".", "."], ["And", "CC"], ["again", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["not", "RB"], [",", ","], ["not", "RB"], ["difficult", "JJ"], ["to", "TO"], ["see", "VB"], ["that", "IN"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["fact", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["algorithm", "NN"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["at", "IN"], [",", ","], ["called", "VBD"], ["the", "DT"], ["Graham", "NNP"], ["scan", "NN"], ["is", "VBZ"], ["based", "VBN"], ["on", "IN"], ["those", "DT"], ["two", "CD"], ["facts", "NNS"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], [",", ","], ["the", "DT"], ["idea", "NN"], ["is", "VBZ"], ["to", "TO"], ["start", "VB"], ["with", "IN"], ["point", "NN"], ["p", "NN"], [",", ","], ["the", "DT"], ["one", "NN"], ["with", "IN"], ["the", "DT"], ["smallest", "JJS"], ["y", "JJ"], ["coordinate", "NN"], [".", "."], ["Sort", "VB"], ["the", "DT"], ["points", "NNS"], ["by", "IN"], ["polar", "JJ"], ["angle", "NN"], ["with", "IN"], ["p", "NN"], ["where", "WRB"], ["that", "DT"], ["is", "VBZ"], ["we", "PRP"], ["'re", "VBP"], ["just", "RB"], ["going", "VBG"], ["to", "TO"], ["consider", "VB"], ["in", "IN"], ["that", "DT"], ["order", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["'ll", "MD"], ["just", "RB"], ["throw", "VB"], ["away", "RP"], ["the", "DT"], ["ones", "NNS"], ["that", "WDT"], ["do", "VBP"], ["not", "RB"], ["create", "VB"], ["a", "DT"], ["counterclockwise", "NN"], ["turn", "NN"], ["and", "CC"], ["you", "PRP"], ["'ll", "MD"], ["see", "VB"], ["how", "WRB"], ["that", "DT"], ["works", "VBZ"], ["when", "WRB"], ["we", "PRP"], ["look", "VBP"], ["at", "IN"], ["the", "DT"], ["demo", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["start", "VBP"], ["at", "IN"], ["point", "NN"], ["p.", "NN"], ["Sort", "NNP"], ["the", "DT"], ["points", "NNS"], ["by", "IN"], ["polar", "JJ"], ["angle", "NN"], ["with", "IN"], ["p", "NNS"], ["so", "IN"], ["that", "DT"], ["is", "VBZ"], ["if", "IN"], ["we", "PRP"], ["take", "VBP"], ["a", "DT"], [",", ","], ["a", "DT"], ["vertical", "JJ"], ["line", "NN"], ["and", "CC"], ["sweep", "VB"], ["it", "PRP"], ["in", "IN"], ["a", "DT"], ["counterclockwise", "NN"], ["direction", "NN"], [",", ","], ["what", "WP"], ["order", "NN"], ["that", "IN"], ["we", "PRP"], ["hit", "VBD"], ["the", "DT"], ["points", "NNS"], ["?", "."], ["The", "DT"], ["first", "JJ"], ["thing", "NN"], ["we", "PRP"], ["hit", "VBP"], ["is", "VBZ"], ["0", "CD"], [",", ","], ["1", "CD"], [",", ","], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["sweep", "VBP"], ["counterclockwise", "NN"], [",", ","], ["we", "PRP"], ["get", "VBP"], ["the", "DT"], ["2", "CD"], ["and", "CC"], ["then", "RB"], ["3", "CD"], ["and", "CC"], ["4", "CD"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["ordering", "NN"], ["of", "IN"], ["those", "DT"], ["points", "NNS"], [".", "."], ["And", "CC"], ["so", "RB"], ["now", "RB"], ["we", "PRP"], ["'ll", "MD"], ["just", "RB"], ["consider", "VB"], ["those", "DT"], ["points", "NNS"], ["in", "IN"], ["order", "NN"], ["and", "CC"], ["then", "RB"], ["take", "VB"], ["them", "PRP"], ["for", "IN"], ["the", "DT"], ["convex", "NN"], ["hull", "NN"], [".", "."], ["At", "IN"], ["the", "DT"], ["beginning", "NN"], [",", ","], ["0-", "JJ"], [">", "NN"], ["1", "CD"], ["is", "VBZ"], ["a", "DT"], ["line", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["on", "IN"], ["the", "DT"], ["convex", "NN"], ["hull", "NN"], [".", "."], ["So", "RB"], [",", ","], ["the", "DT"], ["point", "NN"], ["with", "IN"], ["the", "DT"], ["lowest", "JJS"], ["y", "NN"], ["coordinates", "NNS"], ["on", "IN"], ["the", "DT"], ["convex", "NN"], ["hull", "NN"], ["and", "CC"], ["shows", "VBZ"], ["the", "DT"], ["one", "NN"], ["that", "WDT"], ["is", "VBZ"], ["the", "DT"], ["smallest", "JJS"], ["polar", "JJ"], ["angle", "NN"], ["that", "WDT"], ["creates", "VBZ"], ["with", "IN"], ["the", "DT"], ["x-axis", "JJ"], [".", "."], ["So", "RB"], ["now", "RB"], ["what", "WP"], ["about", "IN"], ["this", "DT"], ["one", "CD"], ["-", ":"], ["2", "CD"], ["?", "."], ["Is", "VBZ"], ["that", "IN"], ["on", "IN"], ["the", "DT"], ["convex", "NN"], ["hull", "NN"], ["?", "."], ["Well", "RB"], [",", ","], ["as", "RB"], ["far", "RB"], ["as", "IN"], ["we", "PRP"], ["know", "VBP"], ["at", "IN"], ["this", "DT"], ["point", "NN"], [",", ","], ["it", "PRP"], ["could", "MD"], ["be", "VB"], [",", ","], ["it", "PRP"], ["could", "MD"], ["be", "VB"], ["that", "IN"], ["the", "DT"], ["thing", "NN"], ["is", "VBZ"], ["a", "DT"], ["triangle", "NN"], ["and", "CC"], ["0", "CD"], ["is", "VBZ"], ["the", "DT"], ["last", "JJ"], ["point", "NN"], ["in", "IN"], ["which", "WDT"], ["case", "NN"], ["it", "PRP"], ["would", "MD"], ["be", "VB"], [".", "."], ["But", "CC"], ["in", "IN"], ["same", "JJ"], ["with", "IN"], ["3", "CD"], [".", "."], ["As", "RB"], ["far", "RB"], ["as", "IN"], ["we", "PRP"], ["know", "VBP"], [",", ","], ["that", "IN"], ["one", "CD"], ["could", "MD"], ["be", "VB"], ["on", "IN"], ["the", "DT"], ["convex", "NN"], ["hull", "NN"], [".", "."], ["But", "CC"], ["as", "RB"], ["soon", "RB"], ["as", "IN"], ["we", "PRP"], ["go", "VBP"], ["out", "RB"], ["to", "TO"], ["4", "CD"], ["that", "WDT"], ["'s", "VBZ"], ["not", "RB"], ["a", "DT"], ["counterclockwise", "NN"], ["turn", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["the", "DT"], ["wrong", "JJ"], ["way", "NN"], ["and", "CC"], ["essentially", "RB"], ["what", "WP"], ["this", "DT"], ["means", "VBZ"], ["is", "VBZ"], ["a", "DT"], ["point", "NN"], ["4", "CD"], ["is", "VBZ"], ["evidence", "NN"], ["that", "IN"], ["point", "NN"], [",", ","], ["there", "EX"], ["is", "VBZ"], ["no", "DT"], ["way", "NN"], ["the", "DT"], ["point", "NN"], ["3", "CD"], ["can", "MD"], ["be", "VB"], ["on", "IN"], ["the", "DT"], ["convex", "NN"], ["hull", "NN"], [".", "."], ["You", "PRP"], ["can", "MD"], ["[", "VB"], ["cough", "JJ"], ["]", "NNP"], ["convince", "NN"], ["yourself", "PRP"], ["with", "IN"], ["that", "DT"], ["quite", "RB"], ["easily", "RB"], [".", "."], ["So", "IN"], ["we", "PRP"], ["just", "RB"], ["throw", "VB"], ["a", "DT"], ["point", "NN"], ["3", "CD"], ["out", "IN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["on", "IN"], ["the", "DT"], ["convex", "NN"], ["hull", "NN"], ["so", "RB"], [",", ","], ["and", "CC"], ["what", "WP"], ["about", "IN"], ["the", "DT"], ["angle", "NN"], ["from", "IN"], ["1", "CD"], ["to", "TO"], ["2", "CD"], ["to", "TO"], ["4", "CD"], ["?", "."], ["That", "DT"], ["'s", "VBZ"], ["not", "RB"], ["counterclockwise", "VB"], ["either", "RB"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["turning", "VBG"], ["the", "DT"], ["wrong", "JJ"], ["way", "NN"], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["turning", "VBG"], ["to", "TO"], ["the", "DT"], ["right", "NN"], [".", "."], ["So", "RB"], ["point", "JJ"], ["2", "CD"], ["ca", "MD"], ["n't", "RB"], ["be", "VB"], ["on", "IN"], ["the", "DT"], ["convex", "NN"], ["hull", "NN"], ["either", "DT"], [".", "."], ["And", "CC"], ["indeed", "RB"], ["if", "IN"], ["you", "PRP"], ["just", "RB"], ["draw", "VB"], ["the", "DT"], ["line", "NN"], ["from", "IN"], ["1", "CD"], ["to", "TO"], ["4", "CD"], [",", ","], ["you", "PRP"], ["can", "MD"], ["see", "VB"], ["the", "DT"], ["2", "CD"], ["inside", "RB"], ["so", "RB"], ["there", "EX"], ["is", "VBZ"], ["no", "DT"], ["way", "NN"], ["it", "PRP"], ["could", "MD"], ["be", "VB"], ["in", "IN"], ["the", "DT"], ["convex", "NN"], ["hull", "NN"], [".", "."], ["Now", "RB"], ["that", "DT"], ["'s", "VBZ"], ["essentially", "RB"], ["the", "DT"], ["proof", "NN"], ["that", "IN"], ["you", "PRP"], ["have", "VBP"], ["to", "TO"], ["have", "VB"], ["a", "DT"], ["counterclockwise", "NN"], ["turn", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], [",", ","], ["we", "PRP"], ["go", "VBP"], ["on", "IN"], ["to", "TO"], ["5", "CD"], ["-", ":"], ["turning", "VBG"], ["the", "DT"], ["wrong", "JJ"], ["way", "NN"], [".", "."], ["So", "RB"], [",", ","], ["point", "NN"], ["4", "CD"], ["ca", "MD"], ["n't", "RB"], ["be", "VB"], ["on", "IN"], ["the", "DT"], ["convex", "NN"], ["hull", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], ["we", "PRP"], ["go", "VBP"], ["to", "TO"], ["6", "CD"], [".", "."], ["As", "RB"], ["far", "RB"], ["as", "IN"], ["we", "PRP"], ["know", "VBP"], [",", ","], ["it", "PRP"], ["could", "MD"], ["be", "VB"], [",", ","], ["but", "CC"], ["as", "RB"], ["soon", "RB"], ["as", "IN"], ["we", "PRP"], ["hit", "VBD"], ["7", "CD"], [",", ","], ["we", "PRP"], ["know", "VBP"], ["that", "IN"], ["it", "PRP"], ["ca", "MD"], ["n't", "RB"], ["be", "VB"], ["cuz", "JJ"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["right", "JJ"], ["turn", "NN"], [".", "."], ["So", "RB"], ["6", "CD"], ["is", "VBZ"], ["not", "RB"], ["there", "RB"], [".", "."], ["Go", "VB"], ["to", "TO"], ["8", "CD"], [",", ","], ["nope", "NN"], [".", "."], ["7", "CD"], ["ca", "MD"], ["n't", "RB"], ["be", "VB"], ["on", "IN"], ["the", "DT"], ["convex", "NN"], ["hull", "NN"], [".", "."], ["Go", "VB"], ["to", "TO"], ["9", "CD"], [".", "."], ["8", "CD"], ["ca", "MD"], ["n't", "RB"], ["be", "VB"], ["on", "IN"], ["the", "DT"], ["convex", "NN"], ["hull", "NN"], [".", "."], ["Now", "RB"], ["we", "PRP"], ["go", "VBP"], ["to", "TO"], ["10", "CD"], ["and", "CC"], ["11", "CD"], [".", "."], ["As", "RB"], ["far", "RB"], ["as", "IN"], ["we", "PRP"], ["know", "VBP"], ["they", "PRP"], ["could", "MD"], ["be", "VB"], [".", "."], ["If", "IN"], ["12", "CD"], ["were", "VBD"], ["n't", "RB"], ["there", "RB"], [",", ","], ["they", "PRP"], ["would", "MD"], ["be", "VB"], [".", "."], ["As", "RB"], ["soon", "RB"], ["as", "IN"], ["we", "PRP"], ["hit", "VBP"], ["12", "CD"], ["we", "PRP"], ["see", "VBP"], ["that", "IN"], ["11", "CD"], ["ca", "MD"], ["n't", "RB"], ["be", "VB"], ["on", "IN"], ["the", "DT"], ["convex", "NN"], ["hull", "NN"], ["and", "CC"], ["10", "CD"], ["ca", "MD"], ["n't", "RB"], ["be", "VB"], ["on", "IN"], ["the", "DT"], ["convex", "NN"], ["hull", "NN"], ["and", "CC"], ["that", "IN"], ["completes", "VBZ"], ["the", "DT"], ["computation", "NN"], ["of", "IN"], ["the", "DT"], ["convex", "NN"], ["hull", "NN"], ["with", "IN"], ["the", "DT"], ["Graham", "NNP"], ["Scan", "NNP"], [".", "."], ["Okay", "NNP"], [".", "."], ["So", "RB"], [",", ","], ["there", "EX"], ["are", "VBP"], ["number", "NN"], ["of", "IN"], ["implementation", "NN"], ["challenges", "NNS"], ["for", "IN"], ["the", "DT"], ["Graham", "NNP"], ["Scan", "NNP"], ["and", "CC"], ["we", "PRP"], ["'re", "VBP"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], ["go", "VB"], ["into", "IN"], ["detail", "NN"], ["on", "IN"], ["this", "DT"], ["because", "IN"], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], ["lecture", "NN"], ["on", "IN"], ["sorting", "VBG"], ["algorithms", "RP"], ["not", "RB"], ["computational", "JJ"], ["geometry", "NN"], ["but", "CC"], ["it", "PRP"], ["is", "VBZ"], ["indicative", "JJ"], ["of", "IN"], ["how", "WRB"], [",", ","], ["even", "RB"], ["if", "IN"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["good", "JJ"], ["sort", "NN"], [",", ","], ["we", "PRP"], ["might", "MD"], ["have", "VB"], ["to", "TO"], ["do", "VB"], ["some", "DT"], ["extra", "JJ"], ["work", "NN"], ["to", "TO"], ["actually", "RB"], ["solve", "VB"], ["our", "PRP$"], ["problem", "NN"], ["in", "IN"], ["an", "DT"], ["application", "NN"], [".", "."], ["So", "RB"], [",", ","], ["how", "WRB"], ["do", "VBP"], ["we", "PRP"], ["find", "VB"], ["the", "DT"], ["point", "NN"], ["with", "IN"], ["the", "DT"], ["smallest", "JJS"], ["y", "NN"], ["coordinate", "NN"], ["?", "."], ["Well", "NNP"], ["you", "PRP"], ["could", "MD"], [",", ","], ["you", "PRP"], ["could", "MD"], ["sort", "VB"], [",", ","], ["you", "PRP"], ["could", "MD"], ["define", "VB"], ["an", "DT"], ["order", "NN"], ["and", "CC"], ["compare", "VB"], ["the", "DT"], ["points", "NNS"], ["by", "IN"], ["y", "JJ"], ["coordinate", "NN"], ["so", "RB"], ["essentially", "RB"], ["sorting", "VBG"], ["is", "VBZ"], ["the", "DT"], ["[", "JJ"], ["cough", "NN"], ["]", "NN"], ["answer", "NN"], ["to", "TO"], ["that", "DT"], ["question", "NN"], [".", "."], ["And", "CC"], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["the", "DT"], ["next", "JJ"], ["lecture", "NN"], ["of", "IN"], ["what", "WP"], ["it", "PRP"], ["means", "VBZ"], ["the", "DT"], ["divine", "NN"], ["ordering", "VBG"], ["among", "IN"], ["objects", "NNS"], [",", ","], ["little", "RB"], ["more", "RBR"], ["general", "JJ"], ["than", "IN"], ["what", "WP"], ["we", "PRP"], ["do", "VBP"], ["for", "IN"], ["sorting", "VBG"], [".", "."], ["How", "WRB"], ["to", "TO"], ["sort", "VB"], ["the", "DT"], ["points", "NNS"], ["by", "IN"], ["polar", "JJ"], ["angle", "NN"], ["?", "."], ["Well", "RB"], ["again", "RB"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["define", "VB"], ["what", "WP"], ["we", "PRP"], ["mean", "VBP"], ["when", "WRB"], ["we", "PRP"], ["'re", "VBP"], ["comparing", "VBG"], ["points", "NNS"], [".", "."], ["And", "CC"], ["then", "RB"], ["the", "DT"], ["next", "JJ"], ["lecture", "NN"], ["again", "RB"], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["ways", "NNS"], ["to", "TO"], ["define", "VB"], ["different", "JJ"], ["orderings", "NNS"], ["among", "IN"], ["points", "NNS"], ["and", "CC"], ["Graham", "NNP"], ["scan", "NN"], ["is", "VBZ"], ["a", "DT"], ["perfect", "JJ"], ["example", "NN"], [".", "."], ["We", "PRP"], ["do", "VBP"], ["n't", "RB"], ["want", "VB"], ["to", "TO"], ["just", "RB"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["sort", "VB"], ["things", "NNS"], [",", ","], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["want", "VB"], ["to", "TO"], ["just", "RB"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["sort", "VB"], ["them", "PRP"], ["by", "IN"], ["defining", "VBG"], ["and", "CC"], ["compared", "VBN"], ["to", "TO"], [".", "."], ["We", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["sort", "VB"], ["the", "DT"], ["same", "JJ"], ["things", "NNS"], ["in", "IN"], ["different", "JJ"], ["way", "NN"], ["sometimes", "RB"], ["and", "CC"], ["this", "DT"], ["example", "NN"], ["is", "VBZ"], ["a", "DT"], ["fine", "JJ"], ["motivation", "NN"], ["of", "IN"], ["that", "DT"], [".", "."], ["Figuring", "VBG"], ["out", "RP"], ["whether", "IN"], ["what", "WP"], ["we", "PRP"], ["have", "VBP"], ["is", "VBZ"], ["a", "DT"], ["counter", "JJ"], ["clockwise", "NN"], ["turn", "VBP"], ["that", "WDT"], ["'s", "VBZ"], ["a", "DT"], ["little", "JJ"], ["exercise", "NN"], ["in", "IN"], ["geometry", "NN"], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["just", "RB"], ["talk", "VB"], ["about", "IN"], ["that", "DT"], ["briefly", "NN"], ["in", "IN"], ["the", "DT"], ["next", "JJ"], ["couple", "NN"], ["of", "IN"], ["slides", "NNS"], [".", "."], ["And", "CC"], ["then", "RB"], ["wow", "VB"], [",", ","], ["what", "WP"], ["are", "VBP"], ["we", "PRP"], ["getting", "VBG"], ["the", "DT"], ["sort", "NN"], ["efficient", "NN"], [",", ","], ["done", "VBN"], ["efficiently", "RB"], ["?", "."], ["Well", "UH"], [",", ","], ["we", "PRP"], ["could", "MD"], ["use", "VB"], ["Shellsort", "NNP"], ["but", "CC"], ["actually", "RB"], ["in", "IN"], ["the", "DT"], ["next", "JJ"], ["couple", "NN"], ["of", "IN"], ["lectures", "NNS"], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["classical", "JJ"], ["sorts", "NNS"], ["-", ":"], ["Mergesort", "NNP"], ["and", "CC"], ["Quicksort", "NNP"], ["-", ":"], ["that", "IN"], ["we", "PRP"], ["could", "MD"], ["use", "VB"], [".", "."], ["The", "DT"], ["idea", "NN"], ["though", "NN"], ["is", "VBZ"], ["that", "IN"], ["this", "DT"], ["example", "NN"], ["illustrates", "VBZ"], ["that", "IN"], ["good", "JJ"], ["sorting", "VBG"], ["algorithm", "NN"], ["gives", "VBZ"], ["us", "PRP"], ["a", "DT"], ["good", "JJ"], ["convex", "NN"], ["hull", "NN"], ["algorithm", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["an", "DT"], ["extremely", "RB"], ["important", "JJ"], ["principle", "NN"], ["in", "IN"], ["designing", "VBG"], ["good", "JJ"], ["algorithms", "NN"], [".", "."], ["Once", "IN"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["good", "JJ"], ["algorithm", "NN"], [",", ","], ["if", "IN"], ["we", "PRP"], ["have", "VBP"], ["another", "DT"], ["problem", "NN"], ["we", "PRP"], ["can", "MD"], ["say", "VB"], ["to", "TO"], ["ourselves", "NNS"], [",", ","], ["well", "RB"], [",", ","], ["we", "PRP"], ["'ve", "VBP"], ["got", "VBN"], ["a", "DT"], ["good", "JJ"], ["solution", "NN"], ["to", "TO"], ["this", "DT"], ["algorithm", "NN"], [",", ","], ["can", "MD"], ["we", "PRP"], ["use", "VB"], ["that", "DT"], ["solution", "NN"], ["to", "TO"], ["solve", "VB"], ["our", "PRP$"], ["new", "JJ"], ["problem", "NN"], ["?", "."], ["Convex", "NNP"], ["hull", "NN"], [",", ","], ["when", "WRB"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["good", "JJ"], ["sorting", "NN"], ["algorithm", "NN"], [",", ","], ["it", "PRP"], ["gives", "VBZ"], ["us", "PRP"], ["a", "DT"], ["good", "JJ"], ["convex", "NN"], ["hull", "NN"], ["algorithm", "NN"], [".", "."], ["Because", "IN"], ["the", "DT"], ["main", "JJ"], [",", ","], ["the", "DT"], ["most", "RBS"], ["work", "NN"], ["in", "IN"], ["convex", "JJ"], ["hull", "NN"], ["is", "VBZ"], ["the", "DT"], ["sort", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["again", "RB"], ["there", "EX"], ["'s", "VBZ"], ["all", "DT"], [",", ","], ["all", "DT"], ["kinds", "NNS"], ["of", "IN"], ["difficulties", "NNS"], ["in", "IN"], ["implementing", "VBG"], ["convex", "JJ"], ["hull", "NN"], ["in", "IN"], ["real", "JJ"], ["world", "NN"], ["situations", "NNS"], ["because", "IN"], ["of", "IN"], ["various", "JJ"], ["degeneracies", "NNS"], [".", "."], ["And", "CC"], ["these", "DT"], ["things", "NNS"], ["are", "VBP"], ["covered", "VBN"], ["on", "IN"], ["the", "DT"], ["book", "NN"], ["site", "NN"], [".", "."], ["So", "IN"], ["the", "DT"], ["main", "JJ"], ["part", "NN"], ["of", "IN"], ["computation", "NN"], ["that", "IN"], ["we", "PRP"], ["have", "VBP"], ["n't", "RB"], ["really", "RB"], ["talked", "VBN"], ["about", "IN"], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["cover", "VB"], ["briefly", "NN"], ["is", "VBZ"], ["if", "IN"], ["we", "PRP"], ["have", "VBP"], ["three", "CD"], ["points", "NNS"], [",", ","], ["a", "DT"], [",", ","], ["b", "NN"], ["and", "CC"], ["c", "NN"], [",", ","], ["and", "CC"], ["you", "PRP"], ["go", "VBP"], ["from", "IN"], ["a", "DT"], ["to", "TO"], ["b", "VB"], ["to", "TO"], ["c", "VB"], [",", ","], ["are", "VBP"], ["you", "PRP"], ["making", "VBG"], ["a", "DT"], ["counterclockwise", "NN"], ["turn", "NN"], ["or", "CC"], ["not", "RB"], ["?", "."], ["So", "RB"], [",", ","], ["in", "IN"], ["the", "DT"], ["example", "NN"], ["at", "IN"], ["the", "DT"], ["left", "NN"], [",", ","], ["a", "DT"], ["to", "TO"], ["b", "VB"], ["to", "TO"], ["c", "VB"], ["is", "VBZ"], ["counterclockwise", "NN"], [".", "."], ["Example", "NN"], ["at", "IN"], ["the", "DT"], ["right", "NN"], [",", ","], ["a", "DT"], ["to", "TO"], ["b", "VB"], ["to", "TO"], ["c", "VB"], ["is", "VBZ"], ["not", "RB"], ["counter", "JJ"], ["clockwise", "NN"], [".", "."], ["Going", "VBG"], ["from", "IN"], ["a", "DT"], ["to", "TO"], ["b", "VB"], ["you", "PRP"], ["turn", "VBP"], ["left", "VBN"], ["to", "TO"], ["get", "VB"], ["to", "TO"], ["c", "VB"], ["in", "IN"], ["the", "DT"], ["first", "JJ"], ["case", "NN"], ["and", "CC"], ["you", "PRP"], ["go", "VBP"], ["right", "JJ"], ["to", "TO"], ["get", "VB"], ["to", "TO"], ["c", "VB"], ["in", "IN"], ["the", "DT"], ["second", "JJ"], ["case", "NN"], ["and", "CC"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["do", "VB"], ["a", "DT"], ["computation", "NN"], ["that", "WDT"], ["distinguishes", "VBZ"], ["this", "DT"], [".", "."], ["Now", "RB"], [",", ","], ["this", "DT"], ["computation", "NN"], ["will", "MD"], ["be", "VB"], ["pretty", "RB"], ["easy", "JJ"], ["except", "IN"], ["for", "IN"], ["the", "DT"], ["degeneracies", "NNS"], [".", "."], ["What", "WP"], ["do", "VBP"], ["you", "PRP"], ["want", "VB"], ["to", "TO"], ["count", "VB"], ["if", "IN"], ["they", "PRP"], ["'re", "VBP"], ["all", "DT"], ["on", "IN"], ["the", "DT"], ["same", "JJ"], ["line", "NN"], [".", "."], ["Or", "CC"], ["if", "IN"], ["the", "DT"], ["slope", "NN"], ["is", "VBZ"], ["infinity", "NN"], [".", "."], ["So", "RB"], [",", ","], ["you", "PRP"], ["have", "VBP"], ["to", "TO"], ["just", "RB"], ["be", "VB"], ["aware", "JJ"], ["that", "IN"], ["these", "DT"], ["situations", "NNS"], ["have", "VBP"], ["to", "TO"], ["be", "VB"], ["dealt", "VBN"], ["with", "IN"], [".", "."], ["So", "RB"], [",", ","], ["the", "DT"], ["code", "NN"], ["is", "VBZ"], ["n't", "RB"], ["quite", "RB"], ["as", "RB"], ["simple", "JJ"], ["as", "IN"], ["you", "PRP"], ["might", "MD"], ["come", "VB"], ["up", "RP"], ["within", "IN"], ["the", "DT"], ["first", "JJ"], ["instance", "NN"], ["that", "IN"], ["you", "PRP"], ["try", "VBP"], [".", "."], ["So", "RB"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["degeneracies", "NNS"], ["to", "TO"], ["deal", "VB"], ["with", "IN"], ["and", "CC"], ["floating", "VBG"], ["point", "NN"], ["precision", "NN"], ["but", "CC"], ["people", "NNS"], [",", ","], ["researchers", "NNS"], ["in", "IN"], ["computational", "JJ"], ["geometry", "NN"], ["have", "VBP"], ["worked", "VBN"], ["this", "DT"], ["out", "NN"], ["and", "CC"], ["actually", "RB"], ["there", "EX"], ["'s", "VBZ"], ["not", "RB"], ["that", "RB"], ["much", "JJ"], ["code", "NN"], ["at", "IN"], ["all", "DT"], ["in", "IN"], ["the", "DT"], ["end", "NN"], ["involved", "VBN"], [".", "."], ["The", "DT"], ["and", "CC"], ["this", "DT"], ["is", "VBZ"], ["the", "DT"], ["slide", "NN"], ["that", "IN"], [",", ","], ["that", "WDT"], ["gives", "VBZ"], ["the", "DT"], ["math", "NN"], ["and", "CC"], ["I", "PRP"], ["wo", "MD"], ["n't", "RB"], ["talk", "VB"], ["through", "IN"], ["this", "DT"], ["math", "NN"], [".", "."], ["If", "IN"], ["you", "PRP"], ["'re", "VBP"], ["interested", "JJ"], ["in", "IN"], ["implementing", "VBG"], ["this", "DT"], [",", ","], ["you", "PRP"], ["can", "MD"], ["come", "VB"], ["back", "RB"], ["to", "TO"], ["the", "DT"], ["slide", "NN"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["essentially", "RB"], ["based", "VBN"], ["on", "IN"], ["the", "DT"], ["idea", "NN"], ["of", "IN"], ["computing", "VBG"], ["the", "DT"], ["slopes", "NNS"], ["of", "IN"], ["the", "DT"], ["lines", "NNS"], ["between", "IN"], ["a", "DT"], ["and", "CC"], ["b", "NN"], [",", ","], ["between", "IN"], ["a", "DT"], ["and", "CC"], ["c", "NN"], ["and", "CC"], ["comparing", "VBG"], ["them", "PRP"], ["to", "TO"], ["decide", "VB"], ["whether", "IN"], ["you", "PRP"], ["'re", "VBP"], ["turning", "VBG"], ["counter", "NN"], ["clockwise", "NN"], ["or", "CC"], ["clockwise", "NN"], [".", "."], ["And", "CC"], ["this", "DT"], ["is", "VBZ"], ["the", "DT"], ["specific", "JJ"], ["math", "NN"], ["that", "WDT"], ["gets", "VBZ"], ["that", "IN"], ["implemented", "VBN"], [".", "."], ["So", "RB"], ["[", "JJ"], ["cough", "NN"], ["]", "NN"], ["this", "DT"], ["is", "VBZ"], ["if", "IN"], ["we", "PRP"], ["implement", "VBP"], ["a", "DT"], ["point", "NN"], ["data", "NNS"], ["type", "NN"], ["for", "IN"], ["computational", "JJ"], ["geometry", "NN"], [",", ","], ["you", "PRP"], ["can", "MD"], ["have", "VB"], ["a", "DT"], ["method", "NN"], ["ccw", "NN"], ["(", "("], [")", ")"], ["that", "WDT"], ["just", "RB"], ["with", "IN"], ["this", "DT"], ["little", "JJ"], ["math", "NN"], ["calculation", "NN"], ["(", "("], ["b.x", "SYM"], ["-", ":"], ["a.x", "NN"], [")", ")"], ["(", "("], ["c.y", "JJ"], ["-", ":"], ["a.y", "NN"], [")", ")"], ["minus", "NN"], ["(", "("], ["b.y", "SYM"], ["-", ":"], ["a.y", "NN"], [")", ")"], ["(", "("], ["c.x", "JJ"], ["-", ":"], ["a.x", "NN"], [")", ")"], ["and", "CC"], ["we", "PRP"], ["see", "VBP"], ["that", "DT"], ["calculation", "NN"], ["here", "RB"], ["gives", "VBZ"], ["you", "PRP"], ["immediately", "RB"], ["whether", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["counter", "JJ"], ["clockwise", "NN"], [",", ","], ["clockwise", "NN"], ["or", "CC"], ["co-linear", "NN"], [".", "."], ["Not", "RB"], ["much", "JJ"], ["code", "NN"], ["at", "IN"], ["all", "DT"], [".", "."], ["And", "CC"], ["that", "IN"], ["method", "NN"], ["is", "VBZ"], ["the", "DT"], ["basis", "NN"], ["for", "IN"], ["the", "DT"], ["Graham", "NNP"], ["Scan", "NNP"], [".", "."], ["The", "DT"], ["Graham", "NNP"], ["Scan", "NNP"], ["uses", "VBZ"], ["a", "DT"], ["sort", "NN"], ["where", "WRB"], ["we", "PRP"], ["give", "VBP"], ["two", "CD"], ["different", "JJ"], ["ways", "NNS"], ["to", "TO"], ["sort", "VB"], ["the", "DT"], ["points", "NNS"], [".", "."], ["And", "CC"], ["that", "IN"], ["uses", "VBZ"], ["a", "DT"], ["push", "NN"], ["down", "RP"], ["stack", "NN"], ["for", "IN"], ["the", "DT"], ["hull", "NN"], [",", ","], ["it", "PRP"], ["puts", "VBZ"], ["the", "DT"], ["points", "NNS"], ["on", "IN"], ["the", "DT"], ["hull", "NN"], ["in", "IN"], ["it", "PRP"], ["goes", "VBZ"], ["ahead", "RB"], ["and", "CC"], ["for", "IN"], ["every", "DT"], ["point", "NN"], ["considering", "VBG"], ["I", "PRP"], ["'m", "VBP"], ["in", "IN"], ["the", "DT"], ["order", "NN"], ["of", "IN"], ["the", "DT"], ["polar", "JJ"], ["sort", "NN"], ["it", "PRP"], ["'ll", "MD"], ["compare", "VB"], ["whether", "IN"], ["the", "DT"], ["top", "JJ"], ["two", "CD"], ["points", "NNS"], ["on", "IN"], ["the", "DT"], ["hull", "NN"], ["and", "CC"], ["the", "DT"], ["new", "JJ"], ["point", "NN"], ["implement", "NN"], ["a", "DT"], ["CCW", "NNP"], ["turn", "NN"], ["or", "CC"], ["not", "RB"], [".", "."], ["And", "CC"], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["a", "DT"], ["CCW", "NNP"], ["turn", "NN"], [",", ","], ["it", "PRP"], ["pops", "VBZ"], ["and", "CC"], ["then", "RB"], ["continues", "VBZ"], ["going", "VBG"], [".", "."], ["Very", "RB"], ["little", "JJ"], ["code", "NN"], ["to", "TO"], ["implement", "VB"], ["the", "DT"], ["convex", "NN"], ["hull", "NN"], ["given", "VBN"], ["that", "IN"], ["you", "PRP"], ["have", "VBP"], ["a", "DT"], ["sort", "NN"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["our", "PRP$"], ["main", "JJ"], ["point", "NN"], ["for", "IN"], ["this", "DT"], ["lecture", "NN"], ["-", ":"], ["there", "EX"], ["is", "VBZ"], ["many", "JJ"], ["natural", "JJ"], ["applications", "NNS"], ["of", "IN"], ["sorting", "VBG"], ["but", "CC"], ["also", "RB"], ["will", "MD"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["develop", "VB"], ["new", "JJ"], ["algorithms", "NN"], ["that", "WDT"], ["use", "VBP"], ["sort", "NN"], ["that", "WDT"], ["gain", "NN"], ["efficiency", "NN"], ["because", "IN"], ["of", "IN"], ["the", "DT"], ["efficiency", "NN"], ["of", "IN"], ["sorting", "VBG"], [".", "."]], "title": "convex hull", "text": ">> Now we'll look at an application of sorting from the field of computational geometry for an interesting computation. If you have a set of N points in a plane. There's a geometric object called the Convex Hull which is the smallest polygon that encloses all the points. There's the Convex Hull for that set of points. [cough] There's a lot of equivalent definitions of this. Some of them very mathematical, that extend the higher dimensions. It's the smallest convex set that contain all the points, the smallest area of convex polygon enclosing the points. It's a convex polygon that encloses the points whose vertices points in the set and those are all equivalent definitions. And what we want to do is given the set of points, we're going to have a program that can give us the convex hull. Now, which should the output of such a program, such a method be? Well, in order to be able to work with the result, it should be a sequence of vertices that gives us that polygon if we follow it. If we've got some points that are on the boundary but aren't really vertices they shouldn't be included. This points out examples of how difficult computational geometry can sometimes be because degenerate cases like these are difficult to deal with in code. We're not going to spend a lot of time on this, in this lecture. But it's something always to be aware of when trying to [cough] apply simple algorithms in situations like these that turn out to be maybe more sophisticated than we might think. >> [inaudible] the large screen. >> Oh yeah, got you. Mm-hm. Well, there's actually a way to compute the convex hull just mechanically if you put the nails around the points and put a rubber band around it, that gives you the convex hull. Now, we're not going to be able to really implement that in a computer program but it's surprising how well we can do. Here's an application where people want to compute the convex hull. Suppose you have a robot that wants to get from s to t and there's an obstacle that's defined by some polygon. You wanted be able to go around the obstacle and it turns out that the shortest path, either it's a straight line from s to t or it's part of the convex hull and is not hard to see why that might be true. And there's plenty of other applications where people want to be able to compute the convex hull. Here's another application. If you want to find the pair of points that are the farthest apart in the set of points in the plane, this is sometimes important in statistical calculation or other applications. They're on the convex hull. If you have the convex hull, this computation is easy. [cough] They're, they're going to be extreme points on the convex hull. So, there's a lot of geometric properties of the convex hull that we can take advantage of to develop an algorithm. In here two properties. Now, these are the things that have to be proven and we're not going to get into the details of geometric proof but they're intuitive and certainly have no trouble accepting that these things are true. One thing is, that you can traverse the convex hull by making only counter clockwise turns or left turns if you're looking at the screen here. And the other thing is that, so if we travel from p to point 1 then we make a left turn to go to point 5 or counterclockwise turn and then from there, we go to point 9 and 12 and then we eventually get back to the start point. The other thing is, if you take the point with the lowest y coordinate. And then if you look at the polar angle with respect for every other point with the respect to that one, so the angle you get from of the x-axis through p up to the point, then the vertices appear in increasing order of that angle. And again, that's not, not difficult to see that that's a fact. And the algorithm that we're going to look at, called the Graham scan is based on those two facts. It's, the idea is to start with point p, the one with the smallest y coordinate. Sort the points by polar angle with p where that is we're just going to consider in that order. And then we'll just throw away the ones that do not create a counterclockwise turn and you'll see how that works when we look at the demo. So we start at point p. Sort the points by polar angle with p so that is if we take a, a vertical line and sweep it in a counterclockwise direction, what order that we hit the points? The first thing we hit is 0, 1, and then we sweep counterclockwise, we get the 2 and then 3 and 4 and so forth. So, that's the ordering of those points. And so now we'll just consider those points in order and then take them for the convex hull. At the beginning, 0->1 is a line that's on the convex hull. So, the point with the lowest y coordinates on the convex hull and shows the one that is the smallest polar angle that creates with the x-axis. So now what about this one - 2? Is that on the convex hull? Well, as far as we know at this point, it could be, it could be that the thing is a triangle and 0 is the last point in which case it would be. But in same with 3. As far as we know, that one could be on the convex hull. But as soon as we go out to 4 that's not a counterclockwise turn. It's going the wrong way and essentially what this means is a point 4 is evidence that point, there is no way the point 3 can be on the convex hull. You can [cough] convince yourself with that quite easily. So we just throw a point 3 out. It's not on the convex hull so, and what about the angle from 1 to 2 to 4? That's not counterclockwise either. It's turning the wrong way and it's turning to the right. So point 2 can't be on the convex hull either. And indeed if you just draw the line from 1 to 4, you can see the 2 inside so there is no way it could be in the convex hull. Now that's essentially the proof that you have to have a counterclockwise turn. So now, we go on to 5 - turning the wrong way. So, point 4 can't be on the convex hull. So now we go to 6. As far as we know, it could be, but as soon as we hit 7, we know that it can't be cuz that's a right turn. So 6 is not there. Go to 8, nope. 7 can't be on the convex hull. Go to 9. 8 can't be on the convex hull. Now we go to 10 and 11. As far as we know they could be. If 12 weren't there, they would be. As soon as we hit 12 we see that 11 can't be on the convex hull and 10 can't be on the convex hull and that completes the computation of the convex hull with the Graham Scan. Okay. So, there are number of implementation challenges for the Graham Scan and we're not going to go into detail on this because this is a lecture on sorting algorithms not computational geometry but it is indicative of how, even if we have a good sort, we might have to do some extra work to actually solve our problem in an application. So, how do we find the point with the smallest y coordinate? Well you could, you could sort, you could define an order and compare the points by y coordinate so essentially sorting is the [cough] answer to that question. And we'll look at the next lecture of what it means the divine ordering among objects, little more general than what we do for sorting. How to sort the points by polar angle? Well again we need to define what we mean when we're comparing points. And then the next lecture again we'll look at ways to define different orderings among points and Graham scan is a perfect example. We don't want to just be able to sort things, we don't want to just be able to sort them by defining and compared to. We're going to be able to sort the same things in different way sometimes and this example is a fine motivation of that. Figuring out whether what we have is a counter clockwise turn that's a little exercise in geometry and we'll just talk about that briefly in the next couple of slides. And then wow, what are we getting the sort efficient, done efficiently? Well, we could use Shellsort but actually in the next couple of lectures and we'll look at classical sorts - Mergesort and Quicksort - that we could use. The idea though is that this example illustrates that good sorting algorithm gives us a good convex hull algorithm. That's an extremely important principle in designing good algorithms. Once we have a good algorithm, if we have another problem we can say to ourselves, well, we've got a good solution to this algorithm, can we use that solution to solve our new problem? Convex hull, when we have a good sorting algorithm, it gives us a good convex hull algorithm. Because the main, the most work in convex hull is the sort. And then again there's all, all kinds of difficulties in implementing convex hull in real world situations because of various degeneracies. And these things are covered on the book site. So the main part of computation that we haven't really talked about and we'll cover briefly is if we have three points, a, b and c, and you go from a to b to c, are you making a counterclockwise turn or not? So, in the example at the left, a to b to c is counterclockwise. Example at the right, a to b to c is not counter clockwise. Going from a to b you turn left to get to c in the first case and you go right to get to c in the second case and we want to do a computation that distinguishes this. Now, this computation will be pretty easy except for the degeneracies. What do you want to count if they're all on the same line. Or if the slope is infinity. So, you have to just be aware that these situations have to be dealt with. So, the code isn't quite as simple as you might come up within the first instance that you try. So, there's degeneracies to deal with and floating point precision but people, researchers in computational geometry have worked this out and actually there's not that much code at all in the end involved. The and this is the slide that, that gives the math and I won't talk through this math. If you're interested in implementing this, you can come back to the slide. And it's essentially based on the idea of computing the slopes of the lines between a and b, between a and c and comparing them to decide whether you're turning counter clockwise or clockwise. And this is the specific math that gets that implemented. So [cough] this is if we implement a point data type for computational geometry, you can have a method ccw() that just with this little math calculation (b.x - a.x)(c.y - a.y) minus (b.y - a.y)(c.x - a.x) and we see that calculation here gives you immediately whether it's counter clockwise, clockwise or co-linear. Not much code at all. And that method is the basis for the Graham Scan. The Graham Scan uses a sort where we give two different ways to sort the points. And that uses a push down stack for the hull, it puts the points on the hull in it goes ahead and for every point considering I'm in the order of the polar sort it'll compare whether the top two points on the hull and the new point implement a CCW turn or not. And if it's not a CCW turn, it pops and then continues going. Very little code to implement the convex hull given that you have a sort and that's our main point for this lecture - there is many natural applications of sorting but also will be able to develop new algorithms that use sort that gain efficiency because of the efficiency of sorting. ", "video_ID": 24, "course_id": 3}
{"category": ["mergesort"], "tagged": [["Welcome", "NNP"], ["back", "RB"], [".", "."], ["Today", "NN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["Mergesort", "NNP"], [",", ","], ["which", "WDT"], ["is", "VBZ"], ["one", "CD"], ["of", "IN"], ["two", "CD"], ["classic", "JJ"], ["sorting", "VBG"], ["algorithms", "NN"], ["that", "WDT"], ["are", "VBP"], ["critical", "JJ"], ["components", "NNS"], ["in", "IN"], ["the", "DT"], ["world", "NN"], ["'s", "POS"], ["computational", "JJ"], ["infrastructure", "NN"], [".", "."], ["We", "PRP"], ["have", "VBP"], ["a", "DT"], ["full", "JJ"], ["scientific", "JJ"], ["understanding", "NN"], ["of", "IN"], ["the", "DT"], ["properties", "NNS"], ["of", "IN"], ["these", "DT"], ["algorithms", "NNS"], [",", ","], ["and", "CC"], ["they", "PRP"], ["'ve", "VBP"], ["been", "VBN"], ["developed", "VBN"], ["as", "IN"], ["practical", "JJ"], ["system", "NN"], ["sorts", "NNS"], ["and", "CC"], ["application", "NN"], ["sorts", "NNS"], ["that", "WDT"], ["have", "VBP"], ["been", "VBN"], ["heavily", "RB"], ["used", "VBN"], ["over", "IN"], ["the", "DT"], ["past", "JJ"], ["50", "CD"], ["years", "NNS"], [".", "."], ["In", "IN"], ["fact", "NN"], ["Quicksort", "NNP"], [",", ","], ["which", "WDT"], ["we", "PRP"], ["'ll", "MD"], ["consider", "VB"], ["next", "JJ"], ["time", "NN"], [",", ","], ["was", "VBD"], ["honored", "VBN"], ["as", "IN"], ["one", "CD"], ["of", "IN"], ["the", "DT"], ["top", "JJ"], ["10", "CD"], ["algorithms", "NN"], ["of", "IN"], ["the", "DT"], ["20th", "JJ"], ["century", "NN"], ["in", "IN"], ["science", "NN"], ["and", "CC"], ["engineering", "NN"], [".", "."], ["On", "IN"], ["this", "DT"], ["lecture", "NN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["in", "IN"], ["Mergesort", "NNP"], [",", ","], ["which", "WDT"], ["is", "VBZ"], ["the", "DT"], ["basic", "JJ"], ["sort", "NN"], ["in", "IN"], ["plenty", "NN"], ["of", "IN"], ["different", "JJ"], ["programming", "VBG"], ["systems", "NNS"], ["including", "VBG"], ["Java", "NNP"], [".", "."], ["Next", "JJ"], ["time", "NN"], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["Quicksort", "NNP"], ["which", "WDT"], ["is", "VBZ"], ["also", "RB"], ["used", "VBN"], ["in", "IN"], ["Java", "NNP"], ["for", "IN"], ["different", "JJ"], ["applications", "NNS"], [".", "."], ["Alright", "NNP"], [",", ","], ["so", "RB"], ["basic", "JJ"], ["Mergesort", "NNP"], ["algorithm", "NN"], [".", "."], ["What", "WP"], ["'s", "VBZ"], ["it", "PRP"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["like", "IN"], ["?", "."], ["The", "DT"], ["idea", "NN"], ["is", "VBZ"], ["very", "RB"], ["simple", "JJ"], [".", "."], ["What", "WP"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["divide", "VB"], ["an", "DT"], ["array", "NN"], ["into", "IN"], ["two", "CD"], ["halves", "NNS"], [".", "."], ["Recursively", "RB"], [",", ","], ["recursively", "RB"], ["sort", "JJ"], ["each", "DT"], ["of", "IN"], ["the", "DT"], ["halves", "NNS"], [".", "."], ["And", "CC"], ["then", "RB"], ["merge", "VB"], ["the", "DT"], ["result", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["the", "DT"], ["over-view", "NN"], ["of", "IN"], ["Mergesort", "NNP"], [".", "."], ["It", "PRP"], ["was", "VBD"], ["actually", "RB"], ["one", "CD"], ["of", "IN"], ["the", "DT"], ["first", "JJ"], ["non", "JJ"], ["trivial", "JJ"], ["algorithms", "NN"], ["I", "PRP"], ["implemented", "VBD"], ["on", "IN"], ["a", "DT"], ["computer", "NN"], [".", "."], ["John", "NNP"], ["Von", "NNP"], ["Norman", "NNP"], ["realized", "VBD"], ["that", "IN"], ["the", "DT"], ["development", "NN"], ["of", "IN"], ["the", "DT"], ["EDVAC", "NNP"], [",", ","], ["his", "PRP$"], ["EDVAC", "NNP"], ["computer", "NN"], [",", ","], ["one", "CD"], ["of", "IN"], ["the", "DT"], ["first", "JJ"], ["general", "JJ"], ["purpose", "NN"], ["computers", "NNS"], ["that", "WDT"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["need", "VB"], ["a", "DT"], ["sorting", "VBG"], ["method", "NN"], ["and", "CC"], ["he", "PRP"], ["came", "VBD"], ["up", "RP"], ["with", "IN"], ["Mergesort", "NNP"], [".", "."], ["He", "PRP"], ["'s", "VBZ"], ["widely", "RB"], ["accredited", "VBN"], ["as", "IN"], ["being", "VBG"], ["the", "DT"], ["inventor", "NN"], ["of", "IN"], ["Mergesort", "NNP"], [".", "."], ["So", "IN"], ["the", "DT"], ["idea", "NN"], ["of", "IN"], ["Mergesort", "NNP"], ["is", "VBZ"], [",", ","], ["is", "VBZ"], ["based", "VBN"], ["on", "IN"], ["the", "DT"], ["idea", "NN"], ["of", "IN"], ["merging", "VBG"], [".", "."], ["And", "CC"], ["so", "RB"], ["to", "TO"], ["understand", "VB"], ["how", "WRB"], ["merging", "JJ"], ["works", "VBZ"], ["we", "PRP"], ["'ll", "MD"], ["think", "VB"], ["about", "IN"], ["the", "DT"], ["idea", "NN"], ["of", "IN"], ["an", "DT"], ["abstract", "NN"], ["in", "IN"], ["place", "NN"], ["merge", "NN"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["'ve", "VBP"], ["got", "VBD"], ["an", "DT"], ["array", "NN"], ["A", "DT"], ["and", "CC"], ["its", "PRP$"], ["first", "JJ"], ["half", "NN"], ["is", "VBZ"], ["sorted", "VBN"], ["and", "CC"], ["its", "PRP$"], ["second", "JJ"], ["half", "NN"], ["is", "VBZ"], ["sorted", "VBN"], ["and", "CC"], ["the", "DT"], ["computation", "NN"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["perform", "VB"], ["is", "VBZ"], ["to", "TO"], ["replace", "VB"], ["that", "IN"], ["with", "IN"], ["the", "DT"], ["sorted", "JJ"], ["array", "NN"], ["where", "WRB"], ["those", "DT"], ["two", "CD"], ["sub-halves", "NNS"], ["are", "VBP"], ["merged", "VBN"], ["together", "RB"], [".", "."], ["Let", "VB"], ["'s", "POS"], ["look", "VB"], ["at", "IN"], ["a", "DT"], ["demo", "NN"], [".", "."], ["[", "CC"], ["COUGH", "NNP"], ["]", "VBP"], ["The", "DT"], ["method", "NN"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["use", "VB"], ["is", "VBZ"], ["based", "VBN"], ["on", "IN"], ["taking", "VBG"], ["an", "DT"], ["auxiliary", "JJ"], ["array", "NN"], ["to", "TO"], ["hold", "VB"], ["the", "DT"], ["data", "NN"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["a", "DT"], [",", ","], ["one", "CD"], ["of", "IN"], ["the", "DT"], ["easiest", "JJS"], ["ways", "NNS"], ["to", "TO"], ["implement", "VB"], ["the", "DT"], ["merge", "NN"], [".", "."], ["So", "IN"], ["the", "DT"], ["first", "JJ"], ["thing", "NN"], ["we", "PRP"], ["do", "VBP"], ["is", "VBZ"], ["copy", "VB"], ["everything", "NN"], ["over", "IN"], ["to", "TO"], ["the", "DT"], ["auxiliary", "JJ"], ["array", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["once", "RB"], ["that", "DT"], ["'s", "VBZ"], ["done", "VBN"], [",", ","], ["what", "WP"], ["we", "PRP"], ["'ll", "MD"], ["want", "VB"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["copy", "VB"], ["back", "RB"], ["to", "TO"], ["the", "DT"], ["original", "JJ"], ["array", "NN"], ["to", "TO"], ["get", "VB"], ["it", "PRP"], ["in", "IN"], ["sorted", "VBN"], ["order", "NN"], [".", "."], ["In", "IN"], ["order", "NN"], ["to", "TO"], ["do", "VB"], ["that", "DT"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["maintain", "VB"], ["three", "CD"], ["indices", "NNS"], [".", "."], ["I", "PRP"], [",", ","], ["the", "DT"], ["current", "JJ"], ["entry", "NN"], ["in", "IN"], ["the", "DT"], ["left", "JJ"], ["half", "NN"], [",", ","], ["j", "NN"], [",", ","], ["the", "DT"], ["current", "JJ"], ["entry", "NN"], ["on", "IN"], ["the", "DT"], ["right", "JJ"], ["half", "NN"], ["and", "CC"], ["k", "NN"], [",", ","], ["the", "DT"], ["current", "JJ"], ["entry", "NN"], ["in", "IN"], ["the", "DT"], ["sorted", "JJ"], ["result", "NN"], [".", "."], ["[", "CC"], ["COUGH", "NNP"], ["]", "NNP"], ["so", "IN"], ["the", "DT"], ["first", "JJ"], ["thing", "NN"], ["we", "PRP"], ["do", "VBP"], ["is", "VBZ"], [",", ","], ["take", "VB"], ["the", "DT"], ["smaller", "JJR"], ["of", "IN"], ["the", "DT"], ["two", "CD"], ["entries", "NNS"], ["pointed", "VBD"], ["to", "TO"], ["by", "IN"], ["i", "NN"], ["and", "CC"], ["j", "NN"], [",", ","], ["and", "CC"], ["compare", "VBP"], ["those", "DT"], [",", ","], ["and", "CC"], ["take", "VB"], ["the", "DT"], ["smallest", "JJS"], ["one", "CD"], [",", ","], ["and", "CC"], ["move", "VB"], ["that", "WDT"], ["one", "CD"], ["to", "TO"], ["be", "VB"], ["the", "DT"], ["next", "JJ"], ["item", "NN"], ["output", "NN"], [".", "."], ["And", "CC"], ["whichever", "VB"], ["one", "CD"], ["is", "VBZ"], ["taken", "VBN"], [",", ","], ["we", "PRP"], ["increment", "VBP"], ["its", "PRP$"], ["pointer", "NN"], [".", "."], ["Now", "RB"], ["we", "PRP"], ["compare", "VBP"], ["the", "DT"], ["minimum", "NN"], ["again", "RB"], [",", ","], ["again", "RB"], [",", ","], ["the", "DT"], ["one", "CD"], ["pointed", "VBN"], ["group", "NN"], ["by", "IN"], ["j", "NN"], ["is", "VBZ"], ["smaller", "JJR"], [",", ","], ["so", "IN"], ["we", "PRP"], ["move", "VBP"], ["that", "WDT"], ["one", "CD"], ["to", "TO"], ["k.", "VB"], ["Increment", "NNP"], ["that", "IN"], ["pointer", "NN"], ["j", "NN"], ["and", "CC"], ["also", "RB"], ["increment", "JJ"], ["k.", "NN"], ["Now", "RB"], ["there", "EX"], ["'s", "VBZ"], ["two", "CD"], ["E", "NNP"], ["'s", "POS"], [",", ","], ["equal", "JJ"], ["we", "PRP"], ["always", "RB"], ["take", "VBP"], ["the", "DT"], ["first", "JJ"], [".", "."], ["So", "RB"], ["the", "DT"], ["one", "NN"], ["on", "IN"], ["the", "DT"], ["left", "JJ"], ["array", "NN"], ["goes", "VBZ"], ["to", "TO"], ["k", "VB"], ["'s", "POS"], ["position", "NN"], [".", "."], ["And", "CC"], ["now", "RB"], ["we", "PRP"], ["increment", "VBP"], ["i", "JJ"], ["and", "CC"], ["k.", "NN"], ["And", "CC"], ["again", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["an", "DT"], ["E", "NN"], ["and", "CC"], ["they", "PRP"], ["'re", "VBP"], ["equal", "JJ"], [".", "."], ["We", "PRP"], ["'ll", "MD"], ["take", "VB"], ["the", "DT"], ["first", "JJ"], ["one", "CD"], ["so", "RB"], ["we", "PRP"], ["move", "VBP"], ["that", "IN"], ["one", "CD"], ["up", "IN"], ["increment", "NN"], ["i", "NN"], ["and", "CC"], ["k.", "NN"], ["And", "CC"], ["now", "RB"], ["j", "VBP"], ["'s", "POS"], ["E", "NNP"], ["is", "VBZ"], ["smaller", "JJR"], ["than", "IN"], ["g.", "VB"], ["It", "PRP"], ["'s", "VBZ"], ["the", "DT"], ["next", "JJ"], ["thing", "NN"], ["that", "WDT"], ["has", "VBZ"], ["to", "TO"], ["go", "VB"], ["in", "IN"], ["the", "DT"], ["output", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["move", "VBP"], ["that", "IN"], ["one", "CD"], ["up", "RB"], ["and", "CC"], ["increment", "JJ"], ["j", "NN"], ["and", "CC"], ["k.", "NN"], ["Now", "RB"], ["the", "DT"], ["one", "NN"], ["pointed", "VBD"], ["to", "TO"], ["my", "PRP$"], ["i", "NN"], [",", ","], ["the", "DT"], ["G", "NNP"], ["is", "VBZ"], ["smallest", "JJS"], ["so", "RB"], ["move", "VB"], ["that", "DT"], ["and", "CC"], ["increment", "NN"], ["i", "NN"], ["and", "CC"], ["k.", "VB"], ["Move", "NNP"], ["the", "DT"], ["M", "NNP"], ["up", "RB"], ["and", "CC"], ["increment", "JJ"], ["i", "NN"], ["and", "CC"], ["k.", "NN"], ["Now", "RB"], ["the", "DT"], ["last", "JJ"], ["element", "NN"], ["in", "IN"], ["the", "DT"], ["left", "NN"], ["sub", "JJ"], ["array", "NN"], ["is", "VBZ"], ["the", "DT"], ["one", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["get", "VB"], ["moved", "VBN"], ["next", "JJ"], [".", "."], ["And", "CC"], ["now", "RB"], ["that", "IN"], ["first", "JJ"], ["subarray", "NN"], ["is", "VBZ"], ["exhausted", "VBN"], ["so", "RB"], ["really", "RB"], ["all", "DT"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["take", "VB"], ["the", "DT"], ["rest", "NN"], ["of", "IN"], ["the", "DT"], ["elements", "NNS"], ["from", "IN"], ["the", "DT"], ["right", "JJ"], ["part", "NN"], ["and", "CC"], ["move", "VB"], ["them", "PRP"], ["back", "RB"], ["in", "IN"], [".", "."], ["Actually", "RB"], ["since", "IN"], ["we", "PRP"], ["copied", "VBD"], [",", ","], ["we", "PRP"], ["could", "MD"], ["optimize", "VB"], ["by", "IN"], ["avoiding", "VBG"], ["these", "DT"], ["moves", "NNS"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["an", "DT"], ["abstract", "JJ"], ["in-place", "NN"], ["merge", "NN"], ["for", "IN"], ["taking", "VBG"], ["the", "DT"], ["two", "CD"], ["sorted", "VBD"], ["sub-halves", "NNS"], ["of", "IN"], ["an", "DT"], ["array", "NN"], ["using", "VBG"], ["an", "DT"], ["auxiliary", "JJ"], ["array", "NN"], [",", ","], ["move", "VB"], ["them", "PRP"], ["out", "RP"], [",", ","], ["and", "CC"], ["then", "RB"], ["put", "VBD"], ["them", "PRP"], ["back", "RP"], ["in", "IN"], ["in", "IN"], ["sorted", "JJ"], ["order", "NN"], [".", "."], ["Alright", "NNP"], [",", ","], ["so", "RB"], ["here", "RB"], ["'s", "VBZ"], ["the", "DT"], ["code", "NN"], ["for", "IN"], ["merging", "NN"], [",", ","], ["which", "WDT"], ["is", "VBZ"], ["quite", "RB"], ["straightforward", "JJ"], ["from", "IN"], ["the", "DT"], ["demo", "NN"], [".", "."], ["We", "PRP"], ["first", "RB"], ["in", "IN"], ["order", "NN"], ["to", "TO"], ["sort", "VB"], ["an", "DT"], ["array", "NN"], ["of", "IN"], ["comparables", "NNS"], ["in", "IN"], ["this", "DT"], ["implementation", "NN"], ["we", "PRP"], ["pass", "VBP"], ["a", "DT"], ["link", "NN"], ["to", "TO"], ["the", "DT"], ["auxiliary", "JJ"], ["array", "NN"], [",", ","], ["in", "IN"], ["as", "RB"], ["well", "RB"], [".", "."], ["And", "CC"], ["we", "PRP"], ["have", "VBP"], ["three", "CD"], ["arguments", "NNS"], ["lo", "RBR"], [",", ","], ["mid", "NN"], [",", ","], ["and", "CC"], ["hi", "NN"], [".", "."], ["So", "NNP"], ["lo", "JJ"], ["is", "VBZ"], ["the", "DT"], ["first", "JJ"], ["part", "NN"], ["of", "IN"], ["the", "DT"], ["array", "NN"], ["to", "TO"], ["be", "VB"], ["sorted", "VBN"], [".", "."], ["Mid", "NNP"], ["'s", "POS"], ["the", "DT"], ["midpoint", "NN"], ["that", "WDT"], ["divides", "VBZ"], ["the", "DT"], ["first", "JJ"], ["part", "NN"], ["from", "IN"], ["the", "DT"], ["second", "JJ"], [",", ","], ["so", "IN"], ["our", "PRP$"], ["conditions", "NNS"], ["are", "VBP"], ["that", "IN"], ["from", "IN"], ["lo", "NN"], ["to", "TO"], ["mid", "VB"], ["is", "VBZ"], ["sorted", "VBN"], [",", ","], ["and", "CC"], ["from", "IN"], ["mid", "JJ"], ["plus", "CC"], ["1", "CD"], ["to", "TO"], ["hi", "VB"], ["is", "VBZ"], ["sorted", "VBN"], [".", "."], ["[", "JJ"], ["COUGH", "NNP"], ["]", "NNP"], ["so", "IN"], ["the", "DT"], ["merge", "NN"], ["implementation", "NN"], ["then", "RB"], [",", ","], ["the", "DT"], ["first", "JJ"], ["thing", "NN"], ["it", "PRP"], ["does", "VBZ"], ["is", "VBZ"], ["copy", "VB"], ["everything", "NN"], ["over", "IN"], ["to", "TO"], ["the", "DT"], ["auxiliary", "JJ"], ["array", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["that", "IN"], ["sets", "VBZ"], ["up", "RP"], ["for", "IN"], ["this", "DT"], ["four", "CD"], ["loop", "NN"], ["that", "WDT"], ["accomplishes", "VBZ"], ["the", "DT"], ["merge", "NN"], [".", "."], ["We", "PRP"], ["start", "VBP"], ["our", "PRP$"], ["I", "PRP"], ["pointer", "VBP"], ["at", "IN"], ["the", "DT"], ["left", "JJ"], ["heart", "NN"], ["on", "IN"], ["the", "DT"], ["left", "JJ"], ["half", "NN"], [".", "."], ["The", "DT"], ["J", "NNP"], ["pointer", "NN"], ["on", "IN"], ["the", "DT"], ["left", "JJ"], ["part", "NN"], ["of", "IN"], ["the", "DT"], ["right", "JJ"], ["half", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["mid", "JJ"], ["plus", "CC"], ["one", "CD"], [".", "."], ["And", "CC"], ["we", "PRP"], ["start", "VBP"], ["the", "DT"], ["k", "NN"], ["Pointer", "NNP"], ["at", "IN"], ["the", "DT"], ["beginning", "NN"], ["lo", "NN"], [".", "."], ["And", "CC"], ["for", "IN"], ["every", "DT"], ["value", "NN"], ["of", "IN"], ["k", "NN"], ["what", "WP"], ["we", "PRP"], ["'re", "VBP"], ["most", "RBS"], ["often", "RB"], ["doing", "VBG"], ["is", "VBZ"], ["comparing", "VBG"], ["whether", "IN"], ["aux", "NN"], ["of", "IN"], ["j", "NN"], ["is", "VBZ"], ["less", "JJR"], ["than", "IN"], ["aux", "NN"], ["of", "IN"], ["i", "NN"], [".", "."], ["And", "CC"], ["if", "IN"], ["it", "PRP"], ["is", "VBZ"], [",", ","], ["we", "PRP"], ["move", "VBP"], ["the", "DT"], ["element", "NN"], ["of", "IN"], ["j", "NN"], ["over", "IN"], ["in", "IN"], ["increment", "JJ"], ["j", "NN"], [".", "."], ["If", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["greater", "JJR"], ["we", "PRP"], ["move", "VBP"], ["the", "DT"], ["element", "NN"], ["i", "NN"], ["over", "IN"], ["in", "IN"], ["increment", "NN"], ["i", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["in", "IN"], ["both", "DT"], ["cases", "NNS"], [",", ","], ["we", "PRP"], ["increment", "VBP"], ["a", "DT"], [",", ","], ["not", "RB"], ["imple", "JJ"], [",", ","], ["increment", "JJ"], ["k", "NN"], [",", ","], ["and", "CC"], ["that", "IN"], ["implements", "VBZ"], ["the", "DT"], ["merge", "NN"], [".", "."], ["If", "IN"], ["the", "DT"], ["i", "NN"], ["pointer", "NN"], ["is", "VBZ"], ["exhausted", "VBN"], [",", ","], ["then", "RB"], ["we", "PRP"], ["just", "RB"], ["move", "VB"], ["over", "IN"], ["the", "DT"], ["j", "NN"], [",", ","], ["next", "JJ"], ["jth", "NN"], ["element", "NN"], [".", "."], ["If", "IN"], ["the", "DT"], ["j", "NN"], ["pointer", "NN"], ["is", "VBZ"], ["exhausted", "VBN"], ["we", "PRP"], ["move", "VBP"], ["over", "IN"], ["the", "DT"], ["next", "JJ"], ["ith", "NN"], ["element", "NN"], [".", "."], ["So", "RB"], ["every", "DT"], ["time", "NN"], ["we", "PRP"], ["'re", "VBP"], ["moving", "VBG"], ["a", "DT"], ["new", "JJ"], ["element", "NN"], ["into", "IN"], ["k", "NN"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["code", "NN"], ["that", "WDT"], ["impelements", "VBZ"], ["the", "DT"], ["abstract", "NN"], ["in", "IN"], ["place", "NN"], ["merge", "NN"], [".", "."], ["Now", "RB"], ["with", "IN"], ["this", "DT"], ["code", "NN"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["also", "RB"], ["introducing", "VBG"], ["the", "DT"], ["idea", "NN"], ["of", "IN"], ["making", "VBG"], ["assertions", "NNS"], ["just", "RB"], ["to", "TO"], ["make", "VB"], ["it", "PRP"], ["easier", "JJR"], ["to", "TO"], ["debug", "VB"], ["our", "PRP$"], ["code", "NN"], ["and", "CC"], ["to", "TO"], ["have", "VB"], ["confidence", "NN"], ["that", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["correct", "JJ"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["this", "DT"], ["insertion", "NN"], ["just", "RB"], ["says", "VBZ"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["be", "VB"], ["sure", "JJ"], ["that", "IN"], ["a", "DT"], ["of", "IN"], ["lo", "NN"], ["to", "TO"], ["mid", "VB"], ["assorted", "JJ"], ["and", "CC"], ["that", "DT"], ["mid", "JJ"], ["plus", "CC"], ["one", "CD"], ["to", "TO"], ["high", "VB"], ["is", "VBZ"], ["sorted", "VBN"], ["before", "IN"], ["our", "PRP$"], ["code", "NN"], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["check", "VB"], ["that", "IN"], [",", ","], ["the", "DT"], ["whole", "JJ"], ["thing", "NN"], ["is", "VBZ"], ["sorted", "VBN"], ["after", "IN"], ["our", "PRP$"], ["code", "NN"], [".", "."], ["And", "CC"], ["generally", "RB"], ["programmers", "NNS"], [",", ","], ["Java", "NNP"], ["programmers", "NNS"], ["know", "VBP"], ["that", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["good", "JJ"], ["idea", "NN"], ["to", "TO"], ["try", "VB"], ["to", "TO"], ["do", "VB"], ["these", "DT"], ["assertions", "NNS"], [".", "."], ["Not", "RB"], ["only", "RB"], ["does", "VBZ"], ["it", "PRP"], ["help", "VB"], ["detect", "VB"], ["bugs", "NNS"], [",", ","], ["but", "CC"], ["it", "PRP"], ["also", "RB"], ["documents", "NNS"], ["what", "WP"], ["the", "DT"], ["code", "NN"], ["is", "VBZ"], ["supposed", "VBN"], ["to", "TO"], ["do", "VB"], [".", "."], ["And", "CC"], ["that", "IN"], ["merge", "NN"], ["code", "NN"], ["is", "VBZ"], ["a", "DT"], ["good", "JJ"], ["example", "NN"], ["of", "IN"], ["this", "DT"], [".", "."], ["If", "IN"], ["you", "PRP"], ["put", "VBP"], ["at", "IN"], ["the", "DT"], ["beginning", "NN"], ["of", "IN"], ["the", "DT"], ["code", "NN"], ["what", "WP"], ["you", "PRP"], ["expect", "VBP"], ["in", "IN"], ["the", "DT"], [",", ","], ["in", "IN"], ["the", "DT"], ["form", "NN"], ["of", "IN"], ["an", "DT"], ["assertion", "NN"], [",", ","], ["which", "WDT"], ["is", "VBZ"], ["code", "JJ"], ["itself", "PRP"], [".", "."], ["And", "CC"], ["you", "PRP"], ["put", "VBP"], ["at", "IN"], ["the", "DT"], ["end", "NN"], ["of", "IN"], ["the", "DT"], ["code", "NN"], ["what", "WP"], ["you", "PRP"], ["think", "VBP"], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], [",", ","], ["again", "RB"], ["in", "IN"], ["the", "DT"], ["form", "NN"], ["of", "IN"], ["an", "DT"], ["assertion", "NN"], [".", "."], ["You", "PRP"], ["'re", "VBP"], ["both", "DT"], ["testing", "VBG"], ["that", "IN"], ["these", "DT"], ["conditions", "NNS"], ["hold", "VBP"], [",", ","], ["and", "CC"], ["also", "RB"], ["telling", "VBG"], ["someone", "NN"], ["reading", "VBG"], ["the", "DT"], ["code", "NN"], [",", ","], ["what", "WP"], ["you", "PRP"], ["'re", "VBP"], ["trying", "VBG"], ["to", "TO"], ["do", "VB"], ["with", "IN"], ["it", "PRP"], [".", "."], ["So", "NNP"], ["Java", "NNP"], ["is", "VBZ"], ["just", "RB"], ["an", "DT"], ["assert", "JJ"], ["statement", "NN"], [".", "."], ["It", "PRP"], ["takes", "VBZ"], ["it", "PRP"], [",", ","], ["boolean", "JJ"], ["condition", "NN"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["using", "VBG"], ["that", "IN"], ["method", "NN"], ["is", "VBZ"], ["sorted", "VBN"], ["that", "IN"], ["we", "PRP"], ["were", "VBD"], ["before", "RB"], [".", "."], ["That", "DT"], ["returns", "VBZ"], ["true", "JJ"], ["if", "IN"], ["the", "DT"], ["ported", "VBN"], ["is", "VBZ"], ["sorted", "VBN"], ["and", "CC"], ["false", "JJ"], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], [".", "."], ["And", "CC"], ["what", "WP"], ["assert", "NN"], ["will", "MD"], ["do", "VB"], ["is", "VBZ"], ["it", "PRP"], ["will", "MD"], ["throw", "VB"], ["an", "DT"], ["exception", "NN"], ["unless", "IN"], ["that", "DT"], ["condition", "NN"], ["is", "VBZ"], ["true", "JJ"], [".", "."], ["Now", "RB"], ["the", "DT"], ["thing", "NN"], ["about", "IN"], ["assertions", "NNS"], ["in", "IN"], ["Java", "NNP"], ["is", "VBZ"], ["that", "IN"], ["you", "PRP"], ["can", "MD"], ["enable", "VB"], ["or", "CC"], ["disable", "VB"], ["them", "PRP"], ["at", "IN"], ["runtime", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["really", "RB"], ["important", "JJ"], [",", ","], ["because", "IN"], ["it", "PRP"], ["means", "VBZ"], ["you", "PRP"], ["can", "MD"], ["put", "VB"], ["them", "PRP"], ["into", "IN"], ["your", "PRP$"], ["code", "NN"], ["to", "TO"], ["check", "VB"], ["while", "IN"], ["developing", "VBG"], [".", "."], ["But", "CC"], ["it", "PRP"], ["does", "VBZ"], ["n't", "RB"], ["incur", "VB"], ["any", "DT"], ["extra", "JJ"], ["cost", "NN"], ["at", "IN"], ["all", "DT"], ["in", "IN"], ["production", "NN"], ["code", "NN"], [".", "."], ["So", "RB"], ["by", "IN"], ["default", "NN"], [",", ","], ["insertions", "NNS"], ["are", "VBP"], ["disabled", "VBN"], [".", "."], ["Something", "VBG"], ["goes", "VBZ"], ["wrong", "JJ"], ["somebody", "NN"], ["analyzing", "VBG"], ["the", "DT"], ["situation", "NN"], ["can", "MD"], ["enable", "VB"], ["insertions", "NNS"], ["and", "CC"], ["they", "PRP"], ["often", "RB"], ["will", "MD"], ["help", "VB"], ["find", "VB"], ["out", "RP"], ["where", "WRB"], [",", ","], ["what", "WP"], ["the", "DT"], ["problem", "NN"], ["is", "VBZ"], [".", "."], ["So", "RB"], [",", ","], ["the", "DT"], ["best", "JJS"], ["practice", "NN"], ["is", "VBZ"], ["to", "TO"], ["use", "VB"], ["insertions", "NNS"], ["just", "RB"], ["as", "IN"], ["we", "PRP"], ["did", "VBD"], ["in", "IN"], ["that", "DT"], ["example", "NN"], ["with", "IN"], ["merge", "NN"], ["and", "CC"], ["to", "TO"], ["assume", "VB"], ["that", "IN"], ["they", "PRP"], ["'re", "VBP"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["there", "RB"], ["in", "IN"], ["production", "NN"], ["codes", "NNS"], [".", "."], ["You", "PRP"], ["should", "MD"], ["n't", "RB"], ["use", "VB"], ["them", "PRP"], ["for", "IN"], ["the", "DT"], ["things", "NNS"], ["like", "IN"], ["checking", "VBG"], ["if", "IN"], ["the", "DT"], ["input", "NN"], ["is", "VBZ"], ["the", "DT"], ["way", "NN"], ["you", "PRP"], ["like", "IN"], ["it", "PRP"], [".", "."], ["Alright", "NNP"], [",", ","], ["so", "RB"], ["with", "IN"], ["that", "DT"], ["merge", "NN"], ["implementation", "NN"], [",", ","], ["then", "RB"], ["the", "DT"], ["sort", "NN"], ["implementation", "NN"], ["is", "VBZ"], ["a", "DT"], ["quite", "RB"], ["simple", "JJ"], [",", ","], ["recursive", "JJ"], ["procedure", "NN"], ["shown", "VBN"], ["here", "RB"], [".", "."], ["So", "IN"], ["we", "PRP"], ["use", "VBP"], ["the", "DT"], ["merge", "NN"], ["procedure", "NN"], ["we", "PRP"], ["just", "RB"], ["showed", "VBD"], [",", ","], ["and", "CC"], ["then", "RB"], ["our", "PRP$"], ["sort", "NN"], ["procedure", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["recursive", "JJ"], ["so", "RB"], [",", ","], ["checks", "NNS"], ["that", "IN"], ["we", "PRP"], ["have", "VBP"], ["something", "NN"], ["to", "TO"], ["do", "VB"], ["first", "RB"], [".", "."], ["Then", "RB"], ["it", "PRP"], ["computes", "VBZ"], ["the", "DT"], ["value", "NN"], ["of", "IN"], ["the", "DT"], ["midpoint", "NN"], ["same", "JJ"], ["way", "NN"], ["as", "IN"], ["we", "PRP"], ["did", "VBD"], ["for", "IN"], ["a", "DT"], ["binary", "JJ"], ["search", "NN"], [".", "."], ["Sort", "VB"], ["the", "DT"], ["first", "JJ"], ["half", "NN"], [".", "."], ["Sort", "VB"], ["the", "DT"], ["second", "JJ"], ["half", "NN"], [",", ","], ["and", "CC"], ["then", "RB"], ["merge", "VB"], ["them", "PRP"], ["together", "RB"], [".", "."], ["And", "CC"], ["then", "RB"], ["the", "DT"], ["actual", "JJ"], ["sort", "NN"], ["is", "VBZ"], ["takes", "VBZ"], ["just", "RB"], ["the", "DT"], ["one", "CD"], ["argument", "NN"], ["of", "IN"], ["the", "DT"], ["array", "NN"], ["creates", "VBZ"], ["the", "DT"], ["auxiliary", "JJ"], ["array", "NN"], ["and", "CC"], ["then", "RB"], ["uses", "VBZ"], ["that", "IN"], [".", "."], ["Now", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["important", "JJ"], ["to", "TO"], ["not", "RB"], ["create", "VB"], ["the", "DT"], ["auxiliary", "JJ"], ["array", "NN"], ["in", "IN"], ["the", "DT"], ["re", "NN"], ["in", "IN"], ["the", "DT"], ["recursive", "JJ"], ["routine", "NN"], ["because", "IN"], ["that", "DT"], ["could", "MD"], ["lead", "VB"], ["to", "TO"], ["extensive", "JJ"], ["cost", "NN"], ["of", "IN"], ["extra", "JJ"], ["array", "NN"], ["creation", "NN"], [".", "."], ["And", "CC"], ["you", "PRP"], ["'ll", "MD"], ["sometimes", "RB"], ["see", "VB"], ["Mergesort", "NNP"], ["performing", "VBG"], ["poorly", "RB"], ["because", "IN"], ["of", "IN"], ["that", "DT"], ["bug", "NN"], [".", "."], ["Otherwise", "VB"], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], ["very", "RB"], ["straight", "JJ"], ["forward", "NN"], ["implementation", "NN"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["actually", "RB"], ["a", "DT"], ["prototype", "NN"], ["for", "IN"], ["algorithm", "JJ"], ["design", "NN"], ["that", "IN"], ["we", "PRP"], ["'ll", "MD"], ["see", "VB"], ["come", "VB"], ["up", "RP"], ["again", "RB"], ["and", "CC"], ["again", "RB"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["called", "VBN"], ["divide", "NN"], ["and", "CC"], ["conquer", "NN"], [".", "."], ["Solve", "VB"], ["a", "DT"], ["problem", "NN"], ["by", "IN"], ["dividing", "VBG"], ["it", "PRP"], ["into", "IN"], ["two", "CD"], ["halves", "NNS"], [",", ","], ["solving", "VBG"], ["the", "DT"], ["two", "CD"], ["halves", "NNS"], [",", ","], ["and", "CC"], ["then", "RB"], ["putting", "VBG"], ["the", "DT"], ["solutions", "NNS"], ["together", "RB"], ["to", "TO"], ["get", "VB"], ["the", "DT"], ["appropriate", "JJ"], ["answer", "NN"], [".", "."], ["[", "CC"], ["COUGH", "NNP"], ["]", "NNP"], ["here", "RB"], ["'s", "VBZ"], ["a", "DT"], ["trace", "NN"], ["of", "IN"], ["what", "WP"], ["Mergesort", "NNP"], ["does", "VBZ"], ["and", "CC"], ["if", "IN"], ["you", "PRP"], ["have", "VBP"], ["n't", "RB"], ["studied", "VBN"], ["a", "DT"], ["recursive", "JJ"], ["program", "NN"], ["before", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["worthwhile", "JJ"], ["studying", "VBG"], ["this", "DT"], ["thing", "NN"], ["in", "IN"], [",", ","], ["in", "IN"], ["some", "DT"], ["detail", "NN"], [".", "."], ["This", "DT"], ["gives", "VBZ"], ["exactly", "RB"], ["what", "WP"], ["happens", "VBZ"], ["during", "IN"], ["each", "DT"], ["of", "IN"], ["the", "DT"], ["calls", "NNS"], ["to", "TO"], ["merge", "VB"], [".", "."], ["We", "PRP"], ["start", "VBP"], ["out", "RP"], ["with", "IN"], ["a", "DT"], ["big", "JJ"], ["problem", "NN"], ["to", "TO"], ["solve", "VB"], ["but", "CC"], ["we", "PRP"], ["divide", "VBP"], ["it", "PRP"], ["in", "IN"], ["half", "NN"], [",", ","], ["then", "RB"], ["we", "PRP"], ["divide", "VBP"], ["that", "IN"], ["one", "CD"], ["in", "IN"], ["half", "NN"], [",", ","], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["divide", "VBP"], ["that", "IN"], ["one", "CD"], ["in", "IN"], ["half", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["very", "RB"], ["first", "JJ"], ["thing", "NN"], ["that", "IN"], ["we", "PRP"], ["actually", "RB"], ["do", "VBP"], ["is", "VBZ"], ["just", "RB"], ["compare", "NN"], ["and", "CC"], ["exchange", "NN"], ["if", "IN"], ["necessary", "JJ"], ["the", "DT"], ["first", "JJ"], ["two", "CD"], ["elements", "NNS"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["do", "VBP"], ["the", "DT"], ["same", "JJ"], ["thing", "NN"], ["for", "IN"], ["the", "DT"], ["next", "JJ"], ["two", "CD"], ["elements", "NNS"], [".", "."], ["Then", "RB"], ["merge", "VBP"], ["those", "DT"], ["two", "CD"], ["together", "RB"], ["to", "TO"], ["get", "VB"], ["the", "DT"], ["first", "JJ"], ["four", "CD"], ["done", "VBN"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["do", "VBP"], ["the", "DT"], ["same", "JJ"], ["thing", "NN"], ["for", "IN"], ["the", "DT"], ["next", "JJ"], ["four", "CD"], ["in", "IN"], ["the", "DT"], ["array", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], ["we", "PRP"], ["have", "VBP"], ["two", "CD"], ["sorted", "VBN"], ["sub-arrays", "NNS"], ["at", "IN"], ["size", "NN"], ["four", "CD"], [".", "."], ["And", "CC"], ["we", "PRP"], ["merge", "VBP"], ["those", "DT"], ["together", "NNS"], ["to", "TO"], ["get", "VB"], ["one", "CD"], ["of", "IN"], ["size", "NN"], ["eight", "CD"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["do", "VBP"], ["the", "DT"], ["same", "JJ"], ["thing", "NN"], ["on", "IN"], ["the", "DT"], ["right", "NN"], [",", ","], ["and", "CC"], ["eventually", "RB"], ["we", "PRP"], ["have", "VBP"], ["two", "CD"], ["eights", "NNS"], ["that", "IN"], ["we", "PRP"], ["merge", "VBP"], ["together", "RB"], ["to", "TO"], ["get", "VB"], ["the", "DT"], ["final", "JJ"], ["result", "NN"], [".", "."], ["Very", "RB"], ["instructive", "JJ"], ["to", "TO"], ["study", "VB"], ["this", "DT"], ["trace", "NN"], ["to", "TO"], ["really", "RB"], ["understand", "VB"], ["what", "WP"], ["this", "DT"], ["recursive", "JJ"], ["algorithm", "NN"], ["is", "VBZ"], ["doing", "VBG"], [".", "."], ["So", "RB"], ["now", "RB"], ["we", "PRP"], ["can", "MD"], ["animate", "VB"], ["and", "CC"], ["again", "RB"], ["Mergesort", "NNP"], ["'s", "POS"], ["more", "RBR"], ["efficient", "JJ"], [",", ","], ["so", "IN"], ["we", "PRP"], ["can", "MD"], ["do", "VB"], ["more", "JJR"], ["and", "CC"], ["more", "JJR"], ["items", "NNS"], [".", "."], ["You", "PRP"], ["can", "MD"], ["see", "VB"], ["it", "PRP"], ["'s", "VBZ"], ["got", "VBD"], ["the", "DT"], ["first", "JJ"], ["half", "NN"], ["sorted", "VBN"], [",", ","], ["now", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["working", "VBG"], ["on", "IN"], ["the", "DT"], ["second", "JJ"], ["half", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["once", "IN"], ["it", "PRP"], ["gets", "VBZ"], ["the", "DT"], ["second", "JJ"], ["half", "NN"], ["sorted", "VBD"], [",", ","], ["then", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["go", "VB"], ["ahead", "RB"], ["and", "CC"], ["merge", "VB"], ["them", "PRP"], ["right", "RB"], ["together", "RB"], ["to", "TO"], ["get", "VB"], ["the", "DT"], ["sorted", "JJ"], ["result", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["got", "VBD"], ["a", "DT"], ["little", "JJ"], ["extra", "JJ"], ["[", "NNP"], ["COUGH", "NNP"], ["]", "NNP"], ["dynamics", "NNS"], ["in", "IN"], ["the", "DT"], ["animation", "NN"], ["because", "IN"], ["of", "IN"], ["the", "DT"], ["auxiliary", "JJ"], ["array", "NN"], [".", "."], ["Let", "VB"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["it", "PRP"], ["when", "WRB"], ["it", "PRP"], ["'s", "VBZ"], ["in", "IN"], ["reverse", "NN"], ["order", "NN"], ["again", "RB"], ["it", "PRP"], ["gets", "VBZ"], ["the", "DT"], ["first", "JJ"], ["half", "NN"], ["done", "VBN"], ["now", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["working", "VBG"], ["on", "IN"], ["the", "DT"], ["second", "JJ"], ["half", "NN"], ["once", "IN"], ["it", "PRP"], ["gets", "VBZ"], ["the", "DT"], ["second", "JJ"], ["half", "NN"], ["done", "VBN"], ["then", "RB"], ["it", "PRP"], ["goes", "VBZ"], ["ahead", "RB"], ["and", "CC"], ["merges", "VBZ"], ["together", "RB"], ["the", "DT"], ["whole", "JJ"], ["thing", "NN"], ["it", "PRP"], ["'s", "VBZ"], ["just", "RB"], ["as", "IN"], ["fast", "RB"], ["in", "IN"], ["reverse", "JJ"], ["order", "NN"], ["as", "IN"], ["as", "IN"], ["in", "IN"], ["auditory", "JJ"], ["order", "NN"], [".", "."], ["So", "IN"], ["you", "PRP"], ["can", "MD"], ["run", "VB"], ["a", "DT"], ["Mergesort", "NNP"], ["on", "IN"], ["huge", "JJ"], ["problems", "NNS"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["very", "RB"], ["efficient", "JJ"], ["algorithm", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], [",", ","], ["for", "IN"], ["example", "NN"], [",", ","], ["what", "WP"], ["this", "DT"], ["table", "NN"], ["shows", "VBZ"], [",", ","], ["if", "IN"], ["you", "PRP"], ["were", "VBD"], ["to", "TO"], ["try", "VB"], ["to", "TO"], ["use", "VB"], ["a", "DT"], ["insertion", "NN"], ["sort", "NN"], ["for", "IN"], ["a", "DT"], ["huge", "JJ"], ["file", "NN"], [",", ","], ["say", "VBP"], ["a", "DT"], ["file", "NN"], ["with", "IN"], ["a", "DT"], ["billion", "CD"], ["elements", "NNS"], [",", ","], ["on", "IN"], ["your", "PRP$"], ["PC", "NN"], ["it", "PRP"], ["'d", "MD"], ["take", "VB"], ["a", "DT"], ["few", "JJ"], ["centuries", "NNS"], ["to", "TO"], ["finish", "VB"], [".", "."], ["Even", "RB"], ["on", "IN"], ["a", "DT"], ["super", "JJ"], ["computer", "NN"], [",", ","], ["if", "IN"], ["you", "PRP"], ["'re", "VBP"], ["using", "VBG"], ["insertion", "NN"], ["sort", "NN"], ["nowadays", "VBZ"], ["it", "PRP"], ["'d", "MD"], ["maybe", "RB"], ["take", "VB"], ["a", "DT"], ["week", "NN"], ["or", "CC"], ["more", "JJR"], [".", "."], ["But", "CC"], ["if", "IN"], ["you", "PRP"], ["have", "VBP"], ["a", "DT"], ["good", "JJ"], ["algorithm", "NN"], ["like", "IN"], ["Mergesort", "NNP"], [",", ","], ["and", "CC"], ["you", "PRP"], ["'re", "VBP"], ["trying", "VBG"], ["to", "TO"], ["do", "VB"], ["a", "DT"], ["billion", "CD"], ["items", "NNS"], [",", ","], ["you", "PRP"], ["can", "MD"], ["do", "VB"], ["it", "PRP"], ["in", "IN"], ["just", "RB"], ["less", "JJR"], ["than", "IN"], ["half", "PDT"], ["an", "DT"], ["hour", "NN"], ["on", "IN"], ["your", "PRP$"], ["PC", "NN"], [".", "."], ["And", "CC"], ["a", "DT"], ["supercomputer", "NN"], ["can", "MD"], ["do", "VB"], ["it", "PRP"], ["in", "IN"], ["an", "DT"], ["instant", "NN"], [".", "."], ["And", "CC"], ["smaller", "JJR"], ["problems", "NNS"], ["only", "RB"], ["take", "VBP"], ["an", "DT"], ["instant", "JJ"], ["even", "RB"], ["on", "IN"], ["your", "PRP$"], ["PC", "NN"], [".", "."], ["So", "IN"], ["you", "PRP"], ["can", "MD"], ["spend", "VB"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["money", "NN"], ["or", "CC"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["time", "NN"], [",", ","], ["or", "CC"], ["you", "PRP"], ["can", "MD"], ["use", "VB"], ["a", "DT"], ["good", "JJ"], ["algorithm", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["one", "CD"], ["of", "IN"], ["our", "PRP$"], ["main", "JJ"], ["themes", "NNS"], ["in", "IN"], ["this", "DT"], ["course", "NN"], [".", "."], ["A", "DT"], ["good", "JJ"], ["algorithm", "NN"], ["is", "VBZ"], ["much", "RB"], ["more", "RBR"], ["effective", "JJ"], ["than", "IN"], ["spending", "VBG"], ["money", "NN"], ["or", "CC"], ["time", "NN"], ["wasting", "VBG"], ["money", "NN"], ["or", "CC"], ["time", "NN"], ["using", "VBG"], ["a", "DT"], ["bad", "JJ"], ["one", "CD"], [".", "."], ["So", "CC"], ["let", "VB"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["the", "DT"], ["analysis", "NN"], ["of", "IN"], ["Mergesort", "NNP"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["a", "DT"], ["bit", "NN"], ["of", "IN"], ["math", "NN"], ["but", "CC"], ["very", "RB"], ["instructive", "JJ"], ["because", "IN"], ["this", "DT"], ["really", "RB"], ["shows", "VBZ"], ["the", "DT"], ["power", "NN"], ["of", "IN"], ["the", "DT"], ["divide", "NN"], ["and", "CC"], ["conquer", "NN"], ["method", "NN"], [".", "."], ["And", "CC"], ["allow", "VB"], ["us", "PRP"], ["to", "TO"], ["take", "VB"], ["a", "DT"], ["problem", "NN"], ["that", "WDT"], ["was", "VBD"], ["taking", "VBG"], ["us", "PRP"], ["quadratic", "JJ"], ["time", "NN"], ["with", "IN"], ["methods", "NNS"], ["like", "IN"], ["insertion", "NN"], ["and", "CC"], ["selection", "NN"], ["sort", "NN"], [",", ","], ["and", "CC"], ["get", "VB"], ["it", "PRP"], ["done", "VBN"], ["in", "IN"], [",", ","], ["in", "IN"], ["log", "NN"], ["N", "NNP"], ["time", "NN"], ["with", "IN"], ["Mergesort", "NNP"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["proposition", "NN"], ["Mergesort", "NNP"], ["uses", "VBZ"], ["at", "IN"], ["most", "JJS"], ["N", "NNP"], ["lg", "NN"], ["N", "NNP"], ["compares", "VBZ"], ["and", "CC"], ["6", "CD"], ["N", "NNP"], ["lg", "NN"], ["N", "NNP"], ["array", "NN"], ["accesses", "VBZ"], ["to", "TO"], ["sort", "VB"], ["any", "DT"], ["array", "NN"], ["of", "IN"], ["size", "NN"], ["N.", "NNP"], ["And", "CC"], ["the", "DT"], ["way", "NN"], ["to", "TO"], ["prove", "VB"], ["this", "DT"], ["proposition", "NN"], ["is", "VBZ"], ["to", "TO"], ["from", "IN"], ["examining", "VBG"], ["the", "DT"], ["code", "NN"], [",", ","], ["to", "TO"], ["write", "VB"], ["down", "RP"], ["what", "WP"], ["'s", "VBZ"], ["called", "VBN"], ["a", "DT"], ["recurrence", "NN"], ["relation", "NN"], [".", "."], ["And", "CC"], ["all", "DT"], ["that", "WDT"], ["is", "VBZ"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["mathematical", "JJ"], ["reflection", "NN"], ["of", "IN"], ["what", "WP"], ["'s", "VBZ"], ["going", "VBG"], ["on", "IN"], ["in", "IN"], ["the", "DT"], ["code", "NN"], [".", "."], ["If", "IN"], ["we", "PRP"], ["'re", "VBP"], ["sorting", "VBG"], ["N", "NNP"], ["items", "NNS"], ["then", "RB"], ["let", "VB"], ["C", "NNP"], ["of", "IN"], ["N", "NNP"], ["denote", "VBP"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["compares", "NNS"], ["that", "IN"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["sort", "VB"], ["the", "DT"], ["N", "NNP"], ["items", "NNS"], [".", "."], ["In", "IN"], ["order", "NN"], ["to", "TO"], ["get", "VB"], ["that", "IN"], ["done", "VBN"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["sorting", "VBG"], ["the", "DT"], ["left", "JJ"], ["half", "NN"], ["and", "CC"], ["the", "DT"], ["right", "JJ"], ["half", "NN"], ["and", "CC"], ["this", "DT"], ["notation", "NN"], ["ceiling", "NN"], ["of", "IN"], ["N", "NNP"], ["over", "IN"], ["2", "CD"], ["and", "CC"], ["floor", "NN"], ["of", "IN"], ["N", "NNP"], ["over", "IN"], ["2", "CD"], ["that", "WDT"], ["'s", "VBZ"], ["the", "DT"], ["N", "NNP"], ["over", "IN"], ["2", "CD"], ["round", "NN"], ["up", "RB"], ["and", "CC"], ["N", "NNP"], ["over", "IN"], ["2", "CD"], ["round", "NN"], ["down", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["size", "NN"], ["of", "IN"], ["the", "DT"], ["two", "CD"], ["sub-arrays", "NNS"], [",", ","], ["and", "CC"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["call", "VB"], ["the", "DT"], ["same", "JJ"], ["routine", "NN"], ["for", "IN"], ["that", "DT"], ["size", "NN"], [",", ","], ["so", "IN"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["compares", "NNS"], ["you", "PRP"], ["need", "VBP"], ["to", "TO"], [".", "."], ["For", "IN"], ["that", "DT"], ["is", "VBZ"], ["C", "NNP"], ["of", "IN"], ["N", "NNP"], ["over", "IN"], ["2", "CD"], [",", ","], ["ceiling", "NN"], ["of", "IN"], ["N", "NNP"], ["over", "IN"], ["2", "CD"], ["for", "IN"], ["the", "DT"], ["left", "NN"], ["and", "CC"], ["ceiling", "NN"], ["of", "IN"], [",", ","], ["floor", "NN"], ["of", "IN"], ["N", "NNP"], ["over", "IN"], ["2", "CD"], ["for", "IN"], ["the", "DT"], ["right", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["for", "IN"], ["the", "DT"], ["merge", "NN"], [",", ","], ["we", "PRP"], ["need", "VBP"], ["at", "IN"], ["least", "JJS"], [",", ","], ["at", "IN"], ["most", "JJS"], ["N", "NNP"], ["compares", "VBZ"], [".", "."], ["If", "IN"], ["neither", "DT"], ["one", "CD"], ["exhausts", "NNS"], [",", ","], ["we", "PRP"], ["need", "VBP"], ["exactly", "RB"], ["N", "NNP"], ["compares", "VBZ"], [".", "."], ["And", "CC"], ["so", "RB"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["true", "JJ"], ["as", "RB"], ["long", "RB"], ["as", "IN"], ["N", "NNP"], ["is", "VBZ"], ["bigger", "JJR"], ["than", "IN"], ["1", "CD"], [".", "."], ["If", "IN"], ["there", "EX"], ["'s", "VBZ"], ["only", "RB"], ["one", "CD"], ["thing", "NN"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["not", "RB"], ["doing", "VBG"], ["any", "DT"], ["compares", "NNS"], ["at", "IN"], ["all", "DT"], [".", "."], ["So", "IN"], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], ["mathematical", "JJ"], ["formula", "NN"], ["that", "IN"], ["we", "PRP"], ["derive", "VBP"], ["by", "IN"], ["examining", "VBG"], ["the", "DT"], ["code", "NN"], ["but", "CC"], ["it", "PRP"], ["completely", "RB"], ["describes", "VBZ"], ["mathematically", "RB"], ["what", "WP"], ["we", "PRP"], ["an", "DT"], ["upper", "JJ"], ["bound", "NN"], ["on", "IN"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["compares", "NNS"], ["that", "WDT"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["needed", "VBN"], [".", "."], ["And", "CC"], ["similarly", "RB"], ["for", "IN"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["array", "NN"], ["accesses", "NNS"], [",", ","], ["if", "IN"], ["you", "PRP"], ["count", "VBP"], ["up", "RP"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["times", "NNS"], ["you", "PRP"], ["'re", "VBP"], ["accessing", "VBG"], ["an", "DT"], ["array", "NN"], ["for", "IN"], ["a", "DT"], ["merge", "NN"], ["you", "PRP"], ["could", "MD"], ["be", "VB"], ["at", "IN"], ["most", "JJS"], ["six", "CD"], ["in", "IN"], [".", "."], ["So", "IN"], ["these", "DT"], ["are", "VBP"], ["mathematical", "JJ"], ["formulas", "NNS"], ["and", "CC"], ["there", "EX"], ["'s", "VBZ"], ["techniques", "NNS"], ["for", "IN"], ["solving", "VBG"], ["them", "PRP"], ["and", "CC"], ["we", "PRP"], ["wo", "MD"], ["n't", "RB"], ["go", "VB"], ["into", "IN"], ["that", "DT"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["not", "RB"], ["a", "DT"], ["course", "NN"], ["on", "IN"], ["discrete", "JJ"], ["mathematics", "NNS"], [".", "."], ["But", "CC"], ["what", "WP"], ["we", "PRP"], ["then", "RB"], ["do", "VBP"], ["is", "VBZ"], ["show", "VB"], ["how", "WRB"], ["to", "TO"], ["solve", "VB"], ["the", "DT"], ["recurrence", "NN"], ["when", "WRB"], ["N", "NNP"], ["is", "VBZ"], ["a", "DT"], ["power", "NN"], ["of", "IN"], ["2", "CD"], [".", "."], ["And", "CC"], ["then", "RB"], ["it", "PRP"], ["turns", "VBZ"], ["out", "RP"], ["that", "IN"], ["it", "PRP"], ["holds", "VBZ"], ["for", "IN"], ["all", "DT"], ["N", "NNP"], [",", ","], ["which", "WDT"], ["we", "PRP"], ["can", "MD"], ["prove", "VB"], ["by", "IN"], ["induction", "NN"], ["from", "IN"], ["the", "DT"], ["recurrence", "NN"], [".", "."], ["So", "RB"], ["if", "IN"], ["you", "PRP"], ["have", "VBP"], ["this", "DT"], ["recurrence", "NN"], ["[", "NNP"], ["COUGH", "NNP"], ["]", "NNP"], ["which", "WDT"], ["is", "VBZ"], ["similar", "JJ"], ["to", "TO"], ["the", "DT"], ["ones", "NNS"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["talking", "VBG"], ["about", "IN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["exactly", "RB"], ["the", "DT"], ["same", "JJ"], ["when", "WRB"], ["N", "NNP"], ["is", "VBZ"], ["a", "DT"], ["power", "NN"], ["of", "IN"], ["2", "CD"], ["let", "NN"], ["'s", "POS"], [",", ","], ["let", "VB"], ["'s", "POS"], ["look", "VB"], ["at", "IN"], ["this", "DT"], ["one", "CD"], [".", "."], ["If", "IN"], ["D", "NNP"], ["of", "IN"], ["N", "NNP"], ["is", "VBZ"], ["2D", "CD"], ["of", "IN"], ["N", "NNP"], ["over", "IN"], ["2", "CD"], ["plus", "CC"], ["N", "NNP"], ["with", "IN"], ["D", "NNP"], ["of", "IN"], ["1", "CD"], ["equals", "NNS"], ["0", "CD"], [",", ","], ["then", "RB"], ["D", "NNP"], ["of", "IN"], ["N", "NNP"], ["equals", "NNS"], ["N", "NNP"], ["log", "NN"], ["N.", "NNP"], ["We", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["three", "CD"], ["proofs", "NN"], ["of", "IN"], ["that", "DT"], [",", ","], ["just", "RB"], ["assuming", "VBG"], ["that", "IN"], ["N", "NNP"], ["is", "VBZ"], ["a", "DT"], ["power", "NN"], ["of", "IN"], ["2", "CD"], [".", "."], ["If", "IN"], ["N", "NNP"], ["is", "VBZ"], ["a", "DT"], ["power", "NN"], ["of", "IN"], ["2", "CD"], [",", ","], ["then", "RB"], ["N", "NNP"], ["over", "IN"], ["2", "CD"], ["is", "VBZ"], ["also", "RB"], ["a", "DT"], ["power", "NN"], ["of", "IN"], ["two", "CD"], [",", ","], ["so", "IN"], ["the", "DT"], ["recurrence", "NN"], ["makes", "VBZ"], ["sense", "NN"], [".", "."], ["So", "IN"], ["this", "DT"], ["is", "VBZ"], ["just", "RB"], ["a", "DT"], ["graphical", "JJ"], ["representation", "NN"], ["if", "IN"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["compute", "VB"], ["D", "NNP"], ["of", "IN"], ["N", "NNP"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["compute", "VB"], ["D", "NNP"], ["of", "IN"], ["N", "NNP"], ["over", "IN"], ["2", "CD"], ["twice", "RB"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["2", "CD"], ["and", "CC"], ["then", "RB"], ["the", "DT"], ["extra", "JJ"], ["cost", "NN"], ["for", "IN"], ["the", "DT"], ["merge", "NN"], ["is", "VBZ"], ["N", "NNP"], [",", ","], ["but", "CC"], ["if", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], ["this", "DT"], ["twice", "NN"], ["then", "RB"], ["we", "PRP"], ["have", "VBP"], ["2N", "CD"], ["over", "IN"], ["2", "CD"], [".", "."], ["So", "NNP"], ["let", "NN"], ["'s", "POS"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["2N", "CD"], ["over", "IN"], ["2s", "CD"], ["and", "CC"], ["then", "RB"], ["for", "IN"], ["each", "DT"], ["one", "CD"], ["of", "IN"], ["these", "DT"], ["we", "PRP"], ["have", "VBP"], ["divided", "VBN"], ["into", "IN"], ["N", "NNP"], ["over", "IN"], ["4s", "CD"], ["and", "CC"], ["each", "DT"], ["one", "CD"], ["of", "IN"], ["those", "DT"], ["4N", "CD"], ["over", "IN"], ["4s", "CD"], ["has", "VBZ"], ["an", "DT"], ["extra", "JJ"], ["cross", "NN"], ["for", "IN"], ["the", "DT"], ["merge", "NN"], ["of", "IN"], ["N", "NNP"], ["over", "IN"], ["4", "CD"], [".", "."], ["Well", "RB"], ["2N", "CD"], ["over", "IN"], ["2", "CD"], ["is", "VBZ"], ["N", "NNP"], [",", ","], ["4N", "CD"], ["over", "IN"], ["4", "CD"], ["is", "VBZ"], ["N", "NNP"], ["and", "CC"], ["we", "PRP"], ["keep", "VBP"], ["going", "VBG"], ["down", "RP"], [",", ","], ["doing", "VBG"], ["that", "IN"], ["til", "NN"], ["we", "PRP"], ["get", "VBP"], ["down", "RB"], ["to", "TO"], ["D", "NNP"], ["of", "IN"], ["2", "CD"], ["and", "CC"], ["we", "PRP"], ["always", "RB"], ["for", "IN"], ["the", "DT"], ["extra", "JJ"], ["cross", "NN"], ["for", "IN"], ["the", "DT"], ["merge", "NN"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["N.", "VBN"], ["And", "CC"], ["how", "WRB"], ["many", "JJ"], ["stages", "NNS"], ["do", "VBP"], ["we", "PRP"], ["have", "VB"], ["here", "RB"], ["?", "."], ["Well", "UH"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["times", "NNS"], ["you", "PRP"], ["divide", "VBP"], ["N", "NNP"], ["by", "IN"], ["2", "CD"], ["to", "TO"], ["get", "VB"], ["down", "RB"], ["to", "TO"], ["2", "CD"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["exactly", "RB"], ["log", "JJ"], ["base", "NN"], ["2", "CD"], ["of", "IN"], ["N", "NNP"], [",", ","], ["so", "IN"], ["the", "DT"], ["grand", "JJ"], ["total", "NN"], ["of", "IN"], ["all", "PDT"], ["the", "DT"], ["costs", "NNS"], ["for", "IN"], ["the", "DT"], ["merge", "NN"], [",", ","], ["which", "WDT"], ["is", "VBZ"], ["where", "WRB"], ["the", "DT"], ["compares", "NNS"], ["are", "VBP"], [",", ","], ["is", "VBZ"], ["log", "JJ"], ["N", "NNP"], ["times", "NNS"], ["N", "NNP"], [",", ","], ["N", "NNP"], ["log", "VBZ"], ["N.", "NNP"], ["It", "PRP"], ["'s", "VBZ"], ["kind", "NN"], ["of", "IN"], ["a", "DT"], ["graphical", "JJ"], ["proof", "NN"], ["or", "CC"], ["a", "DT"], ["proof", "NN"], ["by", "IN"], ["picture", "NN"], ["that", "IN"], ["that", "DT"], ["recurrence", "NN"], ["has", "VBZ"], ["that", "DT"], ["solution", "NN"], [".", "."], ["Here", "RB"], ["'s", "VBZ"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["more", "RBR"], ["mathematical", "JJ"], ["one", "CD"], [":", ":"], ["we", "PRP"], ["write", "VBP"], ["the", "DT"], ["recurrence", "NN"], ["down", "RB"], [",", ","], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["divide", "VBP"], ["both", "DT"], ["sides", "NNS"], ["by", "IN"], ["N.", "NNP"], ["So", "NNP"], ["then", "RB"], ["this", "DT"], ["is", "VBZ"], ["D", "NNP"], ["of", "IN"], ["N", "NNP"], ["over", "IN"], ["N", "NNP"], ["equals", "NNS"], ["D", "NNP"], ["of", "IN"], ["N", "NNP"], ["over", "IN"], ["2", "CD"], ["over", "IN"], ["N", "NNP"], ["over", "IN"], ["2", "CD"], ["plus", "CC"], ["1", "CD"], [".", "."], ["So", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["dividing", "VBG"], ["by", "IN"], ["N.", "NNP"], ["So", "NNP"], ["now", "RB"], [",", ","], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], ["recurrence", "NN"], ["that", "IN"], ["telescopes", "VBZ"], [".", "."], ["The", "DT"], ["first", "JJ"], ["term", "NN"], ["on", "IN"], ["the", "DT"], ["right", "JJ"], ["hand", "NN"], ["side", "NN"], ["is", "VBZ"], ["exactly", "RB"], ["the", "DT"], ["same", "JJ"], ["as", "IN"], ["the", "DT"], ["left", "JJ"], ["hand", "NN"], ["side", "NN"], ["so", "IN"], ["we", "PRP"], ["can", "MD"], ["apply", "VB"], ["the", "DT"], ["same", "JJ"], ["formula", "NN"], [".", "."], ["And", "CC"], ["all", "DT"], ["it", "PRP"], ["does", "VBZ"], ["is", "VBZ"], ["divides", "VBN"], ["by", "IN"], ["2", "CD"], ["again", "RB"], ["and", "CC"], ["then", "RB"], ["throws", "VBZ"], ["out", "RP"], ["another", "DT"], ["1", "CD"], [".", "."], ["And", "CC"], ["we", "PRP"], ["keep", "VBP"], ["doing", "VBG"], ["that", "IN"], ["until", "IN"], ["we", "PRP"], ["get", "VBP"], ["down", "RB"], ["to", "TO"], ["D", "NNP"], ["of", "IN"], ["1", "CD"], ["which", "WDT"], ["is", "VBZ"], ["0", "CD"], [".", "."], ["And", "CC"], ["when", "WRB"], ["we", "PRP"], ["'ve", "VBP"], ["done", "VBN"], ["that", "IN"], [",", ","], ["we", "PRP"], ["'ve", "VBP"], ["thrown", "VBN"], ["out", "RP"], ["lg", "JJ"], ["N", "NNP"], ["1s", "CD"], [".", "."], ["So", "IN"], ["we", "PRP"], ["get", "VBP"], ["D", "NNP"], ["of", "IN"], ["N", "NNP"], ["over", "IN"], ["N", "NNP"], ["equals", "NNS"], ["log", "VBP"], ["N", "NNP"], [",", ","], ["or", "CC"], ["D", "NNP"], ["of", "IN"], ["N", "NNP"], ["equals", "NNS"], ["N", "NNP"], ["log", "NN"], ["N.", "NNP"], ["That", "NNP"], ["'s", "VBZ"], ["another", "DT"], ["proof", "NN"], ["by", "IN"], ["expansion", "NN"], [".", "."], ["Or", "CC"], ["using", "VBG"], ["either", "CC"], ["one", "CD"], ["of", "IN"], ["those", "DT"], ["techniques", "NNS"], ["you", "PRP"], ["could", "MD"], ["just", "RB"], ["get", "VB"], ["the", "DT"], ["idea", "NN"], ["that", "IN"], ["D", "NNP"], ["of", "IN"], ["N", "NNP"], ["is", "VBZ"], ["close", "RB"], ["to", "TO"], ["Log", "NNP"], ["N", "NNP"], ["or", "CC"], ["you", "PRP"], ["can", "MD"], ["write", "VB"], ["a", "DT"], ["program", "NN"], ["to", "TO"], ["expand", "VB"], ["the", "DT"], ["recurrence", "NN"], ["and", "CC"], ["find", "VB"], ["that", "DT"], [".", "."], ["And", "CC"], ["then", "RB"], ["once", "RB"], ["we", "PRP"], ["have", "VBP"], ["the", "DT"], ["idea", "NN"], ["that", "IN"], ["D", "NNP"], ["of", "IN"], ["N", "NNP"], ["equals", "NNS"], ["N", "NNP"], ["lg", "NN"], ["N", "NNP"], [",", ","], ["we", "PRP"], ["can", "MD"], ["plug", "VB"], ["back", "RB"], ["into", "IN"], ["the", "DT"], ["original", "JJ"], ["formula", "NN"], [".", "."], ["With", "IN"], ["the", "DT"], ["inductive", "JJ"], ["hypothesis", "NN"], ["that", "IN"], ["D", "NNP"], ["of", "IN"], ["N", "NNP"], ["equals", "NNS"], ["N", "NNP"], ["lg", "NN"], ["N", "NNP"], [",", ","], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["show", "VB"], ["that", "IN"], ["D", "NNP"], ["of", "IN"], ["2N", "CD"], ["equals", "NNS"], ["2N", "CD"], ["lg", "JJ"], ["2N", "CD"], [",", ","], ["using", "VBG"], ["the", "DT"], ["recurrence", "NN"], ["D", "NNP"], ["of", "IN"], ["2N", "CD"], ["equals", "NNS"], ["2D", "CD"], ["of", "IN"], ["N", "NNP"], ["plus", "CC"], ["throw", "VB"], ["out", "IN"], ["the", "DT"], ["2N", "CD"], [".", "."], ["Plugging", "VBG"], ["in", "IN"], ["N", "NNP"], ["log", "NN"], ["N", "NNP"], ["we", "PRP"], ["get", "VBP"], ["the", "DT"], ["desired", "JJ"], ["result", "NN"], [".", "."], ["We", "PRP"], ["use", "VBP"], ["this", "DT"], ["same", "JJ"], ["idea", "NN"], ["on", "IN"], ["our", "PRP$"], ["initial", "JJ"], ["recurrences", "NNS"], ["for", "IN"], ["comparison", "NN"], ["array", "NN"], ["accesses", "VBZ"], ["to", "TO"], ["show", "VB"], ["that", "IN"], ["the", "DT"], ["running", "NN"], [",", ","], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["comparison", "JJ"], ["array", "NN"], ["accesses", "NNS"], ["is", "VBZ"], ["proportional", "JJ"], ["to", "TO"], ["N", "NNP"], ["log", "NN"], ["N", "NNP"], ["for", "IN"], ["Mergesort", "NNP"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["running", "JJ"], ["time", "NN"], ["Mergesort", "NNP"], ["is", "VBZ"], ["fast", "RB"], ["other", "JJ"], ["thing", "NN"], ["that", "IN"], ["we", "PRP"], ["usually", "RB"], ["want", "VBP"], ["to", "TO"], ["know", "VB"], ["is", "VBZ"], ["memory", "NN"], [".", "."], ["And", "CC"], ["one", "CD"], ["of", "IN"], ["Mergesort", "NNP"], ["'s", "POS"], ["characteristics", "NNS"], ["is", "VBZ"], ["that", "IN"], ["in", "IN"], ["practical", "JJ"], ["applications", "NNS"], [",", ","], ["it", "PRP"], ["uses", "VBZ"], ["extra", "JJ"], ["space", "NN"], ["proportional", "NN"], ["to", "TO"], ["N.", "NNP"], ["That", "NNP"], ["is", "VBZ"], [",", ","], ["we", "PRP"], ["need", "VBP"], ["that", "IN"], ["extra", "JJ"], ["auxiliary", "JJ"], ["array", "NN"], ["for", "IN"], ["the", "DT"], ["last", "JJ"], ["merge", "NN"], [".", "."], ["We", "PRP"], ["took", "VBD"], ["two", "CD"], ["sorted", "JJ"], ["subarrays", "NNS"], ["and", "CC"], ["we", "PRP"], ["talked", "VBD"], ["about", "IN"], ["an", "DT"], ["abstract", "NN"], ["in", "IN"], ["place", "NN"], ["merge", "NN"], ["but", "CC"], ["we", "PRP"], ["did", "VBD"], ["n't", "RB"], ["have", "VB"], ["an", "DT"], ["actual", "JJ"], ["in", "IN"], ["place", "NN"], ["merge", "NN"], [".", "."], ["We", "PRP"], ["were", "VBD"], ["using", "VBG"], ["an", "DT"], ["extra", "JJ"], ["subarray", "NN"], [".", "."], ["So", "CC"], ["N", "JJ"], ["place", "NN"], ["is", "VBZ"], ["important", "JJ"], [".", "."], ["A", "DT"], ["lot", "NN"], ["of", "IN"], ["times", "NNS"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["sorting", "VBG"], ["everything", "NN"], ["we", "PRP"], ["have", "VBP"], [".", "."], ["We", "PRP"], ["want", "VBP"], ["to", "TO"], ["fill", "VB"], ["up", "RP"], ["the", "DT"], ["memory", "NN"], ["with", "IN"], ["stuff", "NN"], ["to", "TO"], ["sort", "VB"], ["and", "CC"], ["then", "RB"], ["sort", "VB"], ["it", "PRP"], [".", "."], ["And", "CC"], ["search", "NN"], ["and", "CC"], ["selection", "NN"], ["in", "IN"], ["shellsort", "NN"], ["are", "VBP"], ["in", "IN"], ["place", "NN"], [",", ","], ["they", "PRP"], ["do", "VBP"], ["n't", "RB"], ["use", "VB"], ["any", "DT"], ["extra", "JJ"], ["memory", "NN"], [".", "."], ["But", "CC"], ["Mergesort", "NNP"], ["you", "PRP"], ["can", "MD"], ["only", "RB"], ["sort", "VB"], ["really", "RB"], ["half", "NN"], ["of", "IN"], ["what", "WP"], ["you", "PRP"], ["can", "MD"], ["fit", "VB"], ["in", "IN"], ["memory", "NN"], [",", ","], ["because", "IN"], ["you", "PRP"], ["need", "VBP"], ["that", "IN"], ["auxiliary", "JJ"], ["array", "NN"], ["for", "IN"], ["the", "DT"], ["other", "JJ"], ["half", "NN"], [".", "."], ["If", "IN"], ["you", "PRP"], ["want", "VBP"], [",", ","], ["again", "RB"], [",", ","], ["if", "IN"], ["you", "PRP"], ["think", "VBP"], ["that", "IN"], ["the", "DT"], ["things", "NNS"], ["we", "PRP"], ["'re", "VBP"], ["studying", "VBG"], ["are", "VBP"], ["easy", "JJ"], [",", ","], ["think", "VB"], ["about", "IN"], ["the", "DT"], ["idea", "NN"], ["of", "IN"], ["actually", "RB"], ["doing", "VBG"], ["an", "DT"], ["in-place", "JJ"], ["merge", "NN"], [".", "."], ["People", "NNS"], ["have", "VBP"], ["come", "VBN"], ["up", "RP"], ["with", "IN"], ["methods", "NNS"], ["for", "IN"], ["getting", "VBG"], ["this", "DT"], ["done", "VBN"], [".", "."], ["So", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["theoretically", "RB"], ["possible", "JJ"], [",", ","], ["but", "CC"], ["the", "DT"], ["methods", "NNS"], ["are", "VBP"], ["generally", "RB"], ["too", "RB"], ["complex", "JJ"], ["to", "TO"], ["be", "VB"], ["useful", "JJ"], ["in", "IN"], ["practice", "NN"], ["and", "CC"], ["their", "PRP$"], ["not", "RB"], ["used", "VBN"], [".", "."], ["But", "CC"], ["there", "EX"], ["could", "MD"], ["be", "VB"], ["out", "RP"], ["there", "RB"], ["some", "DT"], ["easy", "JJ"], ["way", "NN"], ["to", "TO"], ["doing", "VBG"], ["in", "IN"], ["place", "NN"], ["merge", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["another", "DT"], ["great", "JJ"], ["algorithm", "NN"], ["waiting", "VBG"], ["to", "TO"], ["be", "VB"], ["discovered", "VBN"], [".", "."], ["Now", "RB"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], [",", ","], ["a", "DT"], ["number", "NN"], ["of", "IN"], ["practical", "JJ"], ["improvements", "NNS"], ["that", "IN"], ["we", "PRP"], ["can", "MD"], ["use", "VB"], ["to", "TO"], ["make", "VB"], ["Mergesort", "NNP"], ["even", "RB"], ["more", "RBR"], ["efficient", "JJ"], ["than", "IN"], ["the", "DT"], ["simple", "JJ"], ["one", "NN"], ["that", "WDT"], ["we", "PRP"], ["'ve", "VBP"], ["looked", "VBN"], ["at", "IN"], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["take", "VB"], ["a", "DT"], ["look", "NN"], ["of", "IN"], ["those", "DT"], ["because", "IN"], ["they", "PRP"], ["'re", "VBP"], ["examples", "NNS"], ["of", "IN"], ["techniques", "NNS"], ["that", "IN"], ["we", "PRP"], ["can", "MD"], ["use", "VB"], ["for", "IN"], ["other", "JJ"], ["algorithms", "NN"], [".", "."], ["First", "JJ"], ["thing", "NN"], ["is", "VBZ"], ["that", "IN"], ["Mergesort", "NNP"], ["is", "VBZ"], ["too", "RB"], ["complicated", "VBN"], ["to", "TO"], ["use", "VB"], ["for", "IN"], ["tiny", "JJ"], ["arrays", "NNS"], [".", "."], ["So", "RB"], ["say", "VB"], ["the", "DT"], ["subarrays", "NNS"], ["are", "VBP"], ["only", "RB"], ["of", "IN"], ["two", "CD"], [",", ","], ["or", "CC"], ["three", "CD"], [",", ","], ["or", "CC"], ["four", "CD"], ["there", "EX"], ["'s", "VBZ"], ["too", "RB"], ["much", "JJ"], ["overhead", "NN"], ["with", "IN"], ["the", "DT"], ["recursive", "JJ"], ["calls", "NNS"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], ["to", "TO"], ["get", "VB"], ["that", "IN"], ["done", "VBN"], ["efficiently", "RB"], [".", "."], ["And", "CC"], ["what", "WP"], ["'s", "VBZ"], ["worse", "JJR"], ["is", "VBZ"], [",", ","], ["the", "DT"], ["recursive", "JJ"], ["nature", "NN"], ["of", "IN"], ["the", "DT"], ["sort", "NN"], ["definitely", "RB"], ["means", "VBZ"], ["that", "IN"], ["there", "EX"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["lots", "NNS"], ["of", "IN"], ["subarrays", "NNS"], ["to", "TO"], ["be", "VB"], ["sorted", "VBN"], [".", "."], ["So", "RB"], [",", ","], ["one", "CD"], ["improvement", "NN"], ["that", "IN"], ["we", "PRP"], ["can", "MD"], ["make", "VB"], ["is", "VBZ"], ["to", "TO"], ["use", "VB"], ["insertion", "NN"], ["sort", "NN"], [",", ","], ["and", "CC"], ["just", "RB"], ["cut", "VB"], ["off", "RP"], ["and", "CC"], ["use", "VB"], ["insertion", "NN"], ["sort", "NN"], ["which", "WDT"], ["is", "VBZ"], ["simple", "JJ"], ["and", "CC"], ["efficient", "JJ"], ["for", "IN"], ["small", "JJ"], ["subarrays", "NNS"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["adding", "VBG"], ["this", "DT"], ["one", "CD"], ["line", "NN"], ["of", "IN"], ["code", "NN"], ["to", "TO"], ["Mergesort", "NNP"], ["will", "MD"], ["make", "VB"], ["it", "PRP"], ["quite", "RB"], ["a", "DT"], ["bit", "NN"], ["faster", "RBR"], [".", "."], ["Maybe", "RB"], ["20", "CD"], ["%", "NN"], ["faster", "RBR"], [".", "."], ["The", "DT"], ["second", "JJ"], ["improvement", "NN"], ["that", "IN"], ["we", "PRP"], ["can", "MD"], ["make", "VB"], ["that", "DT"], ["'ll", "MD"], ["improve", "VB"], ["the", "DT"], ["performance", "NN"], ["for", "IN"], ["cases", "NNS"], ["when", "WRB"], ["the", "DT"], ["array", "NN"], ["is", "VBZ"], ["partly", "RB"], ["sorted", "VBN"], [",", ","], ["is", "VBZ"], ["to", "TO"], ["just", "RB"], ["stop", "VB"], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["already", "RB"], ["sorted", "VBN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["happen", "VB"], ["in", "IN"], ["the", "DT"], ["case", "NN"], ["where", "WRB"], ["the", "DT"], ["biggest", "JJS"], ["element", "NN"], ["in", "IN"], ["the", "DT"], ["first", "JJ"], ["half", "NN"], ["is", "VBZ"], ["less", "RBR"], ["or", "CC"], ["equal", "JJ"], ["to", "TO"], ["the", "DT"], ["smallest", "JJS"], ["item", "NN"], ["in", "IN"], ["the", "DT"], ["second", "JJ"], ["half", "NN"], [".", "."], ["That", "DT"], ["means", "VBZ"], ["it", "PRP"], ["'s", "VBZ"], ["done", "VBN"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["easy", "JJ"], [".", "."], ["We", "PRP"], ["just", "RB"], ["put", "VBD"], ["a", "DT"], ["test", "NN"], ["in", "IN"], ["the", "DT"], ["recursive", "JJ"], ["Mergesort", "NNP"], ["for", "IN"], ["that", "DT"], [",", ","], ["through", "IN"], ["this", "DT"], ["one", "CD"], ["line", "NN"], ["of", "IN"], ["code", "NN"], [",", ","], ["to", "TO"], ["check", "VB"], ["whether", "IN"], ["we", "PRP"], ["'re", "VBP"], ["done", "VBN"], [".", "."], ["That", "DT"], ["way", "NN"], [",", ","], ["for", "IN"], ["example", "NN"], [",", ","], ["if", "IN"], ["you", "PRP"], ["were", "VBD"], ["to", "TO"], ["call", "VB"], ["Mergesort", "NNP"], ["for", "IN"], ["an", "DT"], ["array", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["already", "RB"], ["in", "IN"], ["order", "NN"], ["it", "PRP"], ["would", "MD"], ["just", "RB"], ["do", "VB"], ["this", "DT"], ["test", "NN"], ["every", "DT"], ["time", "NN"], ["and", "CC"], ["it", "PRP"], ["would", "MD"], ["be", "VB"], ["done", "VBN"], ["in", "IN"], ["linear", "JJ"], ["time", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["pretty", "RB"], ["helpful", "JJ"], ["although", "IN"], ["not", "RB"], [",", ","], ["not", "RB"], ["totally", "RB"], ["helpful", "JJ"], ["but", "CC"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["situations", "NNS"], ["where", "WRB"], ["that", "DT"], ["'s", "VBZ"], ["helpful", "JJ"], [".", "."], ["The", "DT"], ["other", "JJ"], ["thing", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["possible", "JJ"], ["to", "TO"], ["do", "VB"], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["little", "JJ"], ["mind", "NN"], ["bending", "VBG"], ["so", "RB"], ["recommended", "VBN"], ["only", "RB"], ["for", "IN"], ["experts", "NNS"], [".", "."], ["Is", "VBZ"], ["to", "TO"], ["save", "VB"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["of", "IN"], ["time", "NN"], ["you", "PRP"], ["do", "VBP"], ["n't", "RB"], ["really", "RB"], ["have", "VB"], ["to", "TO"], ["copy", "VB"], ["over", "RP"], ["into", "IN"], ["the", "DT"], ["auxiliary", "JJ"], ["array", "NN"], [".", "."], ["You", "PRP"], ["can", "MD"], ["kind", "NN"], ["of", "IN"], ["switch", "NN"], ["the", "DT"], ["role", "NN"], ["of", "IN"], ["the", "DT"], ["input", "NN"], ["and", "CC"], ["the", "DT"], ["auxiliary", "JJ"], ["array", "NN"], ["every", "DT"], ["time", "NN"], ["you", "PRP"], ["make", "VBP"], ["a", "DT"], ["recursive", "JJ"], ["call", "NN"], [".", "."], ["You", "PRP"], ["still", "RB"], ["need", "VBP"], ["that", "IN"], ["array", "NN"], ["but", "CC"], ["you", "PRP"], ["can", "MD"], ["set", "VB"], ["up", "RP"], ["the", "DT"], ["code", "NN"], ["in", "IN"], ["this", "DT"], ["way", "NN"], ["which", "WDT"], ["[", "VBP"], ["COUGH", "NNP"], ["]", "NNP"], ["sort", "NN"], [",", ","], ["to", "TO"], ["sort", "VB"], ["an", "DT"], ["array", "NN"], [",", ","], ["put", "VBD"], ["the", "DT"], ["result", "NN"], ["in", "IN"], ["the", "DT"], ["other", "JJ"], ["one", "NN"], [".", "."], ["To", "TO"], ["merge", "VB"], ["an", "DT"], ["array", "NN"], [",", ","], ["put", "VBD"], ["the", "DT"], ["result", "NN"], ["back", "RB"], ["in", "IN"], ["the", "DT"], ["first", "JJ"], ["one", "NN"], [".", "."], ["So", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["recursive", "JJ"], ["argument", "NN"], ["switchery", "NN"], ["to", "TO"], ["get", "VB"], ["the", "DT"], ["job", "NN"], ["done", "VBN"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["effective", "JJ"], [",", ","], ["it", "PRP"], ["means", "VBZ"], ["you", "PRP"], ["do", "VBP"], ["n't", "RB"], ["have", "VB"], ["to", "TO"], ["actually", "RB"], ["move", "VB"], ["items", "NNS"], [",", ","], ["and", "CC"], ["that", "IN"], ["saves", "VBZ"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["of", "IN"], ["time", "NN"], [".", "."], ["So", "RB"], ["here", "RB"], ["'s", "VBZ"], ["a", "DT"], ["visualization", "NN"], ["of", "IN"], ["what", "WP"], ["the", "DT"], ["practical", "JJ"], ["Mergesort", "NNP"], ["might", "MD"], ["look", "VB"], ["like", "IN"], [",", ","], ["and", "CC"], ["this", "DT"], ["is", "VBZ"], ["with", "IN"], ["big", "JJ"], ["cutoff", "NN"], ["to", "TO"], ["small", "JJ"], ["subfiles", "NNS"], [".", "."], ["So", "IN"], ["you", "PRP"], ["got", "VBD"], ["a", "DT"], ["visual", "JJ"], ["feeling", "NN"], ["of", "IN"], ["how", "WRB"], ["this", "DT"], ["sort", "NN"], ["gets", "VBZ"], ["the", "DT"], ["job", "NN"], ["done", "VBN"], [".", "."], ["So", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["the", "DT"], ["first", "JJ"], ["little", "JJ"], ["chunck", "NN"], ["and", "CC"], ["then", "RB"], ["the", "DT"], ["next", "JJ"], ["little", "JJ"], ["chunk", "NN"], ["and", "CC"], ["then", "RB"], ["merges", "NNS"], ["those", "DT"], ["together", "RB"], [",", ","], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], ["and", "CC"], ["so", "RB"], ["on", "IN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["good", "JJ"], ["visual", "JJ"], ["representation", "NN"], ["of", "IN"], ["how", "WRB"], ["Mergesort", "NNP"], ["gets", "VBZ"], ["its", "PRP$"], ["job", "NN"], ["done", "VBN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["the", "DT"], ["basic", "JJ"], ["Mergesort", "NNP"], ["algorithm", "NN"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["different", "JJ"], ["versions", "NNS"], ["of", "IN"], ["in", "IN"], ["the", "DT"], ["next", "JJ"], [".", "."]], "title": "mergesort", "text": "Welcome back. Today we're going to look at Mergesort, which is one of two classic sorting algorithms that are critical components in the world's computational infrastructure. We have a full scientific understanding of the properties of these algorithms, and they've been developed as practical system sorts and application sorts that have been heavily used over the past 50 years. In fact Quicksort, which we'll consider next time, was honored as one of the top 10 algorithms of the 20th century in science and engineering. On this lecture we're going to look in Mergesort, which is the basic sort in plenty of different programming systems including Java. Next time we'll look at Quicksort which is also used in Java for different applications. Alright, so basic Mergesort algorithm. What's it going to look like? The idea is very simple. What we're going to do is divide an array into two halves. Recursively, recursively sort each of the halves. And then merge the result. That's the over-view of Mergesort. It was actually one of the first non trivial algorithms I implemented on a computer. John Von Norman realized that the development of the EDVAC, his EDVAC computer, one of the first general purpose computers that is going to need a sorting method and he came up with Mergesort. He's widely accredited as being the inventor of Mergesort. So the idea of Mergesort is, is based on the idea of merging. And so to understand how merging works we'll think about the idea of an abstract in place merge. So, we've got an array A and its first half is sorted and its second half is sorted and the computation we need to perform is to replace that with the sorted array where those two sub-halves are merged together. Let's look at a demo. [COUGH] The method that we're going to use is based on taking an auxiliary array to hold the data. This is a, one of the easiest ways to implement the merge. So the first thing we do is copy everything over to the auxiliary array. Now, once that's done, what we'll want to do is copy back to the original array to get it in sorted order. In order to do that, we're going to maintain three indices. I, the current entry in the left half, j, the current entry on the right half and k, the current entry in the sorted result. [COUGH] so the first thing we do is, take the smaller of the two entries pointed to by i and j, and compare those, and take the smallest one, and move that one to be the next item output. And whichever one is taken, we increment its pointer. Now we compare the minimum again, again, the one pointed group by j is smaller, so we move that one to k. Increment that pointer j and also increment k. Now there's two E's, equal we always take the first. So the one on the left array goes to k's position. And now we increment i and k. And again, it's an E and they're equal. We'll take the first one so we move that one up increment i and k. And now j's E is smaller than g. It's the next thing that has to go in the output. So we move that one up and increment j and k. Now the one pointed to my i, the G is smallest so move that and increment i and k. Move the M up and increment i and k. Now the last element in the left sub array is the one that's going to get moved next. And now that first subarray is exhausted so really all we need to do is take the rest of the elements from the right part and move them back in. Actually since we copied, we could optimize by avoiding these moves. That's an abstract in-place merge for taking the two sorted sub-halves of an array using an auxiliary array, move them out, and then put them back in in sorted order. Alright, so here's the code for merging, which is quite straightforward from the demo. We first in order to sort an array of comparables in this implementation we pass a link to the auxiliary array, in as well. And we have three arguments lo, mid, and hi. So lo is the first part of the array to be sorted. Mid's the midpoint that divides the first part from the second, so our conditions are that from lo to mid is sorted, and from mid plus 1 to hi is sorted. [COUGH] so the merge implementation then, the first thing it does is copy everything over to the auxiliary array. And then that sets up for this four loop that accomplishes the merge. We start our I pointer at the left heart on the left half. The J pointer on the left part of the right half. That's mid plus one. And we start the k Pointer at the beginning lo. And for every value of k what we're most often doing is comparing whether aux of j is less than aux of i. And if it is, we move the element of j over in increment j. If it's greater we move the element i over in increment i. And then in both cases, we increment a, not imple, increment k, and that implements the merge. If the i pointer is exhausted, then we just move over the j, next jth element. If the j pointer is exhausted we move over the next ith element. So every time we're moving a new element into k and that's the code that impelements the abstract in place merge. Now with this code, we're also introducing the idea of making assertions just to make it easier to debug our code and to have confidence that it's correct. In this case, this insertion just says we want to be sure that a of lo to mid assorted and that mid plus one to high is sorted before our code and then we want to check that, the whole thing is sorted after our code. And generally programmers, Java programmers know that it's a good idea to try to do these assertions. Not only does it help detect bugs, but it also documents what the code is supposed to do. And that merge code is a good example of this. If you put at the beginning of the code what you expect in the, in the form of an assertion, which is code itself. And you put at the end of the code what you think it's going to do, again in the form of an assertion. You're both testing that these conditions hold, and also telling someone reading the code, what you're trying to do with it. So Java is just an assert statement. It takes it, boolean condition. In this case, we're using that method is sorted that we were before. That returns true if the ported is sorted and false if it's not. And what assert will do is it will throw an exception unless that condition is true. Now the thing about assertions in Java is that you can enable or disable them at runtime. And that's really important, because it means you can put them into your code to check while developing. But it doesn't incur any extra cost at all in production code. So by default, insertions are disabled. Something goes wrong somebody analyzing the situation can enable insertions and they often will help find out where, what the problem is. So, the best practice is to use insertions just as we did in that example with merge and to assume that they're not going to be there in production codes. You shouldn't use them for the things like checking if the input is the way you like it. Alright, so with that merge implementation, then the sort implementation is a quite simple, recursive procedure shown here. So we use the merge procedure we just showed, and then our sort procedure. It's recursive so, checks that we have something to do first. Then it computes the value of the midpoint same way as we did for a binary search. Sort the first half. Sort the second half, and then merge them together. And then the actual sort is takes just the one argument of the array creates the auxiliary array and then uses that. Now, it's important to not create the auxiliary array in the re in the recursive routine because that could lead to extensive cost of extra array creation. And you'll sometimes see Mergesort performing poorly because of that bug. Otherwise this is a very straight forward implementation. And it's actually a prototype for algorithm design that we'll see come up again and again. It's called divide and conquer. Solve a problem by dividing it into two halves, solving the two halves, and then putting the solutions together to get the appropriate answer. [COUGH] here's a trace of what Mergesort does and if you haven't studied a recursive program before it's worthwhile studying this thing in, in some detail. This gives exactly what happens during each of the calls to merge. We start out with a big problem to solve but we divide it in half, then we divide that one in half, and then we divide that one in half. And the very first thing that we actually do is just compare and exchange if necessary the first two elements. And then we do the same thing for the next two elements. Then merge those two together to get the first four done. And then we do the same thing for the next four in the array. So now we have two sorted sub-arrays at size four. And we merge those together to get one of size eight. And then we do the same thing on the right, and eventually we have two eights that we merge together to get the final result. Very instructive to study this trace to really understand what this recursive algorithm is doing. So now we can animate and again Mergesort's more efficient, so we can do more and more items. You can see it's got the first half sorted, now it's working on the second half. And then once it gets the second half sorted, then it's going to go ahead and merge them right together to get the sorted result. It's got a little extra [COUGH] dynamics in the animation because of the auxiliary array. Let's look at it when it's in reverse order again it gets the first half done now it's working on the second half once it gets the second half done then it goes ahead and merges together the whole thing it's just as fast in reverse order as as in auditory order. So you can run a Mergesort on huge problems. It's a very efficient algorithm. And so, for example, what this table shows, if you were to try to use a insertion sort for a huge file, say a file with a billion elements, on your PC it'd take a few centuries to finish. Even on a super computer, if you're using insertion sort nowadays it'd maybe take a week or more. But if you have a good algorithm like Mergesort, and you're trying to do a billion items, you can do it in just less than half an hour on your PC. And a supercomputer can do it in an instant. And smaller problems only take an instant even on your PC. So you can spend a lot of money or a lot of time, or you can use a good algorithm. And that's one of our main themes in this course. A good algorithm is much more effective than spending money or time wasting money or time using a bad one. So let's look at the analysis of Mergesort, that's a bit of math but very instructive because this really shows the power of the divide and conquer method. And allow us to take a problem that was taking us quadratic time with methods like insertion and selection sort, and get it done in, in log N time with Mergesort. So that's the proposition Mergesort uses at most N lg N compares and 6 N lg N array accesses to sort any array of size N. And the way to prove this proposition is to from examining the code, to write down what's called a recurrence relation. And all that is, it's a mathematical reflection of what's going on in the code. If we're sorting N items then let C of N denote the number of compares that we need to sort the N items. In order to get that done, we're sorting the left half and the right half and this notation ceiling of N over 2 and floor of N over 2 that's the N over 2 round up and N over 2 round down, that's the size of the two sub-arrays, and we're going to call the same routine for that size, so the number of compares you need to. For that is C of N over 2, ceiling of N over 2 for the left and ceiling of, floor of N over 2 for the right. And then for the merge, we need at least, at most N compares. If neither one exhausts, we need exactly N compares. And so and that's true as long as N is bigger than 1. If there's only one thing, we're not doing any compares at all. So this is a mathematical formula that we derive by examining the code but it completely describes mathematically what we an upper bound on the number of compares that are going to be needed. And similarly for the number of array accesses, if you count up the number of times you're accessing an array for a merge you could be at most six in. So these are mathematical formulas and there's techniques for solving them and we won't go into that. This is not a course on discrete mathematics. But what we then do is show how to solve the recurrence when N is a power of 2. And then it turns out that it holds for all N, which we can prove by induction from the recurrence. So if you have this recurrence [COUGH] which is similar to the ones that we're talking about. It's exactly the same when N is a power of 2 let's, let's look at this one. If D of N is 2D of N over 2 plus N with D of 1 equals 0, then D of N equals N log N. We'll look at three proofs of that, just assuming that N is a power of 2. If N is a power of 2, then N over 2 is also a power of two, so the recurrence makes sense. So this is just a graphical representation if we want to compute D of N we want to compute D of N over 2 twice. So that's 2 and then the extra cost for the merge is N, but if we're going to do this twice then we have 2N over 2. So let's, we have 2N over 2s and then for each one of these we have divided into N over 4s and each one of those 4N over 4s has an extra cross for the merge of N over 4. Well 2N over 2 is N, 4N over 4 is N and we keep going down, doing that til we get down to D of 2 and we always for the extra cross for the merge, we have N. And how many stages do we have here? Well, it's the number of times you divide N by 2 to get down to 2. That's exactly log base 2 of N, so the grand total of all the costs for the merge, which is where the compares are, is log N times N, N log N. It's kind of a graphical proof or a proof by picture that that recurrence has that solution. Here's a little bit more mathematical one: we write the recurrence down, and then we divide both sides by N. So then this is D of N over N equals D of N over 2 over N over 2 plus 1. So it's dividing by N. So now, this is a recurrence that telescopes. The first term on the right hand side is exactly the same as the left hand side so we can apply the same formula. And all it does is divides by 2 again and then throws out another 1. And we keep doing that until we get down to D of 1 which is 0. And when we've done that, we've thrown out lg N 1s. So we get D of N over N equals log N, or D of N equals N log N. That's another proof by expansion. Or using either one of those techniques you could just get the idea that D of N is close to Log N or you can write a program to expand the recurrence and find that. And then once we have the idea that D of N equals N lg N, we can plug back into the original formula. With the inductive hypothesis that D of N equals N lg N, we want to show that D of 2N equals 2N lg 2N, using the recurrence D of 2N equals 2D of N plus throw out the 2N. Plugging in N log N we get the desired result. We use this same idea on our initial recurrences for comparison array accesses to show that the running, the number of comparison array accesses is proportional to N log N for Mergesort. So that's the running time Mergesort is fast other thing that we usually want to know is memory. And one of Mergesort's characteristics is that in practical applications, it uses extra space proportional to N. That is, we need that extra auxiliary array for the last merge. We took two sorted subarrays and we talked about an abstract in place merge but we didn't have an actual in place merge. We were using an extra subarray. So N place is important. A lot of times, we're sorting everything we have. We want to fill up the memory with stuff to sort and then sort it. And search and selection in shellsort are in place, they don't use any extra memory. But Mergesort you can only sort really half of what you can fit in memory, because you need that auxiliary array for the other half. If you want, again, if you think that the things we're studying are easy, think about the idea of actually doing an in-place merge. People have come up with methods for getting this done. So it's theoretically possible, but the methods are generally too complex to be useful in practice and their not used. But there could be out there some easy way to doing in place merge. That's another great algorithm waiting to be discovered. Now there's a, a number of practical improvements that we can use to make Mergesort even more efficient than the simple one that we've looked at and we'll take a look of those because they're examples of techniques that we can use for other algorithms. First thing is that Mergesort is too complicated to use for tiny arrays. So say the subarrays are only of two, or three, or four there's too much overhead with the recursive calls and so forth to get that done efficiently. And what's worse is, the recursive nature of the sort definitely means that there's going to be lots of subarrays to be sorted. So, one improvement that we can make is to use insertion sort, and just cut off and use insertion sort which is simple and efficient for small subarrays. So that's adding this one line of code to Mergesort will make it quite a bit faster. Maybe 20% faster. The second improvement that we can make that'll improve the performance for cases when the array is partly sorted, is to just stop if it's already sorted. And that's going to happen in the case where the biggest element in the first half is less or equal to the smallest item in the second half. That means it's done. So that's easy. We just put a test in the recursive Mergesort for that, through this one line of code, to check whether we're done. That way, for example, if you were to call Mergesort for an array that's already in order it would just do this test every time and it would be done in linear time. That's pretty helpful although not, not totally helpful but there's a lot of situations where that's helpful. The other thing that's possible to do and it's a little mind bending so recommended only for experts. Is to save a little bit of time you don't really have to copy over into the auxiliary array. You can kind of switch the role of the input and the auxiliary array every time you make a recursive call. You still need that array but you can set up the code in this way which [COUGH] sort, to sort an array, put the result in the other one. To merge an array, put the result back in the first one. So it's recursive argument switchery to get the job done. And it's effective, it means you don't have to actually move items, and that saves a little bit of time. So here's a visualization of what the practical Mergesort might look like, and this is with big cutoff to small subfiles. So you got a visual feeling of how this sort gets the job done. So it's the first little chunck and then the next little chunk and then merges those together, and so forth and so on. It's a good visual representation of how Mergesort gets its job done. That's the basic Mergesort algorithm that we're going to look at different versions of in the next. ", "video_ID": 25, "course_id": 3}
{"category": ["mergesort"], "tagged": [["Next", "JJ"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["a", "DT"], ["bottom-up", "JJ"], ["version", "NN"], ["of", "IN"], ["Mergesort", "NNP"], [".", "."], ["Well", "NNP"], [",", ","], ["Mergesort", "NNP"], ["is", "VBZ"], ["easy", "JJ"], ["to", "TO"], ["understand", "VB"], ["as", "IN"], ["a", "DT"], ["recursive", "JJ"], ["program", "NN"], [".", "."], ["This", "DT"], ["bottom-up", "JJ"], ["version", "NN"], ["that", "WDT"], ["has", "VBZ"], ["no", "DT"], ["recursion", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["also", "RB"], ["quite", "RB"], ["simple", "JJ"], ["to", "TO"], ["understand", "VB"], ["and", "CC"], ["to", "TO"], ["code", "VB"], ["up", "RP"], [".", "."], ["The", "DT"], ["basic", "JJ"], ["idea", "NN"], ["is", "VBZ"], ["to", "TO"], ["think", "VB"], ["of", "IN"], ["the", "DT"], ["array", "NN"], ["as", "IN"], ["being", "VBG"], ["a", "DT"], ["little", "JJ"], ["at", "IN"], ["the", "DT"], ["begining", "VBG"], ["a", "DT"], ["set", "NN"], ["of", "IN"], ["little", "JJ"], ["sorted", "JJ"], ["sub", "NN"], ["arrays", "NNS"], ["of", "IN"], ["size", "NN"], ["one", "CD"], [".", "."], ["And", "CC"], ["then", "RB"], ["what", "WP"], ["this", "DT"], ["method", "NN"], ["will", "MD"], ["do", "VB"], ["is", "VBZ"], ["go", "VB"], ["through", "IN"], ["and", "CC"], ["merge", "VB"], ["those", "DT"], ["little", "JJ"], ["subarrays", "NNS"], ["of", "IN"], ["size", "NN"], ["one", "CD"], ["together", "NN"], ["in", "IN"], ["pairs", "NNS"], ["to", "TO"], ["get", "VB"], ["subarrays", "NNS"], ["of", "IN"], ["size", "NN"], ["two", "CD"], [".", "."], ["Then", "RB"], [",", ","], ["the", "DT"], ["whole", "JJ"], ["array", "NN"], ["consists", "VBZ"], ["of", "IN"], ["sorted", "JJ"], ["subarrays", "NNS"], ["to", "TO"], ["size", "NN"], ["two", "CD"], [",", ","], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["make", "VBP"], ["another", "DT"], ["pass", "NN"], ["through", "IN"], ["to", "TO"], ["get", "VB"], ["size", "NN"], ["four", "CD"], [",", ","], ["and", "CC"], ["then", "RB"], ["size", "NN"], ["eight", "CD"], [",", ","], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["So", "RB"], [",", ","], ["as", "IN"], ["you", "PRP"], ["can", "MD"], ["see", "VB"], ["in", "IN"], ["this", "DT"], ["example", "NN"], ["we", "PRP"], ["start", "VBP"], ["out", "RP"], ["by", "IN"], ["merging", "VBG"], ["the", "DT"], ["first", "JJ"], ["two", "CD"], ["sub", "NN"], ["arrays", "NNS"], ["of", "IN"], ["size", "NN"], ["one", "CD"], ["to", "TO"], ["make", "VB"], ["a", "DT"], ["array", "NN"], ["of", "IN"], ["size", "NN"], ["two", "CD"], ["-", ":"], ["E", "NN"], [",", ","], ["M", "NNP"], ["-", ":"], ["that", "DT"], ["'s", "VBZ"], ["sorted", "VBN"], [",", ","], ["and", "CC"], ["then", "RB"], ["do", "VBP"], ["the", "DT"], ["same", "JJ"], ["thing", "NN"], ["for", "IN"], ["the", "DT"], ["next", "JJ"], ["two", "CD"], ["elements", "NNS"], ["and", "CC"], ["the", "DT"], ["next", "JJ"], ["two", "CD"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], ["until", "IN"], ["eventually", "RB"], ["instead", "RB"], ["of", "IN"], ["sixteen", "JJ"], ["individual", "JJ"], ["elements", "NNS"], ["we", "PRP"], ["have", "VBP"], ["eight", "CD"], ["sorted", "VBN"], ["subarrays", "NNS"], ["of", "IN"], ["size", "NN"], ["two", "CD"], [".", "."], ["Then", "RB"], ["on", "IN"], ["another", "DT"], ["pass", "NN"], ["through", "IN"], [",", ","], ["we", "PRP"], ["can", "MD"], ["take", "VB"], ["the", "DT"], ["E", "NNP"], [",", ","], ["M", "NNP"], ["and", "CC"], ["the", "DT"], ["G", "NNP"], [",", ","], ["R", "NNP"], ["and", "CC"], ["merge", "VB"], ["them", "PRP"], ["together", "RB"], ["to", "TO"], ["make", "VB"], ["EGMR", "NNP"], [",", ","], ["and", "CC"], ["the", "DT"], ["E", "NNP"], [",", ","], ["S", "NNP"], ["and", "CC"], ["the", "DT"], ["O", "NNP"], [",", ","], ["R", "NNP"], ["merge", "VBP"], ["those", "DT"], ["together", "NNS"], ["to", "TO"], ["make", "VB"], ["EORS", "NNP"], [",", ","], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["And", "CC"], ["we", "PRP"], ["have", "VBP"], ["four", "CD"], ["subarrays", "NNS"], ["of", "IN"], ["size", "NN"], ["four", "CD"], [".", "."], ["One", "CD"], ["more", "JJR"], ["pass", "NN"], ["makes", "VBZ"], ["two", "CD"], ["subarrays", "NNS"], ["of", "IN"], ["size", "NN"], ["eight", "CD"], [",", ","], ["and", "CC"], ["the", "DT"], ["last", "JJ"], ["pass", "NN"], ["is", "VBZ"], ["just", "RB"], ["a", "DT"], ["sorted", "JJ"], ["array", "NN"], [".", "."], ["The", "DT"], ["bottom", "JJ"], ["line", "NN"], ["in", "IN"], ["this", "DT"], ["is", "VBZ"], ["sequence", "NN"], ["of", "IN"], ["passes", "NNS"], ["through", "IN"], ["the", "DT"], ["whole", "JJ"], ["array", "NN"], ["and", "CC"], ["there", "EX"], ["'s", "VBZ"], ["no", "DT"], ["recursion", "NN"], ["needed", "VBN"], ["at", "IN"], ["all", "DT"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["extremely", "RB"], ["easy", "JJ"], ["to", "TO"], ["code", "VB"], ["up", "RP"], ["as", "IN"], ["you", "PRP"], ["can", "MD"], ["see", "VB"], ["from", "IN"], ["this", "DT"], ["code", "NN"], [".", "."], ["We", "PRP"], ["use", "VBP"], ["the", "DT"], ["same", "JJ"], ["merge", "NN"], ["code", "NN"], ["as", "IN"], ["before", "RB"], ["and", "CC"], ["we", "PRP"], ["take", "VBP"], ["a", "DT"], ["nested", "VBN"], ["for", "IN"], ["loop", "NN"], [".", "."], ["The", "DT"], ["first", "JJ"], ["one", "NN"], ["is", "VBZ"], ["the", "DT"], ["size", "NN"], ["of", "IN"], ["the", "DT"], ["subarray", "NN"], ["and", "CC"], ["this", "DT"], ["loop", "JJ"], ["gets", "VBZ"], ["executed", "VBN"], ["on", "IN"], ["a", "DT"], ["log", "NN"], ["N", "NNP"], ["times", "NNS"], ["because", "IN"], ["each", "DT"], ["time", "NN"], ["we", "PRP"], ["double", "VBP"], ["the", "DT"], ["size", "NN"], ["of", "IN"], ["the", "DT"], ["subarray", "NN"], ["until", "IN"], ["we", "PRP"], ["get", "VBP"], ["to", "TO"], ["N.", "NNP"], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["pass", "VBP"], ["through", "IN"], ["picking", "VBG"], ["out", "RP"], ["from", "IN"], ["low", "JJ"], ["to", "TO"], ["low+size-1", "JJ"], [",", ","], ["and", "CC"], ["then", "RB"], ["the", "DT"], ["next", "JJ"], ["part", "NN"], ["is", "VBZ"], ["low+size+size-1", "JJ"], ["until", "IN"], ["we", "PRP"], ["run", "VBP"], ["to", "TO"], ["the", "DT"], ["end", "NN"], ["of", "IN"], ["the", "DT"], ["array", "NN"], ["where", "WRB"], ["we", "PRP"], ["might", "MD"], ["not", "RB"], ["have", "VB"], ["a", "DT"], ["full", "JJ"], ["subarray", "NN"], ["of", "IN"], ["size", "NN"], ["sz", "NN"], [".", "."], ["That", "DT"], ["is", "VBZ"], ["a", "DT"], ["fully", "RB"], ["complete", "JJ"], ["industrial", "JJ"], ["strength", "NN"], ["code", "NN"], ["for", "IN"], ["sorting", "VBG"], [".", "."], ["The", "DT"], ["only", "JJ"], ["downsize", "NN"], ["as", "IN"], ["would", "MD"], ["regular", "VB"], ["Mergesort", "NNP"], ["is", "VBZ"], ["that", "IN"], ["it", "PRP"], ["uses", "VBZ"], ["extra", "JJ"], ["space", "NN"], ["proportional", "NN"], ["to", "TO"], ["the", "DT"], ["size", "NN"], ["of", "IN"], ["the", "DT"], ["array", "NN"], [".", "."], ["But", "CC"], ["otherwise", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["fine", "JJ"], ["method", "NN"], ["for", "IN"], ["merging", "VBG"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["a", "DT"], ["bottom-up", "JJ"], ["Mergesort", "NNP"], [".", "."], ["If", "IN"], ["you", "PRP"], ["look", "VBP"], ["at", "IN"], ["this", "DT"], ["visual", "JJ"], ["trace", "NN"], ["you", "PRP"], ["can", "MD"], ["see", "VB"], ["how", "WRB"], ["it", "PRP"], ["works", "VBZ"], [".", "."], ["The", "DT"], ["thing", "NN"], ["is", "VBZ"], ["totally", "RB"], ["unsorted", "JJ"], [",", ","], ["then", "RB"], ["it", "PRP"], ["gets", "VBZ"], ["sorted", "VBN"], ["until", "IN"], ["subarrays", "NNS"], ["to", "TO"], ["size", "NN"], ["four", "CD"], [",", ","], ["then", "RB"], ["eight", "CD"], [",", ","], ["sixteen", "NN"], [",", ","], ["and", "CC"], ["32", "CD"], [".", "."], ["Now", "RB"], ["in", "IN"], ["this", "DT"], ["case", "NN"], ["the", "DT"], ["second", "JJ"], ["subarray", "NN"], ["to", "TO"], ["be", "VB"], ["sorted", "VBN"], ["is", "VBZ"], ["smaller", "JJR"], ["but", "CC"], ["the", "DT"], ["merge", "NN"], ["routine", "NN"], ["does", "VBZ"], ["n't", "RB"], ["really", "RB"], ["care", "VB"], ["about", "IN"], ["that", "DT"], ["so", "RB"], ["much", "JJ"], [".", "."], ["You", "PRP"], ["can", "MD"], ["merge", "VB"], ["things", "NNS"], ["that", "WDT"], ["are", "VBP"], ["not", "RB"], ["equal", "JJ"], ["in", "IN"], ["size", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["get", "VBP"], ["a", "DT"], ["final", "JJ"], ["sorted", "JJ"], ["array", "NN"], [".", "."], ["Whatever", "IN"], ["the", "DT"], ["size", "NN"], [",", ","], ["bottom", "NN"], ["of", "IN"], ["Mergesort", "NNP"], ["gets", "VBZ"], ["the", "DT"], ["job", "NN"], ["done", "VBN"], ["in", "IN"], ["log", "NN"], ["N", "NNP"], ["passes", "NNS"], [".", "."], ["Each", "DT"], ["pass", "NN"], ["using", "VBG"], ["about", "IN"], ["N", "NNP"], ["compares", "VBZ"], ["for", "IN"], ["a", "DT"], ["total", "JJ"], ["cost", "NN"], ["of", "IN"], ["about", "IN"], ["N", "NNP"], ["log", "NN"], ["N", "NNP"], [".", "."]], "title": "bottom up mergesort", "text": "Next, we're going to look at a bottom-up version of Mergesort. Well, Mergesort is easy to understand as a recursive program. This bottom-up version that has no recursion, it's also quite simple to understand and to code up. The basic idea is to think of the array as being a little at the begining a set of little sorted sub arrays of size one. And then what this method will do is go through and merge those little subarrays of size one together in pairs to get subarrays of size two. Then, the whole array consists of sorted subarrays to size two, and then we make another pass through to get size four, and then size eight, and so forth. So, as you can see in this example we start out by merging the first two sub arrays of size one to make a array of size two - E, M - that's sorted, and then do the same thing for the next two elements and the next two and so forth until eventually instead of sixteen individual elements we have eight sorted subarrays of size two. Then on another pass through, we can take the E, M and the G, R and merge them together to make EGMR, and the E, S and the O, R merge those together to make EORS, and so forth. And we have four subarrays of size four. One more pass makes two subarrays of size eight, and the last pass is just a sorted array. The bottom line in this is sequence of passes through the whole array and there's no recursion needed at all. It's extremely easy to code up as you can see from this code. We use the same merge code as before and we take a nested for loop. The first one is the size of the subarray and this loop gets executed on a log N times because each time we double the size of the subarray until we get to N. And then we pass through picking out from low to low+size-1, and then the next part is low+size+size-1 until we run to the end of the array where we might not have a full subarray of size sz. That is a fully complete industrial strength code for sorting. The only downsize as would regular Mergesort is that it uses extra space proportional to the size of the array. But otherwise, that's a fine method for merging. That's a bottom-up Mergesort. If you look at this visual trace you can see how it works. The thing is totally unsorted, then it gets sorted until subarrays to size four, then eight, sixteen, and 32. Now in this case the second subarray to be sorted is smaller but the merge routine doesn't really care about that so much. You can merge things that are not equal in size. And then we get a final sorted array. Whatever the size, bottom of Mergesort gets the job done in log N passes. Each pass using about N compares for a total cost of about N log N. ", "video_ID": 26, "course_id": 3}
{"category": ["mergesort"], "tagged": [["with", "IN"], ["mergesort", "NN"], ["is", "VBZ"], ["a", "DT"], ["good", "JJ"], ["opportunity", "NN"], ["to", "TO"], ["take", "VB"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["the", "DT"], ["intrinsic", "JJ"], ["difficulty", "NN"], ["in", "IN"], ["the", "DT"], ["sorting", "NN"], ["problem", "NN"], [",", ","], ["now", "RB"], ["that", "DT"], ["is", "VBZ"], ["called", "VBN"], ["complexiting", "NN"], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["that", "DT"], ["next", "JJ"], [".", "."], ["The", "DT"], ["idea", "NN"], ["of", "IN"], ["complexity", "NN"], ["is", "VBZ"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["frame", "NN"], ["work", "NN"], ["for", "IN"], ["studying", "VBG"], ["the", "DT"], ["efficiency", "NN"], ["of", "IN"], ["all", "PDT"], ["the", "DT"], ["algorithms", "NN"], ["for", "IN"], ["solving", "VBG"], ["a", "DT"], ["particular", "JJ"], ["problem", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["called", "VBN"], ["Computational", "NNP"], ["Complexity", "NNP"], [".", "."], ["And", "CC"], ["in", "IN"], ["order", "NN"], ["to", "TO"], ["do", "VB"], ["this", "DT"], ["sensibly", "RB"], [",", ","], ["we", "PRP"], ["need", "VBP"], ["what", "WP"], ["'s", "VBZ"], ["called", "VBN"], ["a", "DT"], ["model", "NN"], ["of", "IN"], ["computation", "NN"], [".", "."], ["The", "DT"], ["operations", "NNS"], ["that", "IN"], ["the", "DT"], ["algorithms", "NN"], ["are", "VBP"], ["allowed", "VBN"], ["to", "TO"], ["perform", "VB"], [".", "."], ["For", "IN"], ["sorting", "VBG"], ["that", "DT"], ["'s", "VBZ"], ["kind", "NN"], ["of", "IN"], ["straight", "JJ"], ["forward", "NN"], [",", ","], ["what", "WP"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["have", "VB"], ["a", "DT"], ["cost", "NN"], ["model", "NN"], ["where", "WRB"], ["we", "PRP"], ["count", "VBP"], ["the", "DT"], ["comparisons", "NNS"], [".", "."], ["Now", "RB"], ["in", "IN"], ["framing", "NN"], ["of", "IN"], ["the", "DT"], ["difficulty", "NN"], ["of", "IN"], ["problems", "NNS"], ["were", "VBD"], ["only", "RB"], ["two", "CD"], ["things", "NNS"], [".", "."], ["One", "CD"], ["is", "VBZ"], ["an", "DT"], [",", ","], ["what", "WP"], ["'s", "VBZ"], ["called", "VBN"], ["an", "DT"], ["upper", "NN"], ["bound", "NN"], ["which", "WDT"], ["is", "VBZ"], ["a", "DT"], ["cost", "NN"], ["guarantee", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["provided", "VBN"], ["by", "IN"], ["some", "DT"], ["algorithm", "NN"], ["for", "IN"], ["solving", "VBG"], ["the", "DT"], ["problem", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["an", "DT"], ["upper", "JJ"], ["bound", "NN"], ["and", "CC"], ["how", "WRB"], ["difficult", "JJ"], ["it", "PRP"], ["is", "VBZ"], ["to", "TO"], ["solve", "VB"], ["the", "DT"], ["problem", "NN"], [".", "."], ["We", "PRP"], ["have", "VBP"], ["an", "DT"], ["algorithm", "NN"], ["that", "WDT"], ["can", "MD"], ["solve", "VB"], ["it", "PRP"], ["it", "PRP"], ["'s", "VBZ"], ["the", "DT"], ["least", "JJS"], ["that", "IN"], ["easy", "JJ"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["also", "RB"], ["look", "VBP"], ["for", "IN"], ["a", "DT"], ["lower", "JJR"], ["bound", "NN"], ["which", "WDT"], ["is", "VBZ"], ["a", "DT"], ["limit", "NN"], ["on", "IN"], ["the", "DT"], ["cost", "NN"], ["guarantee", "NN"], ["of", "IN"], ["all", "DT"], ["algorithms", "NNS"], [".", "."], ["No", "DT"], ["algorithm", "NN"], ["can", "MD"], ["do", "VB"], ["better", "JJR"], [".", "."], ["Now", "RB"], [",", ","], ["what", "WP"], ["we", "PRP"], ["seek", "VBP"], ["ideally", "RB"], ["is", "VBZ"], ["what", "WP"], ["'s", "VBZ"], ["called", "VBN"], ["an", "DT"], ["optimal", "NN"], ["algorithm", "NN"], ["where", "WRB"], ["we", "PRP"], ["prove", "VBP"], ["that", "IN"], ["the", "DT"], ["upper", "JJ"], ["bound", "NN"], ["and", "CC"], ["the", "DT"], ["lower", "JJR"], ["bound", "NN"], ["are", "VBP"], ["the", "DT"], ["same", "JJ"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["an", "DT"], ["algorithm", "NN"], ["that", "WDT"], ["'s", "VBZ"], [",", ","], ["that", "IN"], ["we", "PRP"], ["know", "VBP"], ["that", "DT"], ["has", "VBZ"], ["the", "DT"], ["best", "JJS"], ["possible", "JJ"], ["cost", "NN"], ["guarantee", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["the", "DT"], ["idea", "NN"], ["for", "IN"], ["solving", "VBG"], ["any", "DT"], ["problem", "NN"], [".", "."], ["So", "RB"], [",", ","], ["for", "IN"], ["sorting", "VBG"], [",", ","], ["let", "VB"], ["'s", "POS"], ["look", "VB"], ["at", "IN"], ["what", "WP"], ["each", "DT"], ["of", "IN"], ["these", "DT"], ["are", "VBP"], [".", "."], ["The", "DT"], ["model", "NN"], ["of", "IN"], ["computation", "NN"], ["is", "VBZ"], ["what", "WP"], ["'s", "VBZ"], ["called", "VBN"], ["a", "DT"], ["decision", "NN"], ["tree", "NN"], [",", ","], ["tree", "NN"], [".", "."], ["And", "CC"], ["what", "WP"], ["that", "DT"], ["mans", "VBZ"], ["is", "VBZ"], ["that", "IN"], ["all", "DT"], ["we", "PRP"], ["can", "MD"], ["use", "VB"], ["is", "VBZ"], ["compare", "JJ"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["the", "DT"], ["only", "JJ"], ["way", "NN"], ["we", "PRP"], ["can", "MD"], ["access", "NN"], ["the", "DT"], ["data", "NN"], [".", "."], ["So", "RB"], [",", ","], ["our", "PRP$"], ["cost", "NN"], ["model", "NN"], ["is", "VBZ"], ["the", "DT"], ["number", "NN"], ["compares", "VBZ"], [".", "."], ["Mergesort", "NNP"], ["provides", "VBZ"], [",", ","], ["provides", "VBZ"], ["an", "DT"], ["upper", "JJ"], ["bound", "NN"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["an", "DT"], ["algorithm", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["guaranteed", "VBN"], ["to", "TO"], ["get", "VB"], ["the", "DT"], ["sort", "NN"], ["done", "VBN"], ["in", "IN"], ["time", "NN"], ["proportional", "JJ"], ["to", "TO"], ["N", "NNP"], ["log", "NN"], ["N.", "NNP"], ["And", "CC"], ["what", "WP"], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["now", "RB"], ["is", "VBZ"], ["the", "DT"], ["lower", "JJR"], ["bound", "NN"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["a", "DT"], ["trivial", "JJ"], ["lower", "JJR"], ["bound", "NN"], ["which", "WDT"], ["says", "VBZ"], ["you", "PRP"], ["have", "VBP"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["all", "PDT"], ["the", "DT"], ["data", "NNS"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["N", "NNP"], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["a", "DT"], ["better", "JJR"], ["lower", "JJR"], ["bound", "NN"], ["and", "CC"], ["see", "VB"], ["that", "DT"], ["mergesort", "NN"], ["is", "VBZ"], ["optimal", "JJ"], [".", "."], ["So", "RB"], [",", ","], ["here", "RB"], ["'s", "VBZ"], ["the", "DT"], ["basic", "JJ"], ["idea", "NN"], ["for", "IN"], ["proving", "VBG"], ["a", "DT"], ["lower", "JJR"], ["bound", "NN"], ["for", "IN"], ["sorting", "VBG"], [".", "."], ["Let", "VB"], ["'s", "POS"], ["say", "VB"], [",", ","], ["we", "PRP"], ["ha", "VBP"], ["ve", "JJ"], ["three", "CD"], ["different", "JJ"], ["items", "NNS"], [",", ","], ["a", "DT"], [",", ","], ["b", "NN"], ["and", "CC"], ["c.", "NN"], ["Whatever", "NNP"], ["algorithm", "NN"], ["we", "PRP"], ["have", "VBP"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], [",", ","], ["first", "RB"], [",", ","], ["do", "VBP"], ["a", "DT"], ["comparison", "NN"], ["between", "IN"], ["two", "CD"], ["of", "IN"], ["the", "DT"], ["items", "NNS"], [".", "."], ["Let", "VB"], ["'s", "POS"], ["say", "VB"], [",", ","], ["there", "EX"], ["a", "DT"], ["and", "CC"], ["b", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["there", "EX"], ["'s", "VBZ"], ["two", "CD"], ["cases", "NNS"], [".", "."], ["Either", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["yes", "PRP"], ["or", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["yes", "RB"], [",", ","], ["let", "VB"], ["'s", "POS"], [",", ","], ["let", "VB"], ["'s", "POS"], ["say", "VB"], [",", ","], ["they", "PRP"], ["'re", "VBP"], ["distinct", "JJ"], [".", "."], ["And", "CC"], ["there", "EX"], ["will", "MD"], ["be", "VB"], ["some", "DT"], ["code", "NN"], ["between", "IN"], ["the", "DT"], ["compares", "NNS"], ["but", "CC"], ["either", "DT"], ["way", "NN"], ["then", "RB"], ["there", "EX"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["a", "DT"], ["different", "JJ"], ["compare", "NN"], [".", "."], ["If", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["less", "JJR"], ["than", "IN"], ["b", "NN"], [",", ","], ["maybe", "RB"], ["the", "DT"], ["next", "JJ"], ["compare", "NN"], ["is", "VBZ"], ["b", "VBN"], ["against", "IN"], ["c.", "NN"], ["And", "CC"], ["if", "IN"], ["you", "PRP"], ["find", "VBP"], ["that", "IN"], ["b", "NN"], ["is", "VBZ"], ["less", "JJR"], ["than", "IN"], ["c", "NN"], ["and", "CC"], ["a", "DT"], ["is", "VBZ"], ["less", "JJR"], ["than", "IN"], ["b", "NN"], [",", ","], ["then", "RB"], ["you", "PRP"], ["know", "VBP"], ["that", "IN"], ["they", "PRP"], ["'re", "VBP"], ["in", "IN"], ["the", "DT"], [",", ","], ["any", "DT"], ["algorithm", "NN"], ["that", "WDT"], ["does", "VBZ"], ["that", "IN"], ["knows", "VBZ"], ["that", "IN"], ["the", "DT"], ["items", "NNS"], ["are", "VBP"], ["in", "IN"], ["the", "DT"], ["order", "NN"], ["a", "DT"], [",", ","], ["b", "NN"], [",", ","], ["c.", "NN"], ["If", "IN"], ["b", "NN"], ["less", "JJR"], ["than", "IN"], ["c", "NN"], ["goes", "VBZ"], ["the", "DT"], ["other", "JJ"], ["way", "NN"], [",", ","], ["then", "RB"], ["it", "PRP"], ["takes", "VBZ"], ["another", "DT"], ["comparison", "NN"], ["to", "TO"], ["determine", "VB"], ["the", "DT"], ["order", "NN"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["if", "IN"], ["c", "VBN"], ["is", "VBZ"], ["less", "RBR"], ["than", "IN"], ["b", "NN"], ["and", "CC"], ["a", "DT"], ["is", "VBZ"], ["less", "JJR"], ["than", "IN"], ["c", "NN"], ["then", "RB"], ["those", "DT"], ["three", "CD"], ["compares", "NNS"], ["show", "VBP"], ["that", "IN"], ["the", "DT"], ["order", "NN"], ["has", "VBZ"], ["to", "TO"], ["be", "VB"], ["a", "DT"], [",", ","], ["c", "NN"], [",", ","], ["b", "NN"], ["and", "CC"], ["if", "IN"], ["c", "VBN"], ["is", "VBZ"], ["less", "RBR"], ["than", "IN"], ["a", "DT"], [",", ","], ["then", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["c", "VBN"], [",", ","], ["a", "DT"], [",", ","], ["b", "NN"], [",", ","], ["those", "DT"], ["three", "CD"], ["compares", "NNS"], ["that", "IN"], ["c", "NN"], ["is", "VBZ"], ["less", "JJR"], ["than", "IN"], ["a", "DT"], [",", ","], ["c", "NN"], ["less", "JJR"], ["than", "IN"], ["b", "NN"], ["and", "CC"], ["a", "DT"], ["is", "VBZ"], ["less", "JJR"], ["than", "IN"], ["b", "NN"], [".", "."], ["The", "DT"], ["only", "JJ"], ["possibility", "NN"], ["is", "VBZ"], ["c", "VBN"], [",", ","], ["a", "DT"], [",", ","], ["b", "NN"], [".", "."], ["In", "IN"], ["continuing", "VBG"], ["on", "IN"], ["the", "DT"], ["right", "NN"], ["perhaps", "RB"], ["the", "DT"], ["next", "JJ"], ["compare", "NN"], ["is", "VBZ"], ["a", "DT"], ["less", "JJR"], ["than", "IN"], ["c", "NN"], ["and", "CC"], ["maybe", "RB"], ["if", "IN"], ["c", "VBN"], ["is", "VBZ"], ["less", "RBR"], ["than", "IN"], ["a", "DT"], [",", ","], ["then", "RB"], ["another", "DT"], ["compare", "NN"], [",", ","], ["b", "NN"], ["less", "JJR"], ["than", "IN"], ["c.", "NN"], ["So", "NNP"], [",", ","], ["in", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["if", "IN"], ["you", "PRP"], ["go", "VBP"], ["from", "IN"], ["top", "NN"], ["to", "TO"], ["bottom", "VB"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], ["with", "IN"], ["three", "CD"], ["compares", "NNS"], ["at", "IN"], ["most", "JJS"], ["you", "PRP"], ["can", "MD"], ["determine", "VB"], ["the", "DT"], ["ordering", "NN"], ["of", "IN"], ["the", "DT"], ["three", "CD"], ["different", "JJ"], ["items", "NNS"], [".", "."], ["The", "DT"], ["idea", "NN"], ["of", "IN"], ["the", "DT"], ["lower", "JJR"], ["bound", "NN"], ["generalizes", "VBZ"], ["this", "DT"], ["argument", "NN"], ["to", "TO"], ["figure", "VB"], ["out", "RP"], ["a", "DT"], ["number", "NN"], ["of", "IN"], ["compares", "NNS"], ["that", "IN"], ["you", "PRP"], ["need", "VBP"], ["for", "IN"], ["a", "DT"], ["minimum", "NN"], ["to", "TO"], ["determine", "VB"], ["the", "DT"], ["ordering", "NN"], ["among", "IN"], ["N", "NNP"], ["items", "NNS"], [".", "."], ["Now", "RB"], [",", ","], ["the", "DT"], ["height", "NN"], ["of", "IN"], ["the", "DT"], ["tree", "NN"], [",", ","], ["as", "IN"], ["I", "PRP"], ["just", "RB"], ["mentioned", "VBN"], [",", ","], ["is", "VBZ"], ["the", "DT"], ["worst", "JJS"], ["case", "NN"], ["number", "NN"], ["of", "IN"], ["compares", "NNS"], [".", "."], ["Out", "IN"], ["of", "IN"], ["all", "PDT"], ["the", "DT"], ["orderings", "NNS"], ["the", "DT"], ["one", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["further", "JJ"], ["stand", "NN"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["the", "DT"], ["worst", "JJS"], ["case", "NN"], ["and", "CC"], ["so", "RB"], ["the", "DT"], ["algorithm", "NN"], [",", ","], ["no", "DT"], ["matter", "NN"], ["what", "WP"], ["the", "DT"], ["input", "NN"], ["is", "VBZ"], [",", ","], ["the", "DT"], ["tree", "NN"], ["tells", "VBZ"], ["us", "PRP"], ["a", "DT"], ["bound", "NN"], [",", ","], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["compares", "NNS"], ["taken", "VBN"], ["by", "IN"], ["the", "DT"], ["algorithm", "NN"], [".", "."], ["And", "CC"], ["there", "EX"], ["'s", "VBZ"], ["got", "VBD"], ["to", "TO"], ["be", "VB"], ["at", "IN"], ["least", "JJS"], ["one", "CD"], ["leaf", "NN"], ["for", "IN"], ["each", "DT"], ["possible", "JJ"], ["ordering", "NN"], [".", "."], ["If", "IN"], ["there", "EX"], ["'s", "VBZ"], ["some", "DT"], ["ordering", "NN"], ["that", "WDT"], ["is", "VBZ"], ["not", "RB"], ["appear", "JJ"], ["in", "IN"], ["a", "DT"], ["tree", "NN"], ["corresponding", "VBG"], ["the", "DT"], ["particular", "JJ"], ["algorithm", "NN"], ["then", "RB"], ["that", "DT"], ["algorithm", "NN"], ["has", "VBZ"], ["n't", "RB"], ["ca", "MD"], ["n't", "RB"], ["sort", "VB"], [",", ","], ["ca", "MD"], ["n't", "RB"], [",", ","], ["ca", "MD"], ["n't", "RB"], ["tell", "VB"], ["the", "DT"], ["difference", "NN"], ["between", "IN"], ["two", "CD"], ["different", "JJ"], ["orderings", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["the", "DT"], ["lower", "JJR"], ["bound", "NN"], ["as", "IN"], ["a", "DT"], ["proposition", "NN"], [",", ","], ["that", "WDT"], ["uses", "VBZ"], ["the", "DT"], ["decision", "NN"], ["tree", "NN"], ["like", "IN"], ["that", "DT"], ["to", "TO"], ["prove", "VB"], ["that", "IN"], ["any", "DT"], ["compare", "JJ"], ["base", "NN"], ["sorting", "VBG"], ["algorithm", "NN"], ["has", "VBZ"], ["to", "TO"], ["use", "VB"], ["at", "IN"], ["least", "JJS"], ["log", "JJ"], ["base", "NN"], ["two", "CD"], ["(", "("], ["N", "NNP"], [")", ")"], ["factorial", "JJ"], ["compares", "NNS"], ["in", "IN"], ["the", "DT"], ["worst", "JJS"], ["case", "NN"], [".", "."], ["And", "CC"], ["by", "IN"], ["Stirling", "VBG"], ["'s", "POS"], ["approximation", "NN"], [",", ","], ["we", "PRP"], ["know", "VBP"], ["that", "IN"], ["log", "JJ"], ["base", "NN"], ["two", "CD"], ["(", "("], ["N", "NNP"], [")", ")"], ["factorial", "NN"], ["is", "VBZ"], ["proportional", "JJ"], ["to", "TO"], ["N", "NNP"], ["log", "NN"], ["based", "VBN"], ["2N", "CD"], [".", "."], ["And", "CC"], ["then", "RB"], ["the", "DT"], ["proof", "NN"], ["is", "VBZ"], ["generalizes", "JJ"], ["what", "WP"], ["I", "PRP"], ["talked", "VBD"], ["about", "IN"], ["on", "IN"], ["the", "DT"], ["decision", "NN"], ["tree", "NN"], ["on", "IN"], ["the", "DT"], ["last", "JJ"], ["side", "NN"], [",", ","], ["slide", "NN"], [".", "."], ["We", "PRP"], ["assume", "VBP"], ["that", "IN"], ["the", "DT"], ["array", "JJ"], ["consist", "NN"], ["of", "IN"], ["N", "NNP"], ["distinct", "JJ"], ["values", "NNS"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["position", "NN"], ["created", "VBD"], ["that", "IN"], ["describes", "VBZ"], ["the", "DT"], ["performance", "NN"], ["of", "IN"], ["any", "DT"], ["algorithm", "NN"], ["to", "TO"], ["compare", "VB"], ["sequence", "NN"], ["done", "VBN"], ["by", "IN"], ["any", "DT"], ["algorithm", "NN"], ["to", "TO"], ["determine", "VB"], ["the", "DT"], ["N", "NNP"], ["factorial", "JJ"], ["different", "JJ"], ["orderings", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["this", "DT"], ["three", "CD"], ["has", "VBZ"], ["to", "TO"], ["have", "VB"], ["at", "IN"], ["least", "JJS"], ["N", "NNP"], ["factorial", "JJ"], ["leaves", "NNS"], ["and", "CC"], ["if", "IN"], ["the", "DT"], ["three", "CD"], ["of", "IN"], ["height", "NN"], ["h", "NN"], [",", ","], ["it", "PRP"], ["has", "VBZ"], ["utmost", "VBN"], ["two^h", "JJ"], ["leaves", "NNS"], [".", "."], ["The", "DT"], ["only", "RB"], [",", ","], ["the", "DT"], [",", ","], ["the", "DT"], ["tree", "NN"], ["that", "WDT"], ["has", "VBZ"], ["the", "DT"], ["most", "RBS"], ["leaves", "NNS"], ["of", "IN"], ["height", "NN"], ["h", "NN"], ["is", "VBZ"], ["totally", "RB"], ["complete", "JJ"], ["and", "CC"], ["that", "DT"], ["one", "CD"], ["has", "VBZ"], ["two^h", "VBN"], ["leaves", "NNS"], [".", "."], ["And", "CC"], ["those", "DT"], ["observations", "NNS"], ["give", "VBP"], ["us", "PRP"], ["the", "DT"], ["lower", "JJR"], ["bound", "NN"], [".", "."], ["Two^h", "NNP"], ["has", "VBZ"], ["to", "TO"], ["be", "VB"], ["greater", "JJR"], ["than", "IN"], ["or", "CC"], ["equal", "JJ"], ["to", "TO"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["leaves", "NNS"], [".", "."], ["And", "CC"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["leaves", "NNS"], ["has", "VBZ"], ["to", "TO"], ["be", "VB"], ["greater", "JJR"], ["or", "CC"], ["equal", "JJ"], ["to", "TO"], ["N", "NNP"], ["factorial", "NN"], ["so", "RB"], ["that", "IN"], ["implies", "VBZ"], ["the", "DT"], ["height", "NN"], ["of", "IN"], ["the", "DT"], ["tree", "NN"], ["has", "VBZ"], ["to", "TO"], ["be", "VB"], ["greater", "JJR"], ["than", "IN"], ["or", "CC"], ["equal", "JJ"], ["to", "TO"], ["log", "VB"], ["base", "NN"], ["two", "CD"], ["(", "("], ["N", "NNP"], [")", ")"], ["factorial", "NN"], ["which", "WDT"], ["is", "VBZ"], ["proportional", "JJ"], ["to", "TO"], ["N", "NNP"], ["log", "NN"], ["N", "NNP"], ["by", "IN"], ["Stirling", "VBG"], ["'s", "POS"], ["formula", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["a", "DT"], ["lower", "JJR"], ["bound", "NN"], ["on", "IN"], ["the", "DT"], ["complexity", "NN"], ["of", "IN"], ["sorting", "VBG"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["knew", "VBD"], ["that", "IN"], ["the", "DT"], ["upper", "JJ"], ["bound", "NN"], ["was", "VBD"], ["N", "NNP"], ["log", "NN"], [",", ","], ["proportional", "JJ"], ["to", "TO"], ["N", "NNP"], ["log", "NN"], ["N", "NNP"], ["and", "CC"], ["we", "PRP"], ["just", "RB"], ["proved", "VBD"], ["that", "IN"], ["the", "DT"], ["lower", "JJR"], ["bound", "NN"], ["is", "VBZ"], ["proportional", "JJ"], ["to", "TO"], ["N", "NNP"], ["log", "NN"], ["N", "NNP"], ["and", "CC"], ["that", "DT"], ["means", "VBZ"], ["that", "IN"], ["mergesort", "NN"], ["is", "VBZ"], ["an", "DT"], ["optimal", "JJ"], ["algorithm", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["the", "DT"], ["first", "JJ"], ["goal", "NN"], ["of", "IN"], ["algorithm", "JJ"], ["design", "NN"], ["is", "VBZ"], ["to", "TO"], ["try", "VB"], ["and", "CC"], ["find", "VB"], ["optimal", "JJ"], ["algorithms", "NN"], ["for", "IN"], ["the", "DT"], ["problems", "NNS"], ["that", "IN"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["solve", "VB"], [".", "."], ["Now", "RB"], [",", ","], ["you", "PRP"], ["have", "VBP"], ["to", "TO"], ["take", "VB"], ["these", "DT"], ["results", "NNS"], ["in", "IN"], ["context", "NN"], [".", "."], ["Really", "RB"], ["what", "WP"], ["we", "PRP"], ["proved", "VBD"], ["is", "VBZ"], ["that", "IN"], ["mergesort", "NN"], ["is", "VBZ"], ["optimal", "JJ"], ["with", "IN"], ["respect", "NN"], ["to", "TO"], ["number", "NN"], ["of", "IN"], ["compares", "NNS"], ["but", "CC"], ["we", "PRP"], ["already", "RB"], ["know", "VBP"], ["that", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["optimal", "JJ"], ["with", "IN"], ["respect", "NN"], ["to", "TO"], ["space", "NN"], ["usage", "NN"], [".", "."], ["Mergesort", "NNP"], ["uses", "VBZ"], ["twice", "RB"], ["as", "IN"], ["extra", "JJ"], ["space", "NN"], ["proportional", "NN"], ["to", "TO"], ["the", "DT"], ["size", "NN"], ["of", "IN"], ["the", "DT"], ["array", "NN"], ["it", "PRP"], ["has", "VBZ"], ["to", "TO"], ["sort", "VB"], [".", "."], ["And", "CC"], ["simple", "JJ"], ["algorithms", "NNS"], ["like", "IN"], ["insertions", "NNS"], ["or", "CC"], ["dump", "NN"], [",", ","], ["they", "PRP"], ["'ve", "VBP"], ["they", "PRP"], ["do", "VBP"], ["n't", "RB"], ["use", "VB"], ["any", "DT"], ["extra", "JJ"], ["space", "NN"], ["at", "IN"], ["all", "DT"], [".", "."], ["So", "RB"], [",", ","], ["what", "WP"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["take", "VB"], ["from", "IN"], ["these", "DT"], ["theoretical", "JJ"], ["results", "NNS"], ["is", "VBZ"], [",", ","], ["is", "VBZ"], ["a", "DT"], ["guide", "NN"], ["when", "WRB"], ["we", "PRP"], ["'re", "VBP"], ["looking", "VBG"], ["at", "IN"], ["implementations", "NNS"], ["and", "CC"], ["trying", "VBG"], ["to", "TO"], ["solve", "VB"], ["practical", "JJ"], ["problems", "NNS"], [".", "."], ["In", "IN"], ["this", "DT"], ["example", "NN"], ["what", "WP"], ["it", "PRP"], ["tells", "VBZ"], ["us", "PRP"], [",", ","], ["what", "WP"], ["theory", "NN"], ["tells", "NNS"], ["us", "PRP"], ["is", "VBZ"], ["do", "VBP"], ["n't", "RB"], ["try", "VB"], ["to", "TO"], ["design", "VB"], ["a", "DT"], ["sorting", "NN"], ["algorithm", "NN"], ["that", "WDT"], ["guarantees", "VBZ"], ["to", "TO"], ["use", "VB"], ["substantially", "RB"], ["for", "IN"], ["your", "PRP$"], ["compares", "NNS"], ["than", "IN"], ["merge", "NN"], ["sort", "NN"], [".", "."], ["Say", "NNP"], [",", ","], ["one-half", "JJ"], ["N", "NNP"], ["log", "NN"], ["N", "NNP"], ["compares", "VBZ"], [".", "."], ["Is", "VBZ"], ["there", "RB"], ["a", "DT"], ["method", "NN"], ["that", "WDT"], ["use", "VBP"], ["one-half", "JJ"], ["N", "NNP"], ["log", "NN"], ["N", "NNP"], ["compares", "VBZ"], ["?", "."], ["The", "DT"], ["lower", "JJR"], ["bound", "NN"], ["says", "VBZ"], [",", ","], ["no", "DT"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["very", "RB"], ["useful", "JJ"], ["thing", "NN"], ["because", "IN"], ["otherwise", "RB"], [",", ","], ["we", "PRP"], ["might", "MD"], ["try", "VB"], ["to", "TO"], ["define", "VB"], ["such", "PDT"], ["an", "DT"], ["algorithm", "NN"], [".", "."], ["On", "IN"], ["the", "DT"], ["other", "JJ"], ["hand", "NN"], [",", ","], ["maybe", "RB"], ["there", "EX"], ["is", "VBZ"], ["an", "DT"], ["algorithm", "NN"], ["that", "WDT"], ["uses", "VBZ"], ["N", "NNP"], ["log", "NN"], ["N", "NNP"], ["compares", "VBZ"], ["and", "CC"], ["also", "RB"], ["uses", "VBZ"], ["optimal", "JJ"], ["space", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["optimal", "JJ"], ["with", "IN"], ["respect", "NN"], ["to", "TO"], ["both", "DT"], ["space", "NN"], ["and", "CC"], ["time", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["what", "WP"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["soon", "RB"], [".", "."], ["The", "DT"], ["other", "JJ"], ["thing", "NN"], ["is", "VBZ"], ["that", "IN"], ["the", "DT"], ["lower", "JJR"], ["bound", "NN"], ["is", "VBZ"], ["for", "IN"], ["the", "DT"], ["particular", "JJ"], ["model", "NN"], ["of", "IN"], ["computation", "NN"], ["being", "VBG"], ["studied", "VBN"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["compares", "VBZ"], [".", "."], ["It", "PRP"], ["might", "MD"], ["not", "RB"], ["hold", "VB"], ["if", "IN"], ["the", "DT"], ["algorithm", "NN"], ["has", "VBZ"], ["more", "JJR"], ["information", "NN"], ["about", "IN"], ["the", "DT"], ["keys", "NNS"], [",", ","], ["for", "IN"], ["example", "NN"], [",", ","], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["known", "VBN"], ["that", "IN"], ["the", "DT"], ["input", "NN"], ["is", "VBZ"], ["almost", "RB"], ["ordered", "JJ"], [",", ","], ["we", "PRP"], ["saw", "VBD"], ["that", "IN"], ["insertion", "NN"], ["sort", "NN"], ["can", "MD"], ["be", "VB"], ["linear", "JJ"], ["time", "NN"], ["for", "IN"], ["files", "NNS"], ["that", "WDT"], ["are", "VBP"], ["almost", "RB"], ["ordered", "VBN"], [".", "."], ["Or", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["something", "NN"], ["about", "IN"], ["the", "DT"], ["distribution", "NN"], ["of", "IN"], ["key", "JJ"], ["values", "NNS"], ["if", "IN"], ["there", "EX"], ["are", "VBP"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["equal", "JJ"], ["keys", "NN"], ["we", "PRP"], ["can", "MD"], ["get", "VB"], ["sorted", "VBN"], [",", ","], ["get", "VB"], ["it", "PRP"], ["sorted", "VBD"], ["faster", "RBR"], ["than", "IN"], [",", ","], ["N", "NNP"], ["log", "NN"], ["N.", "NNP"], ["And", "CC"], ["maybe", "RB"], ["the", "DT"], ["way", "NN"], ["the", "DT"], ["keys", "NNS"], ["are", "VBP"], ["represented", "VBN"], [".", "."], ["We", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["different", "JJ"], ["methods", "NNS"], ["that", "WDT"], ["take", "VBP"], ["advantage", "NN"], ["of", "IN"], ["such", "JJ"], ["properties", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["partially", "RB"], ["ordered", "JJ"], ["arrays", "IN"], ["we", "PRP"], ["may", "MD"], ["not", "RB"], ["need", "VB"], ["N", "NNP"], ["log", "VB"], ["N", "NNP"], ["compares", "VBZ"], [".", "."], ["Duplicate", "NNP"], ["keys", "NNS"], [",", ","], ["we", "PRP"], ["may", "MD"], ["not", "RB"], ["need", "VB"], ["N", "NNP"], ["log", "VB"], ["N", "NNP"], ["compares", "NNS"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["the", "DT"], ["method", "NN"], ["that", "IN"], ["I", "PRP"], ["guess", "VBP"], ["that", "DT"], ["down", "RP"], ["in", "IN"], ["linear", "JJ"], ["time", "NN"], ["and", "CC"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["situations", "NNS"], [".", "."], ["And", "CC"], ["later", "RBR"], ["on", "IN"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["digital", "JJ"], ["properties", "NNS"], ["of", "IN"], ["keys", "NNS"], ["where", "WRB"], ["we", "PRP"], ["can", "MD"], ["use", "VB"], ["digital", "JJ"], ["character", "NN"], ["compares", "VBZ"], ["instead", "RB"], ["of", "IN"], ["whole", "JJ"], ["key", "NN"], ["compares", "NNS"], ["and", "CC"], ["got", "VBD"], ["a", "DT"], ["faster", "RBR"], ["sort", "NN"], ["for", "IN"], ["certain", "JJ"], ["practical", "JJ"], ["applications", "NNS"], [".", "."], ["Computational", "NNP"], ["complexity", "NN"], ["is", "VBZ"], ["very", "RB"], ["useful", "JJ"], ["way", "NN"], ["to", "TO"], ["help", "VB"], ["us", "PRP"], ["understand", "VB"], ["properties", "NNS"], ["of", "IN"], ["algorithm", "NN"], ["and", "CC"], ["help", "VB"], ["guide", "VB"], ["our", "PRP$"], ["design", "NN"], ["decisions", "NNS"], [".", "."]], "title": "sorting complexity", "text": "with mergesort is a good opportunity to take a look at the intrinsic difficulty in the sorting problem, now that is called complexiting and we'll look at that next. The idea of complexity is it's a frame work for studying the efficiency of all the algorithms for solving a particular problem. That's called Computational Complexity. And in order to do this sensibly, we need what's called a model of computation. The operations that the algorithms are allowed to perform. For sorting that's kind of straight forward, what we're going to do is have a cost model where we count the comparisons. Now in framing of the difficulty of problems were only two things. One is an, what's called an upper bound which is a cost guarantee that's provided by some algorithm for solving the problem. That's an upper bound and how difficult it is to solve the problem. We have an algorithm that can solve it it's the least that easy. And then we also look for a lower bound which is a limit on the cost guarantee of all algorithms. No algorithm can do better. Now, what we seek ideally is what's called an optimal algorithm where we prove that the upper bound and the lower bound are the same. That's an algorithm that's, that we know that has the best possible cost guarantee. That's the idea for solving any problem. So, for sorting, let's look at what each of these are. The model of computation is what's called a decision tree, tree. And what that mans is that all we can use is compare, that's the only way we can access the data. So, our cost model is the number compares. Mergesort provides, provides an upper bound, that's an algorithm that's guaranteed to get the sort done in time proportional to N log N. And what we'll look at now is the lower bound. There's a trivial lower bound which says you have to look at all the data, that's N and we'll look at a better lower bound and see that mergesort is optimal. So, here's the basic idea for proving a lower bound for sorting. Let's say, we ha ve three different items, a, b and c. Whatever algorithm we have is going to, first, do a comparison between two of the items. Let's say, there a and b. And then there's two cases. Either it's yes or it's not yes, let's, let's say, they're distinct. And there will be some code between the compares but either way then there is going to be a different compare. If it's less than b, maybe the next compare is b against c. And if you find that b is less than c and a is less than b, then you know that they're in the, any algorithm that does that knows that the items are in the order a, b, c. If b less than c goes the other way, then it takes another comparison to determine the order. In this case, if c is less than b and a is less than c then those three compares show that the order has to be a, c, b and if c is less than a, then it's going to be c, a, b, those three compares that c is less than a, c less than b and a is less than b. The only possibility is c, a, b. In continuing on the right perhaps the next compare is a less than c and maybe if c is less than a, then another compare, b less than c. So, in this case, if you go from top to bottom in the tree with three compares at most you can determine the ordering of the three different items. The idea of the lower bound generalizes this argument to figure out a number of compares that you need for a minimum to determine the ordering among N items. Now, the height of the tree, as I just mentioned, is the worst case number of compares. Out of all the orderings the one that's further stand in the tree that's the worst case and so the algorithm, no matter what the input is, the tree tells us a bound, the number of compares taken by the algorithm. And there's got to be at least one leaf for each possible ordering. If there's some ordering that is not appear in a tree corresponding the particular algorithm then that algorithm hasn't can't sort, can't, can't tell the difference between two different orderings. So, the lower bound as a proposition, that uses the decision tree like that to prove that any compare base sorting algorithm has to use at least log base two (N) factorial compares in the worst case. And by Stirling's approximation, we know that log base two(N) factorial is proportional to N log based 2N. And then the proof is generalizes what I talked about on the decision tree on the last side, slide. We assume that the array consist of N distinct values there's a position created that describes the performance of any algorithm to compare sequence done by any algorithm to determine the N factorial different orderings. So, this three has to have at least N factorial leaves and if the three of height h, it has utmost two^h leaves. The only, the, the tree that has the most leaves of height h is totally complete and that one has two^h leaves. And those observations give us the lower bound. Two^h has to be greater than or equal to the number of leaves. And the number of leaves has to be greater or equal to N factorial so that implies the height of the tree has to be greater than or equal to log base two(N) factorial which is proportional to N log N by Stirling's formula. That's a lower bound on the complexity of sorting. So, we knew that the upper bound was N log, proportional to N log N and we just proved that the lower bound is proportional to N log N and that means that mergesort is an optimal algorithm. That's the first goal of algorithm design is to try and find optimal algorithms for the problems that we need to solve. Now, you have to take these results in context. Really what we proved is that mergesort is optimal with respect to number of compares but we already know that it's not optimal with respect to space usage. Mergesort uses twice as extra space proportional to the size of the array it has to sort. And simple algorithms like insertions or dump, they've they don't use any extra space at all. So , what we want to take from these theoretical results is, is a guide when we're looking at implementations and trying to solve practical problems. In this example what it tells us, what theory tells us is don't try to design a sorting algorithm that guarantees to use substantially for your compares than merge sort. Say, one-half N log N compares. Is there a method that use one-half N log N compares? The lower bound says, no. And that's a very useful thing because otherwise, we might try to define such an algorithm. On the other hand, maybe there is an algorithm that uses N log N compares and also uses optimal space. It's optimal with respect to both space and time. And that's what we're going to look at soon. The other thing is that the lower bound is for the particular model of computation being studied. In this case, compares. It might not hold if the algorithm has more information about the keys, for example, if it's known that the input is almost ordered, we saw that insertion sort can be linear time for files that are almost ordered. Or it's something about the distribution of key values if there are a lot of equal keys we can get sorted, get it sorted faster than, N log N. And maybe the way the keys are represented. We'll look at different methods that take advantage of such properties. So, partially ordered arrays we may not need N log N compares. Duplicate keys, we may not need N log N compares, we're going to look at the method that I guess that down in linear time and a lot of situations. And later on, we'll look at digital properties of keys where we can use digital character compares instead of whole key compares and got a faster sort for certain practical applications. Computational complexity is very useful way to help us understand properties of algorithm and help guide our design decisions. ", "video_ID": 27, "course_id": 3}
{"category": ["mergesort"], "tagged": [["Next", "IN"], ["we", "PRP"], ["'ll", "MD"], ["take", "VB"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["comparators", "NNS"], ["which", "WDT"], ["is", "VBZ"], ["a", "DT"], ["Java", "NNP"], ["mechanism", "NN"], ["that", "WDT"], ["helps", "VBZ"], ["us", "PRP"], ["sort", "NN"], [".", "."], ["The", "DT"], ["same", "JJ"], ["data", "NN"], ["on", "IN"], ["different", "JJ"], ["sort", "NN"], ["keys", "NNS"], [",", ","], ["different", "JJ"], ["orders", "NNS"], [".", "."], ["And", "CC"], ["you", "PRP"], ["'re", "VBP"], ["familiar", "JJ"], ["with", "IN"], ["this", "DT"], [".", "."], ["Your", "PRP$"], ["music", "NN"], ["library", "JJ"], ["maybe", "RB"], ["I", "PRP"], [",", ","], ["at", "IN"], ["one", "CD"], ["point", "NN"], [",", ","], ["you", "PRP"], ["sort", "VBP"], ["it", "PRP"], ["by", "IN"], ["the", "DT"], ["artist", "NN"], ["'s", "POS"], ["name", "NN"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], ["we", "PRP"], ["'re", "VBP"], ["looking", "VBG"], ["at", "IN"], ["the", "DT"], ["b", "NN"], ["'s", "POS"], [".", "."], ["But", "CC"], ["in", "IN"], ["another", "DT"], ["situation", "NN"], [",", ","], ["you", "PRP"], ["might", "MD"], ["want", "VB"], ["to", "TO"], ["sort", "VB"], ["it", "PRP"], ["by", "IN"], ["song", "NN"], ["names", "NNS"], ["to", "TO"], ["look", "VB"], ["through", "IN"], ["it", "PRP"], ["by", "IN"], ["song", "NN"], ["names", "NNS"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["the", "DT"], ["same", "JJ"], ["data", "NNS"], ["using", "VBG"], ["different", "JJ"], ["sort", "NN"], ["keys", "NNS"], [".", "."], ["How", "WRB"], ["do", "VBP"], ["we", "PRP"], ["arrange", "VB"], ["to", "TO"], ["do", "VB"], ["something", "NN"], ["is", "VBZ"], ["natural", "JJ"], ["as", "IN"], ["this", "DT"], ["in", "IN"], ["our", "PRP$"], ["Java", "NNP"], ["sorts", "NNS"], ["?", "."], ["Now", "RB"], [",", ","], ["we", "PRP"], ["use", "VBP"], ["the", "DT"], ["fourth", "JJ"], ["in", "IN"], ["order", "NN"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["implement", "VB"], ["sorts", "NNS"], ["that", "WDT"], ["can", "MD"], ["sort", "VB"], ["any", "DT"], ["type", "NN"], ["of", "IN"], ["data", "NNS"], [",", ","], ["we", "PRP"], ["use", "VBP"], ["Java", "NNP"], ["'s", "POS"], ["Comparable", "JJ"], ["interface", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["concept", "NN"], ["is", "VBZ"], ["that", "IN"], ["there", "EX"], ["'s", "VBZ"], ["some", "DT"], ["natural", "JJ"], ["ordering", "NN"], ["of", "IN"], ["the", "DT"], ["data", "NNS"], ["that", "IN"], ["you", "PRP"], ["'ll", "MD"], ["want", "VB"], ["to", "TO"], ["use", "VB"], ["most", "JJS"], ["of", "IN"], ["the", "DT"], ["time", "NN"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["what", "WP"], ["the", "DT"], ["Comparable", "JJ"], ["interface", "NN"], ["is", "VBZ"], ["all", "DT"], ["about", "IN"], [".", "."], ["But", "CC"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["different", "JJ"], ["interface", "NN"], ["called", "VBD"], ["the", "DT"], ["Comparator", "NNP"], ["Interface", "NNP"], ["which", "WDT"], ["is", "VBZ"], ["a", "DT"], ["way", "NN"], ["to", "TO"], ["help", "VB"], ["a", "DT"], ["sort", "NN"], [",", ","], ["using", "VBG"], ["some", "DT"], ["alternate", "JJ"], ["order", "NN"], ["or", "CC"], ["many", "JJ"], ["different", "JJ"], ["orders", "NNS"], ["on", "IN"], ["the", "DT"], ["same", "JJ"], ["data", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["Comparator", "NNP"], ["interface", "NN"], ["again", "RB"], ["just", "RB"], ["says", "VBZ"], ["that", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["implement", "VB"], ["a", "DT"], ["method", "NN"], ["compare", "NN"], ["(", "("], [")", ")"], ["that", "WDT"], ["compares", "VBZ"], ["two", "CD"], ["different", "JJ"], ["keys", "NNS"], ["of", "IN"], ["the", "DT"], ["given", "VBN"], ["type", "NN"], [",", ","], ["of", "IN"], ["the", "DT"], ["generic", "JJ"], ["type", "NN"], [".", "."], ["Again", "VB"], ["it", "PRP"], ["has", "VBZ"], ["to", "TO"], ["be", "VB"], ["a", "DT"], ["total", "JJ"], ["order", "NN"], ["and", "CC"], ["this", "DT"], ["is", "VBZ"], ["very", "RB"], ["familiar", "JJ"], ["for", "IN"], ["example", "NN"], ["with", "IN"], ["strings", "NNS"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["many", "JJ"], ["different", "JJ"], ["ways", "NNS"], ["that", "IN"], ["we", "PRP"], ["might", "MD"], ["want", "VB"], ["to", "TO"], ["sort", "VB"], ["strings", "NNS"], [".", "."], ["We", "PRP"], ["might", "MD"], ["want", "VB"], ["to", "TO"], ["use", "VB"], ["the", "DT"], ["natural", "JJ"], ["alphabetic", "JJ"], ["order", "NN"], ["or", "CC"], ["we", "PRP"], ["might", "MD"], ["want", "VB"], ["to", "TO"], ["make", "VB"], ["it", "PRP"], ["case", "NN"], ["insensitive", "JJ"], ["or", "CC"], ["maybe", "RB"], ["there", "EX"], ["is", "VBZ"], ["just", "RB"], ["different", "JJ"], ["languages", "NNS"], ["that", "WDT"], ["have", "VBP"], ["different", "JJ"], ["rules", "NNS"], ["of", "IN"], ["the", "DT"], ["ordering", "NN"], [".", "."], ["We", "PRP"], ["'re", "VBP"], ["sorting", "VBG"], ["strings", "NNS"], ["but", "CC"], ["we", "PRP"], ["'re", "VBP"], ["implementing", "VBG"], ["a", "DT"], ["different", "JJ"], ["ordering", "NN"], [",", ","], ["various", "JJ"], ["different", "JJ"], ["orderings", "NNS"], ["on", "IN"], ["that", "DT"], ["same", "JJ"], ["data", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["what", "WP"], ["the", "DT"], ["Comparator", "NNP"], ["interface", "NN"], ["is", "VBZ"], ["for", "IN"], [".", "."], ["So", "IN"], ["the", "DT"], ["Java", "NNP"], ["system", "NN"], ["sort", "NN"], ["will", "MD"], ["have", "VB"], ["a", "DT"], ["different", "JJ"], [".", "."], ["[", "JJ"], ["cough", "NN"], ["]", "NN"], ["method", "NN"], ["to", "TO"], ["implement", "VB"], ["comparators", "NNS"], [".", "."], ["The", "DT"], ["idea", "NN"], ["is", "VBZ"], ["that", "IN"], ["you", "PRP"], ["create", "VBP"], ["a", "DT"], ["comparator", "NN"], ["object", "NN"], ["and", "CC"], ["then", "RB"], ["pass", "VB"], ["that", "IN"], ["as", "IN"], ["a", "DT"], ["second", "JJ"], ["argument", "NN"], ["to", "TO"], ["Java", "NNP"], ["'s", "POS"], ["sort", "NN"], ["routine", "NN"], ["and", "CC"], ["we", "PRP"], ["can", "MD"], ["do", "VB"], ["the", "DT"], ["same", "JJ"], ["thing", "NN"], ["for", "IN"], ["our", "PRP$"], ["sorts", "NNS"], [".", "."], ["The", "DT"], ["idea", "NN"], ["is", "VBZ"], ["when", "WRB"], ["a", "DT"], ["decouple", "NN"], [",", ","], ["the", "DT"], ["definition", "NN"], ["of", "IN"], ["the", "DT"], ["data", "NNS"], ["type", "NN"], ["from", "IN"], ["the", "DT"], ["definition", "NN"], ["of", "IN"], ["what", "WP"], ["it", "PRP"], ["means", "VBZ"], ["to", "TO"], ["compare", "VB"], ["to", "TO"], ["items", "NNS"], ["of", "IN"], ["that", "DT"], ["type", "NN"], [".", "."], ["With", "IN"], ["the", "DT"], ["natural", "JJ"], ["order", "NN"], [",", ","], ["we", "PRP"], ["had", "VBD"], ["to", "TO"], ["put", "VB"], ["the", "DT"], ["definition", "NN"], ["compared", "VBN"], ["to", "TO"], ["within", "IN"], ["the", "DT"], ["data", "NNS"], ["type", "NN"], [".", "."], ["With", "IN"], ["comparators", "NNS"], [",", ","], ["we", "PRP"], ["can", "MD"], ["do", "VB"], ["that", "DT"], ["outside", "NN"], ["of", "IN"], ["the", "DT"], ["data", "NNS"], ["type", "NN"], ["even", "RB"], ["at", "IN"], ["some", "DT"], ["later", "JJ"], ["time", "NN"], [".", "."], ["Strings", "NNS"], ["were", "VBD"], ["defined", "VBN"], ["and", "CC"], ["as", "IN"], ["part", "NN"], ["of", "IN"], ["the", "DT"], ["Java", "NNP"], ["system", "NN"], ["but", "CC"], ["we", "PRP"], ["can", "MD"], ["define", "VB"], ["our", "PRP$"], ["own", "JJ"], ["ordering", "NN"], ["on", "IN"], ["strings", "NNS"], ["with", "IN"], ["the", "DT"], ["comparator", "NN"], [".", "."], ["So", "RB"], ["in", "IN"], ["our", "PRP$"], ["sort", "NN"], ["implementations", "NNS"], ["we", "PRP"], ["can", "MD"], ["change", "VB"], ["them", "PRP"], ["as", "IN"], ["shown", "VBN"], ["in", "IN"], ["this", "DT"], ["example", "NN"], ["to", "TO"], ["support", "VB"], ["comparators", "NNS"], [".", "."], ["To", "TO"], ["support", "VB"], ["comparators", "NNS"], ["in", "IN"], ["our", "PRP$"], ["sort", "NN"], ["implementations", "NNS"], ["we", "PRP"], ["'ll", "MD"], ["pass", "VB"], ["an", "DT"], ["array", "NN"], ["of", "IN"], ["objects", "NNS"], ["and", "CC"], ["instead", "RB"], ["of", "IN"], ["an", "DT"], ["array", "NN"], ["of", "IN"], ["comparable", "JJ"], ["and", "CC"], ["then", "RB"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["second", "JJ"], ["argument", "NN"], ["passed", "VBD"], ["a", "DT"], ["comparator", "NN"], [".", "."], ["Then", "RB"], [",", ","], ["the", "DT"], ["less", "JJR"], ["method", "NN"], ["will", "MD"], ["take", "VB"], ["that", "DT"], ["comparator", "NN"], ["as", "IN"], ["an", "DT"], ["argument", "NN"], ["and", "CC"], ["this", "DT"], ["is", "VBZ"], ["the", "DT"], ["one", "NN"], ["that", "WDT"], ["actually", "RB"], ["invokes", "VBZ"], ["the", "DT"], ["method", "NN"], ["compare", "VBP"], ["two", "CD"], ["different", "JJ"], ["keys", "NNS"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["a", "DT"], ["straightforward", "JJ"], ["modification", "NN"], ["to", "TO"], ["our", "PRP$"], ["sorts", "NNS"], [".", "."], ["And", "CC"], ["then", "RB"], ["exchange", "NN"], ["of", "IN"], ["course", "NN"], ["rather", "RB"], ["doing", "VBG"], ["comparable", "JJ"], ["has", "VBZ"], ["to", "TO"], ["use", "VB"], ["object", "JJ"], [".", "."], ["So", "RB"], ["with", "IN"], ["these", "DT"], ["straightforward", "JJ"], ["changes", "NNS"], ["at", "IN"], ["the", "DT"], ["comparator", "NN"], ["as", "IN"], ["argument", "NN"], ["to", "TO"], ["the", "DT"], ["sort", "NN"], ["and", "CC"], ["to", "TO"], ["less", "JJR"], ["and", "CC"], ["make", "VB"], ["array", "NN"], ["to", "TO"], ["be", "VB"], ["sorted", "VBN"], ["array", "NN"], ["of", "IN"], ["objects", "NNS"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["easy", "JJ"], ["to", "TO"], ["convert", "VB"], ["any", "DT"], ["of", "IN"], ["our", "PRP$"], ["implementations", "NNS"], ["to", "TO"], ["support", "VB"], ["comparators", "NNS"], [".", "."], ["To", "TO"], ["implement", "VB"], ["a", "DT"], ["comparator", "NN"], ["you", "PRP"], ["can", "MD"], ["use", "VB"], ["this", "DT"], ["code", "NN"], ["as", "IN"], ["a", "DT"], ["model", "NN"], [".", "."], ["I", "PRP"], ["wo", "MD"], ["n't", "RB"], ["go", "VB"], ["through", "IN"], ["it", "PRP"], ["all", "DT"], ["in", "IN"], ["detail", "NN"], ["just", "RB"], ["to", "TO"], ["point", "VB"], ["out", "RP"], ["that", "IN"], ["this", "DT"], ["implements", "VBZ"], ["two", "CD"], ["different", "JJ"], ["comparators", "NNS"], ["as", "IN"], ["nested", "JJ"], ["classes", "NNS"], [".", "."], ["Say", "NNP"], [",", ","], ["for", "IN"], ["this", "DT"], ["fictional", "JJ"], ["class", "NN"], ["Student", "NN"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["got", "VBD"], ["two", "CD"], ["instance", "NN"], ["variables", "NNS"], ["-", ":"], ["name", "NN"], ["and", "CC"], ["section", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["first", "JJ"], ["one", "NN"], ["called", "VBN"], ["by", "IN"], ["name", "NN"], ["implements", "NNS"], ["a", "DT"], ["comparator", "NN"], ["for", "IN"], ["students", "NNS"], ["and", "CC"], ["when", "WRB"], ["you", "PRP"], ["compare", "VBP"], ["two", "CD"], ["students", "NNS"], ["by", "IN"], ["name", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["use", "VB"], ["the", "DT"], ["string", "NN"], ["comparative", "JJ"], ["method", "NN"], [".", "."], ["If", "IN"], ["you", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["implement", "VB"], ["it", "PRP"], ["compared", "VBN"], ["to", "TO"], ["students", "NNS"], ["by", "IN"], ["section", "NN"], [",", ","], ["then", "RB"], ["it", "PRP"], ["'ll", "MD"], ["return", "VB"], ["just", "RB"], ["the", "DT"], ["difference", "NN"], ["of", "IN"], ["the", "DT"], ["sections", "NNS"], ["which", "WDT"], ["is", "VBZ"], ["my", "PRP$"], ["minus", "NN"], ["if", "IN"], ["less", "JJR"], ["zero", "NN"], ["if", "IN"], ["equal", "JJ"], ["then", "RB"], ["plus", "CC"], ["if", "IN"], ["greater", "JJR"], [".", "."], ["And", "CC"], ["this", "DT"], ["code", "NN"], ["is", "VBZ"], ["straight", "JJ"], ["forward", "RB"], ["way", "NN"], ["to", "TO"], ["implement", "VB"], ["comparators", "NNS"], ["that", "IN"], ["you", "PRP"], ["can", "MD"], ["use", "VB"], ["as", "IN"], ["a", "DT"], ["model", "NN"], [".", "."], ["If", "IN"], ["you", "PRP"], ["need", "VBP"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["sort", "VB"], ["data", "NNS"], ["on", "IN"], ["two", "CD"], ["different", "JJ"], ["keys", "NNS"], [".", "."], ["So", "RB"], ["[", "JJ"], ["cough", "NN"], ["]", "NN"], ["here", "RB"], ["is", "VBZ"], ["just", "RB"], ["an", "DT"], ["example", "NN"], ["of", "IN"], ["what", "WP"], ["happens", "VBZ"], ["if", "IN"], ["would", "MD"], ["those", "DT"], ["implemented", "JJ"], ["comparators", "NNS"], ["for", "IN"], ["that", "DT"], ["class", "NN"], ["student", "NN"], ["using", "VBG"], ["the", "DT"], ["Java", "NNP"], ["system", "NN"], ["sort", "NN"], [",", ","], ["if", "IN"], ["you", "PRP"], ["call", "VBP"], ["array", "VB"], ["that", "DT"], ["sort", "NN"], ["with", "IN"], ["your", "PRP$"], ["a", "DT"], ["rray", "NN"], ["of", "IN"], ["students", "NNS"], ["and", "CC"], ["you", "PRP"], ["give", "VBP"], ["it", "PRP"], ["this", "DT"], ["by", "IN"], ["name", "NN"], ["comparator", "NN"], [",", ","], ["it", "PRP"], ["will", "MD"], ["put", "VB"], ["them", "PRP"], ["in", "IN"], ["order", "NN"], ["alphabetical", "JJ"], ["order", "NN"], ["by", "IN"], ["the", "DT"], ["name", "NN"], ["field", "NN"], [".", "."], ["And", "CC"], ["if", "IN"], ["you", "PRP"], ["give", "VBP"], ["it", "PRP"], ["to", "TO"], ["by", "IN"], ["section", "NN"], ["comparator", "NN"], [",", ","], ["it", "PRP"], ["will", "MD"], ["them", "PRP"], ["in", "IN"], ["order", "NN"], ["by", "IN"], ["the", "DT"], ["second", "JJ"], ["field", "NN"], ["very", "RB"], ["convenient", "JJ"], ["for", "IN"], ["all", "DT"], ["kinds", "NNS"], ["of", "IN"], ["data", "NNS"], ["processing", "VBG"], ["applications", "NNS"], [".", "."], ["And", "CC"], ["we", "PRP"], ["came", "VBD"], ["up", "RP"], ["with", "IN"], ["that", "DT"], ["before", "IN"], ["when", "WRB"], ["we", "PRP"], ["'re", "VBP"], ["talking", "VBG"], ["about", "IN"], ["using", "VBG"], ["a", "DT"], ["sort", "NN"], ["for", "IN"], ["the", "DT"], ["Graham", "NNP"], ["scan", "JJ"], [".", "."], ["We", "PRP"], ["needed", "VBD"], ["to", "TO"], ["have", "VB"], ["a", "DT"], ["comparison", "NN"], ["for", "IN"], ["points", "NNS"], ["that", "WDT"], ["orders", "NNS"], ["them", "PRP"], ["by", "IN"], ["the", "DT"], ["polar", "JJ"], ["angle", "NN"], ["they", "PRP"], ["make", "VBP"], [",", ","], ["make", "VBP"], ["with", "IN"], ["the", "DT"], ["given", "VBN"], ["point", "NN"], ["p.", "NN"], ["That", "DT"], ["'s", "VBZ"], ["what", "WP"], ["we", "PRP"], ["needed", "VBD"], ["for", "IN"], ["the", "DT"], ["Graham", "NNP"], ["scan", "JJ"], ["algorithm", "NN"], ["for", "IN"], ["the", "DT"], ["convex", "NN"], ["hull", "NN"], [".", "."], ["Points", "NNS"], ["are", "VBP"], ["defined", "VBN"], ["data", "NNS"], ["type", "NN"], ["for", "IN"], ["geometric", "JJ"], ["objects", "NNS"], ["and", "CC"], ["so", "RB"], ["what", "WP"], ["we", "PRP"], ["need", "VBP"], ["is", "VBZ"], ["code", "JJ"], ["that", "WDT"], ["will", "MD"], ["compute", "VB"], ["the", "DT"], ["polar", "JJ"], ["angle", "NN"], ["and", "CC"], ["use", "NN"], ["that", "WDT"], ["as", "IN"], ["the", "DT"], ["basis", "NN"], ["for", "IN"], ["comparison", "NN"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["an", "DT"], ["easy", "JJ"], ["way", "NN"], ["to", "TO"], ["do", "VB"], ["this", "DT"], ["based", "VBN"], ["on", "IN"], ["CCW", "NNP"], ["that", "WDT"], ["is", "VBZ"], ["described", "VBN"], ["here", "RB"], ["in", "IN"], ["this", "DT"], ["text", "NN"], [".", "."], ["Most", "JJS"], ["of", "IN"], ["the", "DT"], ["time", "NN"], ["all", "DT"], ["you", "PRP"], ["need", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["do", "VB"], ["the", "DT"], ["CCW", "NNP"], ["of", "IN"], ["the", "DT"], ["two", "CD"], ["points", "NNS"], [".", "."], ["You", "PRP"], ["either", "RB"], ["have", "VBP"], ["to", "TO"], ["check", "VB"], ["whether", "IN"], ["[", "JJ"], ["cough", "NN"], ["]", "VBD"], ["the", "DT"], [",", ","], ["one", "CD"], ["of", "IN"], ["the", "DT"], ["points", "NNS"], ["is", "VBZ"], ["above", "JJ"], ["p", "NN"], ["and", "CC"], ["the", "DT"], ["other", "JJ"], ["one", "CD"], ["is", "VBZ"], ["below", "IN"], [".", "."], ["But", "CC"], ["otherwise", "RB"], [",", ","], ["usually", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["CCW", "NNP"], ["call", "NN"], ["in", "IN"], ["this", "DT"], ["code", "NN"], ["which", "WDT"], ["again", "RB"], ["I", "PRP"], ["wo", "MD"], ["n't", "RB"], ["go", "VB"], ["through", "IN"], ["in", "IN"], ["detail", "NN"], ["as", "IN"], ["an", "DT"], ["implementation", "NN"], ["of", "IN"], ["a", "DT"], ["comparator", "NN"], ["for", "IN"], ["two", "CD"], ["D", "NNP"], ["points", "NNS"], [".", "."], ["It", "PRP"], ["implements", "VBZ"], ["the", "DT"], ["compare", "NN"], ["method", "NN"], ["that", "WDT"], ["takes", "VBZ"], ["two", "CD"], ["points", "NNS"], ["as", "IN"], ["argument", "NN"], ["and", "CC"], ["with", "IN"], ["just", "RB"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["of", "IN"], ["calculation", "NN"], ["is", "VBZ"], ["able", "JJ"], ["to", "TO"], ["do", "VB"], ["the", "DT"], ["compare", "NN"], [".", "."], ["So", "RB"], ["this", "DT"], ["code", "NN"], ["is", "VBZ"], ["the", "DT"], ["basis", "NN"], ["for", "IN"], ["applying", "VBG"], ["the", "DT"], ["sort", "NN"], [",", ","], ["system", "NN"], ["sort", "NN"], ["method", "NN"], ["or", "CC"], ["any", "DT"], ["sort", "NN"], ["method", "NN"], ["for", "IN"], ["the", "DT"], ["Graham", "NNP"], ["scan", "NN"], ["for", "IN"], ["the", "DT"], ["convex", "NN"], ["hull", "NN"], ["that", "IN"], ["we", "PRP"], ["did", "VBD"], ["at", "IN"], ["the", "DT"], ["end", "NN"], ["of", "IN"], ["the", "DT"], ["last", "JJ"], ["lecture", "NN"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["basis", "NN"], ["for", "IN"], ["the", "DT"], ["Graham", "NNP"], ["scan", "JJ"], ["method", "NN"], ["for", "IN"], ["the", "DT"], ["convex", "NN"], ["hull", "NN"], ["that", "IN"], ["we", "PRP"], ["used", "VBD"], ["at", "IN"], ["the", "DT"], ["last", "JJ"], [",", ","], ["at", "IN"], ["the", "DT"], ["end", "NN"], ["of", "IN"], ["the", "DT"], ["last", "JJ"], ["lecture", "NN"], [".", "."]], "title": "comparators", "text": "Next we'll take a look at comparators which is a Java mechanism that helps us sort. The same data on different sort keys, different orders. And you're familiar with this. Your music library maybe I, at one point, you sort it by the artist's name. In this case we're looking at the b's. But in another situation, you might want to sort it by song names to look through it by song names. That's the same data using different sort keys. How do we arrange to do something is natural as this in our Java sorts? Now, we use the fourth in order to be able to implement sorts that can sort any type of data, we use Java's Comparable interface. And that concept is that there's some natural ordering of the data that you'll want to use most of the time, that's what the Comparable interface is all about. But there's a different interface called the Comparator Interface which is a way to help a sort, using some alternate order or many different orders on the same data. And the Comparator interface again just says that it's going to implement a method compare() that compares two different keys of the given type, of the generic type. Again it has to be a total order and this is very familiar for example with strings. There's many different ways that we might want to sort strings. We might want to use the natural alphabetic order or we might want to make it case insensitive or maybe there is just different languages that have different rules of the ordering. We're sorting strings but we're implementing a different ordering, various different orderings on that same data. That's what the Comparator interface is for. So the Java system sort will have a different. [cough] method to implement comparators. The idea is that you create a comparator object and then pass that as a second argument to Java's sort routine and we can do the same thing for our sorts. The idea is when a decouple, the definition of the data type from the definition of what it means to compare to items of that type. With the natural order, we had to put the definition compared to within the data type. With comparators, we can do that outside of the data type even at some later time. Strings were defined and as part of the Java system but we can define our own ordering on strings with the comparator. So in our sort implementations we can change them as shown in this example to support comparators. To support comparators in our sort implementations we'll pass an array of objects and instead of an array of comparable and then, there's a second argument passed a comparator. Then, the less method will take that comparator as an argument and this is the one that actually invokes the method compare two different keys. This is a straightforward modification to our sorts. And then exchange of course rather doing comparable has to use object. So with these straightforward changes at the comparator as argument to the sort and to less and make array to be sorted array of objects, it's easy to convert any of our implementations to support comparators. To implement a comparator you can use this code as a model. I won't go through it all in detail just to point out that this implements two different comparators as nested classes. Say, for this fictional class Student, that's got two instance variables - name and section. And the first one called by name implements a comparator for students and when you compare two students by name, it's going to use the string comparative method. If you're going to implement it compared to students by section, then it'll return just the difference of the sections which is my minus if less zero if equal then plus if greater. And this code is straight forward way to implement comparators that you can use as a model. If you need to be able to sort data on two different keys. So [cough] here is just an example of what happens if would those implemented comparators for that class student using the Java system sort, if you call array that sort with your a rray of students and you give it this by name comparator, it will put them in order alphabetical order by the name field. And if you give it to by section comparator, it will them in order by the second field very convenient for all kinds of data processing applications. And we came up with that before when we're talking about using a sort for the Graham scan. We needed to have a comparison for points that orders them by the polar angle they make, make with the given point p. That's what we needed for the Graham scan algorithm for the convex hull. Points are defined data type for geometric objects and so what we need is code that will compute the polar angle and use that as the basis for comparison. There's an easy way to do this based on CCW that is described here in this text. Most of the time all you need to do is do the CCW of the two points. You either have to check whether [cough] the, one of the points is above p and the other one is below. But otherwise, usually it's a CCW call in this code which again I won't go through in detail as an implementation of a comparator for two D points. It implements the compare method that takes two points as argument and with just a little bit of calculation is able to do the compare. So this code is the basis for applying the sort, system sort method or any sort method for the Graham scan for the convex hull that we did at the end of the last lecture. So that's the basis for the Graham scan method for the convex hull that we used at the last, at the end of the last lecture. ", "video_ID": 28, "course_id": 3}
{"category": ["mergesort"], "tagged": [["Finally", "RB"], [",", ","], ["we", "PRP"], ["talk", "VBP"], ["about", "IN"], ["stability", "NN"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["really", "RB"], ["one", "CD"], ["of", "IN"], ["the", "DT"], ["rules", "NNS"], ["of", "IN"], ["the", "DT"], ["game", "NN"], ["but", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["much", "RB"], ["easier", "JJR"], ["to", "TO"], ["talk", "VB"], ["about", "IN"], ["in", "IN"], ["the", "DT"], ["context", "NN"], ["of", "IN"], ["the", "DT"], ["real", "JJ"], ["algorithms", "NN"], ["that", "IN"], ["we", "PRP"], ["'ve", "VBP"], ["seen", "VBN"], ["so", "RB"], ["far", "RB"], [".", "."], ["And", "CC"], ["really", "RB"], ["it", "PRP"], ["does", "VBZ"], ["n't", "RB"], ["make", "VB"], ["sense", "NN"], ["if", "IN"], ["you", "PRP"], ["do", "VBP"], ["n't", "RB"], ["know", "VB"], ["about", "IN"], ["comparators", "NNS"], ["which", "WDT"], ["we", "PRP"], ["just", "RB"], ["introduced", "VBD"], [".", "."], ["So", "RB"], [",", ","], ["the", "DT"], ["typical", "JJ"], ["application", "NN"], ["that", "IN"], ["I", "PRP"], ["just", "RB"], ["used", "VBD"], ["as", "IN"], ["an", "DT"], ["example", "NN"], ["is", "VBZ"], ["say", "VBP"], ["the", "DT"], ["set", "NN"], ["of", "IN"], ["student", "NN"], ["records", "NNS"], [".", "."], ["So", "IN"], ["we", "PRP"], ["have", "VBP"], ["them", "PRP"], ["sorted", "VBN"], ["by", "IN"], ["name", "NN"], ["and", "CC"], ["this", "DT"], ["is", "VBZ"], ["say", "VBP"], [",", ","], ["something", "NN"], ["that", "IN"], ["we", "PRP"], ["do", "VBP"], ["just", "RB"], ["before", "IN"], ["assigning", "VBG"], ["final", "JJ"], ["grades", "NNS"], [".", "."], ["Maybe", "RB"], ["the", "DT"], ["third", "JJ"], ["line", "NN"], ["there", "EX"], ["is", "VBZ"], ["the", "DT"], ["final", "JJ"], ["grade", "NN"], [".", "."], ["So", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["all", "DT"], ["fine", "JJ"], ["sorted", "VBN"], ["by", "IN"], ["name", "NN"], ["and", "CC"], ["but", "CC"], ["then", "RB"], ["in", "IN"], ["order", "NN"], ["to", "TO"], ["distribute", "VB"], ["it", "PRP"], ["out", "RP"], ["to", "TO"], ["the", "DT"], ["people", "NNS"], ["leading", "VBG"], ["it", "PRP"], ["to", "TO"], ["the", "DT"], ["sections", "NNS"], [",", ","], ["what", "WP"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["sort", "NN"], ["by", "IN"], ["the", "DT"], ["second", "JJ"], ["fields", "NNS"], [",", ","], ["sort", "NN"], ["by", "IN"], ["section", "NN"], [".", "."], ["The", "DT"], ["problem", "NN"], ["is", "VBZ"], ["that", "IN"], ["when", "WRB"], ["we", "PRP"], ["do", "VBP"], ["that", "DT"], [",", ","], ["it", "PRP"], ["messes", "VBZ"], ["up", "RP"], ["the", "DT"], ["sort", "NN"], ["by", "IN"], ["name", "NN"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["annoying", "VBG"], [".", "."], ["You", "PRP"], ["might", "MD"], ["assume", "VB"], ["that", "DT"], ["once", "RB"], ["you", "PRP"], ["have", "VBP"], ["it", "PRP"], ["sorted", "VBN"], ["by", "IN"], ["name", "NN"], [",", ","], ["then", "RB"], ["when", "WRB"], ["you", "PRP"], ["sorted", "VBN"], ["by", "IN"], ["the", "DT"], ["second", "JJ"], ["field", "NN"], ["then", "RB"], ["it", "PRP"], ["should", "MD"], ["maintain", "VB"], ["the", "DT"], ["sort", "NN"], ["of", "IN"], ["by", "IN"], ["name", "NN"], ["for", "IN"], ["all", "PDT"], ["that", "DT"], ["have", "VBP"], ["equal", "JJ"], ["keys", "NNS"], ["in", "IN"], ["that", "DT"], ["second", "JJ"], ["field", "NN"], [".", "."], ["Actually", "RB"], ["not", "RB"], ["all", "DT"], ["sorts", "NNS"], ["preserve", "VBP"], ["that", "IN"], ["property", "NN"], ["that", "WDT"], ["is", "VBZ"], ["called", "VBN"], ["stability", "NN"], [".", "."], ["And", "CC"], ["clearly", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["worthwhile", "JJ"], ["to", "TO"], ["think", "VB"], ["about", "IN"], ["for", "IN"], ["your", "PRP$"], ["application", "NN"], ["whether", "IN"], ["you", "PRP"], ["want", "VBP"], ["or", "CC"], ["need", "VBP"], ["a", "DT"], ["stable", "JJ"], ["sort", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["an", "DT"], ["annoying", "JJ"], ["surprise", "NN"], ["for", "IN"], ["many", "JJ"], ["people", "NNS"], ["and", "CC"], ["many", "JJ"], ["applications", "NNS"], [".", "."], ["So", "IN"], ["a", "DT"], ["stable", "JJ"], ["sort", "NN"], ["is", "VBZ"], ["a", "DT"], ["sort", "NN"], ["that", "WDT"], ["preserves", "VBZ"], ["the", "DT"], ["relative", "JJ"], ["order", "NN"], ["of", "IN"], ["items", "NNS"], ["with", "IN"], ["equal", "JJ"], ["keys", "NNS"], [".", "."], ["Whichever", "NNP"], ["sort", "NN"], ["are", "VBP"], ["stable", "JJ"], ["?", "."], ["That", "DT"], ["'s", "VBZ"], ["an", "DT"], ["interesting", "JJ"], ["question", "NN"], ["that", "IN"], ["we", "PRP"], ["'ll", "MD"], ["take", "VB"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["now", "RB"], [".", "."], ["The", "DT"], ["quick", "JJ"], ["bottom", "NN"], ["line", "NN"], ["is", "VBZ"], ["that", "IN"], ["insertion", "NN"], ["sort", "NN"], ["and", "CC"], ["mergesort", "NN"], ["are", "VBP"], ["stable", "JJ"], ["but", "CC"], ["not", "RB"], ["selection", "JJ"], ["sort", "NN"], ["or", "CC"], ["Shellsort", "NNP"], [".", "."], ["And", "CC"], ["even", "RB"], ["within", "IN"], ["that", "DT"], ["bottom", "JJ"], ["line", "NN"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["implementations", "NNS"], ["that", "IN"], ["maybe", "RB"], ["are", "VBP"], ["not", "RB"], ["stable", "JJ"], [".", "."], ["You", "PRP"], ["have", "VBP"], ["to", "TO"], ["carefully", "RB"], ["check", "VB"], ["the", "DT"], ["code", "NN"], ["to", "TO"], ["be", "VB"], ["sure", "JJ"], [".", "."], ["Always", "NNS"], [",", ","], ["in", "IN"], ["this", "DT"], ["class", "NN"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["an", "DT"], ["exercise", "NN"], ["or", "CC"], ["exam", "JJ"], ["question", "NN"], ["is", "VBZ"], ["this", "DT"], ["version", "NN"], ["of", "IN"], ["this", "DT"], ["sort", "NN"], ["stable", "JJ"], ["or", "CC"], ["not", "RB"], ["?", "."], ["So", "RB"], [",", ","], ["students", "NNS"], ["learn", "VBP"], ["to", "TO"], ["recognize", "VB"], ["whether", "IN"], ["the", "DT"], ["code", "NN"], ["is", "VBZ"], ["stable", "JJ"], [".", "."], ["So", "IN"], ["this", "DT"], ["is", "VBZ"], ["just", "RB"], ["another", "DT"], ["typical", "JJ"], ["example", "NN"], ["where", "WRB"], ["we", "PRP"], ["'ve", "VBP"], ["got", "VBN"], ["things", "NNS"], ["sorted", "VBN"], ["by", "IN"], ["time", "NN"], [",", ","], ["and", "CC"], ["then", "RB"], ["what", "WP"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["maybe", "RB"], ["these", "DT"], ["are", "VBP"], ["important", "JJ"], ["events", "NNS"], [".", "."], ["People", "NNS"], ["buying", "VBG"], ["tickets", "NNS"], ["to", "TO"], ["a", "DT"], ["rock", "NN"], ["concert", "NN"], ["and", "CC"], ["I", "PRP"], ["'m", "VBP"], ["going", "VBG"], ["to", "TO"], ["sort", "VB"], ["by", "IN"], ["location", "NN"], ["what", "WP"], ["we", "PRP"], ["'d", "MD"], ["hope", "VB"], ["is", "VBZ"], ["that", "IN"], ["it", "PRP"], ["would", "MD"], ["keep", "VB"], ["the", "DT"], ["sort", "NN"], ["by", "IN"], ["time", "NN"], ["but", "CC"], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], ["non-stable", "JJ"], ["sort", "NN"], ["that", "WDT"], ["does", "VBZ"], ["n't", "RB"], ["do", "VB"], ["bad", "JJ"], ["so", "RB"], ["then", "RB"], ["out", "RP"], ["in", "IN"], ["the", "DT"], ["location", "NN"], ["they", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["to", "TO"], ["resort", "VB"], ["it", "PRP"], ["if", "IN"], ["they", "PRP"], ["use", "VBP"], ["one", "CD"], ["of", "IN"], ["these", "DT"], [".", "."], ["But", "CC"], ["if", "IN"], ["they", "PRP"], ["use", "VBP"], ["a", "DT"], ["stable", "JJ"], ["sort", "NN"], [",", ","], ["then", "RB"], ["it", "PRP"], ["stay", "VB"], ["sorted", "VBN"], ["by", "IN"], ["time", "NN"], ["and", "CC"], ["lots", "NNS"], ["of", "IN"], ["applications", "NNS"], ["you", "PRP"], ["want", "VBP"], ["stability", "NN"], [".", "."], ["Alright", "NNP"], [",", ","], ["so", "IN"], ["let", "VB"], ["'s", "POS"], ["just", "RB"], ["look", "NN"], ["at", "IN"], ["each", "DT"], ["of", "IN"], ["the", "DT"], ["algorithms", "NN"], ["that", "IN"], ["we", "PRP"], ["'ve", "VBP"], ["considered", "VBN"], ["so", "RB"], ["far", "RB"], [".", "."], ["Insertion", "NNP"], ["Sort", "NNP"], [".", "."], ["Insertion", "NNP"], ["Sort", "NNP"], ["is", "VBZ"], ["stable", "JJ"], [".", "."], ["Why", "WRB"], ["is", "VBZ"], ["it", "PRP"], ["stable", "JJ"], ["?", "."], ["Well", "RB"], [",", ","], ["we", "PRP"], ["never", "RB"], ["move", "VBP"], ["equal", "JJ"], ["items", "NNS"], ["pass", "VBP"], ["one", "CD"], ["another", "DT"], [".", "."], ["In", "IN"], ["this", "DT"], ["example", "NN"], ["here", "RB"], [",", ","], ["when", "WRB"], ["we", "PRP"], ["get", "VBP"], ["A1", "NNP"], [",", ","], ["well", "VBP"], ["that", "DT"], ["'s", "VBZ"], ["so", "RB"], ["in", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["the", "DT"], ["index", "NN"], ["is", "VBZ"], ["just", "RB"], ["one", "CD"], ["that", "WDT"], ["appears", "VBZ"], ["in", "IN"], ["the", "DT"], ["array", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["just", "RB"], ["A", "DT"], ["'s", "POS"], ["and", "CC"], ["B", "NNP"], ["'s", "POS"], [".", "."], ["When", "WRB"], ["we", "PRP"], ["get", "VBP"], ["our", "PRP$"], ["second", "JJ"], ["A", "NNP"], [",", ","], ["we", "PRP"], ["stop", "VBP"], ["the", "DT"], ["sort", "NN"], ["as", "RB"], ["long", "RB"], ["as", "IN"], ["we", "PRP"], ["'re", "VBP"], ["not", "RB"], ["less", "RBR"], [".", "."], ["We", "PRP"], ["'re", "VBP"], ["equal", "JJ"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["not", "RB"], ["less", "JJR"], [",", ","], ["we", "PRP"], ["stop", "VBP"], ["it", "PRP"], ["so", "IN"], ["we", "PRP"], ["never", "RB"], ["move", "VBP"], ["an", "DT"], ["equal", "JJ"], ["item", "NN"], ["pass", "NN"], ["another", "DT"], ["one", "NN"], [".", "."], ["If", "IN"], ["this", "DT"], ["less", "RBR"], ["or", "CC"], ["less", "RBR"], ["than", "IN"], ["or", "CC"], ["equal", "JJ"], [",", ","], ["then", "RB"], ["it", "PRP"], ["would", "MD"], ["n't", "RB"], ["work", "VB"], [".", "."], ["Or", "CC"], ["if", "IN"], ["we", "PRP"], ["did", "VBD"], ["the", "DT"], ["other", "JJ"], ["way", "NN"], ["around", "IN"], ["and", "CC"], ["proceeded", "VBD"], ["accordingly", "RB"], [".", "."], ["So", "RB"], [",", ","], ["equal", "JJ"], ["items", "NNS"], ["never", "RB"], ["move", "VBP"], ["past", "RB"], ["each", "DT"], ["other", "JJ"], ["in", "IN"], ["this", "DT"], ["code", "NN"], ["so", "RB"], ["therefore", "RB"], ["insertion", "NN"], ["sort", "NN"], ["is", "VBZ"], ["stable", "JJ"], [".", "."], ["But", "CC"], ["selection", "JJ"], ["sort", "NN"], ["is", "VBZ"], ["not", "RB"], ["stable", "JJ"], [".", "."], ["Usually", "NNP"], ["way", "NN"], [",", ","], ["the", "DT"], ["way", "NN"], ["to", "TO"], ["show", "VB"], ["that", "IN"], ["a", "DT"], ["sort", "NN"], ["is", "VBZ"], ["not", "RB"], ["stable", "JJ"], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["just", "RB"], ["to", "TO"], ["see", "VB"], ["if", "IN"], ["it", "PRP"], ["has", "VBZ"], ["a", "DT"], ["long", "JJ"], ["distance", "NN"], ["exchange", "NN"], ["that", "WDT"], ["might", "MD"], ["move", "VB"], ["an", "DT"], ["item", "NN"], ["pass", "NN"], ["some", "DT"], ["equal", "JJ"], ["item", "NN"], [".", "."], ["So", "RB"], [",", ","], ["[", "JJ"], ["cough", "NN"], ["]", "NN"], ["in", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["for", "IN"], ["example", "NN"], [",", ","], ["for", "IN"], ["selection", "NN"], ["sort", "NN"], [",", ","], ["when", "WRB"], ["we", "PRP"], ["do", "VBP"], ["that", "IN"], ["first", "JJ"], ["exchange", "NN"], ["oops", "NNS"], [",", ","], ["[", "JJ"], ["cough", "NN"], ["]", "NN"], ["where", "WRB"], ["we", "PRP"], ["found", "VBD"], ["the", "DT"], ["minimum", "NN"], ["A", "NNP"], ["and", "CC"], ["B", "NNP"], ["is", "VBZ"], ["in", "IN"], ["position", "NN"], ["zero", "NN"], [".", "."], ["We", "PRP"], ["did", "VBD"], ["a", "DT"], ["long", "JJ"], ["distance", "NN"], ["exchange", "NN"], ["and", "CC"], ["that", "IN"], ["catapulted", "VBD"], ["that", "IN"], ["first", "JJ"], ["item", "NN"], ["past", "IN"], ["any", "DT"], ["item", "NN"], ["that", "IN"], ["it", "PRP"], ["might", "MD"], ["be", "VB"], ["equal", "JJ"], ["putting", "VBG"], ["them", "PRP"], ["out", "IN"], ["of", "IN"], ["order", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["may", "MD"], ["not", "RB"], ["get", "VB"], ["fixed", "VBN"], ["so", "RB"], ["that", "IN"], ["sort", "NN"], ["is", "VBZ"], ["not", "RB"], ["stable", "JJ"], [".", "."], ["It", "PRP"], ["might", "MD"], ["move", "VB"], ["items", "NNS"], ["past", "IN"], ["some", "DT"], ["equal", "JJ"], ["item", "NN"], ["and", "CC"], ["leave", "VB"], ["a", "DT"], ["result", "NN"], ["where", "WRB"], ["items", "NNS"], ["that", "WDT"], ["are", "VBP"], ["equal", "JJ"], ["or", "CC"], ["in", "IN"], ["different", "JJ"], ["order", "NN"], ["than", "IN"], ["they", "PRP"], ["were", "VBD"], ["originally", "RB"], ["in", "IN"], ["the", "DT"], ["file", "NN"], [".", "."], ["Selection", "NNP"], ["Sort", "NNP"], ["is", "VBZ"], ["not", "RB"], ["stable", "JJ"], [".", "."], ["Shellsort", "NNP"], ["also", "RB"], ["has", "VBZ"], ["long", "RB"], ["distance", "JJ"], ["exchange", "NN"], ["and", "CC"], ["so", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["stable", "JJ"], [".", "."], ["It", "PRP"], ["moves", "VBZ"], ["keys", "NNS"], ["past", "IN"], ["other", "JJ"], ["keys", "NNS"], ["that", "WDT"], ["could", "MD"], ["be", "VB"], ["equal", "JJ"], ["and", "CC"], ["so", "RB"], ["its", "PRP$"], ["easy", "JJ"], ["to", "TO"], ["construct", "VB"], ["examples", "NNS"], ["showing", "VBG"], ["that", "IN"], ["Selection", "NNP"], ["Sort", "NNP"], ["is", "VBZ"], ["not", "RB"], ["stable", "JJ"], [".", "."], ["And", "CC"], ["what", "WP"], ["about", "IN"], ["Mergesort", "NNP"], ["?", "."], ["Mergesort", "NNP"], ["is", "VBZ"], ["stable", "JJ"], ["well", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["stable", "JJ"], ["as", "RB"], ["long", "RB"], ["as", "IN"], ["the", "DT"], ["merge", "NN"], ["operation", "NN"], ["is", "VBZ"], ["stable", "JJ"], ["and", "CC"], ["that", "DT"], ["operation", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["stable", "JJ"], ["depending", "VBG"], ["on", "IN"], ["how", "WRB"], ["we", "PRP"], ["code", "VBP"], ["it", "PRP"], [".", "."], ["And", "CC"], [",", ","], ["and", "CC"], ["in", "IN"], ["our", "PRP$"], ["code", "NN"], [",", ","], ["if", "IN"], ["the", "DT"], ["two", "CD"], ["keys", "NNS"], ["are", "VBP"], ["equal", "JJ"], [",", ","], ["it", "PRP"], ["takes", "VBZ"], ["from", "IN"], ["the", "DT"], ["left", "NN"], ["subarray", "NN"], ["so", "IN"], ["that", "DT"], ["means", "VBZ"], ["that", "IN"], [",", ","], ["it", "PRP"], ["will", "MD"], ["always", "RB"], ["take", "VB"], ["the", "DT"], [",", ","], ["if", "IN"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["two", "CD"], ["sets", "NNS"], ["of", "IN"], ["equal", "JJ"], ["keys", "NNS"], [",", ","], ["it", "PRP"], ["will", "MD"], ["preserve", "VB"], ["the", "DT"], ["relative", "JJ"], ["order", "NN"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["enough", "JJ"], ["to", "TO"], ["show", "VB"], ["that", "IN"], ["the", "DT"], ["merge", "NN"], ["operation", "NN"], ["is", "VBZ"], ["stable", "JJ"], ["and", "CC"], ["then", "RB"], ["therefore", "VB"], ["Mergesort", "NNP"], ["is", "VBZ"], ["stable", "JJ"], [".", "."], ["Stability", "NNP"], ["is", "VBZ"], ["an", "DT"], ["important", "JJ"], ["property", "NN"], ["in", "IN"], ["sorting", "VBG"], ["algorithms", "NN"], [".", "."], ["Mergesort", "NNP"], ["is", "VBZ"], ["not", "RB"], ["only", "RB"], ["efficient", "JJ"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["also", "RB"]], "title": "stability", "text": "Finally, we talk about stability. This is really one of the rules of the game but it's much easier to talk about in the context of the real algorithms that we've seen so far. And really it doesn't make sense if you don't know about comparators which we just introduced. So, the typical application that I just used as an example is say the set of student records. So we have them sorted by name and this is say, something that we do just before assigning final grades. Maybe the third line there is the final grade. So it's all fine sorted by name and but then in order to distribute it out to the people leading it to the sections, what we want to do is sort by the second fields, sort by section. The problem is that when we do that, it messes up the sort by name and that's annoying. You might assume that once you have it sorted by name, then when you sorted by the second field then it should maintain the sort of by name for all that have equal keys in that second field. Actually not all sorts preserve that property that is called stability. And clearly, it's worthwhile to think about for your application whether you want or need a stable sort. And so, it's an annoying surprise for many people and many applications. So a stable sort is a sort that preserves the relative order of items with equal keys. Whichever sort are stable? That's an interesting question that we'll take a look at now. The quick bottom line is that insertion sort and mergesort are stable but not selection sort or Shellsort. And even within that bottom line, there's implementations that maybe are not stable. You have to carefully check the code to be sure. Always, in this class, we have an exercise or exam question is this version of this sort stable or not? So, students learn to recognize whether the code is stable. So this is just another typical example where we've got things sorted by time, and then what we want to do is maybe these are important events. People buying tickets to a rock concert and I'm going to sort by location what we'd hope is that it would keep the sort by time but this is a non-stable sort that doesn't do bad so then out in the location they're going to have to resort it if they use one of these. But if they use a stable sort, then it stay sorted by time and lots of applications you want stability. Alright, so let's just look at each of the algorithms that we've considered so far. Insertion Sort. Insertion Sort is stable. Why is it stable? Well, we never move equal items pass one another. In this example here, when we get A1, well that's so in this case, the index is just one that appears in the array, it's just A's and B's. When we get our second A, we stop the sort as long as we're not less. We're equal, we're not less, we stop it so we never move an equal item pass another one. If this less or less than or equal, then it wouldn't work. Or if we did the other way around and proceeded accordingly. So, equal items never move past each other in this code so therefore insertion sort is stable. But selection sort is not stable. Usually way, the way to show that a sort is not stable and it's just to see if it has a long distance exchange that might move an item pass some equal item. So, [cough] in this case, for example, for selection sort, when we do that first exchange oops, [cough] where we found the minimum A and B is in position zero. We did a long distance exchange and that catapulted that first item past any item that it might be equal putting them out of order. And that's may not get fixed so that sort is not stable. It might move items past some equal item and leave a result where items that are equal or in different order than they were originally in the file. Selection Sort is not stable. Shellsort also has long distance exchange and so it's not stable. It moves keys past other keys that could be equal and so its easy to construct examples showing that Selection Sort is not stable. And what about Mergesort? Mergesort is stable well, it's stable as long as the merge operation is stable and that operation is going to be stable depending on how we code it. And, and in our code, if the two keys are equal, it takes from the left subarray so that means that, it will always take the, if there's a two sets of equal keys, it will preserve the relative order and that's enough to show that the merge operation is stable and then therefore Mergesort is stable. Stability is an important property in sorting algorithms. Mergesort is not only efficient, it's also ", "video_ID": 29, "course_id": 3}
{"category": ["quicksort"], "tagged": [["Welcome", "NNP"], ["back", "RB"], [".", "."], ["Today", "NN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["Quicksort", "NNP"], [".", "."], ["It", "PRP"], ["was", "VBD"], ["named", "VBN"], ["as", "IN"], ["one", "CD"], ["of", "IN"], ["the", "DT"], ["most", "RBS"], ["important", "JJ"], ["algorithms", "NN"], ["of", "IN"], ["the", "DT"], ["twentieth", "JJ"], ["century", "NN"], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["widely", "RB"], ["used", "VBN"], ["for", "IN"], ["system", "NN"], ["sorts", "NNS"], ["and", "CC"], ["many", "JJ"], ["other", "JJ"], ["applications", "NNS"], [".", "."], ["Last", "JJ"], ["lecture", "NN"], [",", ","], ["we", "PRP"], ["looked", "VBD"], ["at", "IN"], ["Mergesort", "NNP"], [",", ","], ["another", "DT"], ["classic", "JJ"], ["sorting", "NN"], ["algorithm", "NN"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["used", "VBN"], ["in", "IN"], ["many", "JJ"], ["systems", "NNS"], [",", ","], ["and", "CC"], ["today", "NN"], ["we", "PRP"], ["are", "VBP"], ["looking", "VBG"], ["at", "IN"], ["Quicksort", "NNP"], ["which", "WDT"], ["is", "VBZ"], ["used", "VBN"], ["in", "IN"], ["many", "JJ"], ["others", "NNS"], [".", "."], ["You", "PRP"], ["can", "MD"], ["even", "RB"], ["get", "VB"], ["a", "DT"], ["Quicksort", "NNP"], ["t-shirt", "NN"], ["nowadays", "NNS"], [".", "."], ["So", "IN"], ["what", "WP"], ["is", "VBZ"], ["the", "DT"], ["Quicksort", "NNP"], ["method", "NN"], ["?", "."], ["It", "PRP"], ["'s", "VBZ"], ["also", "RB"], ["a", "DT"], ["recursive", "JJ"], ["method", "NN"], [",", ","], ["but", "CC"], ["the", "DT"], ["basic", "JJ"], ["idea", "NN"], ["behind", "IN"], ["Quicksort", "NNP"], ["is", "VBZ"], ["that", "IN"], ["it", "PRP"], ["does", "VBZ"], ["the", "DT"], ["recursion", "NN"], ["after", "IN"], ["it", "PRP"], ["does", "VBZ"], ["the", "DT"], ["work", "NN"], [",", ","], ["whereas", "JJ"], ["Mergesort", "NNP"], ["did", "VBD"], ["it", "PRP"], ["before", "IN"], ["it", "PRP"], ["did", "VBD"], ["the", "DT"], ["work", "NN"], [".", "."], ["So", "RB"], [",", ","], ["the", "DT"], ["idea", "NN"], ["is", "VBZ"], ["first", "JJ"], ["randomly", "RB"], ["shuffle", "VBP"], ["the", "DT"], ["array", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["an", "DT"], ["important", "JJ"], ["step", "NN"], ["that", "IN"], ["we", "PRP"], ["'ll", "MD"], ["talk", "VB"], ["about", "IN"], ["later", "RB"], [",", ","], ["and", "CC"], ["then", "RB"], ["partition", "VB"], ["the", "DT"], ["array", "NN"], [",", ","], ["so", "IN"], ["that", "DT"], ["'s", "VBZ"], ["to", "TO"], ["divide", "VB"], ["it", "PRP"], ["so", "RB"], ["that", "IN"], ["for", "IN"], ["sum", "NN"], ["value", "NN"], ["j", "VBZ"], ["the", "DT"], ["entry", "NN"], ["a", "DT"], ["of", "IN"], ["j", "NN"], ["is", "VBZ"], ["in", "IN"], ["place", "NN"], ["in", "IN"], ["the", "DT"], ["array", "NN"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["no", "DT"], ["larger", "JJR"], ["entry", "NN"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["of", "IN"], ["j", "NN"], ["and", "CC"], ["no", "DT"], ["smaller", "JJR"], ["entry", "NN"], ["to", "TO"], ["the", "DT"], ["right", "NN"], ["of", "IN"], ["j", "NN"], [".", "."], ["Once", "IN"], ["we", "PRP"], ["have", "VBP"], ["the", "DT"], ["array", "NN"], ["partitioned", "VBD"], ["in", "IN"], ["that", "DT"], ["way", "NN"], [",", ","], ["shown", "VBN"], ["here", "RB"], ["in", "IN"], ["the", "DT"], ["middle", "NN"], [".", "."], ["Right", "NNP"], ["here", "RB"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["K", "VBN"], ["in", "IN"], ["its", "PRP$"], ["position", "NN"], [".", "."], ["And", "CC"], ["we", "PRP"], ["have", "VBP"], ["everybody", "VBN"], ["to", "TO"], ["the", "DT"], ["left", "NN"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["nobody", "NN"], ["greater", "JJR"], ["than", "IN"], ["K.", "NNP"], ["And", "CC"], ["everybody", "NN"], ["to", "TO"], ["the", "DT"], ["right", "NN"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["nobody", "NN"], ["less", "RBR"], [".", "."], ["Once", "IN"], ["we", "PRP"], ["have", "VBP"], ["it", "PRP"], ["arranged", "VBN"], ["in", "IN"], ["that", "DT"], ["way", "NN"], [",", ","], ["then", "RB"], ["we", "PRP"], ["recursively", "RB"], ["sort", "VBP"], ["the", "DT"], ["two", "CD"], ["parts", "NNS"], [".", "."], ["Sort", "VB"], ["the", "DT"], ["left", "JJ"], ["part", "NN"], [",", ","], ["sort", "VBP"], ["the", "DT"], ["right", "JJ"], ["part", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["after", "IN"], ["those", "DT"], ["two", "CD"], ["things", "NNS"], ["are", "VBP"], ["done", "VBN"], [",", ","], ["the", "DT"], ["whole", "JJ"], ["thing", "NN"], ["is", "VBZ"], ["sorted", "VBN"], [".", "."], ["This", "DT"], ["method", "NN"], ["was", "VBD"], ["invented", "VBN"], ["in", "IN"], ["1961", "CD"], ["by", "IN"], ["Tony", "NNP"], ["Hore", "NNP"], [",", ","], ["who", "WP"], ["won", "VBD"], ["the", "DT"], ["Turing", "NNP"], ["Award", "NNP"], ["in", "IN"], ["1980", "CD"], ["for", "IN"], ["this", "DT"], ["and", "CC"], ["other", "JJ"], ["work", "NN"], [".", "."], ["So", "NNP"], ["let", "NN"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["a", "DT"], ["demo", "NN"], ["of", "IN"], ["how", "WRB"], ["Quicksort", "NNP"], ["partitioning", "VBG"], ["works", "NNS"], [".", "."], ["The", "DT"], ["idea", "NN"], ["is", "VBZ"], ["to", "TO"], ["arbitrarily", "RB"], ["choose", "VB"], ["the", "DT"], ["first", "JJ"], ["element", "NN"], ["to", "TO"], ["be", "VB"], ["the", "DT"], ["partitioning", "JJ"], ["element", "NN"], [".", "."], ["Since", "IN"], ["we", "PRP"], ["shuffled", "VBD"], ["the", "DT"], ["array", "NN"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["our", "PRP$"], ["random", "JJ"], ["element", "NN"], ["from", "IN"], ["the", "DT"], ["array", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["maintain", "VB"], ["an", "DT"], ["I", "PRP"], ["pointer", "VBP"], ["that", "WDT"], ["moves", "VBZ"], ["from", "IN"], ["left", "VBN"], ["to", "TO"], ["right", "VB"], [",", ","], ["and", "CC"], ["a", "DT"], ["J", "NNP"], ["pointer", "NN"], ["that", "WDT"], ["moves", "VBZ"], ["from", "IN"], ["right", "NN"], ["to", "TO"], ["left", "VB"], [".", "."], ["Let", "VB"], ["'s", "POS"], ["look", "VB"], ["how", "WRB"], ["it", "PRP"], ["works", "VBZ"], ["in", "IN"], ["the", "DT"], ["demo", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["start", "VBP"], ["again", "RB"], ["by", "IN"], ["picking", "VBG"], ["K", "NNP"], ["as", "IN"], ["the", "DT"], ["partitioning", "NN"], ["element", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["our", "PRP$"], ["method", "NN"], ["is", "VBZ"], ["to", "TO"], ["move", "VB"], ["the", "DT"], ["I", "PRP"], ["pointer", "VBP"], ["from", "IN"], ["left", "VBN"], ["to", "TO"], ["right", "RB"], [".", "."], ["As", "RB"], ["long", "RB"], ["as", "IN"], ["what", "WP"], ["we", "PRP"], ["have", "VBP"], ["is", "VBZ"], ["less", "JJR"], ["than", "IN"], ["the", "DT"], ["partitioning", "JJ"], ["element", "NN"], [".", "."], ["And", "CC"], ["move", "VB"], ["the", "DT"], ["j", "NN"], ["pointer", "NN"], ["from", "IN"], ["right", "NN"], ["to", "TO"], ["left", "VB"], ["as", "RB"], ["long", "RB"], ["as", "IN"], ["it", "PRP"], ["points", "VBZ"], ["to", "TO"], ["an", "DT"], ["item", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["greater", "JJR"], ["than", "IN"], ["the", "DT"], ["partitioning", "JJ"], ["element", "NN"], [".", "."], ["So", "RB"], [",", ","], ["in", "IN"], ["this", "DT"], ["example", "NN"], ["the", "DT"], ["i", "NN"], ["pointer", "VBP"], ["stops", "NNS"], ["right", "RB"], ["away", "RB"], ["because", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["pointing", "VBG"], ["to", "TO"], ["an", "DT"], ["r", "NN"], ["which", "WDT"], ["is", "VBZ"], ["bigger", "JJR"], ["than", "IN"], ["the", "DT"], ["partitioning", "JJ"], ["element", "NN"], [".", "."], ["The", "DT"], ["j", "NN"], ["pointer", "NN"], ["decrements", "NNS"], ["until", "IN"], ["it", "PRP"], ["gets", "VBZ"], ["to", "TO"], ["the", "DT"], ["c", "NN"], ["which", "WDT"], ["it", "PRP"], ["stops", "VBZ"], ["there", "RB"], ["which", "WDT"], ["is", "VBZ"], ["less", "JJR"], ["than", "IN"], ["the", "DT"], ["partitioning", "JJ"], ["element", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], ["now", "RB"], ["what", "WP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["happen", "VB"], ["is", "VBZ"], ["those", "DT"], ["two", "CD"], ["elements", "NNS"], ["are", "VBP"], ["out", "IN"], ["of", "IN"], ["place", "NN"], [".", "."], ["The", "DT"], ["partitioning", "VBG"], ["elements", "NNS"], ["in", "IN"], ["between", "IN"], ["them", "PRP"], ["and", "CC"], ["they", "PRP"], ["'re", "VBP"], ["in", "IN"], ["the", "DT"], ["wrong", "JJ"], ["order", "NN"], [".", "."], ["So", "RB"], ["what", "WP"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["exchange", "VB"], ["those", "DT"], [".", "."], ["And", "CC"], ["then", "RB"], ["move", "VB"], ["on", "IN"], [".", "."], ["Now", "RB"], ["we", "PRP"], ["increment", "VBP"], ["I", "PRP"], [",", ","], ["as", "RB"], ["long", "RB"], ["as", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["pointing", "VBG"], ["to", "TO"], ["an", "DT"], ["element", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["less", "JJR"], ["than", "IN"], ["the", "DT"], ["partitioning", "JJ"], ["element", "NN"], [".", "."], ["Stop", "VB"], ["here", "RB"], ["at", "IN"], ["t", "JJ"], ["cuz", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["bigger", "JJR"], [".", "."], ["And", "CC"], ["now", "RB"], ["we", "PRP"], ["decrement", "VBP"], ["j", "RB"], [",", ","], ["as", "RB"], ["long", "RB"], ["as", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["pointing", "VBG"], ["to", "TO"], ["something", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["bigger", "JJR"], ["than", "IN"], ["the", "DT"], ["partitioning", "JJ"], ["element", "NN"], [".", "."], ["Stop", "VB"], ["her", "PRP$"], ["at", "IN"], ["I", "PRP"], ["because", "VBP"], ["that", "DT"], ["'s", "VBZ"], ["less", "JJR"], [".", "."], ["Again", "NNP"], [",", ","], ["t", "NN"], ["and", "CC"], ["I", "PRP"], ["are", "VBP"], ["in", "IN"], ["the", "DT"], ["wrong", "JJ"], ["places", "NNS"], [".", "."], ["If", "IN"], ["we", "PRP"], ["exchange", "VBP"], ["them", "PRP"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["maintain", "VB"], ["the", "DT"], ["invariant", "NN"], ["that", "WDT"], ["everything", "NN"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["of", "IN"], ["I", "PRP"], ["is", "VBZ"], ["less", "RBR"], ["than", "IN"], ["the", "DT"], ["partitioning", "JJ"], ["element", "NN"], [",", ","], ["or", "CC"], ["nothing", "NN"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["of", "IN"], ["I", "PRP"], ["is", "VBZ"], ["greater", "JJR"], ["than", "IN"], ["the", "DT"], ["partitioning", "JJ"], ["element", "NN"], [",", ","], ["and", "CC"], ["nothing", "NN"], ["to", "TO"], ["the", "DT"], ["right", "NN"], ["of", "IN"], ["j", "NN"], ["is", "VBZ"], ["less", "JJR"], ["than", "IN"], ["the", "DT"], ["partitioning", "JJ"], ["element", "NN"], [".", "."], ["So", "CC"], ["exchange", "JJ"], ["increment", "NN"], ["I", "PRP"], ["as", "RB"], ["long", "RB"], ["as", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["less", "JJR"], [".", "."], ["Stop", "VB"], ["at", "IN"], ["l", "JJ"], ["increment", "JJ"], ["j", "NN"], ["decrement", "NN"], ["j", "NN"], ["as", "RB"], ["long", "RB"], ["as", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["greater", "JJR"], [".", "."], ["Stop", "VB"], ["at", "IN"], ["e", "FW"], ["those", "DT"], ["two", "CD"], ["elements", "NNS"], ["are", "VBP"], ["out", "IN"], ["of", "IN"], ["position", "NN"], ["so", "IN"], ["exchange", "NN"], ["them", "PRP"], [".", "."], ["Now", "RB"], ["increment", "JJ"], ["i", "NN"], [",", ","], ["stop", "NN"], ["at", "IN"], ["the", "DT"], ["l", "NN"], ["which", "WDT"], ["is", "VBZ"], ["greater", "JJR"], ["than", "IN"], ["k", "VB"], ["decrement", "JJ"], ["j", "NN"], ["stop", "NN"], ["at", "IN"], ["the", "DT"], ["e", "NN"], ["which", "WDT"], ["is", "VBZ"], ["less", "JJR"], ["than", "IN"], ["k", "NN"], ["and", "CC"], ["now", "RB"], ["at", "IN"], ["this", "DT"], ["point", "NN"], ["the", "DT"], ["partitioning", "NN"], ["process", "NN"], ["is", "VBZ"], ["complete", "JJ"], [",", ","], ["coomplete", "JJ"], ["cause", "VBP"], ["the", "DT"], ["pointers", "NNS"], ["have", "VBP"], ["crossed", "VBN"], ["and", "CC"], ["we", "PRP"], ["have", "VBP"], ["looked", "VBN"], ["at", "IN"], ["everything", "NN"], ["in", "IN"], ["the", "DT"], ["array", "NN"], [".", "."], ["In", "IN"], ["fact", "NN"], [".", "."], ["J", "NNP"], ["points", "NNS"], ["to", "TO"], ["the", "DT"], [",", ","], ["rightmost", "FW"], ["element", "NN"], ["in", "IN"], ["the", "DT"], ["left", "NN"], ["subfiles", "VBZ"], [",", ","], ["everything", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["not", "RB"], ["greater", "JJR"], ["than", "IN"], ["K.", "NNP"], ["So", "IN"], ["we", "PRP"], ["can", "MD"], ["just", "RB"], ["exchange", "VB"], ["J", "NNP"], ["with", "IN"], ["our", "PRP$"], ["partitioning", "VBG"], ["element", "NN"], [".", "."], ["And", "CC"], ["now", "RB"], ["we", "PRP"], ["'ve", "VBP"], ["achieved", "VBN"], ["the", "DT"], ["goal", "NN"], ["of", "IN"], ["partitioning", "VBG"], ["the", "DT"], ["array", "NN"], [".", "."], ["So", "CC"], ["that", "IN"], ["A", "NNP"], ["of", "IN"], ["J", "NNP"], ["is", "VBZ"], ["in", "IN"], ["its", "PRP$"], ["position", "NN"], [".", "."], ["Nobody", "NN"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["is", "VBZ"], ["greater", "JJR"], [".", "."], ["Nobody", "NN"], ["to", "TO"], ["the", "DT"], ["right", "NN"], ["is", "VBZ"], ["less", "RBR"], [".", "."], ["Now", "RB"], [",", ","], ["the", "DT"], ["code", "NN"], ["for", "IN"], ["partitioning", "NN"], ["is", "VBZ"], ["straight", "JJ"], ["forward", "RB"], ["to", "TO"], ["implement", "VB"], [".", "."], ["Down", "NNP"], ["below", "IN"], [".", "."], ["Shows", "VBZ"], ["the", "DT"], ["state", "NN"], ["of", "IN"], ["the", "DT"], ["array", "NN"], ["before", "IN"], ["partitioning", "VBG"], [".", "."], ["During", "IN"], ["and", "CC"], ["after", "IN"], ["partitioning", "VBG"], [".", "."], ["So", "RB"], ["in", "IN"], ["the", "DT"], ["end", "NN"], [",", ","], ["the", "DT"], ["J", "NNP"], ["pointer", "NN"], ["is", "VBZ"], ["pointing", "VBG"], ["to", "TO"], ["the", "DT"], ["partitioning", "VBG"], ["element", "NN"], ["V", "NNP"], [",", ","], ["which", "WDT"], ["was", "VBD"], ["in", "IN"], ["position", "NN"], ["V", "NNP"], ["in", "IN"], ["the", "DT"], ["first", "JJ"], ["place", "NN"], [".", "."], ["In", "IN"], ["the", "DT"], [",", ","], ["all", "DT"], ["during", "IN"], ["the", "DT"], ["partitioning", "NN"], ["process", "NN"], [",", ","], ["the", "DT"], ["code", "NN"], ["is", "VBZ"], ["maintaining", "VBG"], ["this", "DT"], ["invariant", "NN"], [".", "."], ["Where", "WRB"], ["everything", "NN"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["of", "IN"], ["I", "PRP"], ["is", "VBZ"], ["less", "RBR"], ["than", "IN"], ["or", "CC"], ["equal", "JJ"], ["to", "TO"], ["V.", "VB"], ["Everything", "NNP"], ["to", "TO"], ["the", "DT"], ["right", "NN"], ["of", "IN"], ["J", "NNP"], ["is", "VBZ"], ["greater", "JJR"], ["than", "IN"], ["or", "CC"], ["equal", "JJ"], ["to", "TO"], ["V.", "NNP"], ["And", "CC"], ["we", "PRP"], ["have", "VBP"], ["n't", "RB"], ["looked", "VBN"], ["at", "IN"], ["things", "NNS"], ["in", "IN"], ["between", "IN"], [".", "."], ["So", "NNP"], [",", ","], ["finding", "NN"], [",", ","], ["incrementing", "VBG"], ["I", "PRP"], [",", ","], ["as", "RB"], ["long", "RB"], ["as", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["less", "JJR"], ["is", "VBZ"], ["a", "DT"], ["simple", "JJ"], ["while", "IN"], ["loop", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["put", "VBD"], ["a", "DT"], ["test", "NN"], ["to", "TO"], ["make", "VB"], ["sure", "JJ"], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["run", "VB"], ["off", "RP"], ["the", "DT"], ["right", "JJ"], ["end", "NN"], ["of", "IN"], ["the", "DT"], ["array", "NN"], [".", "."], ["And", "CC"], ["decrementing", "VBG"], ["J", "NNP"], [".", "."], ["As", "RB"], ["long", "RB"], ["as", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["pointing", "VBG"], ["to", "TO"], ["a", "DT"], ["bigger", "JJR"], ["element", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["similarly", "RB"], ["just", "RB"], ["a", "DT"], ["wide", "JJ"], ["loop", "NN"], ["we", "PRP"], ["put", "VBD"], ["in", "IN"], ["to", "TO"], ["test", "VB"], ["to", "TO"], ["make", "VB"], ["sure", "JJ"], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["run", "VB"], ["off", "RP"], ["the", "DT"], ["left", "JJ"], ["end", "NN"], ["of", "IN"], ["the", "DT"], ["array", "NN"], [".", "."], ["Then", "RB"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["test", "NN"], ["to", "TO"], ["see", "VB"], ["if", "IN"], ["the", "DT"], ["pointers", "NNS"], ["cross", "VBP"], [".", "."], ["Swap", "VB"], ["the", "DT"], ["elements", "NNS"], ["of", "IN"], ["I", "PRP"], ["and", "CC"], ["j", "NN"], [".", "."], ["When", "WRB"], ["we", "PRP"], ["get", "VBP"], ["to", "TO"], ["the", "DT"], ["pointers", "NNS"], ["cross", "VBP"], ["we", "PRP"], ["break", "VBP"], ["out", "IN"], ["of", "IN"], ["the", "DT"], ["loop", "NN"], ["and", "CC"], ["exchange", "NN"], ["the", "DT"], ["partitioning", "VBG"], ["element", "NN"], ["into", "IN"], ["position", "NN"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["quick", "JJ"], ["implementation", "NN"], ["of", "IN"], ["the", "DT"], ["Quicksort", "NNP"], ["partitioning", "NN"], ["method", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["Quicksort", "NNP"], ["itself", "PRP"], ["then", "RB"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["a", "DT"], ["recursive", "JJ"], ["program", "NN"], ["that", "WDT"], ["uses", "VBZ"], ["that", "IN"], ["partitioning", "VBG"], ["method", "NN"], [".", "."], ["First", "JJ"], ["thing", "NN"], ["we", "PRP"], ["do", "VBP"], ["is", "VBZ"], ["the", "DT"], ["public", "JJ"], ["sort", "NN"], ["method", "NN"], ["that", "WDT"], ["takes", "VBZ"], ["the", "DT"], ["array", "NN"], ["of", "IN"], ["comparable", "JJ"], ["items", "NNS"], ["as", "IN"], ["its", "PRP$"], ["argument", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["gon", "VBG"], ["na", "TO"], ["to", "TO"], ["do", "VB"], ["a", "DT"], ["shuffle", "NN"], [".", "."], ["And", "CC"], ["that", "IN"], ["shuffle", "NN"], ["is", "VBZ"], ["needed", "VBN"], ["to", "TO"], ["make", "VB"], ["sure", "JJ"], ["that", "IN"], ["we", "PRP"], ["can", "MD"], ["guarantee", "VB"], ["that", "IN"], ["the", "DT"], ["performance", "NN"], ["is", "VBZ"], ["gon", "VBN"], ["na", "RB"], ["be", "VB"], ["good", "JJ"], [".", "."], ["And", "CC"], ["then", "RB"], ["it", "PRP"], ["calls", "VBZ"], ["the", "DT"], ["recursive", "JJ"], ["method", "NN"], ["that", "WDT"], ["takes", "VBZ"], ["as", "IN"], ["arguments", "NNS"], ["the", "DT"], ["limits", "NNS"], ["of", "IN"], ["the", "DT"], ["subarray", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["gon", "JJR"], ["na", "TO"], ["be", "VB"], ["sorted", "VBN"], [".", "."], ["So", "RB"], ["then", "RB"], ["partitioning", "VBG"], [".", "."], ["Simply", "NN"], ["does", "VBZ"], ["the", "DT"], ["partitioning", "NN"], [".", "."], ["Tells", "VBZ"], ["us", "PRP"], ["where", "WRB"], [",", ","], ["which", "WDT"], ["element", "NN"], ["is", "VBZ"], ["in", "IN"], ["position", "NN"], [",", ","], ["and", "CC"], ["then", "RB"], ["recursively", "RB"], ["sorts", "VBZ"], ["the", "DT"], ["last", "JJ"], ["part", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["loaded", "VBN"], [",", ","], ["J", "NNP"], ["-one", "NNP"], [".", "."], ["And", "CC"], ["then", "RB"], ["the", "DT"], ["right", "JJ"], ["part", "NN"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["J", "NNP"], ["+", "NNP"], ["one", "CD"], ["to", "TO"], ["high", "VB"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["a", "DT"], ["complete", "JJ"], ["implementation", "NN"], ["of", "IN"], ["Quicksort", "NNP"], [".", "."], ["Again", "NNP"], [",", ","], ["as", "IN"], ["with", "IN"], ["Mergesort", "NNP"], [",", ","], ["studying", "VBG"], ["a", "DT"], ["recursive", "JJ"], ["trace", "NN"], ["is", "VBZ"], ["instructive", "JJ"], [".", "."], ["And", "CC"], ["this", "DT"], ["one", "CD"], ["is", "VBZ"], ["kind", "NN"], ["of", "IN"], ["upside", "JJ"], ["down", "RB"], ["as", "RB"], ["compared", "VBN"], ["to", "TO"], ["Mergesort", "NNP"], [".", "."], ["The", "DT"], ["first", "JJ"], ["line", "NN"], ["shows", "VBZ"], ["the", "DT"], ["partitioning", "NN"], ["where", "WRB"], ["k", "NN"], ["is", "VBZ"], ["put", "VBN"], ["into", "IN"], ["position", "NN"], [".", "."], ["Then", "RB"], ["the", "DT"], ["method", "NN"], ["calls", "VBZ"], ["the", "DT"], ["sort", "NN"], ["for", "IN"], ["the", "DT"], ["left", "NN"], ["subfile", "NN"], ["first", "RB"], [",", ","], ["and", "CC"], ["then", "RB"], ["that", "DT"], ["'s", "VBZ"], ["gon", "JJR"], ["na", "TO"], ["be", "VB"], ["partitioned", "VBN"], ["on", "IN"], ["this", "DT"], ["e", "NN"], [",", ","], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["And", "CC"], ["eventually", "RB"], ["we", "PRP"], ["get", "VBP"], ["down", "RP"], ["to", "TO"], ["small", "JJ"], ["subfiles", "NNS"], [",", ","], ["actually", "RB"], ["our", "PRP$"], ["code", "NN"], ["does", "VBZ"], ["n't", "RB"], ["do", "VB"], ["anything", "NN"], ["at", "IN"], ["all", "DT"], ["for", "IN"], ["subarrays", "NNS"], ["of", "IN"], ["size", "NN"], ["one", "CD"], [",", ","], ["so", "IN"], ["we", "PRP"], ["just", "RB"], ["leave", "VBP"], ["those", "DT"], ["in", "IN"], ["gray", "JJ"], [",", ","], ["and", "CC"], ["then", "RB"], ["it", "PRP"], ["does", "VBZ"], ["the", "DT"], ["right", "NN"], ["subfile", "NN"], [",", ","], ["and", "CC"], ["so", "RB"], ["forth", "RB"], [".", "."], ["Again", "NNP"], [",", ","], ["studying", "VBG"], ["this", "DT"], [",", ","], ["a", "DT"], [",", ","], ["a", "DT"], ["trace", "NN"], ["like", "IN"], ["this", "DT"], [",", ","], ["gives", "VBZ"], ["a", "DT"], [",", ","], ["a", "DT"], ["good", "JJ"], ["feeling", "NN"], ["for", "IN"], ["exactly", "RB"], ["what", "WP"], ["'s", "VBZ"], ["going", "VBG"], ["on", "IN"], ["in", "IN"], ["the", "DT"], ["recursive", "JJ"], ["program", "NN"], [".", "."], ["Let", "NNP"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["an", "DT"], ["animation", "NN"], ["of", "IN"], ["Quicksort", "NNP"], ["in", "IN"], ["operation", "NN"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["the", "DT"], ["partition", "NN"], [".", "."], ["Now", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["working", "VBG"], ["on", "IN"], ["the", "DT"], ["left", "NN"], [".", "."], ["Now", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["partitioning", "VBG"], ["the", "DT"], ["right", "NN"], [".", "."], ["Now", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["working", "VBG"], ["on", "IN"], ["the", "DT"], ["left", "JJ"], ["part", "NN"], ["of", "IN"], ["the", "DT"], ["right", "NN"], [".", "."], ["Now", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["partitioning", "VBG"], ["what", "WP"], ["'s", "VBZ"], ["left", "VBN"], [".", "."], ["Doing", "VBG"], ["the", "DT"], ["left", "JJS"], ["part", "NN"], ["of", "IN"], ["that", "DT"], [".", "."], ["And", "CC"], ["working", "VBG"], ["from", "IN"], ["left", "VBN"], ["to", "TO"], ["right", "VB"], [",", ","], ["by", "IN"], ["dividing", "VBG"], ["each", "DT"], ["sub-array", "NN"], ["in", "IN"], ["half", "NN"], ["as", "IN"], ["it", "PRP"], ["goes", "VBZ"], [".", "."], ["So", "NNP"], ["let", "NN"], ["'s", "POS"], ["look", "NN"], [".", "."], ["Consider", "VB"], ["some", "DT"], ["of", "IN"], ["the", "DT"], ["details", "NNS"], ["in", "IN"], ["implementation", "NN"], ["of", "IN"], ["partitioning", "VBG"], ["with", "IN"], ["quick", "JJ"], ["sort", "NN"], [".", "."], ["So", "RB"], ["first", "JJ"], ["thing", "NN"], ["is", "VBZ"], ["the", "DT"], ["partition", "NN"], ["is", "VBZ"], ["in", "IN"], ["place", "NN"], [".", "."], ["You", "PRP"], ["could", "MD"], ["use", "VB"], ["an", "DT"], ["extra", "JJ"], ["array", "NN"], ["and", "CC"], ["the", "DT"], ["partitioning", "NN"], ["code", "NN"], ["would", "MD"], ["be", "VB"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["easier", "RBR"], [".", "."], ["But", "CC"], ["one", "CD"], ["of", "IN"], ["the", "DT"], ["big", "JJ"], ["advantages", "NNS"], ["of", "IN"], ["Quicksort", "NNP"], ["over", "IN"], ["Mergesort", "NNP"], ["is", "VBZ"], ["that", "IN"], ["it", "PRP"], ["does", "VBZ"], ["n't", "RB"], ["take", "VB"], ["any", "DT"], ["extra", "JJ"], ["space", "NN"], [".", "."], ["It", "PRP"], ["gets", "VBZ"], ["the", "DT"], ["sort", "NN"], ["done", "VBN"], ["in", "IN"], ["place", "NN"], [".", "."], ["Now", "RB"], ["you", "PRP"], ["have", "VBP"], ["to", "TO"], ["be", "VB"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["careful", "JJ"], ["with", "IN"], ["terminating", "VBG"], ["the", "DT"], ["loop", "NN"], [".", "."], ["When", "WRB"], ["we", "PRP"], ["give", "VBP"], ["you", "PRP"], ["working", "VBG"], ["code", "VB"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["hard", "JJ"], ["to", "TO"], ["see", "VB"], ["why", "WRB"], ["it", "PRP"], ["works", "VBZ"], [".", "."], ["And", "CC"], ["you", "PRP"], ["might", "MD"], ["go", "VB"], ["trough", "IN"], ["the", "DT"], ["exercise", "NN"], ["of", "IN"], ["trying", "VBG"], ["to", "TO"], ["implement", "VB"], ["Quicksort", "NNP"], ["without", "IN"], ["looking", "VBG"], ["at", "IN"], ["our", "PRP$"], ["code", "NN"], [",", ","], ["and", "CC"], ["you", "PRP"], ["'ll", "MD"], ["find", "VB"], ["that", "IN"], ["testing", "VBG"], ["when", "WRB"], ["the", "DT"], ["pointers", "NNS"], ["cross", "VBP"], ["can", "MD"], ["be", "VB"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["tricky", "JJ"], [",", ","], ["particulary", "JJ"], ["in", "IN"], ["the", "DT"], ["presence", "NN"], ["of", "IN"], ["duplicate", "NN"], ["keys", "NNS"], [".", "."], ["Also", "RB"], ["staying", "VBG"], ["in", "IN"], ["bounds", "NNS"], [".", "."], ["And", "CC"], ["I", "PRP"], [",", ","], ["actually", "RB"], [",", ","], ["in", "IN"], ["our", "PRP$"], ["implementation", "NN"], ["the", "DT"], ["test", "NN"], ["of", "IN"], ["the", "DT"], ["J", "NNP"], ["pointer", "NN"], ["running", "VBG"], ["off", "RP"], ["the", "DT"], ["left", "JJ"], ["end", "NN"], ["is", "VBZ"], ["redundant", "JJ"], [".", "."], ["Why", "WRB"], ["is", "VBZ"], ["it", "PRP"], ["redundant", "JJ"], ["?", "."], ["Well", "UH"], [",", ","], ["the", "DT"], ["partitioning", "NN"], ["element", "NN"], ["is", "VBZ"], ["sitting", "VBG"], ["there", "RB"], ["and", "CC"], ["it", "PRP"], ["'ll", "MD"], ["stop", "VB"], ["when", "WRB"], ["it", "PRP"], ["hits", "VBZ"], ["the", "DT"], ["partitioning", "NN"], ["element", "NN"], [".", "."], ["But", "CC"], ["the", "DT"], ["other", "JJ"], ["test", "NN"], ["is", "VBZ"], ["not", "RB"], ["in", "IN"], ["our", "PRP$"], ["implementation", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["key", "JJ"], ["thing", "NN"], [",", ","], ["one", "CD"], ["key", "JJ"], ["thing", "NN"], ["is", "VBZ"], ["that", "IN"], ["the", "DT"], ["way", "NN"], ["that", "IN"], ["these", "DT"], ["implementations", "NNS"], ["work", "VBP"], [".", "."], ["If", "IN"], ["the", "DT"], ["in-", "NN"], [",", ","], ["the", "DT"], ["file", "NN"], ["is", "VBZ"], [",", ","], ["the", "DT"], ["array", "NN"], ["is", "VBZ"], ["randomly", "RB"], ["ordered", "VBN"], [",", ","], ["then", "RB"], ["the", "DT"], ["two", "CD"], ["sub-arrays", "NNS"], ["after", "IN"], ["partitioning", "VBG"], ["will", "MD"], ["also", "RB"], ["be", "VB"], ["randomly", "RB"], ["ordered", "VBN"], [".", "."], ["Actually", "NNP"], [",", ","], ["some", "DT"], ["implementations", "NNS"], ["of", "IN"], ["Quick", "NNP"], ["Sort", "NNP"], ["out", "RP"], ["in", "IN"], ["the", "DT"], ["wild", "JJ"], ["do", "VBP"], ["n't", "RB"], ["have", "VB"], ["this", "DT"], ["property", "NN"], [",", ","], ["and", "CC"], ["they", "PRP"], ["suffer", "VBP"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["in", "IN"], ["performance", "NN"], [".", "."], ["That", "DT"], ["random", "NN"], ["shuffle", "NN"], ["at", "IN"], ["the", "DT"], ["beginning", "NN"], ["is", "VBZ"], ["important", "JJ"], ["and", "CC"], ["needed", "VBN"], ["for", "IN"], ["guaranteeing", "VBG"], ["performance", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["other", "JJ"], ["thing", "NN"], ["I", "PRP"], ["have", "VBP"], ["referred", "VBN"], ["to", "TO"], ["but", "CC"], ["not", "RB"], ["talked", "VBD"], ["about", "IN"], ["in", "IN"], ["detail", "NN"], ["is", "VBZ"], ["the", "DT"], ["presence", "NN"], ["of", "IN"], ["equal", "JJ"], ["keys", "NNS"], [".", "."], ["You", "PRP"], ["might", "MD"], ["think", "VB"], ["it", "PRP"], ["would", "MD"], ["be", "VB"], ["better", "JJR"], ["to", "TO"], ["handle", "VB"], ["equal", "JJ"], ["keys", "NNS"], ["in", "IN"], ["some", "DT"], ["special", "JJ"], ["way", "NN"], [".", "."], ["We", "PRP"], ["'ll", "MD"], ["talk", "VB"], ["about", "IN"], ["that", "DT"], ["in", "IN"], ["a", "DT"], ["second", "JJ"], [".", "."], ["But", "CC"], ["this", "DT"], ["general", "JJ"], ["purpose", "NN"], ["implementation", "NN"], ["stops", "VBZ"], ["the", "DT"], ["pointers", "NNS"], ["on", "IN"], ["keys", "NNS"], ["equal", "JJ"], ["to", "TO"], ["the", "DT"], ["partitioning", "VBG"], ["items", "NNS"], ["key", "JJ"], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["take", "VB"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["why", "WRB"], ["that", "DT"], ["'s", "VBZ"], ["important", "JJ"], ["in", "IN"], ["a", "DT"], ["minute", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], ["let", "VBP"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["the", "DT"], ["running", "JJ"], ["time", "NN"], ["estimates", "NNS"], ["about", "IN"], ["why", "WRB"], ["we", "PRP"], ["care", "VBP"], ["about", "IN"], ["Quicksort", "NNP"], ["vs", "NN"], ["Mergesort", "NNP"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["extending", "VBG"], ["the", "DT"], ["table", "NN"], ["we", "PRP"], ["looked", "VBD"], ["at", "IN"], ["last", "JJ"], ["time", "NN"], [",", ","], ["and", "CC"], ["you", "PRP"], ["can", "MD"], ["see", "VB"], ["over", "IN"], ["in", "IN"], ["the", "DT"], ["right", "JJ"], ["column", "NN"], ["here", "RB"], [",", ","], ["Quicksort", "NNP"], ["is", "VBZ"], ["quite", "RB"], ["a", "DT"], ["bit", "NN"], ["faster", "RBR"], ["than", "IN"], ["Mergesort", "NNP"], [".", "."], ["And", "CC"], ["again", "RB"], [",", ","], ["a", "DT"], ["good", "JJ"], ["algorithm", "NN"], ["is", "VBZ"], ["much", "RB"], ["better", "JJR"], ["than", "IN"], ["having", "VBG"], ["a", "DT"], ["super", "JJ"], ["computer", "NN"], [".", "."], ["Even", "RB"], ["on", "IN"], ["your", "PRP$"], ["PC", "NN"], ["you", "PRP"], ["can", "MD"], ["sort", "VB"], ["huge", "JJ"], ["array", "NN"], ["of", "IN"], ["a", "DT"], ["million", "CD"], ["items", "NNS"], ["in", "IN"], ["less", "JJR"], ["then", "RB"], ["a", "DT"], ["second", "JJ"], ["and", "CC"], ["a", "DT"], ["million", "CD"], ["items", "NNS"], ["in", "IN"], ["only", "RB"], ["a", "DT"], ["few", "JJ"], ["minutes", "NNS"], [".", "."], ["So", "RB"], ["again", "RB"], ["this", "DT"], ["time", "NN"], [",", ","], ["sort", "NN"], ["of", "IN"], ["timing", "NN"], ["is", "VBZ"], ["why", "WRB"], ["Quicksort", "NNP"], ["is", "VBZ"], ["so", "RB"], ["widely", "RB"], ["used", "VBN"], [".", "."], ["Cuz", "VB"], ["it", "PRP"], ["'s", "VBZ"], ["simply", "RB"], ["just", "RB"], ["faster", "RBR"], ["than", "IN"], ["Mergesort", "NNP"], [".", "."], ["Well", "NNP"], ["in", "IN"], ["the", "DT"], ["best", "JJS"], ["case", "NN"], ["Quick", "NNP"], ["Sort", "NNP"], ["will", "MD"], ["divide", "VB"], ["everything", "NN"], ["exactly", "RB"], ["in", "IN"], ["half", "NN"], [".", "."], ["And", "CC"], ["that", "IN"], ["makes", "VBZ"], ["it", "PRP"], ["kind", "NN"], ["of", "IN"], ["like", "JJ"], ["Merge", "NNP"], ["Sort", "NNP"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["about", "IN"], ["analog", "NN"], ["in", "IN"], [".", "."], ["And", "CC"], ["in", "IN"], ["the", "DT"], ["worst", "JJS"], ["case", "NN"], ["if", "IN"], ["the", "DT"], ["random", "NN"], ["shuffle", "NN"], ["winds", "VBZ"], ["up", "RP"], ["putting", "VBG"], ["the", "DT"], ["items", "NNS"], ["exactly", "RB"], ["in", "IN"], ["order", "NN"], [",", ","], ["then", "RB"], ["partitioning", "VBG"], ["does", "VBZ"], ["n't", "RB"], [",", ","], ["does", "VBZ"], ["n't", "RB"], ["really", "RB"], ["do", "VB"], ["anything", "NN"], ["except", "IN"], ["find", "IN"], ["the", "DT"], ["smallest", "JJS"], [",", ","], ["peel", "VB"], ["off", "RP"], ["the", "DT"], ["smallest", "JJS"], ["item", "NN"], [".", "."], ["Kind", "NNP"], ["of", "IN"], ["discover", "NN"], ["that", "WDT"], ["everything", "NN"], ["to", "TO"], ["the", "DT"], ["right", "NN"], ["is", "VBZ"], ["greater", "JJR"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["a", "DT"], ["bad", "JJ"], ["case", "NN"], [".", "."], ["But", "CC"], ["if", "IN"], ["we", "PRP"], ["shuffled", "VBD"], ["randomly", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["extremely", "RB"], ["unlikely", "JJ"], ["to", "TO"], ["happen", "VB"], [".", "."], ["Most", "JJS"], ["interesting", "JJ"], ["thing", "NN"], ["about", "IN"], ["the", "DT"], ["study", "NN"], ["of", "IN"], ["Quicksort", "NNP"], ["is", "VBZ"], ["the", "DT"], ["average", "JJ"], ["case", "NN"], ["analysis", "NN"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["a", "DT"], ["somewhat", "RB"], ["detailed", "JJ"], ["mathematical", "JJ"], ["derivation", "NN"], [",", ","], ["but", "CC"], ["it", "PRP"], ["is", "VBZ"], ["worthwhile", "JJ"], ["going", "VBG"], ["through", "IN"], ["the", "DT"], ["steps", "NNS"], [",", ","], ["to", "TO"], ["really", "RB"], ["get", "VB"], ["a", "DT"], ["feeling", "NN"], ["for", "IN"], ["why", "WRB"], ["it", "PRP"], ["is", "VBZ"], ["that", "IN"], [",", ","], ["Quicksort", "NNP"], ["is", "VBZ"], ["quick", "JJ"], [".", "."], ["So", "RB"], ["what", "WP"], ["we", "PRP"], ["do", "VBP"], ["is", "VBZ"], [",", ","], ["as", "IN"], ["we", "PRP"], ["did", "VBD"], ["for", "IN"], ["Merge", "NNP"], ["Sort", "NNP"], [",", ","], ["is", "VBZ"], ["write", "JJ"], ["down", "RP"], ["a", "DT"], ["mathematical", "JJ"], ["recurrence", "NN"], ["relation", "NN"], ["that", "WDT"], ["corresponds", "VBZ"], ["to", "TO"], ["what", "WP"], ["the", "DT"], ["program", "NN"], ["does", "VBZ"], [".", "."], ["In", "IN"], ["the", "DT"], ["case", "NN"], ["of", "IN"], ["Quick", "NNP"], ["Sort", "NNP"], [",", ","], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["comparisons", "NNS"], ["taken", "VBN"], ["to", "TO"], ["sort", "VB"], ["N", "NNP"], ["items", "NNS"], ["is", "VBZ"], ["N+1", "NNP"], ["for", "IN"], ["the", "DT"], ["partitioning", "NN"], [".", "."], ["Plus", "CC"], ["what", "WP"], ["happens", "VBZ"], ["next", "JJ"], ["depends", "VBZ"], ["on", "IN"], ["what", "WP"], ["the", "DT"], ["partitioning", "VBG"], ["element", "NN"], ["was", "VBD"], [".", "."], ["If", "IN"], ["the", "DT"], ["partitioning", "NN"], ["element", "NN"], ["is", "VBZ"], ["K.", "NNP"], ["Any", "NNP"], ["particular", "JJ"], ["value", "NN"], ["happens", "VBZ"], ["with", "IN"], ["probability", "NN"], ["one", "CD"], ["over", "IN"], ["n", "NN"], [",", ","], ["and", "CC"], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["k", "NN"], [",", ","], ["then", "RB"], ["the", "DT"], ["left", "NN"], ["subfile", "NN"], ["has", "VBZ"], ["k", "VBN"], ["-", ":"], ["one", "CD"], ["items", "NNS"], ["in", "IN"], ["it", "PRP"], [",", ","], ["and", "CC"], ["the", "DT"], ["right", "NN"], ["subfile", "NN"], ["has", "VBZ"], ["n", "VBN"], ["-", ":"], ["k", "NN"], ["items", "NNS"], ["in", "IN"], ["it", "PRP"], [".", "."], ["So", "RB"], [",", ","], ["for", "IN"], ["every", "DT"], ["value", "NN"], ["of", "IN"], ["k", "NN"], [",", ","], ["if", "IN"], ["you", "PRP"], ["add", "VBP"], ["those", "DT"], ["up", "IN"], ["the", "DT"], ["probability", "NN"], ["that", "IN"], ["the", "DT"], ["partitioning", "NN"], ["element", "NN"], ["is", "VBZ"], ["k", "VBN"], [",", ","], ["plus", "CC"], ["the", "DT"], ["cost", "NN"], ["for", "IN"], ["the", "DT"], ["two", "CD"], ["subfiles", "NNS"], [",", ","], ["we", "PRP"], ["get", "VBP"], ["this", "DT"], ["equation", "NN"], [".", "."], ["This", "DT"], ["looks", "VBZ"], ["like", "IN"], ["a", "DT"], ["fairly", "RB"], ["daunting", "JJ"], ["equation", "NN"], [",", ","], ["but", "CC"], ["actually", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["too", "RB"], ["difficult", "JJ"], ["to", "TO"], ["solve", "VB"], [".", "."], ["First", "JJ"], ["thing", "NN"], ["we", "PRP"], ["do", "VBP"], ["is", "VBZ"], ["just", "RB"], ["multiply", "VBN"], ["by", "IN"], ["N", "NNP"], ["and", "CC"], ["collect", "JJ"], ["terms", "NNS"], [".", "."], ["So", "RB"], ["NCN", "JJ"], ["N", "NNP"], ["times", "NNS"], ["N", "NNP"], ["+", "VBD"], ["one", "CD"], [".", "."], ["And", "CC"], ["then", "RB"], ["these", "DT"], ["terms", "NNS"], [",", ","], ["every", "DT"], ["size", "NN"], ["appears", "VBZ"], ["twice", "RB"], [".", "."], ["So", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["twice", "RB"], ["the", "DT"], ["sum", "NN"], ["of", "IN"], ["from", "IN"], ["C0", "NNP"], ["to", "TO"], ["CN", "NNP"], ["-", ":"], ["one", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["simpler", "JJ"], ["equation", "NN"], ["already", "RB"], [".", "."], ["Now", "RB"], ["what", "WP"], ["we", "PRP"], ["can", "MD"], ["do", "VB"], ["is", "VBZ"], ["get", "VB"], ["rid", "JJ"], ["of", "IN"], ["that", "DT"], ["sum", "NN"], ["by", "IN"], ["subtracting", "VBG"], ["the", "DT"], ["same", "JJ"], ["equation", "NN"], ["for", "IN"], ["N", "NNP"], ["minus", "CC"], ["one", "CD"], [".", "."], ["So", "CC"], ["NCN", "NNP"], ["-", ":"], ["N", "NNP"], ["-", ":"], ["one", "CD"], [",", ","], ["CN", "NNP"], ["-", ":"], ["one", "CD"], ["then", "RB"], ["the", "DT"], ["N", "NNP"], [",", ","], ["N", "NNP"], ["+", "NNP"], ["one", "CD"], ["-", ":"], ["N", "NNP"], ["-", ":"], ["one", "CD"], ["N", "NNP"], ["is", "VBZ"], ["just", "RB"], ["2N", "CD"], [".", "."], ["And", "CC"], ["then", "RB"], ["the", "DT"], ["sum", "NN"], ["collapses", "VBZ"], ["just", "RB"], ["leaving", "VBG"], ["the", "DT"], ["last", "JJ"], ["term", "NN"], [".", "."], ["This", "DT"], ["sum", "NN"], [",", ","], ["minus", "CC"], ["the", "DT"], ["same", "JJ"], ["sum", "NN"], ["for", "IN"], ["N", "NNP"], ["-", ":"], ["one", "CD"], [",", ","], ["just", "RB"], ["leaves", "VBZ"], ["the", "DT"], ["2CN", "CD"], ["-", ":"], ["one", "NN"], [".", "."], ["Now", "RB"], ["that", "DT"], ["'s", "VBZ"], ["looking", "VBG"], ["like", "IN"], ["a", "DT"], ["much", "RB"], ["simpler", "JJR"], ["equation", "NN"], [".", "."], ["Rearrange", "VB"], ["the", "DT"], ["terms", "NNS"], [",", ","], ["so", "IN"], ["we", "PRP"], ["get", "VBP"], ["n+1", "JJ"], ["cn-1", "NN"], ["and", "CC"], ["then", "RB"], ["divided", "VBN"], ["by", "IN"], ["n", "NN"], [",", ","], ["n+1", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["a", "DT"], ["kind", "NN"], ["of", "IN"], ["a", "DT"], ["magic", "JJ"], ["step", "NN"], [",", ","], ["but", "CC"], ["we", "PRP"], ["will", "MD"], ["see", "VB"], ["that", "IN"], ["it", "PRP"], ["makes", "VBZ"], ["possible", "JJ"], ["to", "TO"], ["solve", "VB"], ["the", "DT"], ["equation", "NN"], ["easily", "RB"], [".", "."], ["Because", "IN"], ["that", "DT"], ["equation", "NN"], [",", ","], ["with", "IN"], ["C", "NNP"], ["over", "IN"], ["N", "NNP"], ["plus", "CC"], ["one", "CD"], ["equals", "NNS"], ["CN", "NNP"], ["minus", "CC"], ["one", "CD"], ["over", "WDT"], ["N", "NNP"], [",", ","], ["is", "VBZ"], ["an", "DT"], ["equation", "NN"], ["that", "WDT"], ["telescopes", "VBZ"], ["the", "DT"], ["first", "JJ"], ["term", "NN"], ["at", "IN"], ["the", "DT"], ["right", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["the", "DT"], ["same", "JJ"], ["as", "IN"], ["the", "DT"], ["term", "NN"], ["on", "IN"], ["the", "DT"], ["left", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["can", "MD"], ["apply", "VB"], ["the", "DT"], ["same", "JJ"], ["equation", "NN"], ["so", "IN"], ["its", "PRP$"], ["two", "CD"], ["over", "IN"], ["n", "JJ"], ["+", "JJ"], ["one", "NN"], [".", "."], ["We", "PRP"], ["apply", "VBP"], ["for", "IN"], ["n", "SYM"], ["-", ":"], ["one", "CD"], ["we", "PRP"], ["get", "VBP"], ["one", "CD"], ["less", "JJR"], ["here", "RB"], ["and", "CC"], ["we", "PRP"], ["can", "MD"], ["throw", "VB"], ["out", "RP"], ["a", "DT"], ["lot", "NN"], ["two", "CD"], ["over", "IN"], ["n.", "NNS"], ["And", "CC"], ["continue", "VB"], ["that", "DT"], ["way", "NN"], ["throwing", "VBG"], ["out", "RP"], ["two", "CD"], ["over", "IN"], ["decreasing", "VBG"], ["numbers", "NNS"], ["all", "PDT"], ["the", "DT"], ["way", "NN"], ["down", "RB"], ["until", "IN"], ["we", "PRP"], ["get", "VBP"], ["down", "RB"], ["to", "TO"], ["two", "CD"], ["elements", "NNS"], [",", ","], ["c1", "NN"], ["which", "WDT"], ["is", "VBZ"], ["zero", "CD"], [".", "."], ["Substitute", "VB"], ["the", "DT"], ["previous", "JJ"], ["equation", "NN"], ["telescope", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["that", "DT"], ["gives", "VBZ"], ["us", "PRP"], ["an", "DT"], ["easy", "JJ"], ["sum", "NN"], ["that", "IN"], ["we", "PRP"], ["can", "MD"], ["approximate", "VB"], ["by", "IN"], ["an", "DT"], ["integral", "JJ"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["one", "CD"], ["over", "IN"], ["X", "NN"], ["from", "IN"], ["three", "CD"], ["to", "TO"], ["N+1", "NNP"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["pretty", "RB"], ["close", "JJ"], ["approximation", "NN"], [",", ","], ["in", "IN"], ["this", "DT"], ["case", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["approximation", "NN"], ["gives", "VBZ"], ["us", "PRP"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["about", "IN"], ["two", "CD"], ["M+1", "NNP"], ["natural", "JJ"], ["log", "NN"], ["N", "NNP"], ["comparisons", "NNS"], ["for", "IN"], ["Quicksort", "NNP"], [".", "."], ["About", "IN"], ["1.39", "CD"], ["N", "NNP"], ["log", "NN"], ["N.", "NNP"], ["That", "WDT"], ["'s", "VBZ"], ["the", "DT"], ["average", "JJ"], ["number", "NN"], ["of", "IN"], ["comparisons", "NNS"], ["taken", "VBN"], ["by", "IN"], ["Quicksort", "NNP"], [",", ","], ["and", "CC"], ["actually", "RB"], ["they", "PRP"], ["for", "IN"], ["a", "DT"], ["random", "JJ"], ["permutation", "NN"], ["of", "IN"], ["the", "DT"], ["elements", "NNS"], ["which", "WDT"], ["is", "VBZ"], ["what", "WP"], ["we", "PRP"], ["do", "VBP"], ["with", "IN"], ["the", "DT"], ["shuffle", "NN"], [".", "."], ["They", "PRP"], ["the", "DT"], ["expected", "JJ"], ["number", "NN"], ["of", "IN"], ["comparisons", "NNS"], ["is", "VBZ"], ["concentrated", "VBN"], ["around", "IN"], ["this", "DT"], ["value", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["very", "RB"], ["likely", "JJ"], ["to", "TO"], ["be", "VB"], ["very", "RB"], ["near", "IN"], ["this", "DT"], ["value", "NN"], ["is", "VBZ"], ["then", "RB"], ["as", "IN"], ["large", "JJ"], [".", "."], ["So", "IN"], ["the", "DT"], ["worst", "JJS"], ["case", "NN"], ["quick", "JJ"], ["sort", "NN"], ["is", "VBZ"], ["quadratic", "JJ"], [".", "."], ["So", "NNP"], ["complexity", "NN"], ["'s", "POS"], ["going", "VBG"], ["to", "TO"], ["tell", "VB"], ["us", "PRP"], ["that", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["quadratic", "JJ"], ["algorithm", "NN"], ["if", "IN"], ["that", "DT"], ["'s", "VBZ"], ["what", "WP"], ["its", "PRP$"], ["worst", "JJS"], ["case", "NN"], ["is", "VBZ"], [".", "."], ["But", "CC"], ["with", "IN"], ["random", "NN"], [",", ","], ["the", "DT"], ["random", "NN"], ["shuffle", "VBD"], ["it", "PRP"], ["'s", "VBZ"], ["more", "RBR"], ["likely", "JJ"], ["that", "IN"], ["this", "DT"], ["lecture", "NN"], ["will", "MD"], ["end", "VB"], [",", ","], ["because", "IN"], ["of", "IN"], ["a", "DT"], ["lightning", "NN"], ["strike", "NN"], [".", "."], ["Or", "CC"], ["your", "PRP$"], ["computer", "NN"], ["will", "MD"], ["be", "VB"], ["struck", "VBN"], ["by", "IN"], ["a", "DT"], ["lightning", "NN"], ["bolt", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["can", "MD"], ["discount", "VB"], ["that", "DT"], [".", "."], ["The", "DT"], ["average", "JJ"], ["case", "NN"], [",", ","], ["which", "WDT"], ["is", "VBZ"], ["extremely", "RB"], ["likely", "JJ"], ["for", "IN"], ["any", "DT"], ["practical", "JJ"], ["application", "NN"], [",", ","], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["about", "IN"], ["1.39", "CD"], ["n", "JJ"], ["log", "NN"], ["n.", "NNS"], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["more", "JJR"], ["compares", "NNS"], ["than", "IN"], ["Mergesort", "NNP"], ["uses", "VBZ"], [".", "."], ["But", "CC"], ["Quicksort", "NNP"], ["is", "VBZ"], ["much", "JJ"], ["faster", "RBR"], [",", ","], ["because", "IN"], ["it", "PRP"], ["does", "VBZ"], ["n't", "RB"], ["do", "VB"], ["much", "RB"], ["corresponding", "VBG"], ["to", "TO"], ["each", "DT"], ["compare", "NN"], [".", "."], ["It", "PRP"], ["just", "RB"], ["does", "VBZ"], ["the", "DT"], ["compare", "NN"], ["and", "CC"], ["increment", "VB"], ["a", "DT"], ["pointer", "NN"], [".", "."], ["Whereas", "NNP"], [",", ","], ["Mergesort", "NNP"], ["has", "VBZ"], ["to", "TO"], ["move", "VB"], ["the", "DT"], ["items", "NNS"], ["into", "IN"], ["and", "CC"], ["out", "IN"], ["of", "IN"], ["the", "DT"], ["auxiliary", "JJ"], ["array", "NN"], [",", ","], ["which", "WDT"], ["is", "VBZ"], ["more", "RBR"], ["expensive", "JJ"], [".", "."], ["So", "IN"], ["the", "DT"], ["random", "NN"], ["shuffle", "NN"], ["is", "VBZ"], ["a", "DT"], ["key", "NN"], ["for", "IN"], ["good", "JJ"], ["performance", "NN"], ["in", "IN"], ["Quicksort", "NNP"], [".", "."], ["It", "PRP"], ["gives", "VBZ"], ["us", "PRP"], ["the", "DT"], ["guarantee", "NN"], ["that", "IN"], ["the", "DT"], ["worst", "JJS"], ["case", "NN"], ["is", "VBZ"], ["not", "RB"], ["gon", "VBN"], ["na", "TO"], ["happen", "VB"], [".", "."], ["And", "CC"], ["also", "RB"], [",", ","], ["it", "PRP"], ["allows", "VBZ"], ["us", "PRP"], ["to", "TO"], ["develop", "VB"], ["a", "DT"], ["math", "NN"], ["model", "NN"], ["that", "IN"], ["we", "PRP"], ["can", "MD"], ["go", "VB"], ["ahead", "RB"], ["and", "CC"], ["validate", "VB"], ["with", "IN"], ["experimentation", "NN"], [".", "."], ["You", "PRP"], ["run", "VBP"], ["Quick", "JJ"], ["Sort", "NNP"], ["and", "CC"], ["you", "PRP"], ["count", "VBP"], ["compares", "NNS"], [".", "."], ["If", "IN"], ["you", "PRP"], ["did", "VBD"], ["the", "DT"], ["random", "NN"], ["shuffle", "NN"], [",", ","], ["it", "PRP"], ["'ll", "MD"], ["be", "VB"], ["about", "IN"], ["1.39", "CD"], ["n", "JJ"], ["log", "NN"], ["n", "JJ"], ["compares", "NNS"], [".", "."], ["And", "CC"], ["its", "PRP$"], ["running", "NN"], ["time", "NN"], ["will", "MD"], ["be", "VB"], ["proportional", "JJ"], ["to", "TO"], ["n", "VB"], ["log", "NN"], ["n", "NN"], [",", ","], ["and", "CC"], ["it", "PRP"], ["'ll", "MD"], ["be", "VB"], ["a", "DT"], ["fast", "JJ"], ["sort", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["what", "WP"], ["people", "NNS"], ["do", "VBP"], [",", ","], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["why", "WRB"], ["people", "NNS"], ["use", "VBP"], ["it", "PRP"], [".", "."], ["Now", "RB"], ["there", "EX"], ["are", "VBP"], ["some", "DT"], ["things", "NNS"], ["that", "IN"], ["you", "PRP"], ["have", "VBP"], ["to", "TO"], ["watch", "VB"], ["out", "RP"], ["for", "IN"], ["with", "IN"], ["Quicksort", "NNP"], ["because", "IN"], ["the", "DT"], ["implementation", "NN"], ["is", "VBZ"], ["a", "DT"], ["bit", "NN"], ["fragile", "JJ"], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["easy", "JJ"], ["to", "TO"], ["make", "VB"], ["mistakes", "NNS"], [".", "."], ["And", "CC"], ["you", "PRP"], ["'ll", "MD"], ["find", "VB"], ["textbook", "JJ"], ["implementations", "NNS"], ["or", "CC"], ["implementations", "NNS"], ["out", "RP"], ["on", "IN"], ["the", "DT"], ["web", "NN"], ["that", "WDT"], ["wind", "VBZ"], ["up", "RP"], ["running", "VBG"], ["in", "IN"], ["quadratic", "JJ"], ["time", "NN"], ["in", "IN"], ["certain", "JJ"], ["situations", "NNS"], [".", "."], ["You", "PRP"], ["have", "VBP"], ["to", "TO"], ["be", "VB"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["careful", "JJ"], ["of", "IN"], ["that", "DT"], ["and", "CC"], ["even", "RB"], ["if", "IN"], ["everything", "NN"], ["is", "VBZ"], ["randomized", "VBN"], ["if", "IN"], ["there", "EX"], ["'s", "VBZ"], ["lots", "NNS"], ["of", "IN"], ["duplicates", "NNS"], ["and", "CC"], ["the", "DT"], ["implementation", "NN"], ["is", "VBZ"], ["not", "RB"], ["done", "VBN"], ["quite", "RB"], ["right", "JJ"], ["the", "DT"], ["quick", "JJ"], ["sort", "NN"], ["might", "MD"], ["take", "VB"], ["quadratic", "JJ"], ["time", "NN"], [".", "."], ["So", "RB"], [",", ","], ["let", "VB"], ["'s", "POS"], ["summarize", "VB"], ["the", "DT"], ["properties", "NNS"], ["of", "IN"], ["Quicksort", "NNP"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["in", "IN"], ["place", "NN"], [".", "."], ["It", "PRP"], ["does", "VBZ"], ["n't", "RB"], ["use", "VB"], ["any", "DT"], ["extra", "JJ"], ["space", "NN"], [".", "."], ["The", "DT"], ["depth", "NN"], ["of", "IN"], ["recursion", "NN"], [".", "."], ["So", "RB"], ["tha", "JJ"], [",", ","], ["that", "DT"], ["'s", "VBZ"], [".", "."], ["Again", "NNP"], [",", ","], ["dependent", "NN"], ["on", "IN"], ["the", "DT"], ["random", "NN"], ["shuffling", "NN"], [",", ","], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["logarithmic", "JJ"], [".", "."], ["You", "PRP"], ["can", "MD"], [",", ","], ["limit", "VB"], ["the", "DT"], ["depth", "NN"], ["of", "IN"], ["recursion", "NN"], ["by", "IN"], ["always", "RB"], ["doing", "VBG"], ["the", "DT"], ["smaller", "JJR"], ["sub-array", "NN"], ["before", "IN"], ["the", "DT"], ["larger", "JJR"], ["sub-array", "NN"], [".", "."], ["But", "CC"], ["that", "DT"], ["'s", "VBZ"], ["not", "RB"], ["really", "RB"], ["necessary", "JJ"], ["nowadays", "NNS"], [",", ","], ["as", "RB"], ["long", "RB"], ["as", "IN"], ["you", "PRP"], ["'ve", "VBP"], ["done", "VBN"], ["the", "DT"], [",", ","], ["random", "NN"], ["shuffle", "NN"], ["Oh", "NNP"], [",", ","], ["and", "CC"], ["by", "IN"], ["the", "DT"], ["way", "NN"], [",", ","], ["Quicksort", "NNP"], ["is", "VBZ"], ["not", "RB"], ["stable", "JJ"], ["cuz", "NNS"], ["partitioning", "VBG"], ["does", "VBZ"], ["one", "CD"], ["of", "IN"], ["those", "DT"], ["long", "JJ"], ["range", "NN"], ["exchanges", "NNS"], ["that", "WDT"], ["might", "MD"], ["put", "VB"], ["a", "DT"], [",", ","], ["a", "DT"], ["key", "NN"], ["with", "IN"], ["equal", "JJ"], ["value", "NN"], ["over", "IN"], ["a", "DT"], ["key", "JJ"], ["another", "DT"], ["key", "NN"], ["with", "IN"], ["the", "DT"], ["same", "JJ"], ["value", "NN"], [".", "."], ["So", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["little", "RB"], ["more", "RBR"], ["work", "NN"], ["to", "TO"], ["make", "VB"], ["Quicksort", "NNP"], ["stable", "JJ"], [",", ","], ["maybe", "RB"], ["using", "VBG"], ["extra", "JJ"], ["space", "NN"], [".", "."], ["Un", "NNP"], [",", ","], ["so", "IN"], ["what", "WP"], ["about", "IN"], ["in", "IN"], ["actually", "RB"], ["in", "IN"], ["practice", "NN"], ["?", "."], ["This", "DT"], ["is", "VBZ"], ["our", "PRP$"], ["fastest", "JJS"], ["sorting", "VBG"], ["algorithm", "NN"], [",", ","], ["and", "CC"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["few", "JJ"], ["ways", "NNS"], ["to", "TO"], ["make", "VB"], ["it", "PRP"], ["even", "RB"], ["faster", "RBR"], [".", "."], ["And", "CC"], ["these", "DT"], [",", ","], ["we", "PRP"], ["looked", "VBD"], ["at", "IN"], ["some", "DT"], ["similar", "JJ"], ["things", "NNS"], ["with", "IN"], ["for", "IN"], ["the", "DT"], ["Word", "NNP"], [",", ","], ["Mergesort", "NNP"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["definitely", "RB"], ["worthwhile", "JJ"], ["taking", "VBG"], ["implementing", "VBG"], ["for", "IN"], ["a", "DT"], ["Quicksort", "NNP"], [".", "."], ["First", "NNP"], ["thing", "NN"], ["is", "VBZ"], ["small", "JJ"], ["sub-arrays", "NNS"], [".", "."], ["Even", "RB"], ["Quicksort", "NNP"], ["has", "VBZ"], ["more", "JJR"], ["overhead", "JJ"], ["than", "IN"], ["you", "PRP"], ["want", "VBP"], ["for", "IN"], ["a", "DT"], ["tiny", "JJ"], ["array", "NN"], [",", ","], ["like", "IN"], ["one", "CD"], ["of", "IN"], ["size", "NN"], ["two", "CD"], ["or", "CC"], ["three", "CD"], ["or", "CC"], ["four", "CD"], [".", "."], ["So", "RB"], ["can", "MD"], ["implement", "VB"], ["it", "PRP"], ["to", "TO"], ["cut", "VB"], ["off", "RP"], ["to", "TO"], ["insertion", "VB"], ["sort", "NN"], ["for", "IN"], ["small", "JJ"], ["arrays", "NNS"], [".", "."], ["And", "CC"], ["the", "DT"], ["exact", "JJ"], ["number", "NN"], ["they", "PRP"], ["use", "VBP"], ["is", "VBZ"], ["not", "RB"], ["too", "RB"], [",", ","], ["critical", "JJ"], [".", "."], ["Okay", "NNP"], [".", "."], ["Anywhere", "NNP"], ["between", "IN"], ["ten", "NN"], ["and", "CC"], ["twenty", "NN"], ["will", "MD"], ["improve", "VB"], ["the", "DT"], ["running", "NN"], ["time", "NN"], ["by", "IN"], ["maybe", "RB"], ["twenty", "CD"], ["%", "NN"], [".", "."], ["Also", "RB"], ["you", "PRP"], ["could", "MD"], ["just", "RB"], ["not", "RB"], ["do", "VB"], ["anything", "NN"], ["for", "IN"], ["small", "JJ"], ["arrays", "NNS"], [",", ","], ["and", "CC"], ["then", "RB"], ["do", "VB"], ["the", "DT"], ["insertion", "NN"], ["sorting", "VBG"], ["in", "IN"], ["one", "CD"], ["pass", "NN"], ["at", "IN"], ["the", "DT"], ["end", "NN"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["first", "JJ"], ["improvement", "NN"], [".", "."], ["A", "DT"], ["second", "JJ"], ["improvement", "NN"], ["is", "VBZ"], ["to", "TO"], [",", ","], ["try", "VB"], ["to", "TO"], ["estimate", "VB"], ["the", "DT"], ["partitioning", "VBG"], ["element", "NN"], ["to", "TO"], ["be", "VB"], ["near", "IN"], ["the", "DT"], ["middle", "NN"], [".", "."], ["Rather", "NNP"], ["than", "IN"], ["just", "RB"], ["arbitrarily", "RB"], ["using", "VBG"], ["the", "DT"], ["first", "JJ"], ["element", "NN"], [".", "."], ["Which", "NNP"], ["on", "IN"], ["average", "NN"], ["will", "MD"], ["be", "VB"], ["at", "IN"], ["the", "DT"], ["middle", "NN"], [".", "."], ["So", "RB"], ["one", "CD"], ["thing", "NN"], ["that", "IN"], ["we", "PRP"], ["can", "MD"], ["do", "VB"], ["is", "VBZ"], ["sample", "VB"], ["the", "DT"], ["items", "NNS"], [",", ","], ["and", "CC"], ["then", "RB"], ["take", "VB"], ["a", "DT"], ["median", "NN"], ["of", "IN"], ["the", "DT"], ["sample", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["actually", "RB"], ["not", "RB"], ["worth", "IN"], ["the", "DT"], ["cost", "NN"], ["for", "IN"], ["enlarged", "JJ"], ["samples", "NNS"], [",", ","], ["not", "RB"], ["usually", "RB"], [".", "."], ["But", "CC"], ["for", "IN"], ["three", "CD"], ["it", "PRP"], ["'s", "VBZ"], ["worthwhile", "JJ"], [".", "."], ["Slightly", "RB"], ["reduces", "VBZ"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["compares", "NNS"], [".", "."], ["Increases", "VBZ"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["exchanges", "NNS"], ["paradoxically", "RB"], [",", ","], ["cuz", "VBZ"], ["more", "JJR"], ["exchanges", "NNS"], ["are", "VBP"], ["required", "VBN"], ["when", "WRB"], ["the", "DT"], ["partition", "NN"], ["is", "VBZ"], ["right", "JJ"], ["in", "IN"], ["the", "DT"], ["middle", "NN"], [".", "."], ["So", "CC"], ["that", "IN"], ["'ll", "MD"], ["also", "RB"], ["improve", "VB"], ["the", "DT"], ["running", "NN"], ["time", "NN"], ["by", "IN"], ["maybe", "RB"], ["ten", "CD"], ["%", "NN"], [".", "."], ["So", "IN"], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], ["summary", "NN"], ["of", "IN"], ["the", "DT"], ["optimized", "JJ"], ["Quicksort", "NNP"], ["with", "IN"], ["cut", "VBN"], ["off", "RP"], ["the", "DT"], ["small", "JJ"], ["subfiles", "NNS"], ["in", "IN"], ["median-of-three", "JJ"], ["partitioning", "NN"], [".", "."], ["So", "CC"], ["partition", "JJ"], ["usually", "RB"], ["happens", "VBZ"], ["pretty", "JJ"], ["close", "RB"], ["to", "TO"], ["the", "DT"], ["middle", "NN"], ["when", "WRB"], ["you", "PRP"], ["do", "VBP"], ["that", "DT"], ["sample", "VB"], ["median-of-three", "JJ"], ["and", "CC"], ["then", "RB"], ["small", "JJ"], ["subfiles", "NNS"], ["can", "MD"], ["just", "RB"], ["be", "VB"], ["left", "VBN"], ["unsorted", "JJ"], ["to", "TO"], ["be", "VB"], ["picked", "VBN"], ["up", "RP"], ["with", "IN"], ["insertion", "NN"], ["sort", "NN"], ["right", "NN"], ["at", "IN"], ["the", "DT"], ["end", "NN"], [".", "."], ["So", "IN"], ["this", "DT"], ["gives", "VBZ"], ["a", "DT"], ["feeling", "NN"], ["for", "IN"], ["the", "DT"], [".", "."], ["Number", "NNP"], ["of", "IN"], ["items", "NNS"], ["that", "WDT"], ["have", "VBP"], ["to", "TO"], ["be", "VB"], ["touched", "VBN"], ["during", "IN"], ["quick", "JJ"], ["sort", "NN"], [".", "."], ["And", "CC"], ["kind", "NN"], ["of", "IN"], ["an", "DT"], ["explanation", "NN"], ["for", "IN"], ["how", "WRB"], ["it", "PRP"], ["gets", "VBZ"], ["the", "DT"], ["sort", "NN"], ["done", "VBN"], ["so", "RB"], ["quickly", "RB"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["a", "DT"], ["summary", "NN"], ["of", "IN"], ["Quicksort", "NNP"], [",", ","], ["our", "PRP$"], ["best", "JJS"], ["sorting", "VBG"], ["algorithm", "NN"], ["that", "IN"], ["we", "PRP"], ["'ve", "VBP"], ["seen", "VBN"], ["to", "TO"], ["date", "NN"], [".", "."]], "title": "quicksort", "text": "Welcome back. Today we're going to look at Quicksort. It was named as one of the most important algorithms of the twentieth century and it's widely used for system sorts and many other applications. Last lecture, we looked at Mergesort, another classic sorting algorithm, that's used in many systems, and today we are looking at Quicksort which is used in many others. You can even get a Quicksort t-shirt nowadays. So what is the Quicksort method? It's also a recursive method, but the basic idea behind Quicksort is that it does the recursion after it does the work, whereas Mergesort did it before it did the work. So, the idea is first randomly shuffle the array. That's an important step that we'll talk about later, and then partition the array, so that's to divide it so that for sum value j the entry a of j is in place in the array. There's no larger entry to the left of j and no smaller entry to the right of j. Once we have the array partitioned in that way, shown here in the middle. Right here, we have K in its position. And we have everybody to the left. There's nobody greater than K. And everybody to the right, there's nobody less. Once we have it arranged in that way, then we recursively sort the two parts. Sort the left part, sort the right part. And then after those two things are done, the whole thing is sorted. This method was invented in 1961 by Tony Hore, who won the Turing Award in 1980 for this and other work. So let's look at a demo of how Quicksort partitioning works. The idea is to arbitrarily choose the first element to be the partitioning element. Since we shuffled the array, that's our random element from the array. And then we're going to maintain an I pointer that moves from left to right, and a J pointer that moves from right to left. Let's look how it works in the demo. So we start again by picking K as the partitioning element. And then our method is to move the I pointer from left to right. As long as what we have is less than the partitioning element. And move the j pointer from right to left as long as it points to an item that's greater than the partitioning element. So, in this example the i pointer stops right away because it's pointing to an r which is bigger than the partitioning element. The j pointer decrements until it gets to the c which it stops there which is less than the partitioning element. And so now what's going to happen is those two elements are out of place. The partitioning elements in between them and they're in the wrong order. So what we want to do is exchange those. And then move on. Now we increment I, as long as it's pointing to an element that's less than the partitioning element. Stop here at t cuz that's bigger. And now we decrement j, as long as it's pointing to something that's bigger than the partitioning element. Stop her at I because that's less. Again, t and I are in the wrong places. If we exchange them, we'll maintain the invariant that everything to the left of I is less than the partitioning element, or nothing to the left of I is greater than the partitioning element, and nothing to the right of j is less than the partitioning element. So exchange increment I as long as it's less. Stop at l increment j decrement j as long as it's greater. Stop at e those two elements are out of position so exchange them. Now increment i, stop at the l which is greater than k decrement j stop at the e which is less than k and now at this point the partitioning process is complete, coomplete cause the pointers have crossed and we have looked at everything in the array. In fact. J points to the, rightmost element in the left subfiles, everything that's not greater than K. So we can just exchange J with our partitioning element. And now we've achieved the goal of partitioning the array. So that A of J is in its position. Nobody to the left is greater. Nobody to the right is less. Now, the code for partitioning is straight forward to implement. Down below. Shows the state of the array before partitioning. During and after partitioning. So in the end, the J pointer is pointing to the partitioning element V, which was in position V in the first place. In the, all during the partitioning process, the code is maintaining this invariant. Where everything to the left of I is less than or equal to V. Everything to the right of J is greater than or equal to V. And we haven't looked at things in between. So, finding, incrementing I, as long as it's less is a simple while loop. And then we put a test to make sure we don't run off the right end of the array. And decrementing J. As long as it's pointing to a bigger element that's similarly just a wide loop we put in to test to make sure we don't run off the left end of the array. Then there's a test to see if the pointers cross. Swap the elements of I and j. When we get to the pointers cross we break out of the loop and exchange the partitioning element into position. So that's a quick implementation of the Quicksort partitioning method. Now, Quicksort itself then is going to be a recursive program that uses that partitioning method. First thing we do is the public sort method that takes the array of comparable items as its argument. It's gonna to do a shuffle. And that shuffle is needed to make sure that we can guarantee that the performance is gonna be good. And then it calls the recursive method that takes as arguments the limits of the subarray that's gonna be sorted. So then partitioning. Simply does the partitioning. Tells us where, which element is in position, and then recursively sorts the last part that's loaded, J -one. And then the right part, that's J + one to high. That's a complete implementation of Quicksort. Again, as with Mergesort, studying a recursive trace is instructive. And this one is kind of upside down as compared to Mergesort. The first line shows the partitioning where k is put into position. Then the method calls the sort for the left subfile first, and then that's gonna be partitioned on this e, and so forth. And eventually we get down to small subfiles, actually our code doesn't do anything at all for subarrays of size one, so we just leave those in gray, and then it does the right subfile, and so forth. Again, studying this, a, a trace like this, gives a, a good feeling for exactly what's going on in the recursive program. Let's look at an animation of Quicksort in operation. There's the partition. Now it's working on the left. Now it's partitioning the right. Now it's working on the left part of the right. Now it's partitioning what's left. Doing the left part of that. And working from left to right, by dividing each sub-array in half as it goes. So let's look. Consider some of the details in implementation of partitioning with quick sort. So first thing is the partition is in place. You could use an extra array and the partitioning code would be a little bit easier. But one of the big advantages of Quicksort over Mergesort is that it doesn't take any extra space. It gets the sort done in place. Now you have to be a little bit careful with terminating the loop. When we give you working code it's not hard to see why it works. And you might go trough the exercise of trying to implement Quicksort without looking at our code, and you'll find that testing when the pointers cross can be a little bit tricky, particulary in the presence of duplicate keys. Also staying in bounds. And I, actually, in our implementation the test of the J pointer running off the left end is redundant. Why is it redundant? Well, the partitioning element is sitting there and it'll stop when it hits the partitioning element. But the other test is not in our implementation. And the key thing, one key thing is that the way that these implementations work. If the in-, the file is, the array is randomly ordered, then the two sub-arrays after partitioning will also be randomly ordered. Actually, some implementations of Quick Sort out in the wild don't have this property, and they suffer a little bit in performance. That random shuffle at the beginning is important and needed for guaranteeing performance. And the other thing I have referred to but not talked about in detail is the presence of equal keys. You might think it would be better to handle equal keys in some special way. We'll talk about that in a second. But this general purpose implementation stops the pointers on keys equal to the partitioning items key and we'll take a look at why that's important in a minute. So now let's look at the running time estimates about why we care about Quicksort vs Mergesort. This is extending the table we looked at last time, and you can see over in the right column here, Quicksort is quite a bit faster than Mergesort. And again, a good algorithm is much better than having a super computer. Even on your PC you can sort huge array of a million items in less then a second and a million items in only a few minutes. So again this time, sort of timing is why Quicksort is so widely used. Cuz it's simply just faster than Mergesort. Well in the best case Quick Sort will divide everything exactly in half. And that makes it kind of like Merge Sort. It's about analog in. And in the worst case if the random shuffle winds up putting the items exactly in order, then partitioning doesn't, doesn't really do anything except find the smallest, peel off the smallest item. Kind of discover that everything to the right is greater. That's a bad case. But if we shuffled randomly, it's extremely unlikely to happen. Most interesting thing about the study of Quicksort is the average case analysis. This is a somewhat detailed mathematical derivation, but it is worthwhile going through the steps, to really get a feeling for why it is that, Quicksort is quick. So what we do is, as we did for Merge Sort, is write down a mathematical recurrence relation that corresponds to what the program does. In the case of Quick Sort, the number of comparisons taken to sort N items is N+1 for the partitioning. Plus what happens next depends on what the partitioning element was. If the partitioning element is K. Any particular value happens with probability one over n, and if it's k, then the left subfile has k - one items in it, and the right subfile has n - k items in it. So, for every value of k, if you add those up the probability that the partitioning element is k, plus the cost for the two subfiles, we get this equation. This looks like a fairly daunting equation, but actually it's not too difficult to solve. First thing we do is just multiply by N and collect terms. So NCN N times N + one. And then these terms, every size appears twice. So it's twice the sum of from C0 to CN - one. It's a simpler equation already. Now what we can do is get rid of that sum by subtracting the same equation for N minus one. So NCN - N - one, CN - one then the N, N + one - N - one N is just 2N. And then the sum collapses just leaving the last term. This sum, minus the same sum for N - one, just leaves the 2CN - one. Now that's looking like a much simpler equation. Rearrange the terms, so we get n+1 cn-1 and then divided by n, n+1. That's a kind of a magic step, but we will see that it makes possible to solve the equation easily. Because that equation, with C over N plus one equals CN minus one over N, is an equation that telescopes the first term at the right. It's the same as the term on the left. So we can apply the same equation so its two over n + one. We apply for n - one we get one less here and we can throw out a lot two over n. And continue that way throwing out two over decreasing numbers all the way down until we get down to two elements, c1 which is zero. Substitute the previous equation telescope. And then that gives us an easy sum that we can approximate by an integral. It's one over X from three to N+1. And that's a pretty close approximation, in this case. And that approximation gives us, it's about two M+1 natural log N comparisons for Quicksort. About 1.39 N log N. That's the average number of comparisons taken by Quicksort, and actually they for a random permutation of the elements which is what we do with the shuffle. They the expected number of comparisons is concentrated around this value. It's very likely to be very near this value is then as large. So the worst case quick sort is quadratic. So complexity's going to tell us that it's a quadratic algorithm if that's what its worst case is. But with random, the random shuffle it's more likely that this lecture will end, because of a lightning strike. Or your computer will be struck by a lightning bolt. So we can discount that. The average case, which is extremely likely for any practical application, is going to be about 1.39 n log n. So that's more compares than Mergesort uses. But Quicksort is much faster, because it doesn't do much corresponding to each compare. It just does the compare and increment a pointer. Whereas, Mergesort has to move the items into and out of the auxiliary array, which is more expensive. So the random shuffle is a key for good performance in Quicksort. It gives us the guarantee that the worst case is not gonna happen. And also, it allows us to develop a math model that we can go ahead and validate with experimentation. You run Quick Sort and you count compares. If you did the random shuffle, it'll be about 1.39 n log n compares. And its running time will be proportional to n log n, and it'll be a fast sort. And that's what people do, and that's why people use it. Now there are some things that you have to watch out for with Quicksort because the implementation is a bit fragile and it's easy to make mistakes. And you'll find textbook implementations or implementations out on the web that wind up running in quadratic time in certain situations. You have to be a little bit careful of that and even if everything is randomized if there's lots of duplicates and the implementation is not done quite right the quick sort might take quadratic time. So, let's summarize the properties of Quicksort. It's in place. It doesn't use any extra space. The depth of recursion. So tha, that's. Again, dependent on the random shuffling, is going to be logarithmic. You can, limit the depth of recursion by always doing the smaller sub-array before the larger sub-array. But that's not really necessary nowadays, as long as you've done the, random shuffle Oh, and by the way, Quicksort is not stable cuz partitioning does one of those long range exchanges that might put a, a key with equal value over a key another key with the same value. So it's a little more work to make Quicksort stable, maybe using extra space. Un, so what about in actually in practice? This is our fastest sorting algorithm, and there's a few ways to make it even faster. And these, we looked at some similar things with for the Word, Mergesort. And it's definitely worthwhile taking implementing for a Quicksort. First thing is small sub-arrays. Even Quicksort has more overhead than you want for a tiny array, like one of size two or three or four. So can implement it to cut off to insertion sort for small arrays. And the exact number they use is not too, critical. Okay. Anywhere between ten and twenty will improve the running time by maybe twenty%. Also you could just not do anything for small arrays, and then do the insertion sorting in one pass at the end. So, that's a first improvement. A second improvement is to, try to estimate the partitioning element to be near the middle. Rather than just arbitrarily using the first element. Which on average will be at the middle. So one thing that we can do is sample the items, and then take a median of the sample. And that's actually not worth the cost for enlarged samples, not usually. But for three it's worthwhile. Slightly reduces the number of compares. Increases the number of exchanges paradoxically, cuz more exchanges are required when the partition is right in the middle. So that'll also improve the running time by maybe ten%. So this is a summary of the optimized Quicksort with cut off the small subfiles in median-of-three partitioning. So partition usually happens pretty close to the middle when you do that sample median-of-three and then small subfiles can just be left unsorted to be picked up with insertion sort right at the end. So this gives a feeling for the. Number of items that have to be touched during quick sort. And kind of an explanation for how it gets the sort done so quickly. That's a summary of Quicksort, our best sorting algorithm that we've seen to date. ", "video_ID": 30, "course_id": 3}
{"category": ["quicksort"], "tagged": [["Now", "RB"], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["the", "DT"], ["problem", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["related", "VBN"], ["to", "TO"], ["sorting", "VBG"], ["called", "VBN"], ["selection", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["also", "RB"], ["well", "RB"], ["solved", "VBN"], ["by", "IN"], ["Quicksort", "NNP"], ["partitioning", "VBG"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["a", "DT"], ["simpler", "NN"], ["problem", "NN"], [".", "."], ["We", "PRP"], ["'re", "VBP"], ["given", "VBN"], ["an", "DT"], ["array", "NN"], ["of", "IN"], ["n", "JJ"], ["items", "NNS"], ["that", "WDT"], ["are", "VBP"], ["ordered", "VBN"], ["and", "CC"], ["our", "PRP$"], ["task", "NN"], ["is", "VBZ"], ["to", "TO"], ["find", "VB"], ["the", "DT"], ["k-th", "JJ"], ["largest", "JJS"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["lots", "NNS"], ["of", "IN"], ["important", "JJ"], ["applications", "NNS"], ["for", "IN"], ["this", "DT"], [".", "."], ["So", "RB"], ["like", "IN"], ["if", "IN"], ["we", "PRP"], ["wanted", "VBD"], ["to", "TO"], ["find", "VB"], ["the", "DT"], ["minimum", "JJ"], ["item", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["k", "JJ"], ["=", "NNP"], ["zero", "NN"], ["or", "CC"], ["the", "DT"], ["maximum", "JJ"], ["item", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["k", "JJ"], ["=", "NNP"], ["n", "SYM"], ["-", ":"], ["one", "CD"], ["or", "CC"], ["the", "DT"], ["medium", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["k", "JJ"], ["=", "NNP"], ["n/2", "NN"], [".", "."], ["And", "CC"], ["there", "EX"], ["'s", "VBZ"], ["many", "JJ"], ["kinds", "NNS"], ["of", "IN"], ["applications", "NNS"], ["from", "IN"], ["people", "NNS"], ["processing", "VBG"], ["data", "NNS"], [".", "."], ["I", "PRP"], ["wanted", "VBD"], ["to", "TO"], ["find", "VB"], ["the", "DT"], ["top", "JJ"], ["k", "NN"], ["or", "CC"], ["the", "DT"], ["medium", "NN"], ["or", "CC"], ["other", "JJ"], ["order", "NN"], ["statistics", "NNS"], ["so", "IN"], ["that", "DT"], ["'s", "VBZ"], ["what", "WP"], ["selection", "NN"], ["is", "VBZ"], ["all", "DT"], ["about", "IN"], [".", "."], ["Now", "RB"], [",", ","], ["here", "RB"], ["'s", "VBZ"], ["an", "DT"], ["example", "NN"], ["where", "WRB"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["use", "VB"], ["theory", "NN"], ["as", "IN"], ["a", "DT"], ["guide", "NN"], [".", "."], ["What", "WP"], ["kind", "NN"], ["of", "IN"], ["efficiency", "NN"], ["might", "MD"], ["we", "PRP"], ["expect", "VB"], ["in", "IN"], ["a", "DT"], ["selection", "NN"], ["algorithm", "NN"], [".", "."], ["Well", "NNP"], [",", ","], ["first", "RB"], ["of", "IN"], ["all", "DT"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["easy", "JJ"], ["to", "TO"], ["see", "VB"], ["that", "IN"], ["we", "PRP"], ["can", "MD"], ["solve", "VB"], ["selection", "NN"], ["and", "CC"], ["in", "IN"], ["law", "NN"], ["at", "IN"], ["end", "JJ"], ["time", "NN"], [".", "."], ["How", "WRB"], ["would", "MD"], ["we", "PRP"], ["do", "VB"], ["that", "DT"], ["?", "."], ["Well", "RB"], [",", ","], ["we", "PRP"], ["just", "RB"], ["sort", "VB"], ["the", "DT"], ["array", "NN"], ["and", "CC"], ["then", "RB"], ["if", "IN"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["find", "VB"], ["the", "DT"], ["smallest", "JJS"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["the", "DT"], ["first", "JJ"], ["position", "NN"], ["or", "CC"], ["the", "DT"], ["largest", "JJS"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["in", "IN"], ["the", "DT"], ["last", "JJ"], ["position", "NN"], ["or", "CC"], ["the", "DT"], ["medium", "NN"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["in", "IN"], ["the", "DT"], ["middle", "NN"], [".", "."], ["In", "IN"], ["fact", "NN"], [",", ","], ["if", "IN"], ["k", "VBN"], ["is", "VBZ"], ["small", "JJ"], [",", ","], ["the", "DT"], ["running", "JJ"], ["time", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["proportional", "JJ"], ["to", "TO"], ["n.", "VB"], ["Because", "IN"], ["if", "IN"], ["you", "PRP"], ["'re", "VBP"], ["looking", "VBG"], ["for", "IN"], ["the", "DT"], ["smallest", "JJS"], [",", ","], ["you", "PRP"], ["can", "MD"], ["just", "RB"], ["go", "VB"], ["through", "IN"], ["the", "DT"], ["array", "NN"], ["and", "CC"], ["find", "VB"], ["the", "DT"], ["small", "JJ"], ["or", "CC"], ["the", "DT"], ["smallest", "JJS"], ["in", "IN"], ["one", "CD"], ["pass", "NN"], ["through", "IN"], ["or", "CC"], ["if", "IN"], ["you", "PRP"], ["'re", "VBP"], ["two", "CD"], [",", ","], ["you", "PRP"], ["'ll", "MD"], ["find", "VB"], ["it", "PRP"], ["and", "CC"], ["two", "CD"], ["passes", "NNS"], ["through", "IN"], [".", "."], ["So", "RB"], [",", ","], ["you", "PRP"], ["can", "MD"], ["imagine", "VB"], ["trying", "VBG"], ["to", "TO"], ["look", "VB"], ["for", "IN"], ["a", "DT"], ["selection", "NN"], ["algorithm", "NN"], ["that", "WDT"], ["takes", "VBZ"], ["time", "NN"], ["proportional", "JJ"], ["to", "TO"], ["n", "VB"], ["and", "CC"], ["also", "RB"], ["the", "DT"], ["lower", "JJR"], ["bound", "NN"], ["is", "VBZ"], ["n", "RB"], ["because", "IN"], ["you", "PRP"], ["have", "VBP"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["everything", "NN"], [".", "."], ["If", "IN"], ["you", "PRP"], ["do", "VBP"], ["n't", "RB"], ["look", "VB"], ["at", "IN"], ["everything", "NN"], [",", ","], ["you", "PRP"], ["might", "MD"], ["miss", "VB"], ["the", "DT"], ["one", "CD"], ["item", "NN"], ["that", "WDT"], ["you", "PRP"], ["'re", "VBP"], ["looking", "VBG"], ["for", "IN"], [".", "."], ["So", "RB"], [",", ","], ["from", "IN"], ["these", "DT"], ["observations", "NNS"], ["it", "PRP"], ["'s", "VBZ"], ["clear", "JJ"], ["that", "IN"], ["what", "WP"], ["we", "PRP"], [",", ","], ["what", "WP"], ["we", "PRP"], ["'d", "MD"], ["like", "VB"], ["is", "VBZ"], ["a", "DT"], ["selection", "NN"], ["algorithm", "NN"], ["that", "WDT"], ["takes", "VBZ"], ["linear", "JJ"], ["time", "NN"], [".", "."], ["But", "CC"], ["at", "IN"], ["this", "DT"], ["point", "NN"], [",", ","], ["the", "DT"], ["question", "NN"], ["is", "VBZ"], [",", ","], ["is", "VBZ"], ["there", "RB"], ["a", "DT"], ["linear", "JJ"], ["time", "NN"], ["algorithm", "NN"], ["that", "WDT"], ["works", "VBZ"], ["for", "IN"], ["every", "DT"], ["k", "NN"], ["?", "."], ["Or", "CC"], ["possibly", "RB"], ["selection", "NN"], ["is", "VBZ"], ["as", "RB"], ["hard", "JJ"], ["as", "IN"], ["sorting", "VBG"], [".", "."], ["This", "DT"], ["kind", "NN"], ["of", "IN"], ["question", "NN"], ["plagued", "VBN"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["people", "NNS"], ["in", "IN"], ["this", "DT"], ["late", "JJ"], ["60", "CD"], ["'s", "POS"], ["or", "CC"], ["early", "JJ"], ["70", "CD"], ["'s", "POS"], ["as", "IN"], ["these", "DT"], ["types", "NNS"], ["of", "IN"], ["problems", "NNS"], ["emerge", "VBP"], ["for", "IN"], ["computing", "VBG"], ["applications", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["an", "DT"], ["interesting", "JJ"], ["question", "NN"], ["to", "TO"], ["think", "VB"], ["about", "IN"], ["for", "IN"], ["sure", "JJ"], [".", "."], ["Well", "RB"], ["in", "IN"], ["his", "PRP$"], ["original", "JJ"], ["paper", "NN"], ["in", "IN"], ["1961", "CD"], ["Hoare", "NNP"], ["gave", "VBD"], ["a", "DT"], ["solution", "NN"], ["to", "TO"], ["the", "DT"], ["selection", "NN"], ["problem", "NN"], ["based", "VBN"], ["on", "IN"], ["partitioning", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["idea", "NN"], ["is", "VBZ"], ["just", "RB"], ["a", "DT"], ["version", "NN"], ["of", "IN"], ["Quicksort", "NNP"], ["in", "IN"], ["a", "DT"], ["way", "NN"], [".", "."], ["We", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], ["our", "PRP$"], ["partitioning", "VBG"], ["so", "RB"], ["that", "IN"], ["we", "PRP"], ["get", "VBP"], ["entry", "VB"], ["a", "DT"], ["(", "("], ["j", "NN"], [")", ")"], ["in", "IN"], ["place", "NN"], ["of", "IN"], ["the", "DT"], ["array", "NN"], [".", "."], ["Nobody", "NN"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["is", "VBZ"], ["larger", "JJR"], [",", ","], ["nobody", "NN"], ["to", "TO"], ["the", "DT"], ["right", "NN"], ["is", "VBZ"], ["bigger", "JJR"], [".", "."], ["But", "CC"], ["then", "RB"], [",", ","], ["when", "WRB"], ["we", "PRP"], ["'re", "VBP"], ["doing", "VBG"], ["selection", "NN"], [",", ","], ["what", "WP"], ["we", "PRP"], ["'ll", "MD"], ["do", "VB"], ["is", "VBZ"], ["just", "RB"], ["go", "VBN"], ["in", "IN"], ["one", "CD"], ["sub", "NN"], ["array", "NN"], ["or", "CC"], ["the", "DT"], ["other", "JJ"], ["depending", "VBG"], ["on", "IN"], ["where", "WRB"], ["j", "NN"], ["is", "VBZ"], [".", "."], ["If", "IN"], ["j", "JJ"], ["=", "NNP"], ["k", "NN"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["done", "VBN"], [",", ","], ["we", "PRP"], ["'ve", "VBP"], ["found", "VBN"], ["the", "DT"], ["k", "NN"], ["is", "VBZ"], ["the", "DT"], ["largest", "JJS"], [".", "."], ["If", "IN"], ["k", "NN"], ["is", "VBZ"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["of", "IN"], ["j", "NN"], [",", ","], ["then", "RB"], [",", ","], ["we", "PRP"], ["just", "RB"], ["do", "VBP"], ["the", "DT"], ["left", "NN"], ["sub-file", "NN"], ["which", "WDT"], ["is", "VBZ"], ["set", "VBN"], ["high", "JJ"], ["to", "TO"], ["j", "VB"], ["-", ":"], ["one", "NN"], [".", "."], ["And", "CC"], ["if", "IN"], ["k", "NN"], ["is", "VBZ"], ["to", "TO"], ["the", "DT"], ["right", "NN"], ["of", "IN"], ["j", "NN"], [",", ","], ["we", "PRP"], ["just", "RB"], ["do", "VBP"], ["the", "DT"], ["right", "NN"], ["subfiles", "VBZ"], ["that", "IN"], ["load", "VBZ"], ["the", "DT"], ["j", "NN"], ["+", "NNP"], ["one", "CD"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["all", "PDT"], ["this", "DT"], ["code", "NN"], ["does", "VBZ"], ["is", "VBZ"], ["that", "IN"], ["it", "PRP"], [",", ","], ["we", "PRP"], ["could", "MD"], ["do", "VB"], ["a", "DT"], ["recursive", "NN"], [",", ","], ["a", "DT"], ["recursive", "JJ"], ["call", "NN"], ["but", "CC"], ["this", "DT"], ["just", "RB"], ["does", "VBZ"], ["it", "PRP"], ["by", "IN"], ["resetting", "VBG"], ["the", "DT"], ["values", "NNS"], ["of", "IN"], ["the", "DT"], ["parameters", "NNS"], [".", "."], ["Do", "VBP"], ["one", "CD"], ["partition", "NN"], ["then", "RB"], ["check", "VB"], ["whether", "IN"], ["you", "PRP"], ["to", "TO"], ["your", "PRP$"], ["k-th", "JJ"], ["element", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["on", "IN"], ["the", "DT"], ["left", "JJ"], ["part", "NN"], ["or", "CC"], ["the", "DT"], ["right", "JJ"], ["part", "NN"], ["and", "CC"], ["reset", "VB"], ["lower", "JJR"], ["high", "JJ"], ["accordingly", "RB"], [".", "."], ["If", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["equal", "JJ"], [",", ","], ["then", "RB"], ["you", "PRP"], ["found", "VBD"], ["it", "PRP"], ["and", "CC"], ["you", "PRP"], ["return", "VBP"], ["it", "PRP"], ["and", "CC"], ["you", "PRP"], ["keep", "VBP"], ["going", "VBG"], ["until", "IN"], ["you", "PRP"], ["get", "VBP"], ["to", "TO"], ["a", "DT"], ["point", "NN"], ["where", "WRB"], ["you", "PRP"], ["have", "VBP"], ["only", "RB"], ["one", "CD"], ["element", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["the", "DT"], ["a", "DT"], ["Quicksort", "NNP"], ["like", "IN"], ["implementation", "NN"], ["solving", "VBG"], ["the", "DT"], ["selection", "NN"], ["problem", "NN"], [".", "."], ["Notice", "NNP"], ["again", "RB"], ["that", "IN"], ["it", "PRP"], ["depends", "VBZ"], ["on", "IN"], ["the", "DT"], ["random", "NN"], ["shuffle", "NN"], ["at", "IN"], ["the", "DT"], ["beginning", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["important", "JJ"], ["for", "IN"], ["performance", "NN"], [".", "."], ["Alright", "NNP"], [".", "."], ["So", "RB"], ["there", "RB"], ["needs", "VBZ"], ["to", "TO"], ["be", "VB"], ["a", "DT"], ["mathematical", "JJ"], ["analysis", "NN"], ["to", "TO"], [",", ","], ["to", "TO"], ["characterize", "VB"], ["the", "DT"], ["running", "JJ"], ["time", "NN"], ["of", "IN"], ["this", "DT"], ["program", "NN"], ["in", "IN"], ["the", "DT"], ["fact", "NN"], ["is", "VBZ"], ["that", "IN"], ["quick", "JJ"], ["select", "NN"], ["this", "DT"], ["method", "NN"], ["takes", "VBZ"], ["linear", "JJ"], ["time", "NN"], ["on", "IN"], ["the", "DT"], ["average", "NN"], [".", "."], ["We", "PRP"], ["wo", "MD"], ["n't", "RB"], ["give", "VB"], ["the", "DT"], ["full", "JJ"], ["proof", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["actually", "RB"], ["quite", "RB"], ["a", "DT"], ["bit", "NN"], ["more", "RBR"], ["complicated", "JJ"], ["than", "IN"], ["the", "DT"], ["one", "NN"], ["just", "RB"], ["on", "IN"], ["for", "IN"], ["Quick", "NNP"], ["sort", "NN"], [".", "."], ["But", "CC"], ["intuitively", "RB"], [",", ","], ["we", "PRP"], ["can", "MD"], ["see", "VB"], ["kind", "NN"], ["of", "IN"], ["what", "WP"], ["happens", "VBZ"], ["each", "DT"], ["partitionings", "NNS"], ["that", "IN"], ["maybe", "RB"], ["splits", "VBZ"], ["the", "DT"], ["array", "NN"], ["approximately", "RB"], ["in", "IN"], ["half", "NN"], [".", "."], ["So", "CC"], ["that", "IN"], [",", ","], ["that", "DT"], ["means", "VBZ"], ["you", "PRP"], ["'d", "MD"], ["have", "VB"], [",", ","], ["if", "IN"], ["you", "PRP"], ["did", "VBD"], ["exactly", "RB"], ["and", "CC"], ["[", "NNP"], ["inaudible", "JJ"], ["]", "NNP"], ["+", "NNP"], ["n/2", "MD"], ["+", "VB"], ["n/4", "NN"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], ["which", "WDT"], ["adds", "VBZ"], ["up", "RP"], ["to", "TO"], ["about", "IN"], ["two", "CD"], ["N", "NNP"], ["compare", "VBP"], ["so", "RB"], ["linear", "JJ"], ["cross", "NN"], [".", "."], ["If", "IN"], ["you", "PRP"], ["do", "VBP"], ["the", "DT"], [",", ","], ["actually", "RB"], ["it", "PRP"], ["does", "VBZ"], ["n't", "RB"], ["cut", "VB"], ["it", "PRP"], ["in", "IN"], ["half", "NN"], ["at", "IN"], ["exactly", "RB"], ["each", "DT"], ["time", "NN"], ["only", "RB"], ["on", "IN"], ["average", "NN"], ["so", "RB"], ["you", "PRP"], ["need", "VBP"], ["a", "DT"], ["fuller", "JJ"], ["analysis", "NN"], ["like", "IN"], ["the", "DT"], ["one", "CD"], ["we", "PRP"], ["did", "VBD"], ["for", "IN"], ["Quicksort", "NNP"], ["and", "CC"], ["the", "DT"], ["bottom", "JJ"], ["line", "NN"], ["of", "IN"], ["that", "DT"], ["analysis", "NN"], ["gives", "VBZ"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["comparisons", "NNS"], ["required", "VBN"], ["as", "IN"], ["a", "DT"], ["function", "NN"], ["of", "IN"], ["n", "JJ"], ["and", "CC"], ["of", "IN"], ["k", "NN"], ["in", "IN"], ["terms", "NNS"], ["of", "IN"], ["this", "DT"], ["formula", "NN"], ["here", "RB"], ["and", "CC"], ["if", "IN"], ["you", "PRP"], ["plug", "VBP"], ["in", "IN"], ["k", "NN"], ["=", "NNP"], ["n/2", "NN"], [",", ","], ["you", "PRP"], ["get", "VBP"], ["the", "DT"], ["result", "NN"], ["that", "IN"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["compares", "NNS"], ["required", "VBN"], ["to", "TO"], ["fine", "VB"], ["the", "DT"], ["median", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["the", "DT"], ["highest", "JJS"], ["value", "NN"], ["this", "DT"], ["formula", "NN"], ["can", "MD"], ["take", "VB"], ["is", "VBZ"], ["two", "CD"], ["+", "NN"], ["two", "CD"], ["natural", "JJ"], ["log", "NN"], ["of", "IN"], ["two", "CD"], [".", "."], ["So", "RB"], [",", ","], ["linear", "JJ"], ["time", "NN"], ["to", "TO"], ["find", "VB"], ["the", "DT"], ["k-th", "JJ"], ["largest", "JJS"], ["for", "IN"], ["any", "DT"], ["value", "NN"], ["of", "IN"], ["k.", "NN"], ["Now", "RB"], ["again", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["use", "VB"], [",", ","], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], ["method", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["linear", "JJ"], ["time", "NN"], ["on", "IN"], ["the", "DT"], ["average", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["actually", "RB"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["quadratic", "JJ"], ["in", "IN"], ["the", "DT"], ["worst", "JJS"], ["case", "NN"], ["but", "CC"], ["again", "RB"], [",", ","], ["the", "DT"], ["chance", "NN"], ["of", "IN"], ["that", "DT"], ["it", "PRP"], ["will", "MD"], ["happen", "VB"], ["with", "IN"], ["a", "DT"], ["random", "NN"], ["shuffle", "NN"], ["is", "VBZ"], ["less", "JJR"], ["than", "IN"], ["the", "DT"], ["chance", "NN"], ["that", "IN"], ["we", "PRP"], ["'ll", "MD"], ["be", "VB"], ["struck", "VBN"], ["by", "IN"], ["lightning", "VBG"], [".", "."], ["Its", "PRP$"], ["a", "DT"], ["probabilistic", "JJ"], ["guaranteed", "NN"], ["fast", "RB"], ["algorithm", "JJ"], [".", "."], ["Now", "RB"], [",", ","], ["from", "IN"], ["a", "DT"], ["theoretical", "JJ"], ["standpoint", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["a", "DT"], ["little", "JJ"], ["unsatisfied", "JJ"], ["and", "CC"], ["in", "IN"], [",", ","], ["in", "IN"], ["1973", "CD"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["famous", "JJ"], ["paper", "NN"], ["that", "WDT"], ["found", "VBD"], ["a", "DT"], ["compared", "VBN"], ["base", "NN"], ["selection", "NN"], ["algorithm", "NN"], ["that", "WDT"], ["guarantees", "VBZ"], ["to", "TO"], ["solve", "VB"], ["the", "DT"], ["problem", "NN"], ["in", "IN"], ["linear", "JJ"], ["time", "NN"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["areal", "JJ"], ["landmark", "NN"], ["in", "IN"], ["the", "DT"], ["theory", "NN"], ["of", "IN"], ["algorithms", "NN"], ["because", "IN"], ["for", "IN"], ["a", "DT"], ["long", "JJ"], ["time", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["known", "VBN"], [",", ","], ["we", "PRP"], ["knew", "VBD"], ["we", "PRP"], ["could", "MD"], ["have", "VB"], ["the", "DT"], ["average", "JJ"], ["case", "NN"], [",", ","], ["the", "DT"], ["linear", "JJ"], ["time", "NN"], ["but", "CC"], ["could", "MD"], ["we", "PRP"], ["find", "VB"], ["a", "DT"], ["worst", "JJS"], ["case", "NN"], ["?", "."], ["And", "CC"], ["this", "DT"], ["paper", "NN"], ["found", "VBD"], ["such", "PDT"], ["a", "DT"], ["construction", "NN"], [".", "."], ["Now", "RB"], ["in", "IN"], ["practice", "NN"], [",", ","], ["this", "DT"], ["construction", "NN"], ["is", "VBZ"], [",", ","], ["is", "VBZ"], ["rather", "RB"], ["high", "JJ"], [".", "."], ["So", "RB"], [",", ","], ["the", "DT"], ["method", "NN"], ["is", "VBZ"], ["not", "RB"], ["really", "RB"], ["used", "VBN"], ["in", "IN"], ["practice", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], [",", ","], ["there", "EX"], ["is", "VBZ"], ["still", "RB"], ["the", "DT"], ["goal", "NN"], ["of", "IN"], ["a", "DT"], [",", ","], ["of", "IN"], ["a", "DT"], ["fast", "JJ"], ["guaranteed", "JJ"], ["linear", "JJ"], ["time", "NN"], ["selection", "NN"], ["algorithm", "IN"], ["maybe", "RB"], ["somebody", "NN"], ["in", "IN"], ["this", "DT"], ["class", "NN"], ["will", "MD"], ["invent", "VB"], ["someday", "RB"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["another", "DT"], ["example", "NN"], ["where", "WRB"], ["we", "PRP"], ["use", "VBP"], ["theory", "JJ"], ["as", "IN"], ["a", "DT"], ["guide", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["still", "RB"], ["worth", "JJ"], ["while", "IN"], ["to", "TO"], ["look", "VB"], ["for", "IN"], ["a", "DT"], ["practical", "JJ"], ["linear", "JJ"], ["time", "NN"], ["worst", "JJS"], ["case", "NN"], ["algorithm", "NN"], [".", "."], ["Well", "NNP"], ["then", "RB"], [",", ","], ["maybe", "RB"], ["somebody", "NN"], ["in", "IN"], ["this", "DT"], ["class", "NN"], ["will", "MD"], ["invent", "VB"], ["that", "IN"], ["but", "CC"], ["until", "IN"], ["something", "NN"], ["like", "IN"], ["that", "DT"], ["is", "VBZ"], ["discovered", "VBN"], ["use", "IN"], ["the", "DT"], ["quick", "NN"], ["select", "NN"], ["based", "VBN"], ["on", "IN"], ["Quicksort", "NNP"], ["partitioning", "VBG"], ["you", "PRP"], ["can", "MD"], ["get", "VB"], ["linear", "JJ"], ["time", "NN"], ["selection", "NN"], ["when", "WRB"], ["you", "PRP"], ["do", "VBP"], ["n't", "RB"], ["need", "VB"], ["a", "DT"], ["full", "JJ"], ["sort", "NN"], [".", "."], ["That", "DT"], ["selection", "NN"], ["of", "IN"], ["simple", "JJ"], ["problem", "NN"], ["like", "IN"], ["sorting", "VBG"], ["that", "DT"], ["is", "VBZ"], ["well", "RB"], ["sound", "JJ"], ["with", "IN"], ["Quicksort", "NNP"], ["partitioning", "VBG"], [".", "."]], "title": "selection", "text": "Now we'll look at the problem that's related to sorting called selection that's also well solved by Quicksort partitioning. This is a simpler problem. We're given an array of n items that are ordered and our task is to find the k-th largest. There's lots of important applications for this. So like if we wanted to find the minimum item that's k = zero or the maximum item that's k = n - one or the medium that's k = n/2. And there's many kinds of applications from people processing data. I wanted to find the top k or the medium or other order statistics so that's what selection is all about. Now, here's an example where we want to use theory as a guide. What kind of efficiency might we expect in a selection algorithm. Well, first of all, it's easy to see that we can solve selection and in law at end time. How would we do that? Well, we just sort the array and then if we want to find the smallest, we'll look at the first position or the largest, we'll look in the last position or the medium, we'll look in the middle. In fact, if k is small, the running time is going to be proportional to n. Because if you're looking for the smallest, you can just go through the array and find the small or the smallest in one pass through or if you're two, you'll find it and two passes through. So, you can imagine trying to look for a selection algorithm that takes time proportional to n and also the lower bound is n because you have to look at everything. If you don't look at everything, you might miss the one item that you're looking for. So, from these observations it's clear that what we, what we'd like is a selection algorithm that takes linear time. But at this point, the question is, is there a linear time algorithm that works for every k? Or possibly selection is as hard as sorting. This kind of question plagued a lot of people in this late 60's or early 70's as these types of problems emerge for computing applications. So, it's an interesting question to think about for sure. Well in his original paper in 1961 Hoare gave a solution to the selection problem based on partitioning. And the idea is just a version of Quicksort in a way. We're going to do our partitioning so that we get entry a(j) in place of the array. Nobody to the left is larger, nobody to the right is bigger. But then, when we're doing selection, what we'll do is just go in one sub array or the other depending on where j is. If j = k, we're done, we've found the k is the largest. If k is to the left of j, then, we just do the left sub-file which is set high to j - one. And if k is to the right of j, we just do the right subfiles that load the j + one and that's all this code does is that it, we could do a recursive, a recursive call but this just does it by resetting the values of the parameters. Do one partition then check whether you to your k-th element is going to be on the left part or the right part and reset lower high accordingly. If it's equal, then you found it and you return it and you keep going until you get to a point where you have only one element. That's the a Quicksort like implementation solving the selection problem. Notice again that it depends on the random shuffle at the beginning that's going to be important for performance. Alright. So there needs to be a mathematical analysis to, to characterize the running time of this program in the fact is that quick select this method takes linear time on the average. We won't give the full proof. It's actually quite a bit more complicated than the one just on for Quick sort. But intuitively, we can see kind of what happens each partitionings that maybe splits the array approximately in half. So that, that means you'd have, if you did exactly and [inaudible] + n/2 + n/4 and so forth which adds up to about two N compare so linear cross. If you do the, actually it doesn't cut it in half at exactly each time only on average so you need a fuller analysis like the one we did for Quicksort and the bottom line of that analysis gives the number of comparisons required as a function of n and of k in terms of this formula here and if you plug in k = n/2, you get the result that the number of compares required to fine the median that's the highest value this formula can take is two + two natural log of two. So, linear time to find the k-th largest for any value of k. Now again it's going to use, this is a method that's linear time on the average. It's actually going to be quadratic in the worst case but again, the chance of that it will happen with a random shuffle is less than the chance that we'll be struck by lightning. Its a probabilistic guaranteed fast algorithm. Now, from a theoretical standpoint that's a little unsatisfied and in, in 1973, there's a famous paper that found a compared base selection algorithm that guarantees to solve the problem in linear time. This is areal landmark in the theory of algorithms because for a long time, it's not known, we knew we could have the average case, the linear time but could we find a worst case? And this paper found such a construction. Now in practice, this construction is, is rather high. So, the method is not really used in practice. And so, there is still the goal of a, of a fast guaranteed linear time selection algorithm maybe somebody in this class will invent someday. This is another example where we use theory as a guide. It's still worth while to look for a practical linear time worst case algorithm. Well then, maybe somebody in this class will invent that but until something like that is discovered use the quick select based on Quicksort partitioning you can get linear time selection when you don't need a full sort. That selection of simple problem like sorting that is well sound with Quicksort partitioning. ", "video_ID": 31, "course_id": 3}
{"category": ["quicksort"], "tagged": [["Now", "RB"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["take", "VB"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["what", "WP"], ["happens", "VBZ"], ["when", "WRB"], ["we", "PRP"], ["have", "VBP"], ["significant", "JJ"], ["numbers", "NNS"], ["of", "IN"], ["duplicate", "NN"], ["keys", "NNS"], ["which", "WDT"], ["is", "VBZ"], ["not", "RB"], ["at", "IN"], ["all", "DT"], ["unusual", "JJ"], ["in", "IN"], ["practical", "JJ"], ["applications", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["in", "IN"], [",", ","], ["in", "IN"], ["fact", "NN"], [",", ","], ["often", "RB"], [",", ","], ["the", "DT"], ["purpose", "NN"], ["of", "IN"], ["a", "DT"], ["sort", "NN"], ["is", "VBZ"], ["to", "TO"], ["bring", "VB"], ["items", "NNS"], ["with", "IN"], ["equal", "JJ"], ["keys", "NNS"], ["together", "RB"], ["for", "IN"], ["like", "IN"], ["the", "DT"], ["example", "NN"], ["that", "IN"], ["I", "PRP"], ["gave", "VBD"], ["where", "WRB"], ["we", "PRP"], ["had", "VBD"], ["cities", "NNS"], ["and", "CC"], ["time", "NN"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["detailed", "VBN"], ["data", "NNS"], ["and", "CC"], ["the", "DT"], ["time", "NN"], ["and", "CC"], ["maybe", "RB"], ["the", "DT"], ["whole", "JJ"], ["goal", "NN"], ["of", "IN"], ["the", "DT"], ["sort", "NN"], ["is", "VBZ"], ["to", "TO"], ["group", "NN"], ["them", "PRP"], ["by", "IN"], ["cities", "NNS"], ["so", "IN"], ["we", "PRP"], ["can", "MD"], ["ship", "VB"], ["out", "RP"], ["the", "DT"], ["data", "NNS"], ["for", "IN"], ["each", "DT"], ["city", "NN"], [",", ","], ["to", "TO"], ["each", "DT"], ["city", "NN"], ["and", "CC"], ["there", "EX"], ["'s", "VBZ"], ["plenty", "NN"], ["of", "IN"], ["other", "JJ"], ["examples", "NNS"], ["like", "IN"], ["that", "DT"], ["in", "IN"], ["data", "NN"], ["processing", "NN"], ["where", "WRB"], ["we", "PRP"], ["find", "VBP"], ["maybe", "RB"], ["remove", "VB"], ["duplicates", "NNS"], ["from", "IN"], ["a", "DT"], ["mailing", "JJ"], ["list", "NN"], ["or", "CC"], ["all", "PDT"], ["the", "DT"], ["job", "NN"], ["applicants", "NNS"], ["that", "IN"], ["we", "PRP"], ["get", "VBP"], [",", ","], ["we", "PRP"], ["might", "MD"], ["want", "VB"], ["to", "TO"], ["sort", "VB"], ["them", "PRP"], ["by", "IN"], ["the", "DT"], ["college", "NN"], ["attendant", "NN"], [".", "."], ["So", "IN"], ["the", "DT"], ["sort", "NN"], ["does", "VBZ"], ["huge", "JJ"], ["files", "NNS"], ["with", "IN"], ["huge", "JJ"], ["numbers", "NNS"], ["of", "IN"], ["duplicate", "NN"], ["keys", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["a", "DT"], ["sort", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["worthwhile", "JJ"], ["to", "TO"], ["take", "VB"], ["a", "DT"], ["careful", "JJ"], ["look", "NN"], ["at", "IN"], ["what", "WP"], ["the", "DT"], ["implication", "NN"], ["of", "IN"], ["that", "DT"], ["is", "VBZ"], [".", "."], ["So", "RB"], ["again", "RB"], [",", ","], ["typical", "JJ"], ["characteristics", "NNS"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["huge", "JJ"], ["file", "NN"], ["but", "CC"], ["small", "JJ"], ["number", "NN"], ["of", "IN"], ["different", "JJ"], ["key", "JJ"], ["values", "NNS"], [".", "."], ["So", "NNP"], ["let", "NN"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["our", "PRP$"], ["algorithms", "NN"], ["in", "IN"], ["that", "DT"], ["situation", "NN"], [".", "."], ["So", "RB"], ["Mergesort", "NNP"], [",", ","], ["it", "PRP"], ["does", "VBZ"], ["n't", "RB"], ["matter", "VB"], ["that", "RB"], ["much", "RB"], ["what", "WP"], ["the", "DT"], ["key", "NN"], ["values", "NNS"], ["are", "VBP"], ["like", "IN"], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["actually", "RB"], [",", ","], ["we", "PRP"], ["can", "MD"], ["show", "VB"], ["that", "DT"], ["Mergesort", "NNP"], ["always", "RB"], ["uses", "VBZ"], ["between", "IN"], ["one-half", "NN"], [",", ","], ["N", "NNP"], ["log", "NN"], ["N", "NNP"], ["and", "CC"], ["N", "NNP"], ["log", "NN"], ["N", "NNP"], ["compares", "VBZ"], [".", "."], ["Quicksort", "NNP"], ["actually", "RB"], [",", ","], ["they", "PRP"], ["'re", "VBP"], ["up", "RP"], ["until", "IN"], ["the", "DT"], ["1990s", "CD"], ["the", "DT"], ["most", "RBS"], ["widely", "RB"], ["used", "VBN"], ["implementation", "NN"], ["took", "VBD"], ["quadratic", "JJ"], ["time", "NN"], [".", "."], ["For", "IN"], ["files", "NNS"], ["with", "IN"], ["large", "JJ"], ["numbers", "NNS"], ["of", "IN"], ["equal", "JJ"], ["keys", "NNS"], ["and", "CC"], ["that", "DT"], ["was", "VBD"], ["actually", "RB"], ["found", "VBN"], ["by", "IN"], ["applications", "NNS"], ["user", "JJ"], ["and", "CC"], [",", ","], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["standard", "JJ"], ["Quicksort", "NNP"], ["that", "WDT"], ["was", "VBD"], ["in", "IN"], ["all", "PDT"], ["the", "DT"], ["textbooks", "NNS"], ["almost", "RB"], ["all", "PDT"], ["the", "DT"], ["textbooks", "NNS"], ["if", "IN"], ["you", "PRP"], ["did", "VBD"], ["not", "RB"], ["stop", "VB"], ["the", "DT"], ["partitioning", "NN"], ["on", "IN"], ["equal", "JJ"], ["keys", "NNS"], ["it", "PRP"], ["would", "MD"], ["run", "VB"], ["in", "IN"], ["quadratic", "JJ"], ["time", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["do", "VB"], ["better", "JJR"], ["than", "IN"], ["this", "DT"], [".", "."], ["So", "IN"], ["the", "DT"], ["mistake", "NN"], ["happens", "VBZ"], ["if", "IN"], ["we", "PRP"], ["put", "VBP"], ["all", "PDT"], ["the", "DT"], ["items", "NNS"], ["equal", "JJ"], ["to", "TO"], ["the", "DT"], ["partitioning", "VBG"], ["item", "NN"], ["on", "IN"], ["one", "CD"], ["side", "NN"], ["which", "WDT"], ["is", "VBZ"], ["a", "DT"], ["natural", "JJ"], ["way", "NN"], ["to", "TO"], ["implement", "VB"], ["it", "PRP"], ["and", "CC"], ["the", "DT"], ["consequence", "NN"], ["is", "VBZ"], ["if", "IN"], ["you", "PRP"], ["have", "VBP"], ["all", "PDT"], ["the", "DT"], ["keys", "NNS"], ["equal", "JJ"], [",", ","], ["then", "RB"], ["partitioning", "VBG"], ["does", "VBZ"], ["n't", "RB"], ["really", "RB"], ["do", "VB"], ["anything", "NN"], [".", "."], ["You", "PRP"], ["just", "RB"], ["peels", "VB"], ["off", "RP"], ["one", "CD"], ["key", "NN"], ["to", "TO"], ["do", "VB"], ["file", "VB"], ["size", "NN"], ["n", "NNS"], ["then", "RB"], ["you", "PRP"], ["get", "VBP"], ["a", "DT"], ["sub", "NN"], ["file", "NN"], ["size", "NN"], ["n", "SYM"], ["-", ":"], ["one", "CD"], ["and", "CC"], ["then", "RB"], ["n", "SYM"], ["-", ":"], ["two", "CD"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], ["and", "CC"], ["the", "DT"], ["result", "NN"], ["is", "VBZ"], ["a", "DT"], ["quadratic", "JJ"], ["tim", "NN"], ["e", "NN"], ["algorithm", "NN"], [".", "."], ["Our", "PRP$"], ["implementation", "NN"], [",", ","], ["we", "PRP"], ["stopped", "VBD"], ["the", "DT"], ["partitioning", "VBG"], ["scans", "NNS"], ["on", "IN"], ["items", "NNS"], ["equal", "JJ"], ["to", "TO"], ["the", "DT"], ["partitioning", "VBG"], ["item", "NN"], ["and", "CC"], ["then", "RB"], ["in", "IN"], ["that", "DT"], ["case", "NN"], [",", ","], ["when", "WRB"], ["all", "PDT"], ["the", "DT"], ["keys", "NNS"], ["are", "VBP"], ["equal", "JJ"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["divide", "VB"], ["it", "PRP"], ["exactly", "RB"], ["in", "IN"], ["the", "DT"], ["middle", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["in", "IN"], ["that", "DT"], ["case", "NN"], [",", ","], ["when", "WRB"], ["all", "PDT"], ["the", "DT"], ["keys", "NNS"], ["are", "VBP"], ["equal", "JJ"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["divide", "VB"], ["at", "IN"], ["exactly", "RB"], ["in", "IN"], ["the", "DT"], ["middle", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["in", "IN"], ["that", "DT"], ["case", "NN"], ["you", "PRP"], ["get", "VBP"], ["an", "DT"], ["N", "NNP"], ["log", "NN"], ["N", "NNP"], ["compares", "VBZ"], [".", "."], ["But", "CC"], ["actually", "RB"], ["when", "WRB"], ["you", "PRP"], ["think", "VBP"], ["about", "IN"], ["it", "PRP"], [",", ","], ["why", "WRB"], ["do", "VBP"], ["n't", "RB"], ["we", "PRP"], ["just", "RB"], ["put", "VBD"], ["all", "PDT"], ["the", "DT"], ["items", "NNS"], ["equal", "JJ"], ["to", "TO"], ["the", "DT"], ["partitioning", "VBG"], ["item", "NN"], ["in", "IN"], ["place", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["really", "RB"], ["a", "DT"], ["desirable", "JJ"], ["way", "NN"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["it", "PRP"], ["and", "CC"], ["let", "VB"], ["'s", "PRP"], ["take", "VB"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["that", "DT"], ["option", "NN"], [".", "."], ["So", "IN"], ["the", "DT"], ["goal", "NN"], ["is", "VBZ"], ["so", "RB"], ["called", "JJ"], ["three", "CD"], ["way", "NN"], ["partitioning", "VBG"], [".", "."], ["So", "RB"], ["what", "WP"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["get", "VB"], ["the", "DT"], ["array", "NN"], ["into", "IN"], ["three", "CD"], ["parts", "NNS"], ["so", "RB"], ["then", "RB"], ["now", "RB"], ["we", "PRP"], ["have", "VBP"], ["two", "CD"], ["pointers", "NNS"], ["into", "IN"], ["the", "DT"], ["middle", "NN"], [".", "."], ["One", "CD"], ["that", "WDT"], ["is", "VBZ"], ["the", "DT"], ["boundary", "NN"], ["between", "IN"], ["the", "DT"], ["keys", "NNS"], ["that", "WDT"], ["are", "VBP"], ["less", "JJR"], ["than", "IN"], ["the", "DT"], ["partitioning", "JJ"], ["element", "NN"], ["and", "CC"], ["those", "DT"], ["that", "WDT"], ["are", "VBP"], ["equal", "JJ"], ["of", "IN"], ["the", "DT"], ["partitioning", "NN"], ["element", "NN"], [".", "."], ["Another", "DT"], ["one", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["the", "DT"], ["boundary", "NN"], ["between", "IN"], ["the", "DT"], ["keys", "NNS"], ["that", "WDT"], ["are", "VBP"], ["equal", "JJ"], ["of", "IN"], ["partitioning", "VBG"], ["elements", "NNS"], ["and", "CC"], ["the", "DT"], ["one", "NN"], ["that", "WDT"], ["is", "VBZ"], ["greater", "JJR"], [".", "."], ["And", "CC"], ["then", "RB"], ["in", "IN"], ["the", "DT"], ["middle", "NN"], ["are", "VBP"], ["all", "PDT"], ["the", "DT"], ["equal", "JJ"], ["keys", "NN"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["what", "WP"], ["we", "PRP"], ["'d", "MD"], ["like", "VB"], ["to", "TO"], ["arrange", "VB"], [".", "."], ["Now", "RB"], ["until", "IN"], ["the", "DT"], ["1990s", "CD"], [",", ","], ["conventional", "JJ"], ["wisdom", "NN"], ["among", "IN"], ["people", "NNS"], ["implementing", "VBG"], ["system", "NN"], ["was", "VBD"], [",", ","], ["was", "VBD"], ["n't", "RB"], ["worth", "JJ"], ["doing", "VBG"], ["this", "DT"], [".", "."], ["But", "CC"], [",", ","], ["but", "CC"], ["actually", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["problem", "NN"], ["that", "WDT"], ["Edsger", "NNP"], ["Dijkstra", "NNP"], ["had", "VBD"], ["proposed", "VBN"], ["in", "IN"], ["the", "DT"], ["70s", "CD"], ["as", "IN"], ["an", "DT"], ["example", "NN"], ["of", "IN"], [",", ","], ["of", "IN"], ["programming", "VBG"], ["problem", "NN"], [".", "."], ["He", "PRP"], ["was", "VBD"], ["really", "RB"], ["interested", "JJ"], ["in", "IN"], ["analyzing", "VBG"], ["correctness", "NN"], ["of", "IN"], ["programs", "NNS"], ["and", "CC"], ["showing", "VBG"], ["that", "IN"], ["this", "DT"], ["how", "WRB"], ["you", "PRP"], ["could", "MD"], ["convince", "VB"], ["yourself", "PRP"], ["that", "IN"], ["this", "DT"], ["program", "NN"], ["was", "VBD"], ["operating", "VBG"], ["as", "IN"], ["expected", "VBN"], [".", "."], ["But", "CC"], ["in", "IN"], ["the", "DT"], ["1990s", "CD"], ["we", "PRP"], ["figured", "VBD"], ["out", "RP"], ["that", "IN"], ["really", "RB"], ["this", "DT"], ["was", "VBD"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["an", "DT"], ["effective", "JJ"], ["way", "NN"], ["to", "TO"], ["sort", "VB"], [".", "."], ["And", "CC"], ["this", "DT"], ["was", "VBD"], ["taking", "VBG"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["the", "DT"], ["Qsort", "NNP"], ["that", "IN"], ["a", "DT"], ["user", "NN"], ["found", "NN"], ["was", "VBD"], ["broken", "VBN"], ["and", "CC"], [",", ","], ["and", "CC"], ["now", "RB"], [",", ","], ["this", "DT"], ["method", "NN"], ["is", "VBZ"], ["incorporated", "VBN"], ["into", "IN"], ["some", "DT"], ["plenty", "NN"], ["of", "IN"], ["system", "NN"], ["sorts", "NNS"], [".", "."], ["So", "NNP"], ["let", "NN"], ["'s", "POS"], ["take", "VB"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["how", "WRB"], ["it", "PRP"], ["works", "VBZ"], ["with", "IN"], ["the", "DT"], ["demo", "NN"], ["its", "PRP$"], ["more", "RBR"], ["complicated", "VBN"], ["than", "IN"], ["standard", "JJ"], ["Quicksort", "NNP"], ["partitioning", "NN"], [".", "."], ["A", "DT"], ["bit", "NN"], ["more", "RBR"], ["complicated", "JJ"], ["because", "IN"], ["there", "EX"], ["'s", "VBZ"], ["more", "JJR"], ["to", "TO"], ["do", "VB"], [".", "."], ["So", "RB"], ["now", "RB"], ["we", "PRP"], ["have", "VBP"], ["our", "PRP$"], ["i", "NN"], ["pointer", "NN"], ["which", "WDT"], ["is", "VBZ"], ["right", "JJ"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["of", "IN"], ["stuff", "NN"], ["we", "PRP"], ["have", "VBP"], ["n't", "RB"], ["seen", "VBN"], ["ye", "VB"], ["t", "NNS"], ["and", "CC"], ["then", "RB"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["two", "CD"], ["other", "JJ"], ["pointers", "NNS"], ["that", "WDT"], ["maintain", "VBP"], [",", ","], ["maintain", "VBP"], ["these", "DT"], ["boundaries", "NNS"], ["everything", "NN"], ["to", "TO"], ["the", "DT"], ["right", "NN"], ["of", "IN"], ["gt", "NN"], ["is", "VBZ"], ["known", "VBN"], ["to", "TO"], ["be", "VB"], ["greater", "JJR"], ["than", "IN"], ["partitioning", "VBG"], ["element", "NN"], [".", "."], ["Everything", "NN"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["of", "IN"], ["lt", "NN"], ["is", "VBZ"], ["known", "VBN"], ["to", "TO"], ["be", "VB"], ["less", "JJR"], ["and", "CC"], ["between", "IN"], ["lt", "NN"], ["and", "CC"], ["i", "NN"], ["is", "VBZ"], ["known", "VBN"], ["to", "TO"], ["be", "VB"], ["equal", "JJ"], [".", "."], ["And", "CC"], ["all", "PDT"], ["the", "DT"], ["method", "NN"], ["does", "VBZ"], ["is", "VBZ"], ["maintain", "VB"], ["this", "DT"], ["in", "IN"], ["variants", "NNS"], ["so", "IN"], ["let", "NN"], ["'s", "POS"], ["do", "VB"], ["an", "DT"], ["example", "NN"], ["or", "CC"], ["two", "CD"], ["and", "CC"], ["see", "VB"], ["how", "WRB"], ["that", "DT"], ["works", "VBZ"], [".", "."], ["So", "IN"], ["we", "PRP"], ["increment", "VBP"], ["i", "RB"], ["and", "CC"], ["then", "RB"], ["figure", "VB"], ["out", "RP"], ["what", "WP"], ["to", "TO"], ["do", "VB"], [".", "."], ["So", "VB"], [",", ","], ["now", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["less", "JJR"], ["than", "IN"], ["the", "DT"], ["partitioning", "JJ"], ["element", "NN"], [".", "."], ["So", "RB"], [",", ","], ["what", "WP"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["increment", "JJ"], ["lt", "NN"], ["'s", "POS"], [".", "."], ["So", "RB"], ["now", "RB"], ["we", "PRP"], ["have", "VBP"], ["one", "CD"], ["that", "WDT"], ["'s", "VBZ"], ["definitely", "RB"], ["less", "JJR"], ["than", "IN"], ["the", "DT"], ["partitioning", "JJ"], ["element", "NN"], ["and", "CC"], ["lt", "NN"], ["is", "VBZ"], [",", ","], ["is", "VBZ"], ["pointing", "VBG"], ["at", "IN"], ["the", "DT"], ["partitioning", "VBG"], ["element", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], ["now", "RB"], ["in", "IN"], [",", ","], ["increment", "JJ"], ["both", "DT"], ["lt", "JJ"], ["and", "CC"], ["i", "NNS"], ["so", "VBP"], ["that", "IN"], ["'s", "VBZ"], ["the", "DT"], ["first", "JJ"], ["case", "NN"], ["there", "RB"], [".", "."], ["So", "RB"], ["now", "RB"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["second", "JJ"], ["item", "NN"], ["b", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["less", "JJR"], ["than", "IN"], ["the", "DT"], ["partitioning", "JJ"], ["element", "NN"], ["so", "RB"], ["exchange", "NN"], ["with", "IN"], ["lt", "NN"], ["and", "CC"], ["increment", "VB"], ["them", "PRP"], ["both", "DT"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["moving", "VBG"], ["the", "DT"], ["smaller", "JJR"], ["ones", "NNS"], ["than", "IN"], ["the", "DT"], ["partitioning", "VBG"], ["element", "NN"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["of", "IN"], ["lt", "NN"], ["and", "CC"], ["keeping", "VBG"], ["lt", "JJ"], ["pointing", "VBG"], ["on", "IN"], ["a", "DT"], ["partitioning", "JJ"], ["element", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["what", "WP"], ["about", "IN"], ["when", "WRB"], ["we", "PRP"], ["get", "VBP"], ["one", "CD"], ["that", "WDT"], ["'s", "VBZ"], ["greater", "JJR"], ["than", "IN"], ["the", "DT"], ["partitioning", "VBG"], ["elements", "NNS"], ["?", "."], ["So", "RB"], [",", ","], ["in", "IN"], ["that", "DT"], ["case", "NN"], [",", ","], ["we", "PRP"], ["exchange", "VBP"], ["greater", "JJR"], ["the", "DT"], ["one", "NN"], ["over", "NN"], ["at", "IN"], ["the", "DT"], ["right", "NN"], ["with", "IN"], ["i", "NN"], ["and", "CC"], ["decrement", "NN"], ["gt", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["one", "CD"], ["over", "IN"], ["to", "TO"], ["the", "DT"], ["right", "NN"], ["that", "IN"], ["we", "PRP"], ["know", "VBP"], ["is", "VBZ"], ["greater", "JJR"], ["than", "IN"], ["the", "DT"], ["partitioning", "JJ"], ["element", "NN"], [".", "."], ["Notice", "NNP"], ["that", "IN"], ["we", "PRP"], ["did", "VBD"], ["n't", "RB"], ["increment", "VB"], ["i", "NN"], ["because", "IN"], ["that", "DT"], ["element", "NN"], ["z", "NN"], ["that", "WDT"], ["is", "VBZ"], ["over", "IN"], ["in", "IN"], ["the", "DT"], ["right", "NN"], [",", ","], ["really", "RB"], ["has", "VBZ"], ["n't", "RB"], ["been", "VBN"], ["compared", "VBN"], ["to", "TO"], ["the", "DT"], ["partitioning", "NN"], ["element", "NN"], ["yet", "RB"], [".", "."], ["But", "CC"], ["we", "PRP"], ["did", "VBD"], ["decrement", "JJ"], ["gt", "NN"], ["so", "IN"], ["we", "PRP"], ["made", "VBD"], ["progress", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], ["what", "WP"], ["happens", "VBZ"], ["here", "RB"], [",", ","], ["now", "RB"], ["i", "VBZ"], ["is", "VBZ"], ["pointing", "VBG"], ["to", "TO"], ["a", "DT"], ["bigger", "JJR"], ["one", "CD"], ["so", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["exchange", "VB"], ["it", "PRP"], ["with", "IN"], ["the", "DT"], ["one", "NN"], ["at", "IN"], ["gt", "NN"], ["and", "CC"], ["decrement", "NN"], ["gt", "NN"], ["again", "RB"], [".", "."], ["And", "CC"], ["again", "RB"], [",", ","], ["y", "PRP"], ["is", "VBZ"], ["bigger", "JJR"], [",", ","], ["so", "IN"], ["exchange", "NN"], ["it", "PRP"], [",", ","], ["decrement", "JJ"], ["gt", "NN"], [".", "."], ["Now", "RB"], ["we", "PRP"], ["have", "VBP"], ["the", "DT"], ["c", "NN"], [",", ","], ["that", "IN"], ["one", "CD"], ["smaller", "JJR"], ["so", "IN"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["first", "JJ"], ["case", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["'ll", "MD"], ["move", "VB"], ["it", "PRP"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["of", "IN"], ["lt", "NN"], ["and", "CC"], ["increment", "JJ"], ["both", "DT"], ["lt", "JJ"], ["and", "CC"], ["i.", "JJ"], ["W", "NNP"], ["is", "VBZ"], ["a", "DT"], ["bigger", "JJR"], ["one", "CD"], [",", ","], ["let", "VB"], ["us", "PRP"], ["to", "TO"], ["go", "VB"], ["over", "IN"], ["to", "TO"], ["the", "DT"], ["right", "NN"], [".", "."], ["Now", "RB"], ["we", "PRP"], ["have", "VBP"], ["i", "VBN"], ["pointing", "VBG"], ["to", "TO"], ["an", "DT"], ["element", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["equal", "JJ"], ["to", "TO"], ["the", "DT"], ["partitioning", "NN"], ["element", "NN"], [".", "."], ["And", "CC"], ["what", "WDT"], ["are", "VBP"], ["we", "PRP"], ["supposed", "VBD"], ["to", "TO"], ["do", "VB"], ["then", "RB"], ["?", "."], ["Well", "UH"], [",", ","], ["to", "TO"], ["maintain", "VB"], ["the", "DT"], ["variant", "NN"], ["there", "EX"], ["we", "PRP"], ["just", "RB"], ["need", "VB"], ["to", "TO"], ["increment", "VB"], ["i", "NN"], [".", "."], ["And", "CC"], ["again", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["pointing", "VBG"], ["to", "TO"], ["one", "CD"], ["that", "WDT"], ["'s", "POS"], ["equal", "JJ"], ["of", "IN"], ["partitioning", "VBG"], ["element", "JJ"], ["increment", "NN"], ["i", "NN"], [".", "."], ["And", "CC"], ["now", "RB"], ["one", "CD"], ["more", "JJR"], ["time", "NN"], ["and", "CC"], ["now", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["pointing", "VBG"], ["to", "TO"], ["one", "CD"], ["that", "WDT"], ["'s", "VBZ"], ["greater", "JJR"], ["so", "IN"], ["we", "PRP"], ["exchange", "VBP"], ["that", "IN"], ["with", "IN"], ["gt", "NN"], ["and", "CC"], ["decrement", "NN"], ["gt", "NN"], ["and", "CC"], ["i", "NN"], ["is", "VBZ"], ["pointing", "VBG"], ["to", "TO"], ["the", "DT"], ["one", "NN"], ["that", "WDT"], ["was", "VBD"], ["there", "RB"], ["and", "CC"], ["that", "IN"], ["ones", "NNS"], ["smaller", "JJR"], [".", "."], ["So", "IN"], ["we", "PRP"], ["exchange", "VBP"], ["it", "PRP"], ["will", "MD"], ["lt", "VB"], ["and", "CC"], ["increment", "VB"], ["both", "DT"], ["i", "NN"], ["and", "CC"], ["lt", "NN"], ["and", "CC"], ["now", "RB"], ["where", "WRB"], ["the", "DT"], ["point", "NN"], [",", ","], ["where", "WRB"], ["the", "DT"], ["pointers", "NNS"], ["have", "VBP"], ["crossed", "VBN"], ["i", "NN"], ["and", "CC"], ["gt", "NN"], ["across", "IN"], ["there", "EX"], ["'s", "VBZ"], ["nothing", "NN"], ["that", "IN"], ["we", "PRP"], ["have", "VBP"], ["n't", "RB"], ["examined", "VBN"], ["yet", "RB"], [".", "."], ["So", "RB"], [",", ","], ["our", "PRP$"], ["partitioning", "NN"], ["is", "VBZ"], ["complete", "JJ"], [".", "."], ["Here", "RB"], ["'s", "VBZ"], ["a", "DT"], ["trace", "NN"], ["of", "IN"], ["Dijkstra", "NNP"], ["3-way", "JJ"], ["partitioning", "NN"], ["for", "IN"], ["his", "PRP$"], ["problem", "NN"], ["which", "WDT"], ["is", "VBZ"], ["when", "WRB"], ["there", "EX"], ["'s", "VBZ"], ["just", "RB"], ["three", "CD"], ["different", "JJ"], ["values", "NNS"], ["in", "IN"], ["the", "DT"], ["file", "NN"], [".", "."], ["Our", "PRP$"], ["problem", "NN"], ["we", "PRP"], ["were", "VBD"], ["treating", "VBG"], ["partitioning", "NN"], [",", ","], ["equal", "JJ"], ["of", "IN"], ["partitioning", "VBG"], ["element", "NN"], ["as", "IN"], ["one", "CD"], ["value", "NN"], ["less", "JJR"], ["than", "IN"], ["as", "IN"], ["another", "DT"], ["and", "CC"], ["greater", "JJR"], ["than", "IN"], ["as", "IN"], ["another", "DT"], [".", "."], ["And", "CC"], ["so", "RB"], ["this", "DT"], [",", ","], ["this", "DT"], ["trace", "NN"], ["illustrates", "VBZ"], ["how", "WRB"], ["we", "PRP"], ["always", "RB"], ["make", "VBP"], ["some", "DT"], ["progress", "NN"], ["and", "CC"], ["eventually", "RB"], ["we", "PRP"], ["get", "VBP"], ["the", "DT"], ["file", "NN"], ["sorted", "VBN"], [".", "."], ["The", "DT"], ["implementation", "NN"], ["is", "VBZ"], ["amazingly", "RB"], ["simple", "JJ"], [".", "."], ["The", "DT"], ["whole", "JJ"], ["partitioning", "NN"], ["process", "NN"], ["for", "IN"], ["three-way", "JJ"], ["partitioning", "NN"], ["and", "CC"], ["the", "DT"], ["modern", "JJ"], ["programming", "NN"], ["language", "NN"], ["like", "IN"], ["Java", "NNP"], ["simply", "RB"], ["maintains", "VBZ"], ["the", "DT"], ["invariances", "NNS"], ["described", "VBN"], ["in", "IN"], ["the", "DT"], ["demo", "NN"], [".", "."], ["If", "IN"], ["we", "PRP"], ["find", "VBP"], ["one", "CD"], ["that", "WDT"], ["'s", "VBZ"], ["less", "JJR"], ["we", "PRP"], ["exchange", "VBP"], ["i", "JJ"], ["and", "CC"], ["lt", "JJ"], ["and", "CC"], ["increment", "JJ"], ["them", "PRP"], ["both", "DT"], [".", "."], ["If", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["greater", "JJR"], ["we", "PRP"], ["exchange", "VBP"], ["i", "JJ"], ["and", "CC"], ["gt", "NN"], ["and", "CC"], ["decrement", "NN"], ["that", "WDT"], [".", "."], ["Otherwise", "RB"], [",", ","], ["we", "PRP"], ["increment", "VBP"], ["i", "JJ"], [".", "."], ["Could", "NNP"], [",", ","], ["could", "MD"], ["hardly", "RB"], ["be", "VB"], ["simpler", "NN"], [".", "."], ["In", "IN"], ["fact", "NN"], [",", ","], ["is", "VBZ"], ["simpler", "VBN"], ["in", "IN"], ["many", "JJ"], ["ways", "NNS"], ["than", "IN"], ["these", "DT"], ["standard", "JJ"], ["implementation", "NN"], ["of", "IN"], ["Quicksort", "NNP"], [".", "."], ["In", "IN"], ["fact", "NN"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["an", "DT"], ["argument", "NN"], ["for", "IN"], ["just", "RB"], ["using", "VBG"], ["this", "DT"], ["implementation", "NN"], ["of", "IN"], ["Quicksort", "NNP"], ["and", "CC"], ["forgetting", "VBG"], ["about", "RB"], ["horse", "NN"], ["because", "IN"], ["it", "PRP"], ["performs", "VBZ"], ["so", "RB"], ["well", "RB"], ["in", "IN"], ["so", "RB"], ["many", "JJ"], ["practical", "JJ"], ["situations", "NNS"], [".", "."], ["Here", "RB"], ["'s", "VBZ"], ["a", "DT"], ["visual", "JJ"], ["trace", "NN"], ["of", "IN"], ["3-way", "JJ"], ["Quicksort", "NNP"], ["for", "IN"], ["situation", "NN"], ["with", "IN"], ["plenty", "NN"], ["of", "IN"], ["equal", "JJ"], ["keys", "NNS"], [".", "."], ["And", "CC"], ["again", "RB"], [",", ","], ["when", "WRB"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["equal", "JJ"], ["keys", "NNS"], ["then", "RB"], ["there", "EX"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["place", "NN"], ["where", "WRB"], ["one", "CD"], ["of", "IN"], ["those", "DT"], ["is", "VBZ"], ["chosen", "VBN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["partitioning", "VBG"], ["element", "NN"], ["then", "RB"], ["a", "DT"], ["big", "JJ"], ["chunk", "NN"], ["of", "IN"], ["the", "DT"], ["array", "NN"], ["gets", "VBZ"], ["handled", "VBN"], ["just", "RB"], ["in", "IN"], ["a", "DT"], ["partitioning", "NN"], ["process", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["actually", "RB"], ["some", "DT"], ["deeper", "JJ"], ["reasons", "NNS"], ["why", "WRB"], ["this", "DT"], ["method", "NN"], ["is", "VBZ"], ["important", "JJ"], ["and", "CC"], ["one", "CD"], ["thing", "NN"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["to", "TO"], ["realize", "VB"], ["that", "IN"], ["the", "DT"], ["lower", "JJR"], ["bound", "NN"], ["that", "IN"], ["we", "PRP"], ["talked", "VBD"], ["about", "IN"], ["before", "RB"], ["depended", "VBN"], ["on", "IN"], ["the", "DT"], ["keys", "NNS"], ["being", "VBG"], ["distinct", "JJ"], [".", "."], ["So", "RB"], [",", ","], ["worst", "JJS"], ["case", "NN"], ["for", "IN"], ["lower", "JJR"], ["bounds", "NNS"], ["is", "VBZ"], ["when", "WRB"], ["the", "DT"], ["keys", "NNS"], ["are", "VBP"], ["all", "DT"], ["distinct", "JJ"], [".", "."], ["But", "CC"], ["if", "IN"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["situation", "NN"], ["where", "WRB"], ["there", "EX"], ["are", "VBP"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["equal", "JJ"], ["keys", "NNS"], [",", ","], ["that", "IN"], ["model", "NN"], ["is", "VBZ"], ["wrong", "JJ"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["too", "RB"], ["difficult", "JJ"], ["to", "TO"], ["get", "VB"], ["a", "DT"], ["similar", "JJ"], ["lower", "JJR"], ["bound", "NN"], ["for", "IN"], ["the", "DT"], ["model", "NN"], ["when", "WRB"], ["we", "PRP"], ["know", "VBP"], ["that", "IN"], ["there", "EX"], ["are", "VBP"], ["some", "DT"], ["equal", "JJ"], ["keys", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["for", "IN"], ["example", "NN"], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], ["rather", "RB"], ["complicated", "VBN"], ["formula", "NN"], ["but", "CC"], ["not", "RB"], ["too", "RB"], ["bad", "JJ"], ["but", "CC"], ["in", "IN"], ["a", "DT"], ["sense", "NN"], ["that", "IN"], ["if", "IN"], ["you", "PRP"], ["know", "VBP"], ["that", "IN"], ["the", "DT"], ["i-th", "JJ"], ["key", "NN"], [",", ","], ["it", "PRP"], ["occurs", "VBZ"], ["xi", "JJ"], ["times", "NNS"], ["you", "PRP"], ["can", "MD"], ["write", "VB"], ["down", "RP"], ["a", "DT"], ["lower", "JJR"], ["bound", "NN"], ["for", "IN"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["comparisons", "NNS"], ["that", "WDT"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["required", "VBN"], ["in", "IN"], ["the", "DT"], ["worst", "JJS"], ["case", "NN"], [".", "."], ["And", "CC"], [",", ","], ["what", "WP"], ["'s", "VBZ"], ["interesting", "VBG"], ["about", "IN"], ["three", "CD"], ["way", "NN"], ["partitioning", "NN"], ["is", "VBZ"], ["that", "IN"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["compares", "NNS"], ["that", "IN"], ["it", "PRP"], ["uses", "VBZ"], ["is", "VBZ"], ["equal", "JJ"], ["to", "TO"], ["this", "DT"], ["lower", "JJR"], ["bound", "NN"], ["within", "IN"], ["a", "DT"], ["constant", "JJ"], ["factor", "NN"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["entropy-optimal", "JJ"], ["and", "CC"], ["what", "WP"], ["that", "DT"], ["means", "VBZ"], ["is", "VBZ"], ["whatever", "IN"], ["the", "DT"], ["distribution", "NN"], ["of", "IN"], ["equal", "JJ"], ["keys", "NNS"], ["in", "IN"], ["there", "RB"], [",", ","], ["this", "DT"], ["thing", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["use", "VB"], ["a", "DT"], ["number", "NN"], ["of", "IN"], ["compares", "NNS"], ["that", "WDT"], ["'s", "VBZ"], ["proportional", "JJ"], ["to", "TO"], ["the", "DT"], ["best", "JJS"], ["that", "IN"], ["you", "PRP"], ["could", "MD"], ["possibly", "RB"], ["do", "VB"], [".", "."], ["The", "DT"], ["proof", "NN"], ["for", "IN"], ["this", "DT"], ["fact", "NN"], ["is", "VBZ"], ["quite", "RB"], ["beyond", "IN"], ["the", "DT"], ["scope", "NN"], ["of", "IN"], ["this", "DT"], ["course", "NN"], ["but", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["still", "RB"], ["an", "DT"], ["important", "JJ"], ["fact", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], [",", ","], ["the", "DT"], ["bottom", "JJ"], ["line", "NN"], ["is", "VBZ"], ["that", "IN"], ["if", "IN"], ["you", "PRP"], ["randomize", "VBP"], ["the", "DT"], ["order", "NN"], ["and", "CC"], ["use", "VB"], ["three-way", "JJ"], ["partitioning", "NN"], ["then", "RB"], ["there", "EX"], ["'s", "VBZ"], ["lot", "NN"], ["of", "IN"], ["applications", "NNS"], ["where", "WRB"], ["your", "PRP$"], ["sort", "NN"], ["routine", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["linear", "JJ"], ["not", "RB"], ["N", "NNP"], ["log", "NN"], ["N", "NNP"], ["so", "IN"], ["it", "PRP"], ["will", "MD"], ["be", "VB"], ["much", "RB"], ["more", "RBR"], ["faster", "RBR"], ["than", "IN"], ["Mergesort", "NNP"], ["and", "CC"], ["you", "PRP"], ["know", "VBP"], [",", ","], ["the", "DT"], ["methods", "NNS"], ["for", "IN"], ["really", "RB"], ["a", "DT"], ["broad", "JJ"], ["class", "NN"], ["of", "IN"], ["applications", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["taking", "VBG"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["equal", "JJ"], ["keys", "NN"], ["is", "VBZ"], ["carefully", "RB"], ["is", "VBZ"], ["something", "NN"], ["that", "WDT"], ["can", "MD"], ["lead", "VB"], ["us", "PRP"], ["to", "TO"], ["very", "RB"], ["efficient", "JJ"], ["Quicksort", "NN"]], "title": "duplicate keys", "text": "Now we're going to take a look at what happens when we have significant numbers of duplicate keys which is not at all unusual in practical applications. So, in, in fact, often, the purpose of a sort is to bring items with equal keys together for like the example that I gave where we had cities and time. There's a lot of detailed data and the time and maybe the whole goal of the sort is to group them by cities so we can ship out the data for each city, to each city and there's plenty of other examples like that in data processing where we find maybe remove duplicates from a mailing list or all the job applicants that we get, we might want to sort them by the college attendant. So the sort does huge files with huge numbers of duplicate keys. So, a sort, it's worthwhile to take a careful look at what the implication of that is. So again, typical characteristics we have a huge file but small number of different key values. So let's look at our algorithms in that situation. So Mergesort, it doesn't matter that much what the key values are like and it's actually, we can show that Mergesort always uses between one-half, N log N and N log N compares. Quicksort actually, they're up until the 1990s the most widely used implementation took quadratic time. For files with large numbers of equal keys and that was actually found by applications user and, and that's the standard Quicksort that was in all the textbooks almost all the textbooks if you did not stop the partitioning on equal keys it would run in quadratic time. So we want to do better than this. So the mistake happens if we put all the items equal to the partitioning item on one side which is a natural way to implement it and the consequence is if you have all the keys equal, then partitioning doesn't really do anything. You just peels off one key to do file size n then you get a sub file size n - one and then n - two and so forth and the result is a quadratic tim e algorithm. Our implementation, we stopped the partitioning scans on items equal to the partitioning item and then in that case, when all the keys are equal, it's going to divide it exactly in the middle. And then in that case, when all the keys are equal, it's going to divide at exactly in the middle. And then in that case you get an N log N compares. But actually when you think about it, why don't we just put all the items equal to the partitioning item in place. That's, that's really a desirable way to look at it and let's take a look at that option. So the goal is so called three way partitioning. So what we want to do is get the array into three parts so then now we have two pointers into the middle. One that is the boundary between the keys that are less than the partitioning element and those that are equal of the partitioning element. Another one that's the boundary between the keys that are equal of partitioning elements and the one that is greater. And then in the middle are all the equal keys and that's what we'd like to arrange. Now until the 1990s, conventional wisdom among people implementing system was, wasn't worth doing this. But, but actually it's a problem that Edsger Dijkstra had proposed in the 70s as an example of, of programming problem. He was really interested in analyzing correctness of programs and showing that this how you could convince yourself that this program was operating as expected. But in the 1990s we figured out that really this was going to be an effective way to sort. And this was taking a look at the Qsort that a user found was broken and, and now, this method is incorporated into some plenty of system sorts. So let's take a look at how it works with the demo its more complicated than standard Quicksort partitioning. A bit more complicated because there's more to do. So now we have our i pointer which is right to the left of stuff we haven't seen ye t and then, we have two other pointers that maintain, maintain these boundaries everything to the right of gt is known to be greater than partitioning element. Everything to the left of lt is known to be less and between lt and i is known to be equal. And all the method does is maintain this in variants so let's do an example or two and see how that works. So we increment i and then figure out what to do. So, now it's less than the partitioning element. So, what we want to do is increment lt's. So now we have one that's definitely less than the partitioning element and lt is, is pointing at the partitioning element. And so now in, increment both lt and i so that's the first case there. So now we have a second item b. That's less than the partitioning element so exchange with lt and increment them both. So, we're moving the smaller ones than the partitioning element to the left of lt and keeping lt pointing on a partitioning element. Now, what about when we get one that's greater than the partitioning elements? So, in that case, we exchange greater the one over at the right with i and decrement gt. So now, we have one over to the right that we know is greater than the partitioning element. Notice that we didn't increment i because that element z that is over in the right, really hasn't been compared to the partitioning element yet. But we did decrement gt so we made progress. So now what happens here, now i is pointing to a bigger one so we're going to exchange it with the one at gt and decrement gt again. And again, y is bigger, so exchange it, decrement gt. Now we have the c, that one smaller so that's the first case. So we'll move it to the left of lt and increment both lt and i. W is a bigger one, let us to go over to the right. Now we have i pointing to an element that's equal to the partitioning element. And what are we supposed to do then? Well, to maintain the variant there we just need to increment i. And again it 's pointing to one that's equal of partitioning element increment i. And now one more time and now it's pointing to one that's greater so we exchange that with gt and decrement gt and i is pointing to the one that was there and that ones smaller. So we exchange it will lt and increment both i and lt and now where the point, where the pointers have crossed i and gt across there's nothing that we haven't examined yet. So, our partitioning is complete. Here's a trace of Dijkstra 3-way partitioning for his problem which is when there's just three different values in the file. Our problem we were treating partitioning, equal of partitioning element as one value less than as another and greater than as another. And so this, this trace illustrates how we always make some progress and eventually we get the file sorted. The implementation is amazingly simple. The whole partitioning process for three-way partitioning and the modern programming language like Java simply maintains the invariances described in the demo. If we find one that's less we exchange i and lt and increment them both. If it's greater we exchange i and gt and decrement that. Otherwise, we increment i. Could, could hardly be simpler. In fact, is simpler in many ways than these standard implementation of Quicksort. In fact, there's an argument for just using this implementation of Quicksort and forgetting about horse because it performs so well in so many practical situations. Here's a visual trace of 3-way Quicksort for situation with plenty of equal keys. And again, when there's a lot of equal keys then there's going to be place where one of those is chosen, it's partitioning element then a big chunk of the array gets handled just in a partitioning process. Now, there's actually some deeper reasons why this method is important and one thing to do is to realize that the lower bound that we talked about before depended on the keys being distinct. So, worst case for lower bounds is when the keys are all distinct. But if we have a situation where there are a lot of equal keys, that model is wrong. It's not too difficult to get a similar lower bound for the model when we know that there are some equal keys. So, for example this is a rather complicated formula but not too bad but in a sense that if you know that the i-th key, it occurs xi times you can write down a lower bound for the number of comparisons that are going to be required in the worst case. And, what's interesting about three way partitioning is that the number of compares that it uses is equal to this lower bound within a constant factor. So that's entropy-optimal and what that means is whatever the distribution of equal keys in there, this thing is going to use a number of compares that's proportional to the best that you could possibly do. The proof for this fact is quite beyond the scope of this course but it's still an important fact. And the, the bottom line is that if you randomize the order and use three-way partitioning then there's lot of applications where your sort routine is going to be linear not N log N so it will be much more faster than Mergesort and you know, the methods for really a broad class of applications. So, taking a look at equal keys is carefully is something that can lead us to very efficient Quicksort ", "video_ID": 32, "course_id": 3}
{"category": ["quicksort"], "tagged": [["Now", "RB"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["take", "VB"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["how", "WRB"], ["the", "DT"], ["sorting", "VBG"], ["algorithms", "NN"], ["that", "IN"], ["we", "PRP"], ["talked", "VBD"], ["about", "IN"], ["or", "CC"], ["expressed", "VBN"], ["in", "IN"], ["the", "DT"], ["systems", "NNS"], ["that", "IN"], ["we", "PRP"], ["use", "VBP"], ["everyday", "JJ"], [".", "."], ["Now", "RB"], [",", ","], ["the", "DT"], ["key", "JJ"], ["point", "NN"], ["is", "VBZ"], ["that", "IN"], ["sorting", "VBG"], ["algorithms", "JJ"], ["rhythms", "NN"], ["are", "VBP"], ["essential", "JJ"], ["in", "IN"], ["a", "DT"], ["very", "RB"], ["broad", "JJ"], ["variety", "NN"], ["of", "IN"], ["applications", "NNS"], ["and", "CC"], [",", ","], ["and", "CC"], ["all", "DT"], ["of", "IN"], ["us", "PRP"], ["use", "VBP"], ["sorting", "VBG"], ["algorithms", "NN"], ["pretty", "RB"], ["much", "JJ"], ["every", "DT"], ["day", "NN"], [".", "."], ["Many", "NNP"], ["obvious", "JJ"], ["out", "RP"], ["applications", "NNS"], ["like", "IN"], ["or", "CC"], [",", ","], ["organizing", "VBG"], ["your", "PRP$"], ["music", "NN"], ["library", "NN"], ["or", "CC"], ["displaying", "VBG"], ["your", "PRP$"], ["search", "NN"], ["results", "NNS"], ["or", "CC"], ["listening", "VBG"], ["feeds", "NNS"], ["in", "IN"], ["your", "PRP$"], ["in", "IN"], ["your", "PRP$"], ["web", "NN"], ["browsers", "NNS"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["some", "DT"], ["other", "JJ"], ["applications", "NNS"], ["that", "WDT"], ["are", "VBP"], ["not", "RB"], ["so", "RB"], ["obvious", "JJ"], ["where", "WRB"], ["we", "PRP"], ["use", "VBP"], ["sorting", "VBG"], ["as", "IN"], ["a", "DT"], ["to", "TO"], ["make", "VB"], ["a", "DT"], ["problem", "NN"], ["easy", "JJ"], ["once", "RB"], ["you", "PRP"], ["know", "VBP"], ["that", "IN"], ["they", "PRP"], ["'re", "VBP"], ["sorted", "VBN"], [".", "."], ["And", "CC"], ["so", "RB"], [",", ","], ["for", "IN"], ["example", "NN"], [",", ","], ["finding", "VBG"], ["the", "DT"], ["median", "NN"], ["and", "CC"], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["already", "RB"], ["sorted", "VBN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["much", "JJ"], ["easy", "JJ"], ["to", "TO"], ["find", "VB"], ["the", "DT"], ["median", "NN"], [".", "."], ["And", "CC"], ["now", "RB"], [",", ","], ["the", "DT"], ["statistical", "JJ"], ["problems", "NNS"], ["are", "VBP"], ["like", "IN"], ["that", "DT"], ["or", "CC"], ["finding", "VBG"], ["duplicates", "NNS"], [".", "."], ["Probably", "RB"], ["finding", "VBG"], ["duplicates", "NNS"], ["by", "IN"], ["itself", "PRP"], ["is", "VBZ"], ["not", "RB"], ["quite", "RB"], ["obvious", "JJ"], ["what", "WP"], ["to", "TO"], ["do", "VB"], ["but", "CC"], ["the", "DT"], ["easy", "JJ"], ["way", "NN"], ["to", "TO"], ["solve", "VB"], ["it", "PRP"], ["is", "VBZ"], ["to", "TO"], ["just", "RB"], ["go", "VB"], ["ahead", "RB"], ["and", "CC"], ["sort", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["there", "EX"], ["are", "VBP"], ["plenty", "NN"], ["of", "IN"], ["applications", "NNS"], ["that", "IN"], ["we", "PRP"], ["'ll", "MD"], ["see", "VB"], ["later", "RB"], ["in", "IN"], ["this", "DT"], ["course", "NN"], ["like", "IN"], ["data", "NNS"], ["compression", "NN"], ["or", "CC"], ["computer", "NN"], ["graphics", "NNS"], ["like", "IN"], ["finding", "VBG"], ["the", "DT"], ["convex", "NN"], ["hull", "NN"], [",", ","], ["applications", "NNS"], ["in", "IN"], ["science", "NN"], ["such", "JJ"], ["as", "IN"], ["computational", "JJ"], ["biology", "NN"], ["or", "CC"], [",", ","], ["or", "CC"], ["in", "IN"], ["systems", "NNS"], ["development", "NN"], [".", "."], ["We", "PRP"], ["'re", "VBP"], ["having", "VBG"], ["a", "DT"], ["efficient", "JJ"], ["sort", "NN"], ["as", "IN"], ["absolutely", "RB"], ["crucial", "JJ"], [".", "."], ["So", "RB"], [",", ","], ["because", "IN"], ["there", "EX"], ["'s", "VBZ"], ["all", "PDT"], ["these", "DT"], ["applications", "NNS"], ["most", "RBS"], ["programming", "VBG"], ["systems", "NNS"], ["have", "VBP"], ["a", "DT"], ["fast", "JJ"], ["sort", "NN"], ["as", "IN"], ["an", "DT"], ["important", "JJ"], ["part", "NN"], ["of", "IN"], ["their", "PRP$"], ["infrastructure", "NN"], ["and", "CC"], ["Java", "NNP"], ["is", "VBZ"], ["no", "DT"], ["exemption", "NN"], [".", "."], ["So", "RB"], [",", ","], ["Java", "NNP"], ["has", "VBZ"], ["a", "DT"], ["method", "NN"], ["called", "VBN"], ["arrays.sort", "NN"], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["intended", "VBN"], ["to", "TO"], ["be", "VB"], ["a", "DT"], ["general", "JJ"], ["purpose", "NN"], ["sorting", "VBG"], ["method", "NN"], ["for", "IN"], ["use", "NN"], ["by", "IN"], ["Java", "NNP"], ["programmers", "NNS"], [".", "."], ["And", "CC"], ["now", "RB"], [",", ","], ["that", "IN"], ["you", "PRP"], ["have", "VBP"], ["some", "DT"], ["understanding", "NN"], ["of", "IN"], ["the", "DT"], ["classic", "JJ"], ["methods", "NNS"], ["you", "PRP"], ["can", "MD"], ["have", "VB"], ["a", "DT"], ["better", "JJR"], ["idea", "NN"], ["of", "IN"], ["why", "WRB"], ["arrays.sort", "NN"], ["is", "VBZ"], ["the", "DT"], ["way", "NN"], ["that", "IN"], ["it", "PRP"], ["is", "VBZ"], [".", "."], ["So", "IN"], ["it", "PRP"], ["has", "VBZ"], ["the", "DT"], ["infrastructure", "NN"], ["that", "WDT"], ["allows", "VBZ"], ["us", "PRP"], ["to", "TO"], ["be", "VB"], ["used", "VBN"], ["for", "IN"], ["all", "DT"], ["types", "NNS"], ["of", "IN"], ["data", "NNS"], ["types", "NNS"], ["and", "CC"], ["all", "DT"], ["types", "NNS"], ["of", "IN"], ["ordering", "VBG"], ["so", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["got", "VBD"], ["a", "DT"], ["method", "NN"], ["that", "WDT"], ["implements", "VBZ"], ["comparable", "JJ"], ["then", "RB"], ["its", "PRP$"], ["got", "VBD"], ["methods", "NNS"], ["easy", "JJ"], ["compare", "JJ"], ["order", "NN"], [".", "."], ["So", "CC"], ["that", "IN"], ["you", "PRP"], ["can", "MD"], ["use", "VB"], ["the", "DT"], ["natural", "JJ"], ["order", "NN"], ["or", "CC"], ["you", "PRP"], ["can", "MD"], ["provide", "VB"], ["a", "DT"], ["compare", "NN"], ["order", "NN"], ["and", "CC"], ["provide", "VB"], ["your", "PRP$"], ["own", "JJ"], ["order", "NN"], ["for", "IN"], ["any", "DT"], ["type", "NN"], ["of", "IN"], ["data", "NNS"], [".", "."], ["It", "PRP"], ["uses", "VBZ"], ["actually", "RB"], ["both", "DT"], ["quicksort", "NN"], ["and", "CC"], ["mergesort", "NN"], [".", "."], ["It", "PRP"], ["uses", "VBZ"], ["two", "CD"], ["quick", "JJ"], ["sort", "NN"], ["for", "IN"], ["primitive", "JJ"], ["types", "NNS"], ["of", "IN"], ["data", "NNS"], ["and", "CC"], ["a", "DT"], ["two", "CD"], ["mergesort", "NN"], ["for", "IN"], ["objects", "NNS"], [".", "."], ["Why", "WRB"], ["two", "CD"], ["different", "JJ"], ["well", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["just", "RB"], ["the", "DT"], ["designer", "NN"], ["'s", "POS"], ["assessment", "NN"], ["of", "IN"], ["the", "DT"], ["idea", "NN"], ["that", "IN"], ["if", "IN"], ["a", "DT"], ["programmer", "NN"], ["is", "VBZ"], ["using", "VBG"], ["object", "JJ"], ["maybe", "RB"], ["spaces", "NNS"], [",", ","], ["not", "RB"], ["a", "DT"], [",", ","], ["a", "DT"], ["critically", "RB"], ["important", "JJ"], ["consideration", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], [",", ","], ["the", "DT"], ["extra", "JJ"], ["space", "NN"], ["used", "VBN"], ["by", "IN"], ["merge", "NN"], ["sort", "NN"], ["maybe", "RB"], ["is", "VBZ"], ["not", "RB"], ["a", "DT"], ["problem", "NN"], [".", "."], ["And", "CC"], ["if", "IN"], ["the", "DT"], ["program", "NN"], ["is", "VBZ"], ["using", "VBG"], ["primitive", "JJ"], ["types", "NNS"], [",", ","], ["maybe", "RB"], ["performance", "NN"], ["is", "VBZ"], ["the", "DT"], ["most", "RBS"], ["important", "JJ"], ["thing", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], [",", ","], ["then", "RB"], ["we", "PRP"], ["'ll", "MD"], ["use", "VB"], ["the", "DT"], ["quicksort", "NN"], [".", "."], ["To", "TO"], ["invoke", "VB"], ["arrays", "NNS"], ["that", "WDT"], ["sort", "VBP"], [",", ","], ["you", "PRP"], ["have", "VBP"], ["to", "TO"], ["import", "VB"], ["the", "DT"], ["name", "NN"], ["space", "NN"], ["from", "IN"], ["java.util.Arrays", "NNS"], ["and", "CC"], ["then", "RB"], ["all", "DT"], ["you", "PRP"], ["need", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["invoke", "VB"], ["Arrays.sort", "NNP"], [".", "."], ["So", "NNP"], ["I", "PRP"], ["just", "RB"], ["answered", "VBD"], ["this", "DT"], ["question", "NN"], [",", ","], ["why", "WRB"], ["do", "VBP"], ["we", "PRP"], ["use", "VB"], ["different", "JJ"], ["algorithms", "NN"], ["for", "IN"], ["the", "DT"], ["two", "CD"], ["types", "NNS"], ["?", "."], ["And", "CC"], ["this", "DT"], ["is", "VBZ"], [",", ","], ["is", "VBZ"], ["maybe", "RB"], ["arguable", "JJ"], [".", "."], ["Now", "RB"], ["are", "VBP"], ["referred", "VBN"], ["to", "TO"], ["this", "DT"], ["idea", "NN"], ["of", "IN"], ["a", "DT"], ["good", "JJ"], ["system", "NN"], ["sort", "NN"], [",", ","], ["there", "EX"], ["was", "VBD"], ["a", "DT"], ["good", "JJ"], ["system", "NN"], ["sort", "NN"], ["that", "IN"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["people", "NNS"], ["used", "VBN"], ["for", "IN"], ["many", "JJ"], ["years", "NNS"], [".", "."], ["And", "CC"], ["in", "IN"], ["1991", "CD"], [",", ","], ["there", "EX"], ["were", "VBD"], ["some", "DT"], ["scientists", "NNS"], ["that", "IN"], [",", ","], ["that", "DT"], ["Bell", "NNP"], ["Labs", "NNP"], ["that", "WDT"], ["were", "VBD"], ["using", "VBG"], ["qsort", "NN"], ["for", "IN"], ["a", "DT"], ["scientific", "JJ"], ["problem", "NN"], ["and", "CC"], ["they", "PRP"], ["were", "VBD"], ["used", "VBN"], ["to", "TO"], ["taking", "VBG"], ["just", "RB"], ["a", "DT"], ["few", "JJ"], ["minutes", "NNS"], ["and", "CC"], ["then", "RB"], ["they", "PRP"], ["realized", "VBD"], ["that", "IN"], ["it", "PRP"], ["was", "VBD"], ["taking", "VBG"], ["hours", "NNS"], ["of", "IN"], ["CPU", "NNP"], ["time", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["fact", "NN"], ["was", "VBD"], ["that", "IN"], ["all", "PDT"], ["the", "DT"], ["qsort", "NN"], ["implementations", "NNS"], ["at", "IN"], ["that", "DT"], ["time", "NN"], ["in", "IN"], ["Unix", "NNP"], ["had", "VBD"], ["this", "DT"], ["flaw", "NN"], ["well", "RB"], [",", ","], ["there", "EX"], ["are", "VBP"], ["two", "CD"], ["flaws", "NNS"], ["and", "CC"], ["one", "CD"], ["of", "IN"], ["them", "PRP"], ["is", "VBZ"], ["a", "DT"], ["little", "JJ"], ["complicated", "JJ"], ["about", "IN"], ["the", "DT"], ["way", "NN"], ["they", "PRP"], ["are", "VBP"], ["raised", "VBN"], ["order", "NN"], ["and", "CC"], ["the", "DT"], ["other", "JJ"], ["one", "NN"], ["was", "VBD"], ["for", "IN"], ["a", "DT"], ["raise", "NN"], ["that", "WDT"], ["had", "VBD"], ["lots", "NNS"], ["of", "IN"], ["equal", "JJ"], ["keys", "NNS"], ["and", "CC"], ["this", "DT"], ["is", "VBZ"], ["Wilks", "NNP"], ["and", "CC"], ["Becker", "NNP"], ["problem", "NN"], ["and", "CC"], ["have", "VBP"], ["lot", "NN"], ["of", "IN"], ["equal", "JJ"], ["keys", "NNS"], [",", ","], ["it", "PRP"], ["was", "VBD"], ["quadratic", "JJ"], ["time", "NN"], [".", "."], ["So", "RB"], [",", ","], ["the", "DT"], ["system", "NN"], ["designer", "NN"], [",", ","], ["Jon", "NNP"], ["Bentley", "NNP"], ["was", "VBD"], ["one", "CD"], ["of", "IN"], ["the", "DT"], ["designers", "NNS"], ["to", "TO"], ["take", "VB"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["these", "DT"], ["problems", "NNS"], ["and", "CC"], ["that", "DT"], ["lead", "VBP"], ["ultimately", "RB"], ["to", "TO"], ["the", "DT"], ["development", "NN"], ["of", "IN"], ["the", "DT"], ["3-way", "JJ"], ["quick", "JJ"], ["sort", "NN"], ["that", "WDT"], ["were", "VBD"], ["used", "VBN"], ["today", "NN"], [".", "."], ["He", "PRP"], ["worked", "VBD"], ["with", "IN"], ["Doug", "NNP"], ["McIlroy", "NNP"], ["and", "CC"], ["they", "PRP"], ["wrote", "VBD"], ["a", "DT"], [",", ","], ["a", "DT"], [",", ","], ["a", "DT"], ["paper", "NN"], ["that", "WDT"], ["outline", "VBP"], ["this", "DT"], ["problem", "NN"], ["and", "CC"], ["talk", "VB"], ["about", "IN"], ["some", "DT"], ["of", "IN"], ["these", "DT"], ["things", "NNS"], ["and", "CC"], ["they", "PRP"], ["had", "VBD"], ["a", "DT"], ["three-way", "JJ"], ["partitioning", "NN"], ["method", "NN"], ["that", "WDT"], ["was", "VBD"], ["somewhat", "RB"], ["like", "IN"], ["the", "DT"], ["Dijkstra", "NNP"], ["method", "NN"], ["that", "IN"], ["we", "PRP"], ["showed", "VBD"], ["but", "CC"], ["a", "DT"], ["bit", "RB"], ["more", "RBR"], ["complicated", "JJ"], [".", "."], ["Anoth", "NNP"], ["er", "JJ"], ["thing", "NN"], ["they", "PRP"], ["did", "VBD"], ["was", "VBD"], ["rather", "RB"], ["than", "IN"], ["shuffling", "VBG"], ["the", "DT"], ["array", "NN"], [".", "."], ["They", "PRP"], ["[", "VBP"], ["cough", "JJ"], ["]", "NN"], ["used", "VBD"], ["what", "WP"], ["'s", "VBZ"], ["called", "VBN"], ["a", "DT"], ["method", "NN"], ["for", "IN"], ["choosing", "VBG"], ["partitioning", "VBG"], ["element", "NN"], ["called", "VBD"], ["Tukey", "NNP"], ["'s", "POS"], ["ninther", "NN"], [".", "."], ["Tukey", "NNP"], ["is", "VBZ"], ["a", "DT"], ["statistician", "JJ"], ["and", "CC"], ["he", "PRP"], ["had", "VBD"], ["this", "DT"], ["particular", "JJ"], ["method", "NN"], ["for", "IN"], ["order", "NN"], ["statistics", "NNS"], ["that", "WDT"], ["has", "VBZ"], ["some", "DT"], ["interesting", "JJ"], ["properties", "NNS"], ["and", "CC"], ["use", "NN"], ["that", "WDT"], ["for", "IN"], ["the", "DT"], ["partitioning", "NN"], ["element", "NN"], [".", "."], ["This", "DT"], ["paper", "NN"], ["was", "VBD"], ["very", "RB"], ["influential", "JJ"], ["and", "CC"], [",", ","], ["and", "CC"], ["that", "IN"], ["basic", "JJ"], ["method", "NN"], ["is", "VBZ"], ["widely", "RB"], ["used", "VBN"], [".", "."], ["And", "CC"], ["Tukey", "NNP"], ["'s", "POS"], ["ninther", "NN"], ["is", "VBZ"], ["just", "RB"], ["pick", "JJ"], ["nine", "CD"], ["items", "NNS"], ["out", "IN"], ["of", "IN"], ["the", "DT"], ["array", "NN"], ["and", "CC"], ["take", "VB"], ["the", "DT"], ["median", "NN"], ["of", "IN"], ["the", "DT"], ["mediums", "NNS"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["ninther", "NN"], [".", "."], ["So", "RB"], ["very", "RB"], ["inexpensive", "JJ"], ["and", "CC"], ["they", "PRP"], ["had", "VBD"], ["macros", "NNS"], ["to", "TO"], ["do", "VB"], ["this", "DT"], ["so", "RB"], ["and", "CC"], ["use", "VB"], ["not", "RB"], ["too", "RB"], ["much", "JJ"], ["cost", "NN"], ["to", "TO"], ["find", "VB"], ["a", "DT"], ["partitioning", "NN"], ["element", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["much", "RB"], ["closer", "RBR"], ["to", "TO"], ["the", "DT"], ["middle", "NN"], ["than", "IN"], [",", ","], ["and", "CC"], ["if", "IN"], ["you", "PRP"], ["use", "VBP"], ["a", "DT"], [",", ","], ["a", "DT"], ["random", "NN"], ["one", "CD"], [".", "."], ["So", "IN"], ["the", "DT"], [",", ","], ["the", "DT"], ["reason", "NN"], ["they", "PRP"], ["used", "VBD"], ["that", "DT"], ["is", "VBZ"], ["they", "PRP"], ["thought", "VBD"], ["they", "PRP"], ["got", "VBD"], ["them", "PRP"], ["closer", "RBR"], ["to", "TO"], ["the", "DT"], ["middle", "NN"], ["and", "CC"], ["they", "PRP"], ["also", "RB"], ["do", "VBP"], ["n't", "RB"], ["like", "VB"], ["the", "DT"], [",", ","], ["some", "DT"], ["system", "NN"], ["designers", "NNS"], ["do", "VBP"], ["n't", "RB"], ["like", "VB"], ["the", "DT"], ["idea", "NN"], ["of", "IN"], ["using", "VBG"], ["random", "JJ"], ["choices", "NNS"], ["in", "IN"], ["a", "DT"], ["system", "NN"], ["method", "NN"], ["because", "IN"], ["of", "IN"], ["way", "NN"], ["that", "IN"], ["it", "PRP"], ["changes", "VBZ"], ["the", "DT"], ["state", "NN"], ["of", "IN"], ["the", "DT"], ["system", "NN"], [".", "."], ["So", "IN"], ["they", "PRP"], ["felt", "VBD"], ["that", "IN"], ["they", "PRP"], ["got", "VBD"], ["better", "RBR"], ["partitioning", "VBG"], ["than", "IN"], ["a", "DT"], ["random", "JJ"], ["shuffling", "NN"], ["and", "CC"], ["it", "PRP"], ["was", "VBD"], ["also", "RB"], ["less", "RBR"], ["costly", "JJ"], ["and", "CC"], ["then", "RB"], ["generating", "VBG"], ["random", "JJ"], ["numbers", "NNS"], ["including", "VBG"], ["this", "DT"], ["change", "NN"], ["of", "IN"], ["state", "NN"], ["problem", "NN"], [".", "."], ["But", "CC"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["problem", "NN"], ["so", "IN"], ["you", "PRP"], ["would", "MD"], ["think", "VB"], ["that", "IN"], ["the", "DT"], ["system", "NN"], ["sort", "NN"], ["would", "MD"], ["be", "VB"], ["completely", "RB"], ["solid", "JJ"], ["with", "IN"], ["all", "PDT"], ["this", "DT"], ["resource", "NN"], ["with", "IN"], ["all", "PDT"], ["these", "DT"], ["research", "NN"], ["and", "CC"], ["all", "DT"], ["of", "IN"], ["the", "DT"], ["development", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["going", "VBG"], ["into", "IN"], ["it", "PRP"], [".", "."], ["In", "IN"], ["fact", "NN"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["file", "NN"], ["out", "RP"], ["there", "RB"], ["in", "IN"], ["your", "PRP$"], ["book", "NN"], ["site", "NN"], ["and", "CC"], ["get", "VB"], ["it", "PRP"], ["that", "WDT"], ["will", "MD"], ["actually", "RB"], ["break", "VB"], ["the", "DT"], ["Java", "NNP"], ["system", "NN"], ["sort", "NN"], [".", "."], ["There", "EX"], ["was", "VBD"], ["a", "DT"], ["killer", "NN"], ["input", "NN"], ["that", "WDT"], ["will", "MD"], ["make", "VB"], ["the", "DT"], ["thing", "NN"], ["run", "NN"], ["in", "IN"], ["quadratic", "JJ"], ["time", "NN"], [".", "."], ["Actually", "RB"], ["it", "PRP"], ["usually", "RB"], ["crashes", "VBZ"], ["because", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["recursive", "JJ"], ["and", "CC"], ["it", "PRP"], ["crashes", "VBZ"], ["the", "DT"], ["system", "NN"], ["stack", "NN"], [".", "."], ["And", "CC"], ["it", "PRP"], ["can", "MD"], ["cause", "VB"], ["all", "DT"], ["sorts", "NNS"], ["of", "IN"], ["problems", "NNS"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["a", "DT"], ["killer", "NN"], ["input", "NN"], ["for", "IN"], ["the", "DT"], ["system", "NN"], ["sort", "NN"], ["and", "CC"], [",", ","], ["and", "CC"], ["it", "PRP"], ["can", "MD"], ["be", "VB"], ["disastrous", "JJ"], ["in", "IN"], ["various", "JJ"], ["systems", "NNS"], ["and", "CC"], ["the", "DT"], ["reason", "NN"], ["is", "VBZ"], [",", ","], ["they", "PRP"], ["did", "VBD"], ["n't", "RB"], ["do", "VB"], ["the", "DT"], ["random", "NN"], ["shuffling", "VBG"], [".", "."], ["Mcilroy", "NNP"], [",", ","], ["himself", "PRP"], [",", ","], ["actually", "RB"], ["found", "VBN"], ["this", "DT"], ["problem", "NN"], ["that", "IN"], ["you", "PRP"], ["could", "MD"], ["while", "VB"], ["the", "DT"], ["sort", "NN"], ["is", "VBZ"], ["running", "VBG"], ["figuring", "VBG"], ["out", "RP"], ["an", "DT"], ["inp", "NN"], ["ut", "NN"], ["that", "WDT"], ["would", "MD"], ["make", "VB"], ["it", "PRP"], ["crash", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], [",", ","], ["you", "PRP"], ["can", "MD"], ["just", "RB"], ["run", "VB"], ["that", "DT"], ["program", "NN"], ["and", "CC"], ["if", "IN"], ["the", "DT"], ["sort", "NN"], ["does", "VBZ"], ["n't", "RB"], ["use", "VB"], ["randomness", "NN"], ["then", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["vulnerable", "JJ"], ["to", "TO"], ["this", "DT"], ["attack", "NN"], [".", "."], ["So", "CC"], ["which", "WDT"], ["algorithm", "NN"], ["should", "MD"], ["we", "PRP"], ["use", "VB"], ["to", "TO"], ["sort", "VB"], ["that", "DT"], ["'s", "VBZ"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["really", "RB"], ["a", "DT"], ["key", "JJ"], ["question", "NN"], [".", "."], ["We", "PRP"], ["'ve", "VBP"], ["looked", "VBN"], ["at", "IN"], ["lot", "NN"], ["of", "IN"], ["sorting", "VBG"], ["algorithms", "NN"], ["and", "CC"], ["actually", "RB"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["hundreds", "NNS"], ["of", "IN"], ["sorting", "VBG"], ["algorithms", "NN"], ["out", "IN"], ["there", "RB"], ["and", "CC"], ["we", "PRP"], ["have", "VBP"], ["chosen", "VBN"], ["the", "DT"], ["most", "RBS"], ["important", "JJ"], ["and", "CC"], ["the", "DT"], ["most", "RBS"], ["interesting", "JJ"], ["for", "IN"], ["you", "PRP"], ["but", "CC"], ["you", "PRP"], ["could", "MD"], ["literally", "RB"], ["spend", "VB"], ["a", "DT"], ["year", "NN"], ["reading", "VBG"], ["all", "PDT"], ["the", "DT"], ["papers", "NNS"], ["on", "IN"], ["sorting", "VBG"], ["and", "CC"], ["then", "RB"], ["you", "PRP"], ["still", "RB"], ["continue", "VB"], ["to", "TO"], ["be", "VB"], ["invented", "VBN"], ["new", "JJ"], ["algorithms", "NNS"], ["are", "VBP"], ["developed", "VBN"], ["and", "CC"], ["that", "DT"], ["are", "VBP"], ["found", "VBN"], ["to", "TO"], ["have", "VB"], ["good", "JJ"], ["characteristics", "NNS"], ["all", "PDT"], ["the", "DT"], ["time", "NN"], [".", "."], ["And", "CC"], ["really", "RB"], [",", ","], ["the", "DT"], ["key", "JJ"], ["idea", "NN"], ["is", "VBZ"], ["really", "RB"], ["important", "JJ"], ["to", "TO"], ["think", "VB"], ["about", "IN"], ["cuz", "NN"], ["it", "PRP"], ["applies", "VBZ"], ["to", "TO"], ["all", "DT"], ["sorts", "NNS"], ["of", "IN"], ["algorithmic", "JJ"], ["problems", "NNS"], [".", "."], ["On", "IN"], ["our", "PRP$"], ["way", "NN"], [",", ","], ["we", "PRP"], ["'ve", "VBP"], ["been", "VBN"], ["talking", "VBG"], ["about", "IN"], ["rules", "NNS"], ["of", "IN"], ["the", "DT"], ["game", "NN"], [".", "."], ["What", "WP"], ["is", "VBZ"], ["it", "PRP"], ["that", "IN"], ["we", "PRP"], ["care", "VBP"], ["about", "IN"], ["in", "IN"], ["a", "DT"], ["sort", "NN"], ["?", "."], ["It", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["more", "RBR"], ["complicated", "JJ"], ["than", "IN"], ["just", "RB"], ["put", "VBN"], ["stuff", "NN"], ["in", "IN"], ["order", "NN"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["attributes", "NNS"], [",", ","], ["the", "DT"], ["different", "JJ"], ["applications", "NNS"], ["have", "VBP"], [".", "."], ["Like", "IN"], ["stability", "NN"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["a", "DT"], ["fairly", "RB"], ["sophisticated", "JJ"], ["attribute", "NN"], ["that", "IN"], ["you", "PRP"], ["really", "RB"], ["have", "VBP"], ["to", "TO"], ["think", "VB"], ["about", "IN"], [",", ","], ["you", "PRP"], ["maybe", "RB"], ["not", "RB"], ["be", "VB"], ["aware", "JJ"], ["of", "IN"], [".", "."], ["Maybe", "RB"], ["your", "PRP$"], ["computer", "NN"], ["is", "VBZ"], ["parallel", "JJ"], ["and", "CC"], ["the", "DT"], ["sort", "NN"], ["has", "VBZ"], ["to", "TO"], ["be", "VB"], ["parallel", "JJ"], ["and", "CC"], ["we", "PRP"], ["found", "VBD"], ["that", "IN"], ["equal", "JJ"], ["keys", "NNS"], ["make", "VBP"], ["a", "DT"], ["huge", "JJ"], ["difference", "NN"], [".", "."], ["And", "CC"], ["I", "PRP"], ["did", "VBD"], ["n't", "RB"], ["really", "RB"], ["think", "VB"], ["about", "IN"], ["that", "DT"], ["at", "IN"], ["the", "DT"], ["beginning", "NN"], ["but", "CC"], ["it", "PRP"], ["can", "MD"], ["make", "VB"], ["a", "DT"], ["huge", "JJ"], ["difference", "NN"], [".", "."], ["Maybe", "RB"], ["the", "DT"], ["way", "NN"], ["your", "PRP$"], ["computer", "NN"], ["'s", "POS"], ["memory", "NN"], ["is", "VBZ"], ["organized", "VBN"], ["make", "VBP"], ["a", "DT"], ["difference", "NN"], [".", "."], ["Maybe", "RB"], ["the", "DT"], ["keys", "NNS"], ["are", "VBP"], ["small", "JJ"], ["and", "CC"], ["the", "DT"], ["items", "NNS"], ["are", "VBP"], ["large", "JJ"], ["or", "CC"], ["maybe", "RB"], ["the", "DT"], ["keys", "NNS"], ["are", "VBP"], ["really", "RB"], ["huge", "JJ"], [".", "."], ["Do", "VBP"], ["we", "PRP"], ["need", "VBP"], ["guaranteed", "VBN"], ["performance", "NN"], ["?", "."], ["Are", "VBP"], ["we", "PRP"], ["happy", "JJ"], ["with", "IN"], ["random", "JJ"], ["performance", "NN"], ["?", "."], ["Do", "VBP"], ["we", "PRP"], ["know", "VB"], [",", ","], ["is", "VBZ"], ["the", "DT"], ["array", "NN"], ["randomly", "RB"], ["ordered", "VBN"], ["?", "."], ["You", "PRP"], ["can", "MD"], ["think", "VB"], ["of", "IN"], ["a", "DT"], ["matrix", "JJ"], ["shown", "VBN"], ["in", "IN"], ["the", "DT"], ["right", "NN"], ["here", "RB"], ["where", "WRB"], ["we", "PRP"], ["list", "VBP"], ["out", "RP"], ["all", "PDT"], ["the", "DT"], ["possible", "JJ"], ["attributes", "NNS"], ["and", "CC"], ["then", "RB"], ["there", "EX"], ["'s", "VBZ"], ["algorithms", "NN"], ["that", "IN"], ["worked", "VBD"], ["well", "RB"], ["for", "IN"], ["different", "JJ"], ["combinations", "NNS"], ["of", "IN"], ["attributes", "NNS"], [".", "."], ["But", "CC"], ["the", "DT"], ["thing", "NN"], ["is", "VBZ"], [",", ","], ["there", "EX"], ["is", "VBZ"], ["way", "NN"], ["more", "RBR"], ["possible", "JJ"], ["combinations", "NNS"], ["of", "IN"], ["attributes", "NNS"], ["than", "IN"], ["there", "EX"], ["are", "VBP"], ["algorithms", "JJ"], [".", "."], ["So", "IN"], ["there", "EX"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["situations", "NNS"], ["that", "WDT"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["require", "VB"], ["an", "DT"], ["understanding", "NN"], ["of", "IN"], ["what", "WP"], ["it", "PRP"], ["takes", "VBZ"], ["to", "TO"], ["engineer", "VB"], ["a", "DT"], [",", ","], ["a", "DT"], ["sort", "NN"], ["method", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["appropriate", "JJ"], ["for", "IN"], ["your", "PRP$"], ["application", "NN"], [".", "."], ["There", "EX"], ["ca", "MD"], ["n't", "RB"], ["be", "VB"], ["a", "DT"], ["system", "NN"], ["sort", "NN"], ["out", "IN"], ["there", "RB"], ["that", "DT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["cover", "VB"], ["all", "DT"], ["possible", "JJ"], ["combinations", "NNS"], ["of", "IN"], ["attributes", "NNS"], [".", "."], ["Now", "RB"], [",", ","], ["usually", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["good", "JJ"], ["enough", "RB"], ["but", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["definitely", "RB"], ["worth", "JJ"], ["while", "IN"], ["to", "TO"], ["understand", "VB"], ["what", "WP"], ["'s", "VBZ"], ["going", "VBG"], ["on", "IN"], ["with", "IN"], ["different", "JJ"], ["sorting", "VBG"], ["algorithms", "NN"], ["in", "IN"], ["order", "NN"], ["to", "TO"], ["even", "RB"], ["find", "VB"], ["improved", "JJ"], ["performance", "NN"], ["over", "IN"], ["the", "DT"], ["system", "NN"], ["sort", "NN"], [".", "."], ["So", "RB"], [",", ","], ["here", "RB"], ["'s", "VBZ"], ["the", "DT"], ["summary", "NN"], ["of", "IN"], ["some", "DT"], ["of", "IN"], ["the", "DT"], ["things", "NNS"], ["that", "IN"], ["we", "PRP"], ["'ve", "VBP"], ["talked", "VBN"], ["about", "IN"], [".", "."], ["We", "PRP"], ["'ve", "VBP"], ["talked", "VBN"], ["about", "IN"], ["six", "CD"], ["different", "JJ"], ["sorting", "VBG"], ["algorithms", "NN"], [".", "."], ["Then", "RB"], [",", ","], ["we", "PRP"], ["'ve", "VBP"], ["talked", "VBN"], ["about", "IN"], ["a", "DT"], ["bunch", "NN"], ["of", "IN"], ["attributes", "NNS"], [".", "."], ["For", "IN"], ["example", "NN"], [",", ","], ["the", "DT"], ["top", "JJ"], ["line", "NN"], [",", ","], ["selection", "NN"], ["sort", "NN"], ["is", "VBZ"], ["in", "IN"], ["place", "NN"], ["it", "PRP"], ["always", "RB"], ["takes", "VBZ"], ["about", "IN"], ["N^2", "NNP"], ["/", "NNP"], ["two", "CD"], ["comparisons", "NNS"], [".", "."], ["And", "CC"], ["one", "CD"], ["of", "IN"], ["the", "DT"], ["things", "NNS"], ["to", "TO"], ["remark", "VB"], ["about", "IN"], ["it", "PRP"], ["is", "VBZ"], ["that", "IN"], ["it", "PRP"], ["only", "RB"], ["uses", "VBZ"], ["N", "NNP"], ["exchanges", "NNS"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["Insertion", "NNP"], ["sort", "NN"], ["best", "JJS"], ["case", "NN"], ["linear", "NN"], [",", ","], ["quadratic", "JJ"], [",", ","], ["and", "CC"], ["place", "NN"], ["unstable", "JJ"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'ll", "MD"], ["work", "VB"], ["well", "RB"], ["if", "IN"], ["the", "DT"], ["file", "NN"], ["is", "VBZ"], ["small", "JJ"], ["or", "CC"], ["partially", "RB"], ["ordered", "VBN"], [".", "."], ["Shellsort", "NNP"], [",", ","], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["know", "VB"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["running", "JJ"], ["time", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["stable", "JJ"], ["but", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["fast", "JJ"], ["method", "NN"], ["for", "IN"], ["intermediate", "JJ"], ["size", "NN"], ["files", "NNS"], ["and", "CC"], ["not", "RB"], ["much", "JJ"], ["code", "NN"], [".", "."], ["Mergesort", "NNP"], ["and", "CC"], ["log", "NN"], ["N", "NNP"], ["guarantee", "NN"], ["unstable", "JJ"], ["but", "CC"], ["not", "RB"], ["in", "IN"], ["place", "NN"], [",", ","], ["need", "VBP"], ["that", "IN"], ["auxiliary", "JJ"], ["array", "NN"], [".", "."], ["Quicksort", "NNP"], ["not", "RB"], ["stable", "JJ"], [".", "."], ["Quadratic", "JJ"], ["time", "NN"], ["worst", "JJ"], ["case", "NN"], ["but", "CC"], ["that", "DT"], ["'s", "VBZ"], ["unlikely", "JJ"], ["to", "TO"], ["occur", "VB"], ["if", "IN"], ["you", "PRP"], ["do", "VBP"], ["the", "DT"], ["random", "NN"], ["shuffling", "NN"], [".", "."], ["And", "CC"], ["its", "PRP$"], ["the", "DT"], ["fastest", "JJS"], ["and", "CC"], ["most", "RBS"], ["useful", "JJ"], ["in", "IN"], ["practice", "NN"], ["particularly", "RB"], ["if", "IN"], ["you", "PRP"], ["make", "VBP"], ["improvements", "NNS"], ["to", "TO"], ["deal", "VB"], ["with", "IN"], ["duplicate", "NN"], ["keys", "NNS"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["interesting", "JJ"], ["to", "TO"], ["note", "VB"], ["we", "PRP"], ["'ve", "VBP"], ["looked", "VBN"], ["at", "IN"], ["important", "JJ"], ["and", "CC"], ["classic", "JJ"], ["algorithms", "NN"], ["that", "WDT"], ["are", "VBP"], ["widely", "RB"], ["deployed", "VBN"], ["but", "CC"], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["have", "VB"], ["a", "DT"], [",", ","], ["a", "DT"], ["useful", "JJ"], [",", ","], ["practical", "JJ"], ["algorithms", "NN"], ["that", "WDT"], ["are", "VBP"], ["widely", "RB"], ["used", "VBN"], ["that", "DT"], ["'s", "VBZ"], ["got", "VBD"], ["all", "DT"], ["of", "IN"], ["these", "DT"], ["characteristics", "NNS"], ["that", "WDT"], ["'s", "VBZ"], ["in", "IN"], ["place", "NN"], ["and", "CC"], ["stable", "JJ"], ["worst", "JJ"], ["case", "NN"], ["N", "NNP"], ["log", "NN"], ["N.", "NNP"], ["There", "EX"], ["'s", "VBZ"], ["versions", "NNS"], ["of", "IN"], ["merge", "NN"], ["sort", "NN"], ["that", "IN"], ["come", "VBP"], ["close", "RB"], ["but", "CC"], ["they", "PRP"], ["are", "VBP"], ["too", "RB"], ["complex", "JJ"], ["for", "IN"], ["practitioners", "NNS"], ["to", "TO"], ["have", "VB"], ["adopted", "VBN"], ["them", "PRP"], [".", "."], ["Those", "DT"], ["are", "VBP"], ["some", "DT"], ["of", "IN"], ["the", "DT"], ["situations", "NNS"], ["that", "IN"], ["we", "PRP"], ["encounter", "VBP"], ["when", "WRB"], ["developing", "VBG"], ["a", "DT"], ["system", "NN"], ["sort", "NN"], [".", "."], ["And", "CC"], [",", ","], ["quicksort", "NN"], ["certainly", "RB"], ["plays", "VBZ"], ["a", "DT"], ["role", "NN"], ["in", "IN"], ["most", "JJS"], ["system", "NN"], ["sorts", "NNS"], [".", "."]], "title": "system sorts", "text": "Now, we'll take a look at how the sorting algorithms that we talked about or expressed in the systems that we use everyday. Now, the key point is that sorting algorithms rhythms are essential in a very broad variety of applications and, and all of us use sorting algorithms pretty much every day. Many obvious out applications like or, organizing your music library or displaying your search results or listening feeds in your in your web browsers. There's some other applications that are not so obvious where we use sorting as a to make a problem easy once you know that they're sorted. And so, for example, finding the median and if it's already sorted, it's much easy to find the median. And now, the statistical problems are like that or finding duplicates. Probably finding duplicates by itself is not quite obvious what to do but the easy way to solve it is to just go ahead and sort. And then there are plenty of applications that we'll see later in this course like data compression or computer graphics like finding the convex hull, applications in science such as computational biology or, or in systems development. We're having a efficient sort as absolutely crucial. So, because there's all these applications most programming systems have a fast sort as an important part of their infrastructure and Java is no exemption. So, Java has a method called arrays.sort and it's intended to be a general purpose sorting method for use by Java programmers. And now, that you have some understanding of the classic methods you can have a better idea of why arrays.sort is the way that it is. So it has the infrastructure that allows us to be used for all types of data types and all types of ordering so it's got a method that implements comparable then its got methods easy compare order. So that you can use the natural order or you can provide a compare order and provide your own order for any type of data. It uses actually both quicksort and mergesort. It uses two quick sort for primitive types of data and a two mergesort for objects. Why two different well it's just the designer's assessment of the idea that if a programmer is using object maybe spaces, not a, a critically important consideration. And so, the extra space used by merge sort maybe is not a problem. And if the program is using primitive types, maybe performance is the most important thing. And so, then we'll use the quicksort. To invoke arrays that sort, you have to import the name space from java.util.Arrays and then all you need to do is invoke Arrays.sort. So I just answered this question, why do we use different algorithms for the two types? And this is, is maybe arguable. Now are referred to this idea of a good system sort, there was a good system sort that a lot of people used for many years. And in 1991, there were some scientists that, that Bell Labs that were using qsort for a scientific problem and they were used to taking just a few minutes and then they realized that it was taking hours of CPU time. And the fact was that all the qsort implementations at that time in Unix had this flaw well, there are two flaws and one of them is a little complicated about the way they are raised order and the other one was for a raise that had lots of equal keys and this is Wilks and Becker problem and have lot of equal keys, it was quadratic time. So, the system designer, Jon Bentley was one of the designers to take a look at these problems and that lead ultimately to the development of the 3-way quick sort that were used today. He worked with Doug McIlroy and they wrote a, a, a paper that outline this problem and talk about some of these things and they had a three-way partitioning method that was somewhat like the Dijkstra method that we showed but a bit more complicated. Anoth er thing they did was rather than shuffling the array. They [cough] used what's called a method for choosing partitioning element called Tukey's ninther. Tukey is a statistician and he had this particular method for order statistics that has some interesting properties and use that for the partitioning element. This paper was very influential and, and that basic method is widely used. And Tukey's ninther is just pick nine items out of the array and take the median of the mediums and that's the ninther. So very inexpensive and they had macros to do this so and use not too much cost to find a partitioning element that's much closer to the middle than, and if you use a, a random one. So the, the reason they used that is they thought they got them closer to the middle and they also don't like the, some system designers don't like the idea of using random choices in a system method because of way that it changes the state of the system. So they felt that they got better partitioning than a random shuffling and it was also less costly and then generating random numbers including this change of state problem. But there's a problem so you would think that the system sort would be completely solid with all this resource with all these research and all of the development that's going into it. In fact there's a file out there in your book site and get it that will actually break the Java system sort. There was a killer input that will make the thing run in quadratic time. Actually it usually crashes because it's recursive and it crashes the system stack. And it can cause all sorts of problems. There's a killer input for the system sort and, and it can be disastrous in various systems and the reason is, they didn't do the random shuffling. Mcilroy, himself, actually found this problem that you could while the sort is running figuring out an inp ut that would make it crash. And so, you can just run that program and if the sort doesn't use randomness then it's vulnerable to this attack. So which algorithm should we use to sort that's, that's really a key question. We've looked at lot of sorting algorithms and actually, there's hundreds of sorting algorithms out there and we have chosen the most important and the most interesting for you but you could literally spend a year reading all the papers on sorting and then you still continue to be invented new algorithms are developed and that are found to have good characteristics all the time. And really, the key idea is really important to think about cuz it applies to all sorts of algorithmic problems. On our way, we've been talking about rules of the game. What is it that we care about in a sort? It's a little bit more complicated than just put stuff in order. There's a lot of attributes, the different applications have. Like stability, that's a fairly sophisticated attribute that you really have to think about, you maybe not be aware of. Maybe your computer is parallel and the sort has to be parallel and we found that equal keys make a huge difference. And I didn't really think about that at the beginning but it can make a huge difference. Maybe the way your computer's memory is organized make a difference. Maybe the keys are small and the items are large or maybe the keys are really huge. Do we need guaranteed performance? Are we happy with random performance? Do we know, is the array randomly ordered? You can think of a matrix shown in the right here where we list out all the possible attributes and then there's algorithms that worked well for different combinations of attributes. But the thing is, there is way more possible combinations of attributes than there are algorithms. So there is going to be situations that are going to require an understanding of what it takes to engineer a, a sort method that's appropriate for your application. There can't be a system sort out there that's going to cover all possible combinations of attributes. Now, usually it's going to be good enough but it's definitely worth while to understand what's going on with different sorting algorithms in order to even find improved performance over the system sort. So, here's the summary of some of the things that we've talked about. We've talked about six different sorting algorithms. Then, we've talked about a bunch of attributes. For example, the top line, selection sort is in place it always takes about N^2 / two comparisons. And one of the things to remark about it is that it only uses N exchanges and so forth. Insertion sort best case linear, quadratic, and place unstable. And it'll work well if the file is small or partially ordered. Shellsort, we don't know it's a running time, it's not stable but it's a fast method for intermediate size files and not much code. Mergesort and log N guarantee unstable but not in place, need that auxiliary array. Quicksort not stable. Quadratic time worst case but that's unlikely to occur if you do the random shuffling. And its the fastest and most useful in practice particularly if you make improvements to deal with duplicate keys. And it's interesting to note we've looked at important and classic algorithms that are widely deployed but we don't have a, a useful, practical algorithms that are widely used that's got all of these characteristics that's in place and stable worst case N log N. There's versions of merge sort that come close but they are too complex for practitioners to have adopted them. Those are some of the situations that we encounter when developing a system sort. And, quicksort certainly plays a role in most system sorts. ", "video_ID": 33, "course_id": 3}
{"category": ["priority queues"], "tagged": [["Welcome", "NNP"], ["back", "RB"], [".", "."], ["Today", "NN"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["Priority", "NNP"], ["Queues", "NNP"], ["which", "WDT"], ["is", "VBZ"], ["a", "DT"], ["variant", "NN"], ["of", "IN"], ["sorting", "VBG"], ["that", "WDT"], ["generalizes", "VBZ"], ["the", "DT"], ["idea", "NN"], ["to", "TO"], ["provide", "VB"], ["more", "RBR"], ["flexible", "JJ"], ["data", "NN"], ["structure", "NN"], ["that", "IN"], ["we", "PRP"], ["can", "MD"], ["use", "VB"], ["for", "IN"], ["all", "DT"], ["sorts", "NNS"], ["of", "IN"], ["applications", "NNS"], [".", "."], ["To", "TO"], ["get", "VB"], ["started", "VBN"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["the", "DT"], ["API", "NNP"], ["and", "CC"], ["some", "DT"], ["elementary", "JJ"], ["implementations", "NNS"], [".", "."], ["So", "RB"], ["at", "IN"], ["a", "DT"], ["week", "NN"], ["or", "CC"], ["so", "RB"], ["ago", "RB"], [",", ","], ["we", "PRP"], ["looked", "VBD"], ["at", "IN"], ["collections", "NNS"], ["in", "IN"], ["Java", "NNP"], ["and", "CC"], ["the", "DT"], ["idea", "NN"], ["of", "IN"], ["elementary", "JJ"], ["data", "NNS"], ["structures", "NNS"], ["where", "WRB"], ["we", "PRP"], ["insert", "VBP"], ["and", "CC"], ["delete", "JJ"], ["items", "NNS"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["the", "DT"], ["data", "NN"], ["structures", "NNS"], ["differ", "VBP"], ["on", "IN"], ["the", "DT"], ["basis", "NN"], ["of", "IN"], ["which", "WDT"], ["item", "NN"], ["we", "PRP"], ["choose", "VBP"], ["to", "TO"], ["delete", "VB"], [".", "."], ["We", "PRP"], ["looked", "VBD"], ["to", "TO"], ["the", "DT"], ["push", "NN"], ["down", "RP"], ["stack", "NN"], ["where", "WRB"], ["we", "PRP"], ["removed", "VBD"], ["the", "DT"], ["item", "NN"], ["that", "WDT"], ["was", "VBD"], ["most", "RBS"], ["recently", "RB"], ["added", "VBD"], [",", ","], ["And", "CC"], ["the", "DT"], ["queue", "NN"], ["where", "WRB"], ["we", "PRP"], ["remove", "VB"], ["the", "DT"], ["item", "NN"], ["that", "WDT"], ["was", "VBD"], ["least", "RBS"], ["recently", "RB"], ["added", "VBD"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["we", "PRP"], ["talked", "VBD"], ["about", "IN"], ["randomized", "VBN"], ["queue", "NN"], ["or", "CC"], ["bag", "NN"], ["where", "WRB"], ["we", "PRP"], ["might", "MD"], ["remove", "VB"], ["a", "DT"], ["random", "NN"], ["or", "CC"], ["an", "DT"], ["arbitrary", "JJ"], ["item", "NN"], [".", "."], ["Today", "NN"], [",", ","], ["what", "WP"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["talk", "VB"], ["about", "IN"], ["is", "VBZ"], ["called", "VBN"], ["the", "DT"], ["priority", "NN"], ["queue", "NN"], ["and", "CC"], ["for", "IN"], ["that", "DT"], [",", ","], ["we", "PRP"], ["insert", "VBP"], ["items", "NNS"], [",", ","], ["but", "CC"], ["when", "WRB"], ["it", "PRP"], ["'s", "VBZ"], ["time", "NN"], ["to", "TO"], ["remove", "VB"], [",", ","], ["we", "PRP"], ["consider", "VBP"], ["the", "DT"], ["items", "NNS"], ["to", "TO"], ["have", "VB"], ["a", "DT"], ["total", "JJ"], ["order", "NN"], ["and", "CC"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["remove", "VB"], ["the", "DT"], ["largest", "JJS"], ["or", "CC"], ["the", "DT"], ["smallest", "JJS"], ["item", "NN"], [".", "."], ["So", "IN"], ["this", "DT"], ["little", "JJ"], ["example", "NN"], ["if", "IN"], ["we", "PRP"], ["insert", "VBP"], ["P", "NNP"], [",", ","], ["Q", "NNP"], [",", ","], ["and", "CC"], ["E", "NNP"], ["then", "RB"], ["when", "WRB"], ["we", "PRP"], ["do", "VBP"], ["remove", "VB"], ["max", "NN"], [",", ","], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["get", "VB"], ["the", "DT"], ["Q", "NNP"], ["out", "RP"], ["and", "CC"], ["for", "IN"], ["later", "RB"], [",", ","], ["we", "PRP"], ["insert", "VBP"], ["X", "NNP"], [",", ","], ["A", "NNP"], [",", ","], ["and", "CC"], ["M", "NNP"], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["removed", "VBD"], ["max", "NN"], [".", "."], ["The", "DT"], ["largest", "JJS"], ["one", "NN"], ["in", "IN"], ["there", "EX"], ["is", "VBZ"], ["X", "NNP"], [".", "."], ["We", "PRP"], ["'ll", "MD"], ["insert", "VB"], ["P", "NNP"], [",", ","], ["L", "NNP"], [",", ","], ["and", "CC"], ["E", "NNP"], ["and", "CC"], ["then", "RB"], [",", ","], ["after", "IN"], ["a", "DT"], ["while", "NN"], [",", ","], ["we", "PRP"], ["remove", "VBP"], ["max", "JJ"], ["P.", "NNP"], ["So", "NNP"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["our", "PRP$"], ["basic", "JJ"], ["setup", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["our", "PRP$"], ["definition", "NN"], ["of", "IN"], ["what", "WP"], ["a", "DT"], ["priority", "NN"], ["queue", "NN"], ["is", "VBZ"], [".", "."], ["So", "RB"], [",", ","], ["the", "DT"], ["API", "NNP"], ["will", "MD"], ["look", "VB"], ["very", "RB"], ["similar", "JJ"], ["to", "TO"], ["our", "PRP$"], ["stack", "NN"], ["or", "CC"], ["queue", "VB"], ["API", "NNP"], ["with", "IN"], ["a", "DT"], ["difference", "NN"], ["that", "IN"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["have", "VB"], ["generic", "JJ"], ["items", "NNS"], ["that", "WDT"], ["are", "VBP"], ["comparable", "JJ"], [".", "."], ["So", "IN"], ["the", "DT"], ["Java", "NNP"], ["language", "NN"], ["for", "IN"], ["that", "DT"], ["is", "VBZ"], ["in", "IN"], ["the", "DT"], ["class", "NN"], ["header", "NN"], [".", "."], ["We", "PRP"], ["say", "VBP"], ["that", "IN"], ["our", "PRP$"], ["generic", "JJ"], ["type", "NN"], ["Key", "NNP"], ["extends", "VBZ"], ["Comparable", "NNP"], ["of", "IN"], ["Key", "NNP"], [".", "."], ["And", "CC"], ["that", "DT"], ["just", "RB"], ["means", "VBZ"], ["that", "IN"], ["our", "PRP$"], ["keys", "NNS"], ["must", "MD"], ["be", "VB"], ["Comparable", "JJ"], ["and", "CC"], ["we", "PRP"], ["must", "MD"], ["have", "VB"], ["a", "DT"], ["compareTo", "NN"], ["(", "("], [")", ")"], ["method", "NN"], ["that", "WDT"], ["will", "MD"], ["compare", "VB"], ["it", "PRP"], ["to", "TO"], ["another", "DT"], ["key", "NN"], [".", "."], ["Otherwise", "IN"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["constructor", "NN"], ["and", "CC"], ["actually", "RB"], ["for", "IN"], ["some", "DT"], ["applications", "NNS"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["convenient", "NN"], ["to", "TO"], ["have", "VB"], ["a", "DT"], ["constructor", "NN"], ["that", "WDT"], ["takes", "VBZ"], ["an", "DT"], ["array", "NN"], ["of", "IN"], ["keys", "NNS"], ["as", "IN"], ["argument", "NN"], [".", "."], ["Then", "RB"], [",", ","], ["an", "DT"], ["insert", "NN"], ["(", "("], [")", ")"], ["that", "WDT"], ["puts", "VBZ"], ["something", "NN"], ["in", "IN"], ["like", "JJ"], ["push", "NN"], ["in", "IN"], ["a", "DT"], ["stack", "NN"], ["or", "CC"], ["enqueue", "NN"], ["in", "IN"], ["a", "DT"], ["queue", "NN"], [".", "."], ["Then", "RB"], ["delete", "VB"], ["the", "DT"], ["maximum", "NN"], [".", "."], ["I", "PRP"], ["referred", "VBD"], ["to", "TO"], ["delete", "VB"], ["the", "DT"], ["minimum", "NN"], ["just", "RB"], ["to", "TO"], ["avoid", "VB"], ["confusion", "NN"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["the", "DT"], ["implementation", "NN"], ["separate", "JJ"], ["implementation", "NN"], ["usually", "RB"], ["MinPQ", "NNP"], [",", ","], ["where", "WRB"], ["we", "PRP"], ["delete", "VBP"], ["the", "DT"], ["minimum", "NN"], [".", "."], ["Then", "RB"], ["test", "NN"], ["isEmpty", "NN"], ["(", "("], [")", ")"], ["and", "CC"], ["we", "PRP"], ["also", "RB"], ["sometimes", "RB"], ["have", "VBP"], ["extra", "JJ"], ["method", "NN"], ["that", "WDT"], ["just", "RB"], ["gives", "VBZ"], ["us", "PRP"], ["the", "DT"], ["value", "NN"], ["of", "IN"], ["the", "DT"], ["largest", "JJS"], ["key", "NN"], ["and", "CC"], ["also", "RB"], ["size", "NN"], ["which", "WDT"], ["is", "VBZ"], ["useful", "JJ"], ["sometimes", "RB"], ["in", "IN"], ["collections", "NNS"], [".", "."], ["You", "PRP"], ["might", "MD"], ["also", "RB"], ["want", "VB"], ["it", "PRP"], ["to", "TO"], ["be", "VB"], ["iterable", "JJ"], ["but", "CC"], ["we", "PRP"], ["'ll", "MD"], ["skip", "VB"], ["that", "IN"], ["for", "IN"], ["now", "RB"], [".", "."], ["There", "EX"], ["are", "VBP"], ["lots", "NNS"], ["and", "CC"], ["lots", "NNS"], ["of", "IN"], ["applications", "NNS"], ["of", "IN"], ["priority", "NN"], ["queues", "NNS"], [".", "."], ["Even", "RB"], ["though", "IN"], ["it", "PRP"], ["emerged", "VBD"], ["as", "IN"], ["a", "DT"], ["data", "NN"], ["structure", "NN"], ["relatively", "RB"], ["late", "JJ"], ["in", "IN"], ["the", "DT"], ["game", "NN"], ["now", "RB"], ["that", "IN"], ["we", "PRP"], ["see", "VBP"], ["that", "IN"], ["there", "EX"], ["are", "VBP"], ["many", "JJ"], ["algorithms", "IN"], ["that", "DT"], ["are", "VBP"], ["much", "RB"], ["easier", "JJR"], ["to", "TO"], ["implement", "VB"], ["when", "WRB"], ["we", "PRP"], ["think", "VBP"], ["about", "IN"], ["the", "DT"], ["priority", "NN"], ["key", "JJ"], ["abstraction", "NN"], [".", "."], ["We", "PRP"], ["have", "VBP"], ["data", "NNS"], ["that", "IN"], ["we", "PRP"], ["are", "VBP"], ["processing", "VBG"], ["we", "PRP"], ["ca", "MD"], ["n't", "RB"], ["process", "VB"], ["it", "PRP"], ["all", "DT"], ["at", "IN"], ["once", "RB"], [".", "."], ["We", "PRP"], ["have", "VBP"], ["to", "TO"], ["save", "VB"], ["it", "PRP"], ["some", "DT"], ["of", "IN"], ["way", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["what", "WP"], ["the", "DT"], ["priority", "NN"], ["queue", "NN"], ["tells", "NNS"], ["us", "PRP"], ["is", "VBZ"], ["-", ":"], ["let", "NN"], ["'s", "POS"], ["organize", "VB"], ["it", "PRP"], ["in", "IN"], ["some", "DT"], ["ways", "NNS"], ["that", "IN"], ["we", "PRP"], ["are", "VBP"], ["always", "RB"], ["taking", "VBG"], ["the", "DT"], ["best", "JJS"], ["one", "CD"], ["to", "TO"], ["process", "VB"], ["next", "JJ"], [".", "."], ["And", "CC"], ["it", "PRP"], ["turns", "VBZ"], ["out", "RP"], ["to", "TO"], ["be", "VB"], ["very", "RB"], ["close", "RB"], ["to", "TO"], ["a", "DT"], ["generic", "JJ"], ["algorithmic", "JJ"], ["design", "NN"], ["technique", "NN"], ["that", "IN"], ["we", "PRP"], ["will", "MD"], ["be", "VB"], ["looking", "VBG"], ["at", "IN"], ["in", "IN"], ["many", "JJ"], [",", ","], ["many", "JJ"], ["different", "JJ"], ["applications", "NNS"], [".", "."], ["Today", "NN"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["talk", "VB"], ["about", "IN"], ["event-driven", "JJ"], ["simulation", "NN"], ["which", "WDT"], ["is", "VBZ"], ["an", "DT"], ["interesting", "JJ"], ["idea", "NN"], ["that", "WDT"], ["is", "VBZ"], ["based", "VBN"], ["on", "IN"], ["priority", "NN"], ["queues", "NNS"], ["but", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["also", "RB"], ["used", "VBN"], ["in", "IN"], ["numerical", "JJ"], ["computation", "NN"], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["see", "VB"], ["in", "IN"], ["algorithms", "NN"], ["for", "IN"], ["data", "NNS"], ["compression", "NN"], ["and", "CC"], ["graph", "NN"], ["searching", "NN"], ["that", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["useful", "JJ"], [".", "."], ["And", "CC"], ["in", "IN"], ["many", "JJ"], ["other", "JJ"], ["applications", "NNS"], ["in", "IN"], ["Computer", "NNP"], ["Science", "NNP"], ["and", "CC"], ["in", "IN"], ["scientific", "JJ"], ["computing", "NN"], [".", "."], ["It", "PRP"], ["generalizes", "VBZ"], ["the", "DT"], ["stack", "NN"], ["and", "CC"], ["the", "DT"], ["queue", "NN"], ["and", "CC"], ["gives", "VBZ"], ["us", "PRP"], ["a", "DT"], ["data", "NN"], ["structure", "NN"], ["that", "IN"], ["we", "PRP"], ["can", "MD"], ["use", "VB"], ["to", "TO"], ["effectively", "RB"], ["design", "VB"], ["algorithm", "NN"], ["of", "IN"], ["all", "DT"], ["sorts", "NNS"], [".", "."], ["So", "RB"], ["here", "RB"], ["'s", "VBZ"], ["just", "RB"], ["a", "DT"], ["particular", "JJ"], ["client", "NN"], ["that", "WDT"], ["will", "MD"], ["help", "VB"], ["explain", "VB"], ["the", "DT"], ["idea", "NN"], [".", "."], ["So", "RB"], ["our", "PRP$"], [",", ","], ["our", "PRP$"], ["challenge", "NN"], ["is", "VBZ"], ["let", "VBN"], ["'s", "POS"], ["say", "VB"], ["this", "DT"], ["is", "VBZ"], ["on", "IN"], ["the", "DT"], ["web", "NN"], ["we", "PRP"], ["have", "VBP"], ["billions", "NNS"], ["of", "IN"], ["transactions", "NNS"], [",", ","], ["you", "PRP"], ["know", "VBP"], [",", ","], ["and", "CC"], ["they", "PRP"], ["are", "VBP"], ["streaming", "VBG"], ["through", "IN"], ["our", "PRP$"], ["data", "NNS"], ["warehouse", "NN"], ["or", "CC"], ["processor", "NN"], ["in", "IN"], ["some", "DT"], ["way", "NN"], [".", "."], ["And", "CC"], ["just", "RB"], ["a", "DT"], ["very", "RB"], [",", ","], ["very", "RB"], ["huge", "JJ"], ["number", "NN"], ["of", "IN"], ["transactions", "NNS"], [".", "."], ["In", "IN"], ["fact", "NN"], [",", ","], ["we", "PRP"], ["could", "MD"], ["n't", "RB"], ["possibly", "RB"], ["hope", "VB"], ["to", "TO"], ["even", "RB"], ["store", "VB"], ["them", "PRP"], ["all", "DT"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["trillions", "NNS"], ["of", "IN"], ["them", "PRP"], ["there", "EX"], ["coming", "VBG"], ["through", "IN"], ["as", "RB"], ["fast", "RB"], ["as", "IN"], ["possible", "JJ"], [".", "."], ["But", "CC"], ["we", "PRP"], ["'re", "VBP"], ["interested", "JJ"], ["in", "IN"], ["the", "DT"], ["biggest", "JJS"], ["ones", "NNS"], ["and", "CC"], ["so", "RB"], ["maybe", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["the", "DT"], ["biggest", "JJS"], ["amount", "NN"], ["of", "IN"], ["dollars", "NNS"], [",", ","], ["or", "CC"], ["the", "DT"], ["biggest", "JJS"], ["cost", "NN"], [",", ","], ["or", "CC"], ["whatever", "VB"], ["it", "PRP"], ["might", "MD"], ["happen", "VB"], ["to", "TO"], ["be", "VB"], [".", "."], ["And", "CC"], ["so", "IN"], ["we", "PRP"], ["can", "MD"], ["pick", "VB"], ["some", "DT"], ["numbers", "NNS"], ["that", "IN"], ["we", "PRP"], ["can", "MD"], ["store", "VB"], [".", "."], ["I", "PRP"], ["would", "MD"], ["like", "VB"], ["to", "TO"], [",", ","], ["to", "TO"], ["store", "VB"], ["the", "DT"], [",", ","], ["the", "DT"], ["thousand", "CD"], ["biggest", "JJS"], ["ones", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["you", "PRP"], ["can", "MD"], ["imagine", "VB"], ["a", "DT"], ["credit", "NN"], ["card", "NN"], ["company", "NN"], ["looking", "VBG"], ["for", "IN"], ["fraud", "NN"], ["-", ":"], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["care", "VB"], ["about", "IN"], ["keeping", "VBG"], ["track", "NN"], ["of", "IN"], ["the", "DT"], ["largest", "JJS"], ["transactions", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["maybe", "RB"], ["we", "PRP"], ["can", "MD"], ["store", "VB"], ["millions", "NNS"], ["or", "CC"], ["thousands", "NNS"], ["of", "IN"], ["them", "PRP"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["our", "PRP$"], ["parameter", "NN"], ["M", "NNP"], ["-", ":"], ["that", "WDT"], ["'s", "VBZ"], ["the", "DT"], ["number", "NN"], ["we", "PRP"], ["can", "MD"], ["afford", "VB"], ["to", "TO"], ["store", "VB"], ["but", "CC"], ["the", "DT"], ["total", "JJ"], ["number", "NN"], ["of", "IN"], ["items", "NNS"], ["we", "PRP"], ["could", "MD"], ["n't", "RB"], ["possibly", "RB"], ["afford", "VB"], ["to", "TO"], ["store", "VB"], ["them", "PRP"], [".", "."], ["So", "RB"], ["and", "CC"], ["this", "DT"], ["is", "VBZ"], ["just", "RB"], ["some", "DT"], ["test", "NN"], ["data", "NNS"], ["where", "WRB"], ["we", "PRP"], ["'ve", "VBP"], ["got", "VBN"], ["all", "DT"], [",", ","], ["all", "PDT"], ["these", "DT"], ["transactions", "NNS"], ["and", "CC"], ["so", "RB"], ["we", "PRP"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["take", "VB"], ["in", "IN"], ["data", "NNS"], ["like", "IN"], ["this", "DT"], ["and", "CC"], ["again", "RB"], ["an", "DT"], ["unbounded", "JJ"], ["stream", "NN"], ["of", "IN"], ["data", "NNS"], [".", "."], ["But", "CC"], ["let", "NN"], ["'s", "POS"], ["say", "VB"], [",", ","], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["keep", "VB"], ["track", "NN"], ["of", "IN"], ["the", "DT"], ["top", "JJ"], ["five", "CD"], ["[", "JJ"], ["cough", "NN"], ["]", "NN"], ["values", "NNS"], ["using", "VBG"], ["the", "DT"], ["third", "JJ"], ["column", "NN"], ["as", "IN"], ["the", "DT"], ["value", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["a", "DT"], ["client", "NN"], ["program", "NN"], ["called", "VBN"], ["TopM", "NNP"], ["that", "WDT"], ["takes", "VBZ"], ["the", "DT"], ["command-line", "JJ"], ["argument", "NN"], [",", ","], ["how", "WRB"], ["many", "JJ"], ["and", "CC"], ["this", "DT"], ["case", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["say", "VB"], ["five", "CD"], ["and", "CC"], ["then", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["take", "VB"], ["from", "IN"], ["standard", "JJ"], ["input", "NN"], ["the", "DT"], ["transactions", "NNS"], ["and", "CC"], ["it", "PRP"], ["will", "MD"], ["print", "VB"], ["out", "RP"], ["the", "DT"], ["top", "JJ"], ["five", "CD"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["canonical", "JJ"], ["example", "NN"], ["of", "IN"], ["a", "DT"], [",", ","], ["a", "DT"], ["priority", "NN"], ["queue", "NN"], ["client", "NN"], ["that", "IN"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["design", "VB"], ["a", "DT"], ["program", "NN"], ["that", "WDT"], ["can", "MD"], ["do", "VB"], ["that", "DT"], [".", "."], ["So", "RB"], [",", ","], ["with", "IN"], ["the", "DT"], ["priority", "NN"], ["queue", "NN"], ["abstraction", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["not", "RB"], ["too", "RB"], ["difficult", "JJ"], ["to", "TO"], ["do", "VB"], [".", "."], ["So", "IN"], ["we", "PRP"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["use", "VB"], ["a", "DT"], ["min-oriented", "JJ"], ["priority", "NN"], ["queue", "NN"], ["so", "IN"], ["that", "DT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["keep", "VB"], [",", ","], ["it", "PRP"], ["'ll", "MD"], ["[", "VB"], ["cough", "NN"], ["]", "IN"], ["it", "PRP"], ["'ll", "MD"], ["be", "VB"], ["one", "CD"], ["where", "WRB"], ["we", "PRP"], ["can", "MD"], ["delete", "VB"], ["the", "DT"], ["minimum", "NN"], ["and", "CC"], [",", ","], ["and", "CC"], ["it", "PRP"], ["'ll", "MD"], ["be", "VB"], ["generic", "JJ"], ["so", "IN"], ["we", "PRP"], ["'ll", "MD"], ["have", "VB"], ["a", "DT"], ["transaction", "NN"], ["type", "NN"], ["that", "WDT"], ["holds", "VBZ"], ["this", "DT"], ["information", "NN"], ["including", "VBG"], ["natural", "JJ"], ["ordering", "NN"], ["where", "WRB"], ["it", "PRP"], ["'s", "VBZ"], ["ordered", "VBN"], ["by", "IN"], ["dollars", "NNS"], ["that", "IN"], ["last", "JJ"], ["column", "NN"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["build", "VB"], ["a", "DT"], ["new", "JJ"], ["priority", "NN"], ["queue", "NN"], [",", ","], ["min", "NN"], ["priority", "NN"], ["queue", "NN"], ["or", "CC"], ["we", "PRP"], ["'ll", "MD"], ["have", "VB"], ["the", "DT"], ["capability", "NN"], ["to", "TO"], ["delete", "VB"], ["the", "DT"], ["minimum", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["read", "VBP"], ["from", "IN"], ["standard", "JJ"], ["input", "NN"], [".", "."], ["We", "PRP"], ["read", "VBD"], ["the", "DT"], ["line", "NN"], [",", ","], ["build", "VB"], ["the", "DT"], ["transaction", "NN"], ["from", "IN"], ["the", "DT"], ["information", "NN"], ["on", "IN"], ["that", "DT"], ["line", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["will", "MD"], ["fill", "VB"], ["in", "IN"], ["the", "DT"], ["fields", "NNS"], ["and", "CC"], ["then", "RB"], [",", ","], ["we", "PRP"], ["put", "VBD"], ["that", "DT"], ["transaction", "NN"], ["on", "IN"], ["the", "DT"], ["priority", "NN"], ["queue", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["if", "IN"], ["the", "DT"], ["priority", "NN"], ["queue", "NN"], ["has", "VBZ"], ["more", "JJR"], ["than", "IN"], ["M", "NNP"], ["items", "NNS"], ["because", "IN"], ["we", "PRP"], ["inserted", "VBD"], ["that", "IN"], ["one", "CD"], [",", ","], ["then", "RB"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["delete", "VB"], ["the", "DT"], ["smallest", "JJS"], ["one", "CD"], ["there", "EX"], ["and", "CC"], ["that", "DT"], ["way", "NN"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["keeping", "VBG"], ["track", "NN"], ["of", "IN"], ["the", "DT"], ["largest", "JJS"], ["M.", "NNP"], ["Whenever", "NNP"], ["we", "PRP"], ["get", "VBP"], ["a", "DT"], ["new", "JJ"], ["one", "CD"], [",", ","], ["then", "RB"], ["we", "PRP"], ["throw", "VBP"], ["away", "RB"], ["the", "DT"], ["smallest", "JJS"], ["one", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["there", "RB"], [".", "."], ["So", "NNP"], [",", ","], ["even", "RB"], ["with", "IN"], ["this", "DT"], ["huge", "JJ"], ["stream", "NN"], ["of", "IN"], ["items", "NNS"], ["coming", "VBG"], ["through", "IN"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["only", "RB"], ["keeping", "VBG"], ["track", "NN"], ["of", "IN"], ["the", "DT"], ["M", "NNP"], ["largest", "JJS"], ["items", "NNS"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["fine", "JJ"], ["canonical", "JJ"], ["client", "NN"], ["for", "IN"], ["priority", "NN"], ["queue", "NN"], [".", "."], ["Now", "RB"], ["how", "WRB"], ["we", "PRP"], ["are", "VBP"], ["going", "VBG"], ["implement", "NN"], ["or", "CC"], ["solve", "VB"], ["this", "DT"], ["problem", "NN"], ["or", "CC"], ["you", "PRP"], ["can", "MD"], ["think", "VB"], ["of", "IN"], ["lots", "NNS"], ["of", "IN"], ["ways", "NNS"], ["to", "TO"], ["go", "VB"], ["ahead", "RB"], ["and", "CC"], ["solve", "VB"], ["this", "DT"], ["problem", "NN"], ["of", "IN"], ["finding", "VBG"], ["the", "DT"], ["largest", "JJS"], ["M", "JJ"], ["items", "NNS"], ["in", "IN"], ["the", "DT"], ["stream", "NN"], ["of", "IN"], ["N", "NNP"], ["items", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["for", "IN"], ["example", "NN"], [",", ","], ["you", "PRP"], ["could", "MD"], ["sort", "VB"], ["them", "PRP"], [".", "."], ["And", "CC"], ["then", "RB"], ["just", "RB"], ["look", "NN"], ["at", "IN"], ["the", "DT"], ["M", "NNP"], ["at", "IN"], ["the", "DT"], ["end", "NN"], ["but", "CC"], ["by", "IN"], ["sending", "VBG"], ["up", "RP"], ["the", "DT"], ["problem", "NN"], [",", ","], ["I", "PRP"], ["already", "RB"], ["kind", "NN"], ["of", "IN"], ["ruled", "VBD"], ["that", "IN"], ["one", "CD"], ["out", "RB"], ["because", "IN"], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["have", "VB"], ["the", "DT"], ["space", "NN"], ["to", "TO"], ["sort", "VB"], ["them", "PRP"], ["all", "DT"], [",", ","], ["to", "TO"], ["store", "VB"], ["them", "PRP"], ["all", "DT"], [".", "."], ["So", "IN"], ["sorting", "VBG"], ["is", "VBZ"], ["out", "IN"], ["of", "IN"], ["the", "DT"], ["question", "NN"], [".", "."], ["We", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["couple", "NN"], ["of", "IN"], ["elementary", "JJ"], ["priority", "NN"], ["queue", "NN"], ["implementations", "NNS"], ["that", "WDT"], ["are", "VBP"], ["straightforward", "RB"], [".", "."], ["You", "PRP"], ["know", "VBP"], [",", ","], ["keep", "VB"], ["the", "DT"], ["items", "NNS"], ["like", "IN"], ["we", "PRP"], ["would", "MD"], ["in", "IN"], ["the", "DT"], ["stack", "NN"], ["and", "CC"], ["then", "RB"], ["when", "WRB"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["find", "VB"], ["the", "DT"], ["smallest", "JJS"], ["or", "CC"], ["the", "DT"], ["largest", "JJS"], ["look", "NN"], ["at", "IN"], [",", ","], ["look", "VBP"], ["at", "IN"], ["them", "PRP"], ["all", "DT"], [".", "."], ["But", "CC"], ["that", "DT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["too", "RB"], ["slow", "JJ"], [".", "."], ["M", "NNP"], ["is", "VBZ"], ["large", "JJ"], ["and", "CC"], ["N", "NNP"], ["is", "VBZ"], ["huge", "JJ"], [",", ","], ["and", "CC"], ["M", "NNP"], ["<", "NNP"], ["i", "NN"], [">", "NNP"], ["N", "NNP"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["too", "RB"], ["slow", "JJ"], [".", "."], ["What", "WP"], ["would", "MD"], ["what", "WP"], ["we", "PRP"], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["is", "VBZ"], ["<", "JJ"], ["/i", "NNP"], [">", "NNP"], ["very", "RB"], ["simple", "JJ"], ["and", "CC"], ["practical", "JJ"], ["implementation", "NN"], ["using", "VBG"], ["a", "DT"], ["data", "NN"], ["structure", "NN"], ["called", "VBD"], ["the", "DT"], ["binary", "JJ"], ["heap", "NN"], ["that", "WDT"], ["gets", "VBZ"], ["the", "DT"], ["job", "NN"], ["done", "VBN"], ["in", "IN"], ["time", "NN"], ["proportional", "JJ"], ["to", "TO"], ["N", "NNP"], ["log", "NN"], ["M", "NNP"], ["and", "CC"], ["only", "RB"], ["M", "NNP"], ["space", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["pretty", "RB"], ["close", "JJ"], ["to", "TO"], ["the", "DT"], ["best", "JJS"], ["that", "IN"], ["we", "PRP"], ["could", "MD"], ["do", "VB"], ["in", "IN"], ["theory", "NN"], ["and", "CC"], ["is", "VBZ"], ["very", "RB"], ["important", "JJ"], ["and", "CC"], ["useful", "JJ"], [",", ","], ["practical", "JJ"], ["implementation", "NN"], ["and", "CC"], ["data", "NN"], ["structure", "NN"], [".", "."], ["Alright", "NNP"], [".", "."], ["So", "NNP"], ["here", "RB"], ["'s", "VBZ"], ["just", "RB"], ["an", "DT"], ["overview", "NN"], ["of", "IN"], ["two", "CD"], ["elementary", "JJ"], ["implementations", "NNS"], ["for", "IN"], ["priority", "NN"], ["queues", "NNS"], ["using", "VBG"], ["the", "DT"], ["example", "NN"], ["operations", "NNS"], ["that", "IN"], ["I", "PRP"], ["gave", "VBD"], ["before", "RB"], [".", "."], ["So", "IN"], ["you", "PRP"], ["can", "MD"], ["imagine", "VB"], ["keeping", "VBG"], ["the", "DT"], ["item", "NN"], [",", ","], ["say", "VBP"], [",", ","], ["in", "IN"], ["a", "DT"], ["linked", "JJ"], ["list", "NN"], ["or", "CC"], ["in", "IN"], ["a", "DT"], ["doubling", "JJ"], ["array", "NN"], ["and", "CC"], ["just", "RB"], ["keeping", "VBG"], ["just", "RB"], ["an", "DT"], ["order", "NN"], ["just", "RB"], ["as", "IN"], ["we", "PRP"], ["would", "MD"], ["in", "IN"], ["the", "DT"], [",", ","], ["in", "IN"], ["the", "DT"], ["stack", "NN"], ["just", "RB"], ["keeping", "VBG"], ["in", "IN"], ["the", "DT"], ["way", "NN"], ["that", "IN"], ["they", "PRP"], ["come", "VBP"], ["in", "IN"], [".", "."], ["And", "CC"], ["we", "PRP"], ["'ll", "MD"], ["put", "VB"], ["a", "DT"], ["new", "JJ"], ["item", "NN"], ["at", "IN"], ["the", "DT"], ["end", "NN"], ["of", "IN"], ["the", "DT"], ["array", "NN"], ["and", "CC"], ["remove", "VB"], ["it", "PRP"], ["from", "IN"], ["the", "DT"], ["end", "NN"], ["of", "IN"], ["the", "DT"], ["array", "NN"], [".", "."], ["Or", "CC"], ["you", "PRP"], ["could", "MD"], ["do", "VB"], ["it", "PRP"], ["in", "IN"], ["a", "DT"], ["linked", "JJ"], ["list", "NN"], [",", ","], ["and", "CC"], ["then", "RB"], ["when", "WRB"], ["it", "PRP"], ["'s", "VBZ"], ["time", "NN"], ["to", "TO"], ["find", "VB"], ["the", "DT"], [",", ","], ["remove", "VB"], ["the", "DT"], ["maximum", "NN"], [",", ","], ["you", "PRP"], ["have", "VBP"], ["to", "TO"], ["scan", "VB"], ["through", "IN"], ["everything", "NN"], ["to", "TO"], ["find", "VB"], ["the", "DT"], ["maximum", "NN"], [".", "."], ["So", "RB"], [",", ","], ["so", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["one", "CD"], ["way", "NN"], ["you", "PRP"], ["could", "MD"], ["implement", "VB"], ["this", "DT"], ["with", "IN"], [",", ","], ["with", "IN"], ["a", "DT"], ["linked", "VBN"], ["list", "NN"], ["or", "CC"], ["with", "IN"], ["the", "DT"], ["resizing", "VBG"], ["array", "NN"], [".", "."], ["Or", "CC"], ["you", "PRP"], ["might", "MD"], ["to", "TO"], ["say", "VB"], ["well", "RB"], ["let", "NN"], ["'s", "POS"], ["try", "VB"], ["to", "TO"], ["keep", "VB"], ["things", "NNS"], ["in", "IN"], ["order", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["that", "WDT"], ["might", "MD"], ["involve", "VB"], ["some", "DT"], ["work", "NN"], ["with", "IN"], ["the", "DT"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["like", "IN"], ["insertion", "NN"], ["sort", "NN"], [",", ","], ["you", "PRP"], ["find", "VBP"], ["a", "DT"], ["place", "NN"], ["to", "TO"], ["put", "VB"], ["the", "DT"], ["new", "JJ"], ["item", "NN"], ["and", "CC"], ["then", "RB"], ["put", "VBD"], ["it", "PRP"], ["in", "IN"], ["the", "DT"], ["right", "JJ"], ["place", "NN"], [".", "."], ["And", "CC"], ["again", "RB"], [",", ","], ["you", "PRP"], ["could", "MD"], ["do", "VB"], ["this", "DT"], ["with", "IN"], ["a", "DT"], ["linked", "VBN"], ["list", "NN"], ["or", "CC"], ["with", "IN"], ["the", "DT"], ["resizing", "VBG"], ["array", "NN"], ["but", "CC"], ["then", "RB"], [",", ","], ["with", "IN"], ["array", "NN"], [",", ","], ["you", "PRP"], ["'d", "MD"], ["have", "VB"], ["to", "TO"], ["move", "VB"], ["all", "PDT"], ["the", "DT"], ["larger", "JJR"], ["ones", "NNS"], ["over", "IN"], ["one", "CD"], ["position", "NN"], ["to", "TO"], ["fit", "VB"], ["the", "DT"], ["new", "JJ"], ["item", "NN"], ["in", "IN"], [".", "."], ["When", "WRB"], ["we", "PRP"], ["insert", "VBP"], ["E", "NNP"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["supposed", "VBN"], ["to", "TO"], ["keep", "VB"], ["them", "PRP"], ["in", "IN"], ["order", "NN"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["move", "VB"], ["over", "IN"], ["L", "NNP"], [",", ","], ["M", "NNP"], [",", ","], ["P", "NNP"], [",", ","], ["and", "CC"], ["P", "NNP"], ["to", "TO"], ["get", "VB"], ["the", "DT"], ["E", "NNP"], ["and", "CC"], ["then", "RB"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["But", "CC"], ["the", "DT"], ["advantage", "NN"], ["of", "IN"], ["that", "DT"], ["might", "MD"], ["be", "VB"], ["that", "IN"], ["removing", "VBG"], ["the", "DT"], ["maximum", "NN"], ["is", "VBZ"], ["easy", "JJ"], [".", "."], ["We", "PRP"], ["just", "RB"], ["take", "VB"], ["away", "RP"], ["the", "DT"], ["one", "NN"], ["at", "IN"], ["the", "DT"], ["end", "NN"], [".", "."], ["To", "TO"], ["remove", "VB"], ["the", "DT"], ["Q", "NNP"], ["-", ":"], ["we", "PRP"], ["know", "VBP"], ["it", "PRP"], ["'s", "VBZ"], ["at", "IN"], ["the", "DT"], ["end", "NN"], ["to", "TO"], ["remove", "VB"], ["the", "DT"], ["max", "NN"], [".", "."], ["At", "IN"], ["this", "DT"], ["point", "NN"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["X", "JJR"], ["-", ":"], ["it", "PRP"], ["'s", "VBZ"], ["right", "JJ"], ["at", "IN"], ["the", "DT"], ["end", "NN"], [",", ","], ["and", "CC"], ["P", "NNP"], ["is", "VBZ"], ["right", "JJ"], ["at", "IN"], ["the", "DT"], ["end", "NN"], [".", "."], ["So", "IN"], ["you", "PRP"], ["can", "MD"], ["imagine", "VB"], ["the", "DT"], ["implementations", "NNS"], ["of", "IN"], ["priority", "NN"], ["queues", "NNS"], ["using", "VBG"], ["these", "DT"], ["two", "CD"], ["basic", "JJ"], ["strategies", "NNS"], [".", "."], ["Not", "RB"], ["much", "JJ"], ["code", "NN"], ["involved", "VBN"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["a", "DT"], ["an", "DT"], ["ordered", "JJ"], ["array", "NN"], ["implementation", "NN"], ["of", "IN"], ["priority", "NN"], ["queues", "NNS"], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["quite", "RB"], ["straight", "JJ"], ["forward", "RB"], [".", "."], ["We", "PRP"], ["did", "VBD"], ["n't", "RB"], ["put", "VB"], ["in", "IN"], ["the", "DT"], ["this", "DT"], ["is", "VBZ"], ["the", "DT"], ["cheat", "NN"], ["version", "NN"], ["where", "WRB"], ["we", "PRP"], ["require", "VBP"], ["the", "DT"], ["client", "NN"], ["to", "TO"], ["provide", "VB"], ["a", "DT"], ["capacity", "NN"], ["but", "CC"], ["we", "PRP"], ["could", "MD"], ["easily", "RB"], ["change", "VB"], ["this", "DT"], ["to", "TO"], ["a", "DT"], ["resizing", "JJ"], ["array", "NN"], [".", "."], ["So", "RB"], ["insert", "JJ"], ["(", "("], [")", ")"], ["just", "RB"], ["puts", "VBZ"], ["it", "PRP"], ["at", "IN"], ["the", "DT"], ["end", "NN"], [",", ","], ["and", "CC"], ["since", "IN"], ["its", "PRP$"], ["unordered", "JJ"], ["delete", "JJ"], ["maximum", "NN"], ["has", "VBZ"], ["to", "TO"], ["go", "VB"], ["through", "IN"], ["the", "DT"], ["entire", "JJ"], ["array", "NN"], ["to", "TO"], ["try", "VB"], ["to", "TO"], ["find", "VB"], ["the", "DT"], ["maximum", "NN"], ["when", "WRB"], ["it", "PRP"], ["refines", "VBZ"], ["it", "PRP"], ["and", "CC"], ["the", "DT"], ["changes", "NNS"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["the", "DT"], ["one", "NN"], ["at", "IN"], ["the", "DT"], ["end", "NN"], ["and", "CC"], ["then", "RB"], ["removes", "VBZ"], ["it", "PRP"], ["the", "DT"], ["same", "JJ"], ["way", "NN"], ["that", "IN"], ["we", "PRP"], ["do", "VBP"], ["within", "IN"], ["the", "DT"], ["stack", "NN"], [".", "."], ["It", "PRP"], ["'ll", "MD"], ["use", "VB"], ["less", "JJR"], ["and", "CC"], ["exchange", "NN"], ["just", "RB"], ["like", "IN"], ["we", "PRP"], ["would", "MD"], ["in", "IN"], ["sorting", "VBG"], ["methods", "NNS"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["fine", "JJ"], ["implementation", "NN"], ["if", "IN"], ["the", "DT"], ["priority", "NN"], ["queue", "NN"], ["was", "VBD"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["tiny", "JJ"], ["all", "PDT"], ["the", "DT"], ["time", "NN"], [".", "."], ["So", "RB"], ["if", "IN"], ["you", "PRP"], [",", ","], ["without", "IN"], ["even", "RB"], ["implementing", "VBG"], ["it", "PRP"], [",", ","], ["you", "PRP"], ["can", "MD"], ["understand", "VB"], ["this", "DT"], ["table", "NN"], ["that", "IN"], ["if", "IN"], ["we", "PRP"], ["use", "VBP"], ["an", "DT"], ["unordered", "JJ"], ["array", "NN"], ["implementation", "NN"], ["we", "PRP"], ["can", "MD"], ["get", "VB"], ["insertion", "NN"], ["done", "VBN"], ["in", "IN"], ["constant", "JJ"], ["time", "NN"], ["but", "CC"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["everything", "NN"], ["to", "TO"], ["delete", "VB"], ["the", "DT"], ["maximum", "NN"], ["or", "CC"], ["even", "RB"], ["find", "VB"], ["the", "DT"], ["maximum", "NN"], [".", "."], ["If", "IN"], ["we", "PRP"], ["keep", "VBP"], ["it", "PRP"], ["in", "IN"], ["order", "NN"], [",", ","], ["we", "PRP"], ["can", "MD"], ["find", "VB"], ["the", "DT"], ["maximum", "NN"], ["or", "CC"], ["delete", "VB"], ["it", "PRP"], ["at", "IN"], ["constant", "JJ"], ["time", "NN"], ["but", "CC"], ["it", "PRP"], ["takes", "VBZ"], ["us", "PRP"], ["linear", "JJ"], ["time", "NN"], ["to", "TO"], ["insert", "VB"], [".", "."], ["And", "CC"], ["since", "IN"], ["as", "IN"], ["with", "IN"], ["stack", "NN"], ["and", "CC"], ["queue", "JJ"], ["operations", "NNS"], [",", ","], ["these", "DT"], ["insert", "NNS"], ["and", "CC"], ["deletes", "NNS"], ["might", "MD"], ["be", "VB"], ["intermixed", "VBN"], ["in", "IN"], ["arbitrary", "JJ"], ["ways", "NNS"], ["and", "CC"], ["there", "EX"], ["might", "MD"], ["be", "VB"], ["huge", "JJ"], ["numbers", "NNS"], ["of", "IN"], ["them", "PRP"], ["either", "DT"], ["one", "CD"], ["of", "IN"], ["these", "DT"], ["is", "VBZ"], ["very", "RB"], ["attractive", "JJ"], ["because", "IN"], ["they", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["take", "VB"], ["N", "NNP"], ["times", "VBZ"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["operations", "NNS"], [".", "."], ["Whereas", "IN"], ["what", "WP"], ["we", "PRP"], ["can", "MD"], ["hope", "VB"], ["for", "IN"], ["and", "CC"], ["what", "WP"], ["we", "PRP"], ["actually", "RB"], ["will", "MD"], ["achieve", "VB"], ["is", "VBZ"], ["to", "TO"], ["get", "VB"], ["log", "JJ"], ["N", "NNP"], ["time", "NN"], ["for", "IN"], ["all", "DT"], ["operations", "NNS"], [",", ","], ["time", "NN"], ["proportion", "NN"], ["to", "TO"], ["log", "VB"], ["N", "NNP"], ["for", "IN"], ["all", "DT"], ["operations", "NNS"], [".", "."], ["With", "IN"], ["the", "DT"], ["clever", "NN"], ["data", "NNS"], ["structure", "NN"], ["and", "CC"], ["interesting", "JJ"], ["implementation", "NN"], ["we", "PRP"], ["can", "MD"], ["actually", "RB"], ["achieve", "VB"], ["that", "DT"], ["goal", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["the", "DT"], ["basic", "JJ"], ["API", "NNP"], ["and", "CC"], ["some", "DT"], ["elementary", "JJ"], ["implementations", "NNS"], ["for", "IN"], ["priority", "NN"], ["queues", "NNS"], [".", "."]], "title": "apis and elementary implementations", "text": "Welcome back. Today, we're going to look at Priority Queues which is a variant of sorting that generalizes the idea to provide more flexible data structure that we can use for all sorts of applications. To get started, we'll look at the API and some elementary implementations. So at a week or so ago, we looked at collections in Java and the idea of elementary data structures where we insert and delete items. And then, the data structures differ on the basis of which item we choose to delete. We looked to the push down stack where we removed the item that was most recently added, And the queue where we remove the item that was least recently added. And then, we talked about randomized queue or bag where we might remove a random or an arbitrary item. Today, what we're going to talk about is called the priority queue and for that, we insert items, but when it's time to remove, we consider the items to have a total order and we want to remove the largest or the smallest item. So this little example if we insert P, Q, and E then when we do remove max, we want to get the Q out and for later, we insert X, A, and M and then we removed max. The largest one in there is X. We'll insert P, L, and E and then, after a while, we remove max P. So, that's our basic setup. That's our definition of what a priority queue is. So, the API will look very similar to our stack or queue API with a difference that we want to have generic items that are comparable. So the Java language for that is in the class header. We say that our generic type Key extends Comparable of Key. And that just means that our keys must be Comparable and we must have a compareTo() method that will compare it to another key. Otherwise we have a constructor and actually for some applications, it's convenient to have a constructor that takes an array of keys as argument. Then, an insert() that puts something in like push in a stack or enqueue in a queue. Then delete the maximum. I referred to delete the minimum just to avoid confusion, we have the implementation separate implementation usually MinPQ, where we delete the minimum. Then test isEmpty() and we also sometimes have extra method that just gives us the value of the largest key and also size which is useful sometimes in collections. You might also want it to be iterable but we'll skip that for now. There are lots and lots of applications of priority queues. Even though it emerged as a data structure relatively late in the game now that we see that there are many algorithms that are much easier to implement when we think about the priority key abstraction. We have data that we are processing we can't process it all at once. We have to save it some of way. And then, what the priority queue tells us is - let's organize it in some ways that we are always taking the best one to process next. And it turns out to be very close to a generic algorithmic design technique that we will be looking at in many, many different applications. Today, we're going to talk about event-driven simulation which is an interesting idea that is based on priority queues but it's also used in numerical computation and we'll see in algorithms for data compression and graph searching that it's useful. And in many other applications in Computer Science and in scientific computing. It generalizes the stack and the queue and gives us a data structure that we can use to effectively design algorithm of all sorts. So here's just a particular client that will help explain the idea. So our, our challenge is let's say this is on the web we have billions of transactions, you know, and they are streaming through our data warehouse or processor in some way. And just a very, very huge number of transactions. In fact, we couldn't possibly hope to even store them all. There's trillions of them there coming through as fast as possible. But we're interested in the biggest ones and so maybe it's the biggest amount of dollars, or the biggest cost, or whatever it might happen to be. And so we can pick some numbers that we can store. I would like to, to store the, the thousand biggest ones. So, you can imagine a credit card company looking for fraud - it's going to care about keeping track of the largest transactions. So, maybe we can store millions or thousands of them. So that's our parameter M - that's the number we can afford to store but the total number of items we couldn't possibly afford to store them. So and this is just some test data where we've got all, all these transactions and so we are going to be able to take in data like this and again an unbounded stream of data. But let's say, we want to keep track of the top five [cough] values using the third column as the value. So we're going to look at a client program called TopM that takes the command-line argument, how many and this case, it's going to say five and then it's going to take from standard input the transactions and it will print out the top five. So, that's a canonical example of a, a priority queue client that we need to design a program that can do that. So, with the priority queue abstraction that's not too difficult to do. So we are going to use a min-oriented priority queue so that's going to keep, it'll [cough] it'll be one where we can delete the minimum and, and it'll be generic so we'll have a transaction type that holds this information including natural ordering where it's ordered by dollars that last column. So, we'll build a new priority queue, min priority queue or we'll have the capability to delete the minimum. And then we read from standard input. We read the line, build the transaction from the information on that line. And that will fill in the fields and then, we put that transaction on the priority queue. Now, if the priority queue has more than M items because we inserted that one, then we want to delete the smallest one there and that way, we're keeping track of the largest M. Whenever we get a new one, then we throw away the smallest one that's there. So, even with this huge stream of items coming through, we're only keeping track of the M largest items and that's a fine canonical client for priority queue. Now how we are going implement or solve this problem or you can think of lots of ways to go ahead and solve this problem of finding the largest M items in the stream of N items. So, for example, you could sort them. And then just look at the M at the end but by sending up the problem, I already kind of ruled that one out because we don't have the space to sort them all, to store them all. So sorting is out of the question. We'll look at couple of elementary priority queue implementations that are straightforward. You know, keep the items like we would in the stack and then when we need to find the smallest or the largest look at, look at them all. But that's going to be too slow. M is large and N is huge, and M<i>N is going to be too slow. What would what we we'll look at is</i> very simple and practical implementation using a data structure called the binary heap that gets the job done in time proportional to N log M and only M space. And that's pretty close to the best that we could do in theory and is very important and useful, practical implementation and data structure. Alright. So here's just an overview of two elementary implementations for priority queues using the example operations that I gave before. So you can imagine keeping the item, say, in a linked list or in a doubling array and just keeping just an order just as we would in the, in the stack just keeping in the way that they come in. And we'll put a new item at the end of the array and remove it from the end of the array. Or you could do it in a linked list, and then when it's time to find the, remove the maximum, you have to scan through everything to find the maximum. So, so, that's a one way you could implement this with, with a linked list or with the resizing array. Or you might to say well let's try to keep things in order. And then that might involve some work with the, it's like insertion sort, you find a place to put the new item and then put it in the right place. And again, you could do this with a linked list or with the resizing array but then, with array, you'd have to move all the larger ones over one position to fit the new item in. When we insert E and that's supposed to keep them in order, we have to move over L, M, P, and P to get the E and then so forth. But the advantage of that might be that removing the maximum is easy. We just take away the one at the end. To remove the Q - we know it's at the end to remove the max. At this point, that's X - it's right at the end, and P is right at the end. So you can imagine the implementations of priority queues using these two basic strategies. Not much code involved. This is a an ordered array implementation of priority queues and it's quite straight forward. We didn't put in the this is the cheat version where we require the client to provide a capacity but we could easily change this to a resizing array. So insert() just puts it at the end, and since its unordered delete maximum has to go through the entire array to try to find the maximum when it refines it and the changes that we're the one at the end and then removes it the same way that we do within the stack. It'll use less and exchange just like we would in sorting methods. So that's a fine implementation if the priority queue was going to be tiny all the time. So if you, without even implementing it, you can understand this table that if we use an unordered array implementation we can get insertion done in constant time but we have to look at everything to delete the maximum or even find the maximum. If we keep it in order, we can find the maximum or delete it at constant time but it takes us linear time to insert. And since as with stack and queue operations, these insert and deletes might be intermixed in arbitrary ways and there might be huge numbers of them either one of these is very attractive because they're going to take N times the number of operations. Whereas what we can hope for and what we actually will achieve is to get log N time for all operations, time proportion to log N for all operations. With the clever data structure and interesting implementation we can actually achieve that goal. That's the basic API and some elementary implementations for priority queues. ", "video_ID": 34, "course_id": 3}
{"category": ["priority queues"], "tagged": [["Now", "RB"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["binary", "JJ"], ["heaps", "NNS"], ["which", "WDT"], ["is", "VBZ"], ["an", "DT"], ["ingenious", "JJ"], ["and", "CC"], ["very", "RB"], ["simple", "JJ"], ["data", "NNS"], ["structure", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["help", "VB"], ["us", "PRP"], ["implement", "VB"], ["all", "PDT"], ["the", "DT"], ["priority", "NN"], ["queue", "NN"], ["operations", "NNS"], ["quickly", "RB"], [".", "."], ["So", "RB"], [",", ","], ["the", "DT"], ["idea", "NN"], ["of", "IN"], ["a", "DT"], ["binary", "JJ"], ["heap", "NN"], ["is", "VBZ"], ["based", "VBN"], ["on", "IN"], ["the", "DT"], ["idea", "NN"], ["of", "IN"], ["a", "DT"], ["complete", "JJ"], ["binary", "JJ"], ["tree", "NN"], [".", "."], ["So", "RB"], [",", ","], ["a", "DT"], ["complete", "JJ"], ["binary", "JJ"], ["tree", "NN"], [",", ","], ["well", "RB"], ["first", "RB"], ["of", "IN"], ["all", "DT"], [",", ","], ["a", "DT"], ["binary", "JJ"], ["tree", "NN"], ["is", "VBZ"], ["either", "DT"], ["empty", "JJ"], ["or", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["node", "NN"], ["with", "IN"], ["links", "NNS"], ["to", "TO"], ["left", "NNS"], ["and", "CC"], ["right", "JJ"], ["binary", "NN"], ["trees", "NNS"], ["so", "IN"], ["that", "DT"], ["'s", "VBZ"], ["an", "DT"], ["example", "NN"], ["of", "IN"], ["a", "DT"], ["binary", "JJ"], ["tree", "NN"], [".", "."], ["A", "DT"], ["complete", "JJ"], ["binary", "JJ"], ["tree", "NN"], ["is", "VBZ"], ["one", "CD"], ["that", "WDT"], ["'s", "VBZ"], ["perfectly", "RB"], ["balanced", "VBN"], [",", ","], ["except", "IN"], ["possibly", "RB"], ["for", "IN"], ["the", "DT"], ["bottom", "JJ"], ["level", "NN"], [".", "."], ["So", "RB"], ["there", "EX"], ["might", "MD"], ["be", "VB"], ["a", "DT"], ["few", "JJ"], ["nodes", "NNS"], ["on", "IN"], ["the", "DT"], [",", ","], ["on", "IN"], ["the", "DT"], ["bottom", "JJ"], ["level", "NN"], ["and", "CC"], ["one", "CD"], ["level", "NN"], ["lower", "JJR"], ["than", "IN"], ["the", "DT"], ["bottom", "JJ"], ["level", "NN"], [".", "."], ["But", "CC"], ["otherwise", "RB"], [",", ","], ["all", "PDT"], ["the", "DT"], ["levels", "NNS"], ["are", "VBP"], ["full", "JJ"], [".", "."], ["We", "PRP"], ["'ll", "MD"], ["see", "VB"], ["how", "WRB"], ["that", "DT"], ["looks", "VBZ"], ["in", "IN"], ["just", "RB"], ["a", "DT"], ["second", "JJ"], [".", "."], ["The", "DT"], ["property", "NN"], ["of", "IN"], ["complete", "JJ"], ["tree", "NN"], ["is", "VBZ"], ["that", "IN"], ["the", "DT"], ["height", "NN"], ["of", "IN"], ["a", "DT"], ["complete", "JJ"], ["tree", "NN"], ["with", "IN"], ["n", "JJ"], ["nodes", "NNS"], ["is", "VBZ"], ["the", "DT"], ["biggest", "JJS"], ["integer", "NN"], ["less", "JJR"], ["than", "IN"], ["log", "JJR"], ["base", "NN"], ["two", "CD"], ["of", "IN"], ["N", "NNP"], [",", ","], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["really", "RB"], ["easy", "JJ"], ["to", "TO"], ["convince", "VB"], ["yourself", "PRP"], ["that", "IN"], ["that", "DT"], ["'s", "VBZ"], ["true", "JJ"], ["because", "IN"], ["the", "DT"], ["height", "NN"], [",", ","], ["if", "IN"], ["you", "PRP"], ["add", "VBP"], ["nodes", "JJ"], ["one", "CD"], ["at", "IN"], ["a", "DT"], ["time", "NN"], ["going", "VBG"], ["from", "IN"], ["left", "VBN"], ["to", "TO"], ["right", "VB"], ["on", "IN"], ["the", "DT"], ["bottom", "JJ"], ["level", "NN"], ["say", "VBP"], [",", ","], ["the", "DT"], ["height", "NN"], ["only", "RB"], ["increases", "VBZ"], ["when", "WRB"], ["n", "NN"], ["is", "VBZ"], ["a", "DT"], ["power", "NN"], ["of", "IN"], ["two", "CD"], [".", "."], ["Complete", "JJ"], ["binary", "JJ"], ["trees", "NNS"], ["actually", "RB"], ["happen", "VB"], ["in", "IN"], ["nature", "NN"], [".", "."], ["Here", "RB"], ["'s", "VBZ"], ["an", "DT"], ["example", "NN"], ["of", "IN"], ["one", "CD"], ["that", "WDT"], ["goes", "VBZ"], ["one", "CD"], [",", ","], ["two", "CD"], [",", ","], ["three", "CD"], [",", ","], ["four", "CD"], ["levels", "NNS"], ["at", "IN"], ["least", "JJS"], [",", ","], ["so", "RB"], ["sixteen", "JJ"], ["pushes", "NNS"], ["at", "IN"], ["the", "DT"], ["end", "NN"], ["there", "RB"], [".", "."], ["Alright", "NNP"], [".", "."], ["Now", "RB"], [",", ","], ["the", "DT"], ["way", "NN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["use", "VB"], ["complete", "JJ"], ["binary", "NN"], ["trees", "NNS"], ["to", "TO"], ["implement", "VB"], ["priority", "NN"], ["queues", "NNS"], ["is", "VBZ"], ["to", "TO"], ["first", "VB"], ["of", "IN"], ["all", "DT"], [",", ","], ["associate", "JJ"], ["information", "NN"], ["with", "IN"], ["each", "DT"], ["node", "NN"], [".", "."], ["We", "PRP"], ["'ll", "MD"], ["put", "VB"], ["our", "PRP$"], ["keys", "NNS"], ["in", "IN"], ["the", "DT"], ["nodes", "NNS"], [",", ","], ["and", "CC"], ["also", "RB"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["represent", "VB"], ["it", "PRP"], ["with", "IN"], ["an", "DT"], ["array", "NN"], [".", "."], ["So", "RB"], [",", ","], ["[", "JJ"], ["cough", "NN"], ["]", "NN"], ["when", "WRB"], ["we", "PRP"], ["start", "VBP"], ["putting", "VBG"], ["the", "DT"], ["keys", "NNS"], ["in", "IN"], ["the", "DT"], ["nodes", "NNS"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["impose", "VB"], ["one", "CD"], ["more", "JJR"], ["condition", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["called", "VBN"], ["Heap", "NNP"], ["Ordering", "NNP"], [".", "."], ["And", "CC"], ["the", "DT"], ["idea", "NN"], ["is", "VBZ"], ["that", "IN"], ["the", "DT"], ["parent", "NN"], ["'s", "POS"], ["key", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["no", "DT"], ["smaller", "JJR"], ["than", "IN"], ["its", "PRP$"], ["children", "NNS"], ["'s", "POS"], ["key", "NN"], ["for", "IN"], [",", ","], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["true", "JJ"], ["for", "IN"], ["every", "DT"], ["node", "NN"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], [".", "."], ["The", "DT"], ["array", "NN"], ["representation", "NN"], [",", ","], ["all", "DT"], ["we", "PRP"], ["do", "VBP"], ["is", "VBZ"], [",", ","], ["we", "PRP"], ["put", "VBP"], ["we", "PRP"], ["start", "VBP"], ["with", "IN"], ["indices", "NNS"], ["at", "IN"], ["one", "CD"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["little", "JJ"], ["less", "JJR"], ["calculation", "NN"], [".", "."], ["That", "DT"], ["way", "NN"], ["we", "PRP"], ["leave", "VBP"], ["a", "DT"], ["(", "("], ["0", "CD"], [")", ")"], ["empty", "NN"], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["just", "RB"], ["take", "VBP"], ["the", "DT"], ["nodes", "NNS"], ["in", "IN"], ["level", "NN"], ["order", "NN"], [".", "."], ["So", "RB"], ["first", "JJ"], [",", ","], ["we", "PRP"], ["put", "VBD"], ["the", "DT"], ["root", "NN"], [".", "."], ["Then", "RB"], [",", ","], ["we", "PRP"], ["put", "VBD"], ["the", "DT"], ["two", "CD"], ["nodes", "NNS"], ["on", "IN"], ["the", "DT"], ["fi", "NN"], ["rst", "JJ"], ["level", "NN"], ["going", "VBG"], ["left", "VBN"], ["from", "IN"], ["right", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["all", "PDT"], ["the", "DT"], ["nodes", "NNS"], ["on", "IN"], ["the", "DT"], ["third", "JJ"], ["level", "NN"], [",", ","], ["going", "VBG"], ["from", "IN"], ["left", "VBN"], ["to", "TO"], ["right", "JJ"], ["and", "CC"], ["so", "RB"], ["forth", "RB"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["interesting", "JJ"], ["because", "IN"], ["we", "PRP"], ["can", "MD"], ["draw", "VB"], ["the", "DT"], ["tree", "NN"], ["to", "TO"], ["get", "VB"], ["more", "JJR"], ["intuition", "NN"], ["about", "IN"], ["what", "WP"], ["'s", "VBZ"], ["happening", "VBG"], [".", "."], ["But", "CC"], ["in", "IN"], ["the", "DT"], ["actual", "JJ"], ["data", "NN"], ["structure", "NN"], ["representation", "NN"], [",", ","], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["need", "VB"], ["any", "DT"], ["links", "NNS"], ["at", "IN"], ["all", "DT"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["just", "RB"], ["an", "DT"], ["array", "NN"], [".", "."], ["The", "DT"], ["way", "NN"], ["that", "IN"], ["we", "PRP"], ["move", "VBP"], ["around", "IN"], ["the", "DT"], ["tree", "NN"], ["is", "VBZ"], ["by", "IN"], ["doing", "VBG"], ["arithmetic", "JJ"], ["on", "IN"], ["the", "DT"], ["indices", "NNS"], [".", "."], ["So", "NNP"], ["let", "NN"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["a", "DT"], ["few", "JJ"], ["properties", "NNS"], ["of", "IN"], ["binary", "JJ"], ["heaps", "NNS"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["complete", "JJ"], ["binary", "JJ"], ["trees", "NNS"], ["represented", "VBN"], ["in", "IN"], ["array", "NN"], ["with", "IN"], ["keys", "NNS"], ["in", "IN"], ["the", "DT"], ["nodes", "NNS"], ["satisfying", "VBG"], ["the", "DT"], ["heap", "JJ"], ["order", "NN"], ["property", "NN"], [".", "."], ["Well", "NNP"], [",", ","], ["first", "JJ"], ["thing", "NN"], ["is", "VBZ"], ["that", "IN"], ["a", "DT"], ["(", "("], ["1", "CD"], [")", ")"], ["is", "VBZ"], ["the", "DT"], ["largest", "JJS"], ["key", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["larger", "JJR"], ["than", "IN"], ["the", "DT"], ["keys", "NNS"], ["and", "CC"], ["its", "PRP$"], ["two", "CD"], ["children", "NNS"], ["and", "CC"], ["they", "PRP"], ["'re", "VBP"], ["larger", "JJR"], ["than", "IN"], ["theirs", "NNS"], ["and", "CC"], ["so", "RB"], ["forth", "RB"], ["so", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["the", "DT"], ["largest", "JJS"], ["key", "NN"], ["in", "IN"], ["the", "DT"], ["data", "NN"], ["structure", "NN"], [".", "."], ["The", "DT"], ["other", "JJ"], ["thing", "NN"], ["is", "VBZ"], [",", ","], ["as", "IN"], ["I", "PRP"], ["just", "RB"], ["mentioned", "VBD"], [",", ","], ["you", "PRP"], ["can", "MD"], ["use", "VB"], ["the", "DT"], ["array", "NN"], ["in", "IN"], ["the", "DT"], ["seeds", "NNS"], ["to", "TO"], ["move", "VB"], ["through", "IN"], ["the", "DT"], ["tree", "NN"], [".", "."], ["For", "IN"], ["example", "NN"], [",", ","], ["if", "IN"], ["the", "DT"], ["node", "NN"], ["is", "VBZ"], ["at", "IN"], ["position", "NN"], ["K", "NNP"], [",", ","], ["index", "NN"], ["K", "NNP"], ["in", "IN"], ["the", "DT"], ["array", "NN"], [",", ","], ["then", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["parent", "NN"], ["is", "VBZ"], ["a", "DT"], ["K", "NNP"], ["over", "IN"], ["two", "CD"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["integer", "JJR"], ["divide", "NN"], [".", "."], ["So", "IN"], ["the", "DT"], ["parents", "NNS"], ["of", "IN"], ["say", "NN"], ["H", "NNP"], ["and", "CC"], ["G", "NNP"], ["are", "VBP"], ["both", "DT"], ["N.", "NNP"], ["H", "NNP"], ["is", "VBZ"], ["ten", "VBN"], [",", ","], ["G", "NNP"], ["is", "VBZ"], ["at", "IN"], ["eleven", "RB"], [",", ","], ["N", "NNP"], ["'s", "POS"], ["at", "IN"], ["five", "CD"], ["so", "IN"], ["both", "DT"], ["of", "IN"], ["those", "DT"], ["are", "VBP"], ["ten", "VBN"], ["over", "IN"], ["two", "CD"], [",", ","], ["eleven", "RB"], ["over", "IN"], ["two", "CD"], [",", ","], ["integer", "JJR"], ["divide", "NN"], ["is", "VBZ"], ["five", "CD"], [".", "."], ["And", "CC"], ["going", "VBG"], ["the", "DT"], ["other", "JJ"], ["way", "NN"], ["it", "PRP"], ["'s", "VBZ"], ["easy", "JJ"], ["to", "TO"], ["see", "VB"], ["that", "IN"], ["the", "DT"], ["children", "NNS"], ["of", "IN"], ["the", "DT"], ["node", "NN"], ["at", "IN"], ["K", "NNP"], ["are", "VBP"], ["2k", "CD"], ["and", "CC"], ["2k", "CD"], ["+", "JJ"], ["one", "CD"], [".", "."], ["So", "IN"], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["need", "VB"], ["explicit", "JJ"], ["lengths", "NNS"], ["at", "IN"], ["all", "DT"], ["to", "TO"], ["represent", "VB"], ["these", "DT"], ["data", "NNS"], ["structures", "NNS"], [".", "."], ["We", "PRP"], ["can", "MD"], ["just", "RB"], ["use", "VB"], ["array", "JJ"], ["indices", "NNS"], [".", "."], ["So", "RB"], ["[", "JJ"], ["cough", "NN"], ["]", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["the", "DT"], ["basic", "JJ"], ["setup", "NN"], ["or", "CC"], ["the", "DT"], ["invariant", "JJ"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["maintain", "VB"], ["in", "IN"], ["this", "DT"], ["data", "NN"], ["structure", "NN"], [".", "."], ["And", "CC"], ["now", "RB"], [",", ","], ["what", "WP"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["take", "VB"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["just", "RB"], ["a", "DT"], ["couple", "NN"], ["of", "IN"], ["different", "JJ"], ["scenarios", "NNS"], ["that", "WDT"], ["where", "WRB"], ["we", "PRP"], ["violate", "VBP"], ["that", "DT"], ["invariant", "JJ"], ["temporarily", "RB"], ["and", "CC"], ["then", "RB"], ["fix", "VB"], ["it", "PRP"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["give", "VB"], ["us", "PRP"], ["the", "DT"], ["flexibility", "NN"], ["that", "IN"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["implement", "VB"], ["priority", "NN"], ["queue", "JJ"], ["operations", "NNS"], [".", "."], ["So", "RB"], ["one", "CD"], ["scenario", "NN"], ["shown", "VBN"], ["here", "RB"], [",", ","], ["is", "VBZ"], ["if", "IN"], ["for", "IN"], ["whatever", "WDT"], ["reason", "NN"], ["a", "DT"], ["child", "NN"], ["'s", "POS"], ["key", "JJ"], ["becomes", "NNS"], ["larger", "JJR"], ["than", "IN"], ["its", "PRP$"], ["parent", "NN"], ["'s", "POS"], ["key", "NN"], [".", "."], ["So", "RB"], ["in", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["an", "DT"], ["example", "NN"], ["where", "WRB"], ["T", "NNP"], [",", ","], ["the", "DT"], ["node", "NN"], ["T", "NNP"], ["here", "RB"], [",", ","], ["its", "PRP$"], ["value", "NN"], ["changes", "NNS"], ["and", "CC"], ["it", "PRP"], ["becomes", "VBZ"], ["larger", "JJR"], ["than", "IN"], ["its", "PRP$"], ["parent", "NN"], ["key", "JJ"], ["P.", "NNP"], ["So", "NNP"], [",", ","], ["the", "DT"], ["heap", "JJ"], ["order", "NN"], ["condition", "NN"], ["is", "VBZ"], ["satisfied", "JJ"], ["everywhere", "RB"], [",", ","], ["except", "IN"], ["at", "IN"], ["this", "DT"], ["node", "NN"], [".", "."], ["Well", "UH"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["easy", "JJ"], ["to", "TO"], ["fix", "VB"], ["this", "DT"], ["one", "NN"], [".", "."], ["All", "DT"], ["we", "PRP"], ["do", "VBP"], ["is", "VBZ"], ["exchange", "VB"], ["the", "DT"], ["key", "NN"], ["in", "IN"], ["the", "DT"], ["child", "NN"], ["with", "IN"], ["the", "DT"], ["key", "NN"], ["in", "IN"], ["the", "DT"], ["parent", "NN"], [".", "."], ["After", "IN"], ["that", "DT"], ["exchange", "NN"], [",", ","], ["then", "RB"], [",", ","], ["that", "WDT"], ["would", "MD"], ["have", "VB"], ["T", "NNP"], ["up", "RB"], ["here", "RB"], ["and", "CC"], ["P", "NNP"], ["down", "RB"], ["here", "RB"], ["then", "RB"], ["the", "DT"], ["heap", "NN"], ["order", "NN"], ["condition", "NN"], ["is", "VBZ"], ["satisfied", "VBN"], ["at", "IN"], ["that", "DT"], ["node", "NN"], ["because", "IN"], ["the", "DT"], ["parent", "NN"], ["was", "VBD"], ["smaller", "JJR"], [",", ","], ["so", "IN"], ["that", "DT"], ["one", "CD"], ["'s", "POS"], ["smaller", "JJR"], [".", "."], ["And", "CC"], ["so", "RB"], ["that", "IN"], ["one", "CD"], ["is", "VBZ"], ["still", "RB"], ["smaller", "JJR"], ["so", "RB"], ["T", "NNP"], ["is", "VBZ"], ["after", "IN"], ["its", "PRP$"], ["exchanged", "VBD"], ["up", "RP"], ["here", "RB"], ["will", "MD"], ["be", "VB"], ["bigger", "JJR"], ["than", "IN"], ["both", "DT"], ["its", "PRP$"], ["children", "NNS"], [".", "."], ["But", "CC"], ["the", "DT"], ["heap", "JJ"], ["condition", "NN"], ["will", "MD"], ["be", "VB"], ["violated", "VBN"], ["cuz", "JJ"], ["T", "NNP"], ["is", "VBZ"], ["still", "RB"], ["smaller", "JJR"], ["than", "IN"], ["S.", "NNP"], ["So", "NNP"], ["we", "PRP"], ["have", "VBP"], ["do", "VBP"], ["it", "PRP"], ["again", "RB"], [",", ","], ["exchange", "NN"], ["it", "PRP"], ["with", "IN"], ["S.", "NNP"], ["So", "NNP"], ["we", "PRP"], ["move", "VBP"], ["up", "RP"], ["the", "DT"], ["tree", "NN"], [",", ","], ["exchanging", "VBG"], ["the", "DT"], ["larger", "JJR"], ["key", "JJ"], ["with", "IN"], ["its", "PRP$"], ["smaller", "JJR"], ["parent", "NN"], [",", ","], ["until", "IN"], ["we", "PRP"], ["get", "VBP"], ["to", "TO"], ["a", "DT"], ["point", "NN"], ["where", "WRB"], ["its", "PRP$"], ["larger", "JJR"], ["than", "IN"], ["both", "DT"], ["its", "PRP$"], ["children", "NNS"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["restoring", "VBG"], ["the", "DT"], ["heap", "JJ"], ["order", "NN"], ["along", "IN"], ["the", "DT"], ["path", "NN"], ["from", "IN"], ["the", "DT"], ["place", "NN"], ["where", "WRB"], ["it", "PRP"], ["'s", "VBZ"], ["violated", "VBN"], ["to", "TO"], ["the", "DT"], ["root", "NN"], [".", "."], ["You", "PRP"], ["can", "MD"], ["think", "VB"], ["of", "IN"], ["that", "DT"], ["as", "IN"], ["kind", "NN"], ["of", "IN"], ["like", "IN"], ["the", "DT"], ["well", "NN"], ["known", "VBN"], ["Peter", "NNP"], ["Principle", "NNP"], ["where", "WRB"], ["a", "DT"], ["node", "JJ"], ["gets", "VBZ"], ["promoted", "VBN"], ["to", "TO"], ["a", "DT"], ["level", "NN"], ["where", "WRB"], ["it", "PRP"], ["finally", "RB"], ["ca", "MD"], ["n't", "RB"], ["be", "VB"], ["better", "JJR"], ["than", "IN"], [",", ","], ["than", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["boss", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["level", "NN"], ["of", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["maximum", "JJ"], ["incompetence", "NN"], [".", "."], ["And", "CC"], ["implementing", "VBG"], ["that", "IN"], ["in", "IN"], ["code", "NN"], ["is", "VBZ"], ["really", "RB"], ["easy", "JJ"], [".", "."], ["We", "PRP"], ["call", "VBP"], ["that", "IN"], ["the", "DT"], ["swim", "NN"], ["operation", "NN"], [",", ","], ["it", "PRP"], ["swims", "VBZ"], ["up", "IN"], ["to", "TO"], ["the", "DT"], ["top", "NN"], [".", "."], ["And", "CC"], ["if", "IN"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["node", "NN"], ["at", "IN"], ["index", "NN"], ["K", "NNP"], ["and", "CC"], ["we", "PRP"], ["know", "VBP"], ["the", "DT"], ["heap", "JJ"], ["condition", "NN"], ["is", "VBZ"], ["violated", "VBN"], ["there", "RB"], [",", ","], ["as", "RB"], ["long", "RB"], ["as", "IN"], ["we", "PRP"], ["'re", "VBP"], ["not", "RB"], ["at", "IN"], ["the", "DT"], ["root", "NN"], ["and", "CC"], ["K", "NNP"], ["'s", "POS"], ["parent", "NN"], [",", ","], ["K", "NNP"], ["over", "IN"], ["two", "CD"], ["is", "VBZ"], ["less", "JJR"], ["than", "IN"], ["A", "NN"], ["of", "IN"], ["K.", "NNP"], ["Then", "RB"], [",", ","], ["we", "PRP"], ["just", "RB"], ["exchange", "VB"], ["it", "PRP"], ["with", "IN"], ["its", "PRP$"], ["parent", "NN"], [",", ","], ["and", "CC"], ["move", "VB"], ["up", "RB"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["the", "DT"], ["swim", "JJ"], ["operation", "NN"], ["to", "TO"], ["eliminate", "VB"], ["a", "DT"], ["violation", "NN"], ["when", "WRB"], ["a", "DT"], ["key", "JJ"], ["value", "NN"], ["increases", "NNS"], [".", "."], ["[", "CC"], ["cough", "JJ"], ["]", "NN"], ["So", "NNP"], ["for", "IN"], ["example", "NN"], [",", ","], ["this", "DT"], ["gives", "VBZ"], ["us", "PRP"], ["a", "DT"], ["way", "NN"], ["to", "TO"], ["insert", "VB"], ["a", "DT"], ["new", "JJ"], ["element", "NN"], ["into", "IN"], ["a", "DT"], ["heap", "NN"], [".", "."], ["What", "WP"], ["we", "PRP"], ["do", "VBP"], ["is", "VBZ"], [",", ","], ["we", "PRP"], ["add", "VBP"], ["a", "DT"], ["new", "JJ"], ["node", "NN"], ["at", "IN"], ["the", "DT"], ["end", "NN"], ["of", "IN"], ["the", "DT"], ["heap", "NN"], [",", ","], ["so", "IN"], ["this", "DT"], ["one", "CD"], ["position", "NN"], ["over", "IN"], [".", "."], ["The", "DT"], ["thing", "NN"], ["is", "VBZ"], [",", ","], ["remember", "VB"], ["represented", "VBN"], ["in", "IN"], ["array", "NN"], [",", ","], ["one", "CD"], [",", ","], ["two", "CD"], [",", ","], ["three", "CD"], ["And", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["So", "IN"], ["the", "DT"], ["[", "JJ"], ["cough", "NN"], ["]", "NNP"], ["next", "JJ"], ["empty", "JJ"], ["position", "NN"], ["in", "IN"], ["the", "DT"], ["array", "NN"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["place", "NN"], ["to", "TO"], ["put", "VB"], ["a", "DT"], ["new", "JJ"], ["node", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["just", "RB"], ["declare", "VB"], ["that", "IN"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["part", "NN"], ["of", "IN"], ["the", "DT"], ["heap", "NN"], ["and", "CC"], ["that", "IN"], ["node", "NN"], [",", ","], ["well", "RB"], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["less", "JJR"], ["than", "IN"], ["its", "PRP$"], ["parent", "NN"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["fine", "JJ"], [".", "."], ["But", "CC"], ["in", "IN"], ["general", "JJ"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["check", "VB"], ["whether", "IN"], ["the", "DT"], ["heap", "JJ"], ["condition", "NN"], ["is", "VBZ"], ["violated", "VBN"], ["and", "CC"], ["exchange", "VB"], ["it", "PRP"], ["with", "IN"], ["its", "PRP$"], ["par", "NN"], ["ent", "NN"], ["as", "RB"], ["long", "RB"], ["as", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["smaller", "JJR"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["just", "RB"], ["perform", "VB"], ["the", "DT"], ["swim", "NN"], ["operation", "NN"], [".", "."], ["So", "RB"], ["if", "IN"], ["N", "NNP"], ["is", "VBZ"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["items", "NNS"], ["in", "IN"], ["the", "DT"], ["heap", "NN"], [",", ","], ["defined", "VBD"], ["to", "TO"], ["be", "VB"], ["in", "IN"], ["the", "DT"], ["heap", "NN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["increment", "VB"], ["it", "PRP"], [",", ","], ["store", "VBD"], ["a", "DT"], ["new", "JJ"], ["key", "NN"], ["there", "RB"], [",", ","], ["there", "EX"], ["and", "CC"], ["then", "RB"], ["perform", "VB"], ["the", "DT"], ["swim", "NN"], ["operation", "NN"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["quick", "JJ"], ["implementation", "NN"], ["of", "IN"], ["the", "DT"], ["insert", "JJ"], ["operation", "NN"], [".", "."], ["And", "CC"], ["notice", "JJ"], ["since", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["just", "RB"], ["going", "VBG"], ["from", "IN"], ["bottom", "NN"], ["to", "TO"], ["top", "VB"], ["in", "IN"], ["the", "DT"], ["heap", "NN"], ["it", "PRP"], ["takes", "VBZ"], ["at", "IN"], ["most", "JJS"], ["one", "CD"], ["plus", "CC"], ["log", "JJ"], ["base", "NN"], ["two", "CD"], ["of", "IN"], ["N", "NNP"], ["compares", "VBZ"], [".", "."], ["[", "JJ"], ["cough", "JJ"], ["]", "NN"], ["Now", "RB"], ["there", "EX"], ["'s", "VBZ"], ["another", "DT"], ["scenario", "NN"], ["where", "WRB"], ["a", "DT"], ["key", "JJ"], ["becomes", "VBZ"], ["smaller", "JJR"], [".", "."], ["For", "IN"], ["whatever", "WDT"], ["reason", "NN"], [",", ","], ["a", "DT"], ["parent", "NN"], ["becomes", "VBZ"], ["key", "JJ"], ["decreases", "NNS"], [",", ","], ["it", "PRP"], ["might", "MD"], ["become", "VB"], ["smaller", "JJR"], ["than", "IN"], ["one", "CD"], ["or", "CC"], ["both", "DT"], ["of", "IN"], ["its", "PRP$"], ["children", "NNS"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["the", "DT"], ["value", "NN"], ["at", "IN"], ["position", "NN"], ["two", "CD"], ["has", "VBZ"], ["changed", "VBN"], ["to", "TO"], ["H", "NNP"], ["for", "IN"], ["whatever", "WDT"], ["reason", "NN"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["smaller", "JJR"], [",", ","], ["in", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["than", "IN"], ["both", "DT"], ["its", "PRP$"], ["children", "NNS"], [".", "."], ["So", "NNP"], ["how", "WRB"], ["do", "VBP"], ["we", "PRP"], ["fix", "VB"], ["that", "DT"], ["violation", "NN"], ["?", "."], ["Well", "UH"], [",", ","], ["that", "IN"], ["one", "CD"], ["'s", "VBZ"], ["also", "RB"], ["easy", "JJ"], [".", "."], ["We", "PRP"], ["figure", "VBP"], ["out", "RP"], ["which", "WDT"], ["of", "IN"], ["the", "DT"], ["children", "NNS"], ["is", "VBZ"], ["larger", "JJR"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["the", "DT"], ["S", "NNP"], [",", ","], ["and", "CC"], ["we", "PRP"], ["exchange", "VBP"], ["our", "PRP$"], ["exchange", "NN"], ["that", "IN"], ["one", "CD"], ["with", "IN"], ["the", "DT"], ["one", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["violating", "VBG"], ["the", "DT"], ["condition", "NN"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["moving", "VBG"], ["the", "DT"], ["smaller", "JJR"], ["key", "JJ"], ["down", "RP"], [".", "."], ["After", "IN"], ["that", "DT"], ["exchange", "NN"], [",", ","], ["then", "RB"], ["S", "NNP"], ["is", "VBZ"], ["in", "IN"], ["position", "NN"], ["two", "CD"], [",", ","], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["bigger", "JJR"], ["than", "IN"], ["both", "DT"], ["P", "NNP"], ["and", "CC"], ["H.", "NNP"], ["And", "CC"], ["the", "DT"], ["heap", "JJ"], ["condition", "NN"], ["is", "VBZ"], ["only", "RB"], ["violated", "VBN"], ["again", "RB"], ["where", "WRB"], ["H", "NNP"], ["is", "VBZ"], ["sitting", "VBG"], [".", "."], ["And", "CC"], ["again", "RB"], [",", ","], ["we", "PRP"], ["keep", "VBP"], ["going", "VBG"], ["until", "IN"], ["getting", "VBG"], ["to", "TO"], ["the", "DT"], ["bottom", "NN"], [",", ","], ["or", "CC"], ["getting", "VBG"], ["to", "TO"], ["a", "DT"], ["place", "NN"], ["where", "WRB"], ["both", "DT"], ["children", "NNS"], ["are", "VBP"], ["smaller", "JJR"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["maybe", "RB"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["what", "WP"], ["happens", "VBZ"], ["when", "WRB"], ["a", "DT"], [",", ","], ["a", "DT"], ["new", "JJ"], ["boss", "NN"], ["is", "VBZ"], ["hired", "VBN"], ["from", "IN"], ["the", "DT"], ["outside", "NN"], ["and", "CC"], ["then", "RB"], ["the", "DT"], ["two", "CD"], ["subordinates", "NNS"], ["struggle", "VBP"], ["to", "TO"], ["take", "VB"], ["over", "RP"], ["that", "DT"], ["position", "NN"], ["and", "CC"], ["then", "RB"], ["the", "DT"], ["bros", "NN"], [",", ","], ["boss", "NN"], ["would", "MD"], ["get", "VB"], ["demoted", "VBN"], ["to", "TO"], ["it", "PRP"], ["'s", "VBZ"], ["level", "NN"], ["of", "IN"], ["competence", "NN"], [".", "."], ["And", "CC"], ["again", "RB"], [",", ","], ["that", "IN"], ["level", "NN"], ["of", "IN"], ["flexibility", "NN"], [".", "."], ["Here", "RB"], ["'s", "VBZ"], ["the", "DT"], ["implementation", "NN"], ["of", "IN"], ["it", "PRP"], [".", "."], ["And", "CC"], ["again", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["quite", "RB"], ["straightforward", "JJ"], ["using", "VBG"], ["the", "DT"], ["[", "JJ"], ["cough", "NN"], ["]", "NNP"], ["index", "NN"], ["arithmetic", "NN"], ["to", "TO"], ["move", "VB"], ["around", "RB"], ["in", "IN"], ["the", "DT"], ["heap", "NN"], [".", "."], ["If", "IN"], ["we", "PRP"], ["'re", "VBP"], [",", ","], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["called", "VBN"], ["the", "DT"], ["sink", "NN"], ["operation", "NN"], [",", ","], ["cuz", "NN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["down", "RP"], ["the", "DT"], ["heap", "NN"], [".", "."], ["If", "IN"], ["were", "VBD"], ["at", "IN"], ["position", "NN"], ["K", "NNP"], [",", ","], ["then", "RB"], ["what", "WP"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["worry", "VB"], ["about", "IN"], ["it", "PRP"], ["is", "VBZ"], ["the", "DT"], ["nodes", "NNS"], ["at", "IN"], ["2k", "CD"], ["and", "CC"], ["2k", "CD"], ["+", "JJ"], ["one", "CD"], [".", "."], ["And", "CC"], ["the", "DT"], ["first", "JJ"], ["thing", "NN"], ["to", "TO"], ["check", "VB"], ["is", "VBZ"], ["find", "VBN"], ["out", "RP"], ["which", "WDT"], ["one", "NN"], ["'s", "POS"], ["bigger", "JJR"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["either", "CC"], ["2k", "CD"], ["or", "CC"], ["2k", "CD"], ["+", "JJ"], ["one", "CD"], ["and", "CC"], ["so", "RB"], ["set", "JJ"], ["j", "NN"], ["accordingly", "RB"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["j", "NN"], ["now", "RB"], [",", ","], ["is", "VBZ"], [",", ","], ["after", "IN"], ["this", "DT"], ["st", "JJ"], ["atement", "NN"], ["is", "VBZ"], ["the", "DT"], ["larger", "JJR"], ["of", "IN"], ["the", "DT"], ["two", "CD"], ["children", "NNS"], [".", "."], ["And", "CC"], ["do", "VBP"], ["n't", "RB"], ["forget", "VB"], ["to", "TO"], ["check", "VB"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["off", "RP"], ["the", "DT"], ["end", "NN"], ["of", "IN"], ["the", "DT"], ["heap", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["if", "IN"], [",", ","], ["[", "FW"], ["cough", "NN"], ["]", "IN"], ["the", "DT"], ["K", "NNP"], ["is", "VBZ"], ["not", "RB"], ["less", "JJR"], ["than", "IN"], ["either", "DT"], ["one", "CD"], ["of", "IN"], ["those", "DT"], [",", ","], ["then", "RB"], ["we", "PRP"], ["'re", "VBP"], ["done", "VBN"], [".", "."], ["If", "IN"], ["it", "PRP"], ["is", "VBZ"], [",", ","], ["then", "RB"], ["we", "PRP"], ["exchange", "VBP"], ["with", "IN"], ["the", "DT"], ["larger", "JJR"], ["of", "IN"], ["the", "DT"], ["two", "CD"], ["children", "NNS"], ["and", "CC"], ["move", "VB"], ["down", "RP"], ["the", "DT"], ["heap", "NN"], [".", "."], ["Again", "NNP"], [",", ","], ["just", "RB"], ["a", "DT"], ["few", "JJ"], ["lines", "NNS"], ["of", "IN"], ["code", "NN"], ["to", "TO"], ["eliminate", "VB"], ["the", "DT"], ["violation", "NN"], ["when", "WRB"], ["a", "DT"], ["key", "JJ"], ["value", "NN"], ["in", "IN"], ["a", "DT"], ["heap", "JJ"], ["decreases", "NNS"], [".", "."], ["And", "CC"], ["that", "IN"], ["one", "CD"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["use", "VB"], ["to", "TO"], ["implement", "VB"], ["delete", "VB"], ["the", "DT"], ["maximum", "NN"], ["in", "IN"], ["a", "DT"], ["heap", "NN"], [".", "."], ["So", "RB"], ["delete", "JJ"], ["the", "DT"], ["maximum", "JJ"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["do", "VB"], ["two", "CD"], ["things", "NNS"], [",", ","], ["one", "CD"], ["thing", "NN"], ["is", "VBZ"], ["the", "DT"], ["size", "NN"], ["of", "IN"], ["the", "DT"], ["heap", "NN"], ["has", "VBZ"], ["got", "VBD"], ["to", "TO"], ["go", "VB"], ["down", "RP"], ["by", "IN"], ["one", "CD"], [".", "."], ["The", "DT"], ["other", "JJ"], ["thing", "NN"], ["is", "VBZ"], ["return", "VBP"], ["the", "DT"], ["maximum", "NN"], [".", "."], ["Well", "RB"], [",", ","], ["we", "PRP"], ["know", "VBP"], ["that", "IN"], ["[", "NNP"], ["cough", "VBD"], ["]", "NNP"], ["one", "NN"], ["that", "WDT"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["return", "VB"], ["is", "VBZ"], ["the", "DT"], ["one", "NN"], ["at", "IN"], ["the", "DT"], ["root", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["'ll", "MD"], ["save", "VB"], ["that", "IN"], ["value", "NN"], ["away", "RB"], ["to", "TO"], ["return", "VB"], ["to", "TO"], ["the", "DT"], ["client", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["since", "IN"], ["it", "PRP"], ["has", "VBZ"], ["to", "TO"], ["go", "VB"], ["down", "RP"], ["by", "IN"], ["one", "CD"], ["the", "DT"], ["place", "NN"], ["to", "TO"], ["get", "VB"], ["the", "DT"], ["to", "TO"], ["remove", "VB"], ["the", "DT"], ["element", "NN"], ["from", "IN"], ["the", "DT"], ["heap", "NN"], ["is", "VBZ"], ["at", "IN"], ["the", "DT"], ["end", "NN"], ["of", "IN"], ["the", "DT"], ["array", "NN"], ["cuz", "VBD"], ["it", "PRP"], ["'s", "VBZ"], ["now", "RB"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["to", "TO"], ["not", "RB"], ["occupy", "VB"], ["that", "DT"], ["position", "NN"], [",", ","], ["so", "IN"], ["we", "PRP"], ["take", "VBP"], ["that", "DT"], ["element", "NN"], ["and", "CC"], ["replace", "VB"], ["the", "DT"], ["root", "NN"], ["with", "IN"], ["it", "PRP"], [".", "."], ["So", "IN"], ["I", "PRP"], ["move", "VBP"], ["the", "DT"], ["H", "NNP"], ["up", "RB"], ["and", "CC"], ["actually", "RB"], [",", ","], ["put", "VBD"], ["the", "DT"], ["root", "NN"], ["value", "NN"], ["there", "RB"], ["just", "RB"], ["exchange", "VB"], ["them", "PRP"], ["but", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["longer", "RBR"], ["in", "IN"], ["the", "DT"], ["heap", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["that", "IN"], ["element", "NN"], ["which", "WDT"], ["went", "VBD"], ["from", "IN"], ["the", "DT"], ["bottom", "NN"], ["to", "TO"], ["the", "DT"], ["top", "NN"], ["is", "VBZ"], ["most", "RBS"], ["likely", "JJ"], ["going", "VBG"], ["to", "TO"], ["violate", "VB"], ["the", "DT"], ["heap", "JJ"], ["order", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["smaller", "JJR"], ["than", "IN"], ["one", "CD"], ["of", "IN"], ["its", "PRP$"], [",", ","], ["both", "DT"], ["of", "IN"], ["its", "PRP$"], ["children", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["do", "VBP"], ["a", "DT"], ["sink", "NN"], [".", "."], ["[", "CC"], ["cough", "JJ"], ["]", "NN"], ["now", "RB"], ["in", "IN"], ["this", "DT"], ["case", "NN"], ["to", "TO"], ["implement", "VB"], ["the", "DT"], ["lead", "JJ"], ["max", "NN"], ["we", "PRP"], ["save", "VBP"], ["away", "RP"], ["that", "IN"], ["value", "NN"], ["at", "IN"], ["the", "DT"], ["root", "NN"], ["in", "IN"], ["max", "NN"], ["and", "CC"], ["we", "PRP"], ["eliminate", "VBP"], ["loitering", "VBG"], ["by", "IN"], ["nulling", "VBG"], ["out", "RP"], ["that", "IN"], ["vacated", "JJ"], ["position", "NN"], ["then", "RB"], ["return", "VB"], ["the", "DT"], ["max", "NN"], ["value", "NN"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["an", "DT"], ["implement", "NN"], [",", ","], ["implementation", "NN"], ["of", "IN"], ["the", "DT"], ["delete", "JJ"], ["max", "NN"], ["operation", "NN"], ["for", "IN"], ["heap", "NN"], ["using", "VBG"], ["sink", "NN"], ["where", "WRB"], ["a", "DT"], ["key", "JJ"], ["value", "NN"], ["that", "WDT"], ["decreases", "VBZ"], [",", ","], ["go", "VB"], ["down", "RP"], [",", ","], ["goes", "VBZ"], ["down", "RB"], ["in", "IN"], ["the", "DT"], ["heap", "NN"], [".", "."], ["So", "NNP"], ["let", "VB"], ["'s", "POS"], ["just", "RB"], ["take", "VB"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["what", "WP"], ["happens", "VBZ"], ["with", "IN"], ["a", "DT"], [",", ","], ["a", "DT"], ["real", "JJ"], ["heap", "NN"], ["with", "IN"], ["the", "DT"], ["demo", "NN"], ["when", "WRB"], ["we", "PRP"], ["do", "VBP"], ["these", "DT"], ["things", "NNS"], [".", "."], ["And", "CC"], ["you", "PRP"], ["'ll", "MD"], ["have", "VB"], ["a", "DT"], ["good", "JJ"], ["feeling", "NN"], ["for", "IN"], ["how", "WRB"], ["this", "DT"], ["data", "NN"], ["structure", "NN"], ["works", "VBZ"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["starting", "VBG"], ["at", "IN"], ["some", "DT"], ["point", "NN"], ["where", "WRB"], ["we", "PRP"], ["have", "VBP"], ["these", "DT"], ["ten", "NNS"], ["keys", "VBP"], ["in", "IN"], ["heap", "NN"], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["heap", "JJ"], ["order", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["'ve", "VBP"], ["drawn", "VBN"], ["the", "DT"], ["data", "NN"], ["structure", "NN"], ["with", "IN"], ["the", "DT"], ["links", "NNS"], [",", ","], ["so", "IN"], ["we", "PRP"], ["have", "VBP"], ["an", "DT"], ["intuition", "NN"], ["for", "IN"], ["what", "WP"], ["'s", "VBZ"], ["going", "VBG"], ["on", "IN"], [".", "."], ["But", "CC"], ["all", "PDT"], ["the", "DT"], ["program", "NN"], ["sees", "VBZ"], ["is", "VBZ"], ["the", "DT"], ["array", "NN"], ["and", "CC"], ["grey", "NN"], ["at", "IN"], ["the", "DT"], ["bottom", "NN"], ["where", "WRB"], ["T", "NNP"], ["'s", "POS"], ["in", "IN"], ["position", "NN"], ["one", "CD"], [",", ","], ["P", "NNP"], ["and", "CC"], ["R", "NNP"], ["are", "VBP"], ["position", "NN"], ["two", "CD"], ["and", "CC"], ["three", "CD"], [",", ","], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["So", "RB"], ["now", "RB"], [",", ","], ["suppose", "VBP"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["supposed", "VBN"], ["to", "TO"], ["add", "VB"], ["S.", "NNP"], ["So", "NNP"], ["to", "TO"], ["add", "VB"], ["it", "PRP"], ["to", "TO"], ["the", "DT"], ["heap", "NN"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["go", "VB"], ["in", "IN"], ["the", "DT"], ["position", "NN"], ["at", "IN"], ["the", "DT"], ["end", "NN"], [".", "."], ["Then", "RB"], ["now", "RB"], ["we", "PRP"], ["'ve", "VBP"], ["added", "VBN"], ["it", "PRP"], ["to", "TO"], ["the", "DT"], ["heap", "NN"], ["just", "RB"], ["by", "IN"], ["incrementing", "VBG"], ["N", "NNP"], [",", ","], ["putting", "VBG"], ["it", "PRP"], ["in", "IN"], ["there", "EX"], ["but", "CC"], ["now", "RB"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["bring", "VB"], ["the", "DT"], ["heap", "NN"], ["order", "NN"], ["back", "RB"], ["into", "IN"], ["condition", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], ["that", "IN"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], [",", ","], ["now", "RB"], ["that", "IN"], ["key", "NN"], ["is", "VBZ"], ["larger", "JJR"], ["than", "IN"], ["its", "PRP$"], ["parent", "NN"], ["so", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["swim", "VB"], ["it", "PRP"], ["up", "RP"], ["exchange", "NN"], ["it", "PRP"], ["with", "IN"], ["its", "PRP$"], ["parent", "NN"], ["as", "RB"], ["long", "RB"], ["as", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["smaller", "JJR"], ["than", "IN"], ["its", "PRP$"], ["parent", "NN"], [".", "."], ["So", "RB"], [",", ","], ["first", "JJ"], ["thing", "NN"], ["it", "PRP"], ["goes", "VBZ"], ["up", "RP"], ["exchange", "NN"], ["with", "IN"], ["the", "DT"], ["S", "NNP"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["still", "RB"], ["bigger", "JJR"], ["than", "IN"], ["P.", "NNP"], ["So", "NNP"], ["we", "PRP"], ["exchange", "VBP"], ["it", "PRP"], ["with", "IN"], ["the", "DT"], ["T", "NNP"], ["and", "CC"], ["now", "RB"], ["we", "PRP"], ["'re", "VBP"], ["done", "VBN"], ["because", "RB"], ["S", "NNP"], ["in", "IN"], ["not", "RB"], ["bigger", "JJR"], ["than", "IN"], ["T", "NNP"], ["and", "CC"], ["the", "DT"], ["heap", "JJ"], ["order", "NN"], ["condition", "NN"], ["is", "VBZ"], ["now", "RB"], ["satisfied", "JJ"], ["everywhere", "RB"], ["in", "IN"], ["the", "DT"], ["heap", "NN"], [".", "."], ["So", "RB"], [",", ","], ["with", "IN"], ["just", "RB"], ["two", "CD"], ["exchanges", "NNS"], ["we", "PRP"], ["insert", "VBP"], ["that", "IN"], ["new", "JJ"], ["element", "NN"], ["in", "IN"], ["the", "DT"], ["heap", "NN"], ["in", "IN"], ["this", "DT"], ["case", "NN"], [".", "."], ["I", "PRP"], ["now", "RB"], ["suppose", "VBP"], ["the", "DT"], ["next", "JJ"], ["operation", "NN"], ["is", "VBZ"], ["remove", "VB"], ["the", "DT"], ["maximum", "NN"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["take", "VB"], ["T", "NNP"], ["and", "CC"], ["exchange", "NN"], ["it", "PRP"], ["with", "IN"], ["the", "DT"], ["last", "JJ"], ["element", "NN"], ["and", "CC"], ["then", "RB"], ["declare", "VB"], ["that", "DT"], ["to", "TO"], ["be", "VB"], ["no", "RB"], ["longer", "RBR"], ["part", "NN"], ["of", "IN"], ["the", "DT"], ["heap", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], ["[", "JJ"], ["cough", "NN"], ["]", "NN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["bring", "VB"], ["the", "DT"], ["heap", "NN"], ["order", "NN"], ["back", "RB"], ["because", "IN"], ["it", "PRP"], ["might", "MD"], ["be", "VB"], ["violated", "VBN"], ["at", "IN"], ["the", "DT"], ["root", "NN"], ["so", "RB"], ["now", "RB"], ["we", "PRP"], ["invoke", "VBP"], ["the", "DT"], ["sink", "NN"], ["where", "WRB"], ["we", "PRP"], ["exchange", "VBP"], ["that", "IN"], ["node", "NN"], ["with", "IN"], ["the", "DT"], ["larger", "JJR"], ["of", "IN"], ["its", "PRP$"], ["two", "CD"], ["children", "NNS"], ["until", "IN"], ["we", "PRP"], ["find", "VBP"], ["a", "DT"], ["place", "NN"], ["where", "WRB"], ["its", "PRP$"], ["larger", "JJR"], ["than", "IN"], ["both", "DT"], ["its", "PRP$"], ["children", "NNS"], [".", "."], ["So", "NNP"], ["S", "NNP"], ["is", "VBZ"], ["the", "DT"], ["larger", "JJR"], ["of", "IN"], ["the", "DT"], ["two", "CD"], ["children", "NNS"], ["R", "NNP"], ["and", "CC"], ["S", "NNP"], ["and", "CC"], ["now", "RB"], ["H", "NNP"], ["is", "VBZ"], ["still", "RB"], ["smaller", "JJR"], ["than", "IN"], ["both", "DT"], ["it", "PRP"], ["'s", "VBZ"], ["children", "NNS"], ["so", "IN"], ["we", "PRP"], ["promote", "VBP"], ["the", "DT"], ["larger", "JJR"], [",", ","], ["which", "WDT"], ["is", "VBZ"], ["P.", "NNP"], ["Now", "RB"], ["H", "NNP"], ["has", "VBZ"], ["no", "DT"], ["right", "JJ"], ["child", "NN"], [",", ","], ["just", "RB"], ["a", "DT"], ["left", "JJ"], ["child", "NN"], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["larger", "JJR"], ["than", "IN"], ["that", "DT"], ["one", "CD"], [",", ","], ["so", "IN"], ["we", "PRP"], ["'re", "VBP"], ["finished", "VBN"], ["with", "IN"], ["that", "DT"], ["operation", "NN"], [".", "."], ["We", "PRP"], ["'ve", "VBP"], ["removed", "VBN"], ["the", "DT"], ["maximum", "JJ"], ["and", "CC"], ["we", "PRP"], ["still", "RB"], ["have", "VBP"], ["our", "PRP$"], ["data", "NNS"], ["structure", "NN"], ["heap", "NN"], ["ordered", "VBD"], ["and", "CC"], ["our", "PRP$"], ["n", "JJ"], ["keys", "NNS"], ["stored", "VBN"], ["in", "IN"], ["first", "JJ"], ["n", "JJ"], ["positions", "NNS"], ["in", "IN"], ["the", "DT"], ["array", "NN"], [".", "."], ["Let", "VB"], ["'s", "POS"], ["remove", "VB"], ["the", "DT"], ["maximum", "NN"], ["again", "RB"], [".", "."], ["Again", "IN"], ["we", "PRP"], ["take", "VBP"], ["it", "PRP"], ["out", "RP"], ["by", "IN"], ["exchanging", "VBG"], ["this", "DT"], ["time", "NN"], ["G", "NNP"], ["with", "IN"], ["the", "DT"], ["root", "NN"], ["and", "CC"], ["then", "RB"], ["[", "NNP"], ["cough", "NN"], ["]", "NN"], ["decrease", "VBD"], ["the", "DT"], ["size", "NN"], ["of", "IN"], ["the", "DT"], ["heap", "NN"], ["by", "IN"], ["one", "CD"], [".", "."], ["Just", "VB"], ["take", "VB"], ["that", "DT"], ["out", "RP"], [".", "."], ["Now", "RB"], [",", ","], ["t", "IN"], ["he", "PRP"], ["node", "VBZ"], ["of", "IN"], ["the", "DT"], ["root", "NN"], ["violates", "VBZ"], ["the", "DT"], ["heap", "JJ"], ["border", "NN"], ["so", "IN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["exchange", "VB"], ["it", "PRP"], ["with", "IN"], ["the", "DT"], ["largest", "JJS"], ["of", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["two", "CD"], ["children", "NNS"], [",", ","], ["in", "IN"], ["this", "DT"], ["case", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["R.", "NNP"], ["Again", "NNP"], [",", ","], ["G", "NNP"], ["is", "VBZ"], ["not", "RB"], ["larger", "JJR"], ["than", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["two", "CD"], ["children", "NNS"], ["so", "IN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["exchange", "VB"], ["it", "PRP"], ["with", "IN"], ["the", "DT"], ["larger", "JJR"], ["of", "IN"], ["the", "DT"], ["two", "CD"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["O", "NNP"], ["and", "CC"], ["now", "RB"], ["we", "PRP"], ["are", "VBP"], ["done", "VBN"], [",", ","], ["we", "PRP"], ["'ve", "VBP"], ["removed", "VBN"], ["the", "DT"], ["largest", "JJS"], ["again", "RB"], [".", "."], ["Now", "RB"], ["suppose", "VBP"], ["we", "PRP"], ["insert", "VBP"], ["S", "NNP"], ["back", "RB"], ["into", "IN"], ["the", "DT"], ["heap", "NN"], [".", "."], ["So", "RB"], ["[", "JJ"], ["cough", "NN"], ["]", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["adding", "VBG"], ["it", "PRP"], ["at", "IN"], ["the", "DT"], ["end", "NN"], [",", ","], ["violates", "VBZ"], ["the", "DT"], ["heap", "JJ"], ["order", "NN"], ["exchange", "NN"], ["it", "PRP"], ["with", "IN"], ["the", "DT"], ["parent", "NN"], ["smaller", "JJR"], ["and", "CC"], ["keep", "VB"], ["doing", "VBG"], ["until", "IN"], ["we", "PRP"], ["get", "VBP"], ["to", "TO"], ["a", "DT"], ["place", "NN"], ["where", "WRB"], ["it", "PRP"], ["'s", "VBZ"], ["larger", "JJR"], ["than", "IN"], ["its", "PRP$"], ["two", "CD"], ["children", "NNS"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["S", "NNP"], ["goes", "VBZ"], ["all", "PDT"], ["the", "DT"], ["way", "NN"], ["up", "IN"], ["to", "TO"], ["the", "DT"], ["root", "NN"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["all", "DT"], ["heap", "RB"], ["ordered", "VBN"], ["again", "RB"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["little", "JJ"], ["survey", "NN"], ["of", "IN"], ["some", "DT"], ["operations", "NNS"], ["on", "IN"], ["a", "DT"], ["heap", "NN"], ["and", "CC"], ["you", "PRP"], ["can", "MD"], ["see", "VB"], ["how", "WRB"], ["every", "DT"], ["operation", "NN"], ["is", "VBZ"], ["done", "VBN"], ["with", "IN"], ["just", "RB"], ["a", "DT"], ["few", "JJ"], ["exchanges", "NNS"], ["along", "IN"], ["the", "DT"], ["path", "NN"], ["from", "IN"], ["the", "DT"], ["bottom", "NN"], ["to", "TO"], ["the", "DT"], ["top", "NN"], ["or", "CC"], ["the", "DT"], ["top", "JJ"], ["to", "TO"], ["the", "DT"], ["bottom", "NN"], [".", "."], ["Okay", "NNP"], [",", ","], ["here", "RB"], ["'s", "VBZ"], ["the", "DT"], ["complete", "JJ"], ["Java", "NNP"], ["implementation", "NN"], ["of", "IN"], ["a", "DT"], ["priority", "NN"], ["queue", "NN"], ["using", "VBG"], ["the", "DT"], ["binary", "JJ"], ["heap", "NN"], ["data", "NNS"], ["structure", "NN"], [".", "."], ["[", "JJ"], ["cough", "NN"], ["]", "VBD"], ["it", "PRP"], ["'s", "VBZ"], ["actually", "RB"], ["not", "RB"], ["so", "RB"], ["different", "JJ"], ["from", "IN"], ["the", "DT"], ["elementary", "JJ"], ["implementations", "NNS"], ["that", "IN"], ["we", "PRP"], ["looked", "VBD"], ["at", "IN"], ["in", "IN"], ["the", "DT"], ["last", "JJ"], ["section", "NN"], [".", "."], ["Our", "PRP$"], ["representation", "NN"], ["is", "VBZ"], ["an", "DT"], ["array", "NN"], ["of", "IN"], ["keys", "NNS"], ["and", "CC"], ["a", "DT"], ["size", "NN"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["items", "NNS"], ["in", "IN"], ["the", "DT"], ["heap", "NN"], [".", "."], ["[", "CC"], ["cough", "JJ"], ["]", "NN"], ["for", "IN"], ["simplicity", "NN"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["show", "VB"], ["the", "DT"], ["code", "NN"], ["where", "WRB"], ["the", "DT"], ["client", "NN"], ["gives", "VBZ"], ["the", "DT"], ["capacity", "NN"], ["of", "IN"], ["the", "DT"], ["heap", "NN"], [".", "."], ["We", "PRP"], ["can", "MD"], ["use", "VB"], ["resizing", "VBG"], ["array", "NN"], [",", ","], ["in", "IN"], ["industrial", "JJ"], ["strength", "NN"], ["implementation", "NN"], [",", ","], ["the", "DT"], ["same", "JJ"], ["that", "IN"], [",", ","], ["we", "PRP"], ["did", "VBD"], ["for", "IN"], ["stacks", "NNS"], ["and", "CC"], ["other", "JJ"], ["data", "NN"], ["structures", "NNS"], ["where", "WRB"], ["we", "PRP"], ["use", "VBP"], ["arrays", "NNS"], [".", "."], ["So", "IN"], ["we", "PRP"], ["'ll", "MD"], ["build", "VB"], ["a", "DT"], ["new", "JJ"], ["array", "NN"], ["of", "IN"], ["keys", "NNS"], ["and", "CC"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["use", "VB"], ["an", "DT"], ["ugly", "RB"], [",", ","], ["ugly", "RB"], ["cast", "JJ"], ["because", "IN"], ["we", "PRP"], ["ca", "MD"], ["n't", "RB"], ["have", "VB"], ["generic", "JJ"], ["arrays", "NNS"], ["in", "IN"], ["Java", "NNP"], [".", "."], ["And", "CC"], ["that", "IN"], [",", ","], ["so", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["comparable", "JJ"], ["and", "CC"], [",", ","], ["and", "CC"], ["we", "PRP"], ["need", "VBP"], ["one", "CD"], ["more", "JJR"], ["than", "IN"], ["the", "DT"], ["capacity", "NN"], ["to", "TO"], ["handle", "VB"], ["this", "DT"], ["thing", "NN"], ["where", "WRB"], [",", ","], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["use", "VB"], ["position", "NN"], ["zero", "NN"], [".", "."], ["So", "IN"], ["the", "DT"], ["priority", "NN"], ["queue", "NN"], ["operations", "NNS"], [",", ","], ["is", "VBZ"], ["the", "DT"], ["insert", "NN"], ["and", "CC"], ["del", "NN"], ["max", "NN"], ["that", "IN"], ["we", "PRP"], ["showed", "VBD"], ["in", "IN"], ["the", "DT"], ["previous", "JJ"], ["slides", "NNS"], [",", ","], ["is", "VBZ"], ["empty", "JJ"], [",", ","], ["is", "VBZ"], ["just", "RB"], ["checking", "VBG"], ["whether", "IN"], ["n", "NN"], ["is", "VBZ"], ["equal", "JJ"], ["to", "TO"], ["zero", "CD"], [".", "."], ["We", "PRP"], ["have", "VBP"], ["the", "DT"], ["swim", "NN"], ["and", "CC"], ["sink", "VB"], ["functions", "NNS"], ["that", "IN"], ["we", "PRP"], ["showed", "VBD"], ["earlier", "RBR"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["have", "VBP"], ["helper", "JJ"], ["functions", "NNS"], ["less", "RBR"], ["and", "CC"], ["exchange", "NN"], [",", ","], ["that", "WDT"], ["access", "NN"], ["the", "DT"], ["array", "NN"], ["directly", "RB"], ["so", "RB"], ["that", "IN"], ["the", "DT"], ["co", "NN"], ["de", "NN"], ["does", "VBZ"], ["n't", "RB"], ["have", "VB"], ["to", "TO"], ["access", "NN"], ["directly", "RB"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["a", "DT"], ["complete", "JJ"], ["implementation", "NN"], ["of", "IN"], ["priority", "NN"], ["queues", "NNS"], ["in", "IN"], ["Java", "NNP"], [".", "."], ["And", "CC"], ["this", "DT"], ["is", "VBZ"], [",", ","], ["this", "DT"], ["implementation", "NN"], ["by", "IN"], ["itself", "PRP"], ["is", "VBZ"], ["extremely", "RB"], ["significant", "JJ"], ["because", "IN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["really", "RB"], ["very", "RB"], ["simple", "JJ"], [",", ","], ["optimal", "JJ"], ["representation", "NN"], ["of", "IN"], ["the", "DT"], ["data", "NN"], [".", "."], ["And", "CC"], ["only", "RB"], ["a", "DT"], ["little", "JJ"], ["arithmetic", "JJ"], ["with", "IN"], ["array", "JJ"], ["indices", "NNS"], [".", "."], ["But", "CC"], ["as", "IN"], ["you", "PRP"], ["can", "MD"], ["see", "VB"], ["by", "IN"], ["looking", "VBG"], ["at", "IN"], ["this", "DT"], ["table", "NN"], [",", ","], ["it", "PRP"], ["gives", "VBZ"], ["us", "PRP"], ["a", "DT"], ["way", "NN"], ["to", "TO"], ["implement", "VB"], ["priority", "NN"], ["queues", "NNS"], ["where", "WRB"], [",", ","], ["both", "DT"], ["operations", "NNS"], ["are", "VBP"], ["guaranteed", "VBN"], ["to", "TO"], ["happen", "VB"], ["in", "IN"], ["log", "NN"], ["N", "NNP"], ["time", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["experts", "NNS"], ["have", "VBP"], ["worked", "VBN"], ["to", "TO"], ["come", "VB"], ["up", "RP"], ["with", "IN"], ["improvements", "NNS"], ["on", "IN"], ["this", "DT"], ["and", "CC"], ["there", "EX"], ["are", "VBP"], ["slight", "JJ"], ["improvements", "NNS"], ["possible", "JJ"], [".", "."], ["We", "PRP"], ["can", "MD"], ["make", "VB"], ["the", "DT"], ["heap", "NN"], ["d", "JJ"], ["way", "NN"], ["rather", "RB"], ["than", "IN"], ["just", "RB"], ["two", "CD"], ["way", "NN"], ["and", "CC"], ["depending", "VBG"], ["on", "IN"], ["the", "DT"], ["frequency", "NN"], ["of", "IN"], ["execution", "NN"], ["of", "IN"], ["the", "DT"], ["uncertain", "JJ"], ["del", "NN"], ["max", "NN"], ["operations", "NNS"], ["that", "WDT"], ["might", "MD"], ["work", "VB"], ["out", "RP"], ["better", "RB"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["an", "DT"], ["advanced", "JJ"], ["data", "NN"], ["structure", "NN"], ["called", "VBD"], ["a", "DT"], ["Fibonacci", "NNP"], ["Heap", "NNP"], [",", ","], ["where", "WRB"], ["inserts", "NNS"], ["are", "VBP"], ["done", "VBN"], ["in", "IN"], ["constant", "JJ"], ["time", "NN"], ["and", "CC"], ["delete", "JJ"], ["max", "NN"], ["done", "VBN"], ["in", "IN"], ["log", "NN"], ["N", "NNP"], ["time", "NN"], ["on", "IN"], ["an", "DT"], ["average", "NN"], ["over", "IN"], ["all", "PDT"], ["the", "DT"], ["operations", "NNS"], [".", "."], ["That", "DT"], ["ones", "NNS"], ["generally", "RB"], ["too", "RB"], ["complicated", "VBN"], ["to", "TO"], ["use", "VB"], ["in", "IN"], ["practice", "NN"], [".", "."], ["But", "CC"], ["still", "RB"], ["again", "RB"], [",", ","], ["using", "VBG"], ["theory", "NN"], ["as", "IN"], ["a", "DT"], ["guide", "NN"], ["maybe", "RB"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["way", "NN"], ["to", "TO"], [",", ","], ["[", "NNP"], ["cough", "NN"], ["]", "NN"], ["to", "TO"], ["decrease", "VB"], ["costs", "NNS"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["from", "IN"], ["binary", "JJ"], ["heaps", "NNS"], [".", "."], ["And", "CC"], ["of", "IN"], ["course", "NN"], [",", ","], ["we", "PRP"], ["can", "MD"], ["not", "RB"], ["get", "VB"], ["down", "RB"], ["to", "TO"], ["having", "VBG"], ["constant", "JJ"], ["time", "NN"], ["for", "IN"], ["all", "DT"], ["operations", "NNS"], [".", "."], ["Why", "WRB"], ["?", "."], ["Well", "RB"], [",", ","], ["we", "PRP"], ["can", "MD"], ["sort", "VB"], ["with", "IN"], ["a", "DT"], ["heap", "NN"], ["by", "IN"], ["inserting", "VBG"], ["all", "PDT"], ["the", "DT"], ["elements", "NNS"], ["and", "CC"], ["then", "RB"], ["deleting", "VBG"], ["the", "DT"], ["maximum", "NN"], ["of", "IN"], ["getting", "VBG"], ["a", "DT"], ["sort", "NN"], ["done", "VBN"], ["and", "CC"], ["that", "DT"], ["would", "MD"], ["be", "VB"], ["in", "IN"], ["linear", "JJ"], ["time", "NN"], ["if", "IN"], ["we", "PRP"], ["had", "VBD"], ["this", "DT"], ["kind", "NN"], ["of", "IN"], ["variation", "NN"], [".", "."], ["If", "IN"], [",", ","], ["if", "IN"], ["we", "PRP"], ["have", "VBP"], ["constant", "JJ"], ["time", "NN"], ["operations", "NNS"], ["for", "IN"], ["both", "DT"], ["insert", "JJ"], ["and", "CC"], ["del", "JJ"], ["max", "NN"], [".", "."], ["But", "CC"], ["for", "IN"], ["certain", "JJ"], ["applications", "NNS"], [",", ","], ["we", "PRP"], ["can", "MD"], ["get", "VB"], ["close", "RB"], ["to", "TO"], ["constant", "JJ"], ["time", "NN"], ["for", "IN"], ["one", "CD"], ["or", "CC"], ["the", "DT"], ["other", "JJ"], ["operations", "NNS"], ["and", "CC"], ["that", "DT"], ["'ll", "MD"], ["be", "VB"], ["useful", "JJ"], ["in", "IN"], ["different", "JJ"], ["implementations", "NNS"], [".", "."], ["Now", "RB"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["an", "DT"], ["important", "JJ"], ["consideration", "NN"], [",", ","], ["that", "DT"], [",", ","], ["in", "IN"], [",", ","], ["that", "IN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["bring", "VB"], ["up", "RP"], ["related", "VBN"], ["to", "TO"], ["the", "DT"], ["programming", "NN"], ["language", "NN"], ["and", "CC"], ["[", "JJ"], ["cough", "NN"], ["]", "NN"], ["this", "DT"], ["is", "VBZ"], [",", ","], ["a", "DT"], ["more", "RBR"], ["general", "JJ"], ["consideration", "NN"], ["than", "IN"], ["usually", "RB"], ["we", "PRP"], ["bring", "VBP"], ["into", "IN"], ["focus", "NN"], ["in", "IN"], ["algorithms", "NN"], ["but", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["worthwhile", "JJ"], ["mentioning", "NN"], [".", "."], ["We", "PRP"], ["'re", "VBP"], ["assuming", "VBG"], ["that", "IN"], ["the", "DT"], ["client", "NN"], ["does", "VBZ"], ["n't", "RB"], ["get", "VB"], ["to", "TO"], ["change", "VB"], ["the", "DT"], ["keys", "NNS"], ["while", "IN"], ["they", "PRP"], ["'re", "VBP"], ["on", "IN"], ["the", "DT"], ["priority", "NN"], ["queue", "NN"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["better", "JJR"], ["not", "RB"], ["to", "TO"], ["ass", "VB"], ["ume", "RP"], ["that", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["better", "JJR"], ["to", "TO"], ["arrange", "VB"], ["for", "IN"], ["that", "DT"], ["in", "IN"], ["our", "PRP$"], ["implementations", "NNS"], ["by", "IN"], ["using", "VBG"], ["keys", "NNS"], ["that", "WDT"], ["are", "VBP"], ["immutable", "JJ"], [",", ","], ["who", "WP"], ["'s", "VBZ"], ["values", "NNS"], ["do", "VBP"], ["n't", "RB"], ["change", "VB"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["many", "JJ"], ["reasons", "NNS"], ["that", "WDT"], ["immu", "VBP"], [",", ","], ["immutable", "JJ"], ["keys", "NNS"], ["are", "VBP"], ["[", "JJ"], ["cough", "JJ"], ["]", "NN"], ["that", "IN"], ["programming", "VBG"], ["languages", "NNS"], ["provide", "VBP"], ["the", "DT"], ["capability", "NN"], ["to", "TO"], ["build", "VB"], ["immutable", "JJ"], ["keys", "NNS"], ["and", "CC"], [",", ","], ["and", "CC"], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], ["fine", "JJ"], ["example", "NN"], ["of", "IN"], ["one", "CD"], [".", "."], ["So", "RB"], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["talk", "VB"], ["more", "JJR"], ["about", "IN"], ["that", "DT"], ["in", "IN"], ["a", "DT"], ["minute", "NN"], [".", "."], ["The", "DT"], ["other", "JJ"], ["things", "NNS"], ["that", "IN"], [",", ","], ["that", "IN"], [",", ","], ["we", "PRP"], ["did", "VBD"], ["n't", "RB"], ["talk", "VB"], ["about", "IN"], ["in", "IN"], ["the", "DT"], ["implementation", "NN"], ["should", "MD"], ["throw", "VB"], ["in", "IN"], [",", ","], ["exception", "NN"], [".", "."], ["If", "IN"], ["the", "DT"], ["client", "NN"], ["tries", "VBZ"], ["to", "TO"], ["delete", "VB"], ["from", "IN"], ["an", "DT"], ["empty", "JJ"], ["priority", "NN"], ["queue", "NN"], ["and", "CC"], ["we", "PRP"], ["should", "MD"], ["have", "VB"], ["a", "DT"], ["no", "DT"], ["argument", "NN"], ["constructor", "NN"], [",", ","], ["and", "CC"], ["use", "VB"], ["a", "DT"], ["resizing", "NN"], ["array", "NN"], [",", ","], ["to", "TO"], [",", ","], ["account", "NN"], ["for", "IN"], ["gradual", "JJ"], ["growth", "NN"], ["and", "CC"], ["shrinkage", "NN"], ["in", "IN"], ["an", "DT"], ["industrial", "JJ"], ["strength", "NN"], ["implementation", "NN"], [".", "."], ["Usually", "RB"], ["we", "PRP"], ["provide", "VBP"], ["two", "CD"], ["implementations", "NNS"], [",", ","], ["one", "CD"], ["that", "WDT"], ["'s", "VBZ"], ["max", "NN"], ["oriented", "VBD"], [",", ","], ["one", "CD"], ["t", "NN"], ["hat", "NN"], ["'s", "POS"], ["min", "NN"], ["oriented", "VBD"], ["so", "RB"], ["that", "IN"], ["nobody", "NN"], ["get", "VBP"], ["'s", "POS"], ["confused", "VBN"], ["and", "CC"], ["they", "PRP"], ["'re", "VBP"], ["the", "DT"], ["same", "JJ"], ["except", "IN"], ["the", "DT"], ["less", "JJR"], ["and", "CC"], ["greater", "JJR"], ["switch", "NN"], [".", "."], ["And", "CC"], ["we", "PRP"], ["'ll", "MD"], ["see", "VB"], ["later", "RB"], ["on", "IN"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["times", "NNS"], ["when", "WRB"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["add", "VB"], [",", ","], ["expand", "VB"], ["the", "DT"], ["API", "NNP"], ["and", "CC"], ["provide", "VB"], ["other", "JJ"], ["operations", "NNS"], ["like", "IN"], ["removing", "VBG"], ["an", "DT"], ["arbitrary", "JJ"], ["item", "NN"], ["from", "IN"], ["the", "DT"], ["priority", "NN"], ["queue", "NN"], [",", ","], ["or", "CC"], ["give", "VB"], ["the", "DT"], ["client", "NN"], ["in", "IN"], ["the", "DT"], ["API", "NNP"], ["the", "DT"], ["capability", "NN"], ["of", "IN"], ["changing", "VBG"], ["the", "DT"], ["priority", "NN"], ["of", "IN"], ["an", "DT"], ["item", "NN"], [".", "."], ["Our", "PRP$"], ["sink", "NN"], ["and", "CC"], ["swim", "NN"], ["methods", "NNS"], ["are", "VBP"], ["good", "JJ"], ["for", "IN"], ["making", "VBG"], ["this", "DT"], ["happen", "NN"], [",", ","], ["but", "CC"], ["we", "PRP"], ["'ll", "MD"], [",", ","], ["delay", "VB"], ["these", "DT"], ["implementations", "NNS"], ["until", "IN"], ["we", "PRP"], ["need", "VBP"], ["them", "PRP"], ["in", "IN"], ["a", "DT"], ["more", "RBR"], ["complicated", "JJ"], ["algorithm", "NN"], [".", "."], ["So", "IN"], ["what", "WP"], ["about", "IN"], ["mutability", "NN"], ["?", "."], ["So", "RB"], ["in", "IN"], ["every", "DT"], ["thing", "NN"], ["in", "IN"], ["Java", "NNP"], ["is", "VBZ"], ["implemented", "VBN"], ["as", "IN"], ["a", "DT"], ["data", "NN"], ["type", "NN"], [",", ","], ["a", "DT"], ["set", "NN"], ["of", "IN"], ["values", "NNS"], ["and", "CC"], ["operations", "NNS"], ["on", "IN"], ["those", "DT"], ["values", "NNS"], ["and", "CC"], ["the", "DT"], ["idea", "NN"], ["of", "IN"], ["immutable", "JJ"], ["data", "NNS"], ["type", "NN"], [",", ","], ["is", "VBZ"], ["you", "PRP"], ["ca", "MD"], ["n't", "RB"], ["change", "VB"], ["the", "DT"], ["value", "NN"], ["once", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["created", "VBN"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["kind", "NN"], ["of", "IN"], ["like", "NN"], [",", ","], ["when", "WRB"], ["you", "PRP"], ["[", "VBP"], ["cough", "JJ"], ["]", "NN"], ["when", "WRB"], ["you", "PRP"], [",", ","], ["when", "WRB"], ["you", "PRP"], ["create", "VBP"], ["a", "DT"], ["literal", "JJ"], ["value", "NN"], ["to", "TO"], ["be", "VB"], ["assigned", "VBN"], ["to", "TO"], ["an", "DT"], ["integer", "NN"], [",", ","], ["it", "PRP"], ["has", "VBZ"], ["that", "IN"], ["value", "NN"], [".", "."], ["So", "RB"], ["here", "RB"], [",", ","], ["here", "RB"], ["'s", "VBZ"], ["an", "DT"], ["example", "NN"], ["say", "VBP"], ["using", "VBG"], ["the", "DT"], ["data", "NNS"], ["type", "NN"], ["for", "IN"], ["vectors", "NNS"], ["might", "MD"], ["be", "VB"], ["a", "DT"], ["way", "NN"], ["to", "TO"], ["implement", "VB"], ["vectors", "NNS"], [".", "."], ["So", "IN"], ["we", "PRP"], ["put", "VBD"], ["the", "DT"], ["word", "NN"], ["final", "JJ"], ["to", "TO"], ["means", "NNS"], ["that", "IN"], ["instance", "NN"], ["methods", "NNS"], ["ca", "MD"], ["n't", "RB"], ["be", "VB"], ["overridden", "VBN"], [".", "."], ["And", "CC"], ["not", "RB"], ["only", "RB"], ["that", "IN"], [",", ","], ["instance", "NN"], ["variables", "NNS"], ["are", "VBP"], ["private", "JJ"], [",", ","], ["they", "PRP"], ["ca", "MD"], ["n't", "RB"], ["be", "VB"], ["seen", "VBN"], ["from", "IN"], ["the", "DT"], ["outside", "NN"], ["and", "CC"], ["they", "PRP"], ["do", "VBP"], ["n't", "RB"], ["change", "VB"], [".", "."], ["And", "CC"], ["so", "RB"], ["a", "DT"], ["constructor", "NN"], ["for", "IN"], ["an", "DT"], ["immutable", "JJ"], ["vector", "NN"], ["data", "NNS"], ["type", "NN"], [",", ","], ["it", "PRP"], ["might", "MD"], ["take", "VB"], ["an", "DT"], ["array", "NN"], ["[", "JJ"], ["cough", "NN"], ["]", "NN"], ["as", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["argument", "NN"], [",", ","], ["and", "CC"], ["that", "IN"], ["array", "NN"], ["has", "VBZ"], ["got", "VBN"], ["values", "NNS"], ["stored", "VBN"], ["in", "IN"], ["it", "PRP"], [",", ","], ["say", "VB"], ["doubles", "NNS"], [",", ","], ["and", "CC"], ["those", "DT"], ["are", "VBP"], [",", ","], ["those", "DT"], ["can", "MD"], ["change", "VB"], ["but", "CC"], ["what", "WP"], ["immutable", "JJ"], ["implementation", "NN"], ["would", "MD"], ["do", "VB"], ["would", "MD"], ["be", "VB"], ["to", "TO"], ["copy", "VB"], ["those", "DT"], ["values", "NNS"], ["into", "IN"], ["the", "DT"], ["local", "JJ"], ["[", "NNP"], ["cough", "NN"], ["]", "NNP"], ["data", "NNS"], ["array", "NN"], ["instance", "NN"], ["variable", "NN"], ["and", "CC"], ["then", "RB"], ["those", "DT"], ["values", "NNS"], ["are", "VBP"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], ["change", "VB"], [".", "."], ["And", "CC"], ["the", "DT"], ["instance", "NN"], ["methods", "NNS"], ["wo", "MD"], ["n't", "RB"], ["change", "VB"], ["them", "PRP"], ["and", "CC"], ["the", "DT"], ["client", "NN"], ["ca", "MD"], ["n't", "RB"], ["change", "VB"], ["them", "PRP"], [".", "."], ["So", "IN"], ["that", "IN"], ["value", "NN"], ["stays", "VBZ"], ["the", "DT"], ["same", "JJ"], [".", "."], ["Lots", "NNP"], ["of", "IN"], [",", ","], ["implementations", "NNS"], [",", ","], ["data-type", "JJ"], ["implementations", "NNS"], ["in", "IN"], ["Java", "NNP"], ["are", "VBP"], ["immutable", "JJ"], [",", ","], ["like", "IN"], ["string", "NN"], ["is", "VBZ"], ["immutable", "JJ"], [".", "."], ["When", "WRB"], ["you", "PRP"], ["create", "VBP"], ["a", "DT"], ["string", "NN"], ["that", "IN"], ["value", "NN"], ["does", "VBZ"], ["n't", "RB"], ["change", "VB"], [".", "."], ["[", "JJ"], ["cough", "NN"], ["]", "NN"], ["if", "IN"], ["you", "PRP"], ["want", "VBP"], ["a", "DT"], ["new", "JJ"], ["string", "NN"], [",", ","], ["you", "PRP"], ["have", "VBP"], ["to", "TO"], ["create", "VB"], ["a", "DT"], ["new", "JJ"], ["string", "NN"], [",", ","], ["using", "VBG"], ["concatenation", "NN"], ["or", "CC"], ["some", "DT"], ["other", "JJ"], ["operation", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["same", "JJ"], ["with", "IN"], ["the", "DT"], ["wrapper", "NN"], ["types", "NNS"], [",", ","], ["like", "IN"], ["integer", "NN"], ["and", "CC"], ["double", "JJ"], [",", ","], ["or", "CC"], ["color", "NN"], [",", ","], ["and", "CC"], [",", ","], ["what", "WP"], ["lots", "NNS"], ["of", "IN"], ["things", "NNS"], [".", "."], ["Whereas", "NNP"], ["on", "IN"], ["the", "DT"], ["other", "JJ"], ["hand", "NN"], [",", ","], ["sometimes", "RB"], [",", ","], ["the", "DT"], ["whole", "JJ"], ["purpose", "NN"], [",", ","], ["of", "IN"], ["a", "DT"], ["data", "NN"], ["type", "NN"], ["is", "VBZ"], ["to", "TO"], ["maintain", "VB"], ["a", "DT"], ["changing", "VBG"], ["value", "NN"], ["like", "IN"], ["a", "DT"], ["good", "JJ"], ["example", "NN"], ["is", "VBZ"], ["like", "IN"], ["a", "DT"], ["counter", "NN"], [",", ","], ["or", "CC"], ["a", "DT"], ["stack", "NN"], [".", "."], ["So", "IN"], ["you", "PRP"], ["would", "MD"], ["n't", "RB"], ["put", "VB"], ["those", "DT"], ["things", "NNS"], ["on", "IN"], ["a", "DT"], ["priority", "NN"], ["queue", "NN"], ["cuz", "VBP"], ["the", "DT"], ["value", "NN"], ["is", "VBZ"], ["changing", "VBG"], ["but", "CC"], ["the", "DT"], ["other", "JJ"], ["ones", "NNS"], ["you", "PRP"], ["would", "MD"], [".", "."], ["So", "VB"], ["the", "DT"], ["advantages", "NNS"], ["of", "IN"], ["immutability", "NN"], ["and", "CC"], ["again", "RB"], [",", ","], ["maybe", "RB"], ["this", "DT"], ["is", "VBZ"], ["n't", "RB"], ["the", "DT"], ["place", "NN"], ["to", "TO"], ["really", "RB"], ["sell", "VB"], ["those", "DT"], ["advantages", "NNS"], ["more", "JJR"], ["for", "IN"], ["a", "DT"], ["programming", "JJ"], ["language", "NN"], ["course", "NN"], ["is", "VBZ"], ["that", "IN"], ["it", "PRP"], [",", ","], ["it", "PRP"], ["really", "RB"], ["simplifies", "VBZ"], ["debugging", "VBG"], [".", "."], ["We", "PRP"], ["can", "MD"], ["be", "VB"], ["have", "VB"], ["more", "JJR"], ["confidence", "NN"], ["that", "IN"], ["our", "PRP$"], ["priority", "NN"], ["queue", "NN"], ["operations", "NNS"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["work", "VB"], ["correctly", "RB"], ["if", "IN"], ["we", "PRP"], ["know", "VBP"], ["that", "IN"], ["the", "DT"], ["type", "NN"], ["of", "IN"], ["data", "NNS"], ["that", "WDT"], ["'s", "VBZ"], ["on", "IN"], ["the", "DT"], ["priority", "NN"], ["queue", "NN"], ["is", "VBZ"], ["immutable", "JJ"], [".", "."], ["If", "IN"], ["the", "DT"], ["client", "NN"], ["could", "MD"], ["change", "VB"], ["the", "DT"], ["values", "NNS"], [",", ","], ["how", "WRB"], ["do", "VBP"], ["we", "PRP"], ["know", "VB"], ["that", "IN"], ["the", "DT"], ["heap", "JJ"], ["ordering", "NN"], ["operation", "NN"], ["is", "VBZ"], ["preserved", "VBN"], ["?", "."], ["If", "IN"], ["we", "PRP"], ["want", "VBP"], ["the", "DT"], ["client", "NN"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["change", "VB"], ["values", "NNS"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["provide", "VB"], ["methods", "NNS"], ["for", "IN"], ["that", "DT"], ["purpose", "NN"], ["as", "IN"], ["I", "PRP"], ["just", "RB"], ["mentioned", "VBD"], [".", "."], ["And", "CC"], ["there", "EX"], ["'s", "VBZ"], ["many", "JJ"], ["other", "JJ"], ["reasons", "NNS"], ["that", "IN"], ["people", "NNS"], ["use", "VBP"], ["immutable", "JJ"], ["data", "NNS"], ["types", "NNS"], [".", "."], ["There", "EX"], ["is", "VBZ"], ["a", "DT"], ["disadvantage", "NN"], ["that", "IN"], ["you", "PRP"], ["have", "VBP"], ["to", "TO"], ["create", "VB"], ["a", "DT"], ["new", "JJ"], ["object", "NN"], ["for", "IN"], ["every", "DT"], ["data", "NN"], ["type", "NN"], ["value", "NN"], ["but", "CC"], ["for", "IN"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["applications", "NNS"], ["that", "WDT"], ["disadvan", "VBP"], ["tage", "NN"], ["is", "VBZ"], ["not", "RB"], ["viewed", "VBN"], ["to", "TO"], ["be", "VB"], ["significant", "JJ"], ["compared", "VBN"], ["to", "TO"], ["the", "DT"], ["advantages", "NNS"], [".", "."], ["Here", "RB"], ["'s", "VBZ"], ["a", "DT"], ["quote", "NN"], ["from", "IN"], ["a", "DT"], ["one", "CD"], ["of", "IN"], ["Java", "NNP"], ["'s", "POS"], ["architect", "NN"], [",", ","], ["Josh", "NNP"], ["Black", "NNP"], [".", "."], ["Classes", "NNS"], ["should", "MD"], ["be", "VB"], ["immutable", "JJ"], ["unless", "IN"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["very", "RB"], ["good", "JJ"], ["reason", "NN"], ["to", "TO"], ["make", "VB"], ["them", "PRP"], ["mutable", "JJ"], [".", "."], ["If", "IN"], ["a", "DT"], ["class", "NN"], ["can", "MD"], ["not", "RB"], ["be", "VB"], ["made", "VBN"], ["immutable", "JJ"], [",", ","], ["you", "PRP"], ["should", "MD"], ["still", "RB"], ["limit", "VB"], ["its", "PRP$"], ["immutability", "NN"], ["as", "RB"], ["much", "RB"], ["as", "IN"], ["possible", "JJ"], [".", "."], ["And", "CC"], ["many", "JJ"], ["programmers", "NNS"], ["live", "VBP"], ["by", "IN"], ["that", "DT"], ["kind", "NN"], ["of", "IN"], ["precept", "NN"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["basic", "JJ"], ["implementation", "NN"], ["of", "IN"], ["priority", "NN"], ["queues", "NNS"], ["using", "VBG"], ["the", "DT"], ["heap", "JJ"], ["data", "NN"], ["structure", "NN"], ["represented", "VBN"], ["as", "IN"], ["an", "DT"]], "title": "binary heaps", "text": "Now we're going to look at binary heaps which is an ingenious and very simple data structure that's going to help us implement all the priority queue operations quickly. So, the idea of a binary heap is based on the idea of a complete binary tree. So, a complete binary tree, well first of all, a binary tree is either empty or it's a node with links to left and right binary trees so that's an example of a binary tree. A complete binary tree is one that's perfectly balanced, except possibly for the bottom level. So there might be a few nodes on the, on the bottom level and one level lower than the bottom level. But otherwise, all the levels are full. We'll see how that looks in just a second. The property of complete tree is that the height of a complete tree with n nodes is the biggest integer less than log base two of N, and that's really easy to convince yourself that that's true because the height, if you add nodes one at a time going from left to right on the bottom level say, the height only increases when n is a power of two. Complete binary trees actually happen in nature. Here's an example of one that goes one, two, three, four levels at least, so sixteen pushes at the end there. Alright. Now, the way we're going to use complete binary trees to implement priority queues is to first of all, associate information with each node. We'll put our keys in the nodes, and also we're going to represent it with an array. So, [cough] when we start putting the keys in the nodes we're going to impose one more condition that's called Heap Ordering. And the idea is that the parent's key is going to be no smaller than its children's key for, and that's true for every node in the tree. The array representation, all we do is, we put we start with indices at one, it's a little less calculation. That way we leave a(0) empty and then we just take the nodes in level order. So first, we put the root. Then, we put the two nodes on the fi rst level going left from right. And then, all the nodes on the third level, going from left to right and so forth. This is interesting because we can draw the tree to get more intuition about what's happening. But in the actual data structure representation, we don't need any links at all. It's just an array. The way that we move around the tree is by doing arithmetic on the indices. So let's look at a few properties of binary heaps. So that's complete binary trees represented in array with keys in the nodes satisfying the heap order property. Well, first thing is that a(1) is the largest key. It's larger than the keys and its two children and they're larger than theirs and so forth so it's the largest key in the data structure. The other thing is, as I just mentioned, you can use the array in the seeds to move through the tree. For example, if the node is at position K, index K in the array, then it's parent is a K over two and that's integer divide. So the parents of say H and G are both N. H is ten, G is at eleven, N's at five so both of those are ten over two, eleven over two, integer divide is five. And going the other way it's easy to see that the children of the node at K are 2k and 2k + one. So we don't need explicit lengths at all to represent these data structures. We can just use array indices. So [cough] that's the basic setup or the invariant that we're going to maintain in this data structure. And now, what we're going to do is take a look at just a couple of different scenarios that where we violate that invariant temporarily and then fix it. And that's going to give us the flexibility that we need to implement priority queue operations. So one scenario shown here, is if for whatever reason a child's key becomes larger than its parent's key. So in this case, we have an example where T, the node T here, its value changes and it becomes larger than its parent key P. So, the heap order condition is satisfied everywhere, except at this node. Well, it's easy to fix this one. All we do is exchange the key in the child with the key in the parent. After that exchange, then, that would have T up here and P down here then the heap order condition is satisfied at that node because the parent was smaller, so that one's smaller. And so that one is still smaller so T is after its exchanged up here will be bigger than both its children. But the heap condition will be violated cuz T is still smaller than S. So we have do it again, exchange it with S. So we move up the tree, exchanging the larger key with its smaller parent, until we get to a point where its larger than both its children. That's restoring the heap order along the path from the place where it's violated to the root. You can think of that as kind of like the well known Peter Principle where a node gets promoted to a level where it finally can't be better than, than it's boss. It's a level of it's maximum incompetence. And implementing that in code is really easy. We call that the swim operation, it swims up to the top. And if we have a node at index K and we know the heap condition is violated there, as long as we're not at the root and K's parent, K over two is less than A of K. Then, we just exchange it with its parent, and move up. That's the swim operation to eliminate a violation when a key value increases. [cough] So for example, this gives us a way to insert a new element into a heap. What we do is, we add a new node at the end of the heap, so this one position over. The thing is, remember represented in array, one, two, three And so forth. So the [cough] next empty position in the array there's a place to put a new node. And then we just declare that, that's part of the heap and that node, well if it's less than its parent, we're fine. But in general, we have to check whether the heap condition is violated and exchange it with its par ent as long as it's smaller and that's just perform the swim operation. So if N is the number of items in the heap, defined to be in the heap we're going to increment it, store a new key there, there and then perform the swim operation. So that's a quick implementation of the insert operation. And notice since it's just going from bottom to top in the heap it takes at most one plus log base two of N compares. [cough] Now there's another scenario where a key becomes smaller. For whatever reason, a parent becomes key decreases, it might become smaller than one or both of its children. In this case, the value at position two has changed to H for whatever reason and that's smaller, in this case, than both its children. So how do we fix that violation? Well, that one's also easy. We figure out which of the children is larger. In this case, it's the S, and we exchange our exchange that one with the one that's violating the condition. So that's moving the smaller key down. After that exchange, then S is in position two, and it's bigger than both P and H. And the heap condition is only violated again where H is sitting. And again, we keep going until getting to the bottom, or getting to a place where both children are smaller. And that's maybe a little bit what happens when a, a new boss is hired from the outside and then the two subordinates struggle to take over that position and then the bros, boss would get demoted to it's level of competence. And again, that level of flexibility. Here's the implementation of it. And again, it's quite straightforward using the [cough] index arithmetic to move around in the heap. If we're, and that's called the sink operation, cuz we're going down the heap. If were at position K, then what we need to worry about it is the nodes at 2k and 2k + one. And the first thing to check is find out which one's bigger. It's either 2k or 2k + one and so set j accordingly. So that's j now, is, after this st atement is the larger of the two children. And don't forget to check that we're going off the end of the heap. And then if, [cough] the K is not less than either one of those, then we're done. If it is, then we exchange with the larger of the two children and move down the heap. Again, just a few lines of code to eliminate the violation when a key value in a heap decreases. And that one we're going to use to implement delete the maximum in a heap. So delete the maximum, we have to do two things, one thing is the size of the heap has got to go down by one. The other thing is return the maximum. Well, we know that [cough] one that we want to return is the one at the root. So we'll save that value away to return to the client. And then, since it has to go down by one the place to get the to remove the element from the heap is at the end of the array cuz it's now going to have to not occupy that position, so we take that element and replace the root with it. So I move the H up and actually, put the root value there just exchange them but it's not longer in the heap. Now, that element which went from the bottom to the top is most likely going to violate the heap order. It's going to be smaller than one of its, both of its children. So, we do a sink. [cough] now in this case to implement the lead max we save away that value at the root in max and we eliminate loitering by nulling out that vacated position then return the max value. So that's an implement, implementation of the delete max operation for heap using sink where a key value that decreases, go down, goes down in the heap. So let's just take a look at what happens with a, a real heap with the demo when we do these things. And you'll have a good feeling for how this data structure works. So, we're starting at some point where we have these ten keys in heap and it's heap order. So we've drawn the data structure with the links, so we have an intuition for what's going on. But all the program sees is the array and grey at the bottom where T's in position one, P and R are position two and three, and so forth. So now, suppose that we're supposed to add S. So to add it to the heap, that's going to go in the position at the end. Then now we've added it to the heap just by incrementing N, putting it in there but now we have to bring the heap order back into condition. And so that's going to, now that key is larger than its parent so we're going to swim it up exchange it with its parent as long as it's smaller than its parent. So, first thing it goes up exchange with the S, it's still bigger than P. So we exchange it with the T and now we're done because S in not bigger than T and the heap order condition is now satisfied everywhere in the heap. So, with just two exchanges we insert that new element in the heap in this case. I now suppose the next operation is remove the maximum. So, we're going to take T and exchange it with the last element and then declare that to be no longer part of the heap. So now [cough] we have to bring the heap order back because it might be violated at the root so now we invoke the sink where we exchange that node with the larger of its two children until we find a place where its larger than both its children. So S is the larger of the two children R and S and now H is still smaller than both it's children so we promote the larger, which is P. Now H has no right child, just a left child and it's larger than that one, so we're finished with that operation. We've removed the maximum and we still have our data structure heap ordered and our n keys stored in first n positions in the array. Let's remove the maximum again. Again we take it out by exchanging this time G with the root and then [cough] decrease the size of the heap by one. Just take that out. Now, t he node of the root violates the heap border so we have to exchange it with the largest of it's two children, in this case that's R. Again, G is not larger than it's two children so we have to exchange it with the larger of the two, that's O and now we are done, we've removed the largest again. Now suppose we insert S back into the heap. So [cough] that's adding it at the end, violates the heap order exchange it with the parent smaller and keep doing until we get to a place where it's larger than its two children. In this case, S goes all the way up to the root. And it's all heap ordered again. So that's a little survey of some operations on a heap and you can see how every operation is done with just a few exchanges along the path from the bottom to the top or the top to the bottom. Okay, here's the complete Java implementation of a priority queue using the binary heap data structure. [cough] it's actually not so different from the elementary implementations that we looked at in the last section. Our representation is an array of keys and a size, that's the number of items in the heap. [cough] for simplicity, we'll show the code where the client gives the capacity of the heap. We can use resizing array, in industrial strength implementation, the same that, we did for stacks and other data structures where we use arrays. So we'll build a new array of keys and we have to use an ugly, ugly cast because we can't have generic arrays in Java. And that, so it's comparable and, and we need one more than the capacity to handle this thing where, we don't use position zero. So the priority queue operations, is the insert and del max that we showed in the previous slides, is empty, is just checking whether n is equal to zero. We have the swim and sink functions that we showed earlier. And then we have helper functions less and exchange, that access the array directly so that the co de doesn't have to access directly. That's a complete implementation of priority queues in Java. And this is, this implementation by itself is extremely significant because, it's really very simple, optimal representation of the data. And only a little arithmetic with array indices. But as you can see by looking at this table, it gives us a way to implement priority queues where, both operations are guaranteed to happen in log N time. Now, experts have worked to come up with improvements on this and there are slight improvements possible. We can make the heap d way rather than just two way and depending on the frequency of execution of the uncertain del max operations that might work out better. There's an advanced data structure called a Fibonacci Heap, where inserts are done in constant time and delete max done in log N time on an average over all the operations. That ones generally too complicated to use in practice. But still again, using theory as a guide maybe there's a way to, [cough] to decrease costs a little bit from binary heaps. And of course, we cannot get down to having constant time for all operations. Why? Well, we can sort with a heap by inserting all the elements and then deleting the maximum of getting a sort done and that would be in linear time if we had this kind of variation. If, if we have constant time operations for both insert and del max. But for certain applications, we can get close to constant time for one or the other operations and that'll be useful in different implementations. Now, there's an important consideration, that, in, that we have to bring up related to the programming language and [cough] this is, a more general consideration than usually we bring into focus in algorithms but it's worthwhile mentioning. We're assuming that the client doesn't get to change the keys while they're on the priority queue. And it's better not to ass ume that it's better to arrange for that in our implementations by using keys that are immutable, who's values don't change. There's many reasons that immu, immutable keys are [cough] that programming languages provide the capability to build immutable keys and, and this is a fine example of one. So and we'll talk more about that in a minute. The other things that, that, we didn't talk about in the implementation should throw in, exception. If the client tries to delete from an empty priority queue and we should have a no argument constructor, and use a resizing array, to, account for gradual growth and shrinkage in an industrial strength implementation. Usually we provide two implementations, one that's max oriented, one t hat's min oriented so that nobody get's confused and they're the same except the less and greater switch. And we'll see later on, there's times when we want to add, expand the API and provide other operations like removing an arbitrary item from the priority queue, or give the client in the API the capability of changing the priority of an item. Our sink and swim methods are good for making this happen, but we'll, delay these implementations until we need them in a more complicated algorithm. So what about mutability? So in every thing in Java is implemented as a data type, a set of values and operations on those values and the idea of immutable data type, is you can't change the value once it's created. So that's kind of like, when you [cough] when you, when you create a literal value to be assigned to an integer, it has that value. So here, here's an example say using the data type for vectors might be a way to implement vectors. So we put the word final to means that instance methods can't be overridden. And not only that, instance variables are private, they can't be seen from the outside and they don't change. And so a constructor for an immutable vector data type, it might take an array [cough] as it's argument, and that array has got values stored in it, say doubles, and those are, those can change but what immutable implementation would do would be to copy those values into the local [cough] data array instance variable and then those values are not going to change. And the instance methods won't change them and the client can't change them. So that value stays the same. Lots of, implementations, data-type implementations in Java are immutable, like string is immutable. When you create a string that value doesn't change. [cough] if you want a new string, you have to create a new string, using concatenation or some other operation. And the same with the wrapper types, like integer and double, or color, and, what lots of things. Whereas on the other hand, sometimes, the whole purpose, of a data type is to maintain a changing value like a good example is like a counter, or a stack. So you wouldn't put those things on a priority queue cuz the value is changing but the other ones you would. So the advantages of immutability and again, maybe this isn't the place to really sell those advantages more for a programming language course is that it, it really simplifies debugging. We can be have more confidence that our priority queue operations are going to work correctly if we know that the type of data that's on the priority queue is immutable. If the client could change the values, how do we know that the heap ordering operation is preserved? If we want the client to be able to change values, we're going to provide methods for that purpose as I just mentioned. And there's many other reasons that people use immutable data types. There is a disadvantage that you have to create a new object for every data type value but for a lot of applications that disadvan tage is not viewed to be significant compared to the advantages. Here's a quote from a one of Java's architect, Josh Black. Classes should be immutable unless there's a very good reason to make them mutable. If a class cannot be made immutable, you should still limit its immutability as much as possible. And many programmers live by that kind of precept. So that's a basic implementation of priority queues using the heap data structure represented as an ", "video_ID": 35, "course_id": 3}
{"category": ["priority queues"], "tagged": [["Next", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["the", "DT"], ["use", "NN"], ["of", "IN"], ["the", "DT"], ["binary", "JJ"], ["heap", "NN"], ["data", "NNS"], ["structure", "NN"], ["to", "TO"], ["implement", "VB"], ["a", "DT"], ["clever", "NN"], ["sorting", "VBG"], ["algorithm", "RB"], ["known", "VBN"], ["as", "IN"], ["Heapsort", "NNP"], [".", "."], ["So", "NNP"], ["here", "RB"], ["'s", "VBZ"], ["the", "DT"], ["basic", "JJ"], ["plan", "NN"], [".", "."], ["What", "WP"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["we", "PRP"], ["have", "VBP"], ["our", "PRP$"], ["end", "NN"], ["keys", "NN"], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["have", "VB"], ["them", "PRP"], ["in", "IN"], ["an", "DT"], ["array", "NN"], [".", "."], ["We", "PRP"], ["'ll", "MD"], ["view", "VB"], ["that", "DT"], ["array", "NN"], ["as", "IN"], ["eventually", "RB"], ["being", "VBG"], ["a", "DT"], ["max", "NN"], ["heap", "NN"], [".", "."], ["So", "RB"], ["what", "WP"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["do", "VB"], ["first", "RB"], ["is", "VBZ"], ["to", "TO"], ["rearrange", "VB"], ["the", "DT"], ["keys", "NNS"], ["in", "IN"], ["the", "DT"], ["array", "NN"], ["to", "TO"], ["heap", "VB"], ["order", "NN"], ["it", "PRP"], [".", "."], ["So", "RB"], ["just", "RB"], ["make", "VB"], ["it", "PRP"], ["so", "RB"], ["that", "IN"], ["every", "DT"], ["key", "NN"], ["is", "VBZ"], ["larger", "JJR"], ["than", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["two", "CD"], ["children", "NNS"], [".", "."], ["And", "CC"], ["for", "IN"], ["example", "NN"], [",", ","], ["the", "DT"], ["largest", "JJS"], ["of", "IN"], ["all", "PDT"], ["the", "DT"], ["keys", "NN"], ["is", "VBZ"], ["at", "IN"], ["the", "DT"], ["root", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["the", "DT"], ["next", "JJ"], ["phase", "NN"], ["would", "MD"], ["be", "VB"], ["to", "TO"], ["take", "VB"], ["that", "DT"], ["heap", "NN"], ["ordered", "VBD"], ["array", "NN"], ["and", "CC"], ["get", "VB"], [",", ","], ["get", "VB"], ["it", "PRP"], ["to", "TO"], ["be", "VB"], ["a", "DT"], ["sorted", "JJ"], ["result", "NN"], ["in", "IN"], [",", ","], ["in", "IN"], ["place", "NN"], [".", "."], ["And", "CC"], ["again", "RB"], [",", ","], ["the", "DT"], [",", ","], ["heap", "NN"], ["is", "VBZ"], ["stored", "VBN"], ["in", "IN"], ["the", "DT"], ["array", "NN"], [",", ","], ["with", "IN"], ["the", "DT"], ["first", "JJ"], ["key", "JJ"], ["position", "NN"], ["one", "CD"], [",", ","], ["next", "JJ"], ["to", "TO"], ["position", "NN"], ["two", "CD"], ["and", "CC"], ["three", "CD"], ["and", "CC"], ["like", "IN"], ["that", "DT"], [".", "."], ["So", "IN"], ["the", "DT"], ["end", "NN"], ["result", "NN"], ["would", "MD"], ["be", "VB"], ["like", "IN"], ["that", "DT"], [",", ","], ["with", "IN"], [",", ","], ["no", "DT"], ["keys", "NNS"], ["in", "IN"], ["the", "DT"], ["heap", "NN"], [",", ","], ["but", "CC"], ["all", "PDT"], ["the", "DT"], ["keys", "NNS"], ["in", "IN"], ["the", "DT"], ["array", "NN"], ["in", "IN"], ["sorted", "JJ"], ["order", "NN"], [".", "."], ["So", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["little", "JJ"], ["exercise", "NN"], ["in", "IN"], ["abstraction", "NN"], [".", "."], ["Part", "NN"], ["of", "IN"], ["the", "DT"], ["array", "NN"], ["is", "VBZ"], ["the", "DT"], ["heap", "NN"], [".", "."], ["Part", "NN"], ["of", "IN"], ["the", "DT"], ["array", "NN"], ["is", "VBZ"], ["the", "DT"], ["sorted", "JJ"], ["sub", "NN"], ["array", "NN"], [".", "."], ["And", "CC"], ["eventually", "RB"], ["we", "PRP"], ["bring", "VBP"], ["it", "PRP"], ["down", "RP"], ["to", "TO"], ["the", "DT"], ["whole", "JJ"], ["thing", "NN"], ["being", "VBG"], ["sorted", "VBN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["very", "RB"], ["little", "JJ"], ["code", "NN"], ["beyond", "IN"], ["the", "DT"], ["basic", "JJ"], ["heap", "NN"], ["code", "NN"], ["that", "IN"], ["we", "PRP"], ["'ve", "VBP"], ["looked", "VBN"], ["at", "IN"], ["can", "MD"], ["get", "VB"], ["this", "DT"], ["implemented", "VBN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["called", "VBN"], ["Heapsort", "NNP"], [".", "."], ["Let", "VB"], ["'s", "POS"], ["take", "VB"], ["a", "DT"], ["demo", "NN"], ["of", "IN"], ["how", "WRB"], ["Heapsort", "NNP"], ["works", "VBZ"], ["in", "IN"], ["our", "PRP$"], ["example", "NN"], [".", "."], ["So", "IN"], ["the", "DT"], ["idea", "NN"], ["is", "VBZ"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["use", "VB"], ["a", "DT"], ["bottom", "NN"], ["up", "RP"], ["method", "NN"], [".", "."], ["So", "RB"], ["all", "PDT"], ["that", "DT"], ["means", "VBZ"], ["is", "VBZ"], ["we", "PRP"], ["start", "VBP"], ["with", "IN"], ["an", "DT"], ["array", "NN"], ["in", "IN"], ["arbitrary", "JJ"], ["order", "NN"], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["work", "VB"], ["from", "IN"], ["the", "DT"], ["bottom", "NN"], ["up", "RB"], ["to", "TO"], ["make", "VB"], ["sure", "JJ"], ["that", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["heap", "JJ"], ["order", "NN"], [".", "."], ["Well", "RB"], ["all", "PDT"], ["the", "DT"], ["nodes", "NNS"], ["with", "IN"], ["no", "DT"], ["children", "NNS"], ["are", "VBP"], ["heap", "JJ"], ["order", "NN"], [",", ","], ["they", "PRP"], ["are", "VBP"], ["only", "RB"], ["a", "DT"], ["size", "NN"], ["one", "CD"], [",", ","], ["the", "DT"], ["first", "JJ"], ["one", "CD"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["worry", "VB"], ["about", "RB"], ["is", "VBZ"], ["this", "DT"], ["one", "NN"], ["here", "RB"], ["the", "DT"], ["root", "NN"], [",", ","], ["the", "DT"], ["root", "NN"], [".", "."], ["We", "PRP"], ["have", "VBP"], ["n't", "RB"], ["examined", "VBN"], ["yet", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["children", "NNS"], ["are", "VBP"], ["heap", "JJ"], ["ordered", "VBN"], ["so", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["small", "JJ"], ["heap", "NN"], ["of", "IN"], ["size", "NN"], ["three", "CD"], ["that", "WDT"], ["may", "MD"], ["not", "RB"], ["be", "VB"], ["heap", "RB"], ["ordered", "VBN"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["because", "IN"], ["one", "CD"], ["of", "IN"], ["the", "DT"], ["children", "NNS"], ["is", "VBZ"], ["larger", "JJR"], [",", ","], ["so", "IN"], ["that", "DT"], ["'s", "VBZ"], ["where", "WRB"], ["things", "NNS"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["start", "VB"], [".", "."], ["We", "PRP"], ["have", "VBP"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["one", "CD"], ["node", "NN"], ["heaps", "NNS"], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["to", "TO"], ["perform", "VB"], ["the", "DT"], ["sync", "NN"], ["operation", "NN"], ["on", "IN"], ["this", "DT"], ["one", "CD"], [",", ","], ["that", "WDT"], ["node", "VBP"], ["five", "CD"], [",", ","], ["that", "DT"], ["'s", "VBZ"], [",", ","], ["in", "IN"], ["this", "DT"], ["case", "NN"], ["just", "RB"], ["to", "TO"], ["change", "VB"], ["it", "PRP"], ["with", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["parent", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["proceeding", "VBG"], ["in", "IN"], ["that", "DT"], ["way", "NN"], [",", ","], ["moving", "VBG"], ["bottom", "NN"], ["up", "RB"], ["or", "CC"], ["moving", "VBG"], ["from", "IN"], ["right", "NN"], ["to", "TO"], ["left", "VB"], [",", ","], ["the", "DT"], ["next", "JJ"], ["thing", "NN"], ["we", "PRP"], ["do", "VBP"], ["is", "VBZ"], ["but", "CC"], ["then", "RB"], ["worry", "VBP"], ["about", "IN"], ["a", "DT"], ["three", "CD"], ["node", "NN"], ["heap", "VBD"], ["that", "DT"], ["'s", "VBZ"], ["heap", "JJ"], ["ordered", "JJ"], ["and", "CC"], ["we", "PRP"], ["'re", "VBP"], ["fine", "JJ"], [".", "."], ["Now", "RB"], ["we", "PRP"], ["'ll", "MD"], ["move", "VB"], ["over", "IN"], ["to", "TO"], ["the", "DT"], ["T", "NNP"], ["and", "CC"], ["again", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["root", "NN"], ["of", "IN"], ["a", "DT"], ["three", "CD"], ["node", "NN"], ["heap", "VBD"], ["that", "DT"], ["'s", "VBZ"], ["heap", "JJ"], ["ordered", "VBD"], ["except", "IN"], ["at", "IN"], ["the", "DT"], ["root", "NN"], [".", "."], ["We", "PRP"], ["may", "MD"], ["need", "VB"], ["to", "TO"], ["fix", "VB"], ["it", "PRP"], ["with", "IN"], ["the", "DT"], ["sync", "NN"], ["operation", "NN"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], ["nothing", "NN"], ["is", "VBZ"], ["required", "VBN"], ["because", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["larger", "JJR"], ["than", "IN"], ["its", "PRP$"], ["children", "NNS"], [",", ","], ["so", "IN"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["three", "CD"], ["node", "NN"], ["heap", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["move", "VBP"], ["one", "CD"], ["more", "JJR"], ["to", "TO"], ["the", "DT"], ["left", "NN"], [",", ","], ["now", "RB"], ["we", "PRP"], ["'re", "VBP"], ["looking", "VBG"], ["at", "IN"], ["the", "DT"], ["R.", "NNP"], ["Again", "NNP"], ["root", "NN"], ["of", "IN"], ["a", "DT"], ["three", "CD"], ["node", "NN"], ["heap", "NN"], ["may", "MD"], ["or", "CC"], ["may", "MD"], ["not", "RB"], ["be", "VB"], ["heap", "RB"], ["ordered", "VBN"], [",", ","], ["we", "PRP"], ["do", "VBP"], ["have", "VB"], ["to", "TO"], ["do", "VB"], ["the", "DT"], ["sync", "NN"], ["operation", "NN"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], ["that", "WDT"], ["brings", "VBZ"], ["the", "DT"], ["X", "NNP"], ["up", "RP"], [".", "."], ["A", "DT"], ["three", "CD"], ["node", "NN"], ["heap", "NN"], [".", "."], ["Now", "RB"], ["we", "PRP"], ["go", "VBP"], ["to", "TO"], ["two", "CD"], [".", "."], ["Now", "RB"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["root", "NN"], ["of", "IN"], ["a", "DT"], ["seven", "CD"], ["node", "NN"], ["heap", "NN"], [".", "."], ["We", "PRP"], ["know", "VBP"], ["the", "DT"], ["two", "CD"], ["three", "CD"], ["node", "NNS"], ["heaps", "NNS"], ["that", "WDT"], ["are", "VBP"], ["the", "DT"], ["children", "NNS"], ["are", "VBP"], ["heap", "JJ"], ["ordered", "JJ"], ["but", "CC"], ["we", "PRP"], ["may", "MD"], ["have", "VB"], ["to", "TO"], ["correct", "VB"], ["the", "DT"], ["heap", "JJ"], ["ordering", "NN"], ["at", "IN"], ["the", "DT"], ["root", "NN"], ["so", "IN"], ["we", "PRP"], ["do", "VBP"], ["a", "DT"], ["sync", "NN"], ["on", "IN"], ["two", "CD"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["involve", "VB"], [",", ","], ["exchanging", "VBG"], ["with", "IN"], ["the", "DT"], ["T", "NNP"], [",", ","], ["because", "IN"], ["T", "NNP"], ["is", "VBZ"], ["larger", "JJR"], ["than", "IN"], ["O", "NNP"], [".", "."], ["And", "CC"], ["exchanging", "VBG"], ["with", "IN"], ["the", "DT"], ["P", "NNP"], ["because", "IN"], ["P", "NNP"], ["is", "VBZ"], ["larger", "JJR"], ["than", "IN"], ["O", "NNP"], [".", "."], ["Now", "RB"], ["that", "IN"], ["heap", "NN"], ["is", "VBZ"], ["a", "DT"], ["seven", "CD"], ["node", "NN"], ["heap", "VBD"], ["that", "DT"], ["'s", "VBZ"], ["all", "DT"], ["heap", "RB"], ["ordered", "VBN"], [",", ","], ["and", "CC"], ["then", "RB"], ["the", "DT"], ["last", "JJ"], ["thing", "NN"], ["is", "VBZ"], ["to", "TO"], ["do", "VB"], ["the", "DT"], ["root", "NN"], ["of", "IN"], ["the", "DT"], ["whole", "JJ"], ["thing", "NN"], ["and", "CC"], ["again", "RB"], [",", ","], ["now", "RB"], ["the", "DT"], ["two", "CD"], ["sub", "NN"], ["trees", "NNS"], ["are", "VBP"], ["heap", "JJ"], ["ordered", "VBN"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["what", "WP"], ["we", "PRP"], ["mean", "VBP"], ["by", "IN"], ["bottom", "NN"], ["up", "RB"], [",", ","], ["we", "PRP"], ["took", "VBD"], ["care", "NN"], ["of", "IN"], ["the", "DT"], ["heep", "JJ"], ["ordering", "NN"], ["from", "IN"], ["the", "DT"], ["bottom", "NN"], ["up", "RB"], [".", "."], ["And", "CC"], ["so", "RB"], ["we", "PRP"], ["'ll", "MD"], ["do", "VB"], ["a", "DT"], ["sync", "NN"], ["on", "IN"], ["the", "DT"], ["S", "NNP"], ["and", "CC"], ["bring", "VB"], ["it", "PRP"], ["into", "IN"], ["a", "DT"], ["heap", "JJ"], ["ordering", "NN"], [",", ","], ["so", "IN"], ["that", "DT"], ["'s", "VBZ"], ["with", "IN"], ["just", "RB"], ["a", "DT"], ["few", "JJ"], ["exchanges", "NNS"], ["we", "PRP"], ["got", "VBD"], ["that", "IN"], ["whole", "JJ"], ["array", "NN"], ["heap", "NN"], ["order", "NN"], [",", ","], ["and", "CC"], ["now", "RB"], ["what", "WP"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["take", "VB"], ["advantage", "NN"], ["of", "IN"], ["the", "DT"], ["heap", "NN"], ["ordering", "VBG"], ["in", "IN"], ["the", "DT"], ["array", "NN"], ["to", "TO"], ["do", "VB"], ["a", "DT"], ["sort", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["concept", "NN"], ["is", "VBZ"], ["very", "RB"], ["simple", "JJ"], [".", "."], ["Right", "JJ"], ["away", "RB"], ["we", "PRP"], ["have", "VBP"], ["the", "DT"], ["maximum", "JJ"], ["element", "NN"], ["in", "IN"], ["the", "DT"], ["array", "NN"], ["right", "NN"], ["at", "IN"], ["the", "DT"], ["root", "NN"], [",", ","], ["we", "PRP"], ["want", "VBP"], ["that", "DT"], ["to", "TO"], ["be", "VB"], ["at", "IN"], ["the", "DT"], ["end", "NN"], ["so", "IN"], ["that", "DT"], ["'s", "VBZ"], ["what", "WP"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["what", "WP"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["just", "RB"], ["put", "VBN"], ["it", "PRP"], ["at", "IN"], ["the", "DT"], ["end", "NN"], [".", "."], ["We", "PRP"], ["exchange", "VBP"], ["the", "DT"], ["element", "NN"], ["at", "IN"], ["the", "DT"], ["root", "NN"], ["with", "IN"], ["the", "DT"], ["last", "JJ"], ["element", "NN"], [".", "."], ["Pull", "VB"], ["it", "PRP"], ["off", "RP"], ["the", "DT"], ["heap", "NN"], ["and", "CC"], ["then", "RB"], ["that", "DT"], ["'s", "VBZ"], ["our", "PRP$"], ["example", "NN"], [".", "."], ["We", "PRP"], ["might", "MD"], ["have", "VB"], ["violated", "VBN"], ["the", "DT"], ["heap", "JJ"], ["order", "NN"], ["condtion", "NN"], ["at", "IN"], ["the", "DT"], ["heap", "JJ"], ["right", "NN"], ["now", "RB"], [".", "."], ["So", "RB"], ["now", "RB"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["do", "VB"], ["a", "DT"], ["sync", "NN"], ["operation", "NN"], ["on", "IN"], [",", ","], ["on", "IN"], ["the", "DT"], ["E.", "NNP"], ["And", "CC"], ["so", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["larger", "JJR"], ["than", "IN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["both", "DT"], ["children", "NNS"], [",", ","], ["and", "CC"], ["the", "DT"], ["larger", "JJR"], ["of", "IN"], ["the", "DT"], ["two", "CD"], ["children", "NNS"], ["is", "VBZ"], ["T", "NNP"], [",", ","], ["so", "IN"], ["we", "PRP"], ["promote", "VBP"], ["the", "DT"], ["T.", "NNP"], ["And", "CC"], ["the", "DT"], ["P", "NNP"], ["is", "VBZ"], ["larger", "JJR"], [",", ","], ["the", "DT"], ["two", "CD"], ["children", "NNS"], ["promote", "VBP"], ["that", "IN"], ["and", "CC"], ["then", "RB"], ["finally", "RB"], [",", ","], ["the", "DT"], ["E", "NNP"], ["comes", "VBZ"], ["down", "RB"], ["to", "TO"], ["the", "DT"], ["bottom", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], ["that", "IN"], ["'s", "VBZ"], ["one", "CD"], ["step", "NN"], ["in", "IN"], ["the", "DT"], ["sort", "NN"], [",", ","], ["we", "PRP"], ["got", "VBD"], ["the", "DT"], ["largest", "JJS"], ["element", "NN"], ["off", "IN"], [".", "."], ["Now", "RB"], ["the", "DT"], ["next", "JJ"], ["largest", "JJS"], ["element", "NN"], ["in", "IN"], ["the", "DT"], ["array", "NN"], ["is", "VBZ"], ["now", "RB"], ["at", "IN"], ["the", "DT"], ["root", "NN"], ["of", "IN"], ["the", "DT"], ["heap", "NN"], [".", "."], ["We", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], ["the", "DT"], ["same", "JJ"], ["thing", "NN"], [",", ","], ["exchange", "NN"], ["it", "PRP"], ["with", "IN"], ["the", "DT"], ["last", "JJ"], ["element", "NN"], ["in", "IN"], ["the", "DT"], ["heap", "NN"], [".", "."], ["Then", "RB"], ["now", "RB"], ["that", "IN"], ["T", "NNP"], ["is", "VBZ"], ["in", "IN"], ["its", "PRP$"], ["final", "JJ"], ["position", "NN"], ["in", "IN"], ["the", "DT"], ["sorted", "JJ"], ["array", "NN"], [",", ","], ["we", "PRP"], ["take", "VBP"], ["it", "PRP"], ["off", "RP"], ["the", "DT"], ["heap", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], [",", ","], ["we", "PRP"], ["'ve", "VBP"], ["got", "VBD"], ["a", "DT"], ["heap", "NN"], ["with", "IN"], ["nine", "CD"], ["elements", "NNS"], ["and", "CC"], ["two", "CD"], ["of", "IN"], ["the", "DT"], ["elements", "NNS"], ["in", "IN"], ["the", "DT"], ["array", "NN"], ["are", "VBP"], ["already", "RB"], ["in", "IN"], ["their", "PRP$"], ["final", "JJ"], ["position", "NN"], [".", "."], ["And", "CC"], ["now", "RB"], ["this", "DT"], ["one", "NN"], ["'s", "VBZ"], ["not", "RB"], ["heap", "JJ"], ["ordered", "VBN"], [",", ","], ["so", "IN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["exchange", "VB"], ["over", "IN"], ["the", "DT"], ["largest", "JJS"], ["of", "IN"], ["its", "PRP$"], ["two", "CD"], ["children", "NNS"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], ["that", "WDT"], ["involves", "VBZ"], ["regarding", "VBG"], ["the", "DT"], ["S", "NNP"], ["and", "CC"], ["the", "DT"], ["R.", "NNP"], ["Now", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["heap", "JJ"], ["ordered", "VBN"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["end", "NN"], ["of", "IN"], ["the", "DT"], ["two", "CD"], ["steps", "NNS"], ["in", "IN"], ["Heapsort", "NNP"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["just", "RB"], ["keep", "VB"], ["going", "VBG"], [".", "."], ["Pulling", "VBG"], ["off", "RP"], ["the", "DT"], ["largest", "JJS"], ["element", "NN"], ["from", "IN"], ["the", "DT"], ["heap", "NN"], [".", "."], ["Exchanging", "VBG"], ["it", "PRP"], ["with", "IN"], ["the", "DT"], [".", "."], ["Element", "NN"], ["in", "IN"], ["the", "DT"], ["heap", "NN"], ["in", "IN"], ["the", "DT"], ["largest", "JJS"], ["position", "NN"], ["in", "IN"], ["the", "DT"], ["array", "NN"], ["which", "WDT"], ["brings", "VBZ"], ["that", "IN"], ["element", "NN"], ["into", "IN"], ["its", "PRP$"], ["final", "JJ"], ["position", "NN"], ["in", "IN"], ["the", "DT"], ["sorted", "JJ"], ["array", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["adjusting", "VBG"], ["the", "DT"], ["heap", "NN"], ["ordering", "VBG"], ["with", "IN"], ["the", "DT"], ["sync", "NN"], ["operation", "NN"], [".", "."], ["So", "CC"], ["that", "IN"], ["E", "NNP"], ["again", "RB"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["come", "VB"], ["down", "RP"], ["and", "CC"], ["now", "RB"], ["it", "PRP"], ["only", "RB"], ["goes", "VBZ"], ["down", "RP"], ["one", "CD"], ["step", "NN"], ["in", "IN"], ["this", "DT"], ["case", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], ["R", "NNP"], ["exchanges", "NNS"], ["with", "IN"], ["M.", "NNP"], ["It", "PRP"], ["'s", "VBZ"], ["in", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["final", "JJ"], ["position", "NN"], ["and", "CC"], ["you", "PRP"], ["can", "MD"], ["see", "VB"], ["down", "RP"], ["at", "IN"], ["the", "DT"], ["bottom", "NN"], [",", ","], ["the", "DT"], ["large", "JJ"], ["elements", "NNS"], ["in", "IN"], ["the", "DT"], ["array", "NN"], ["filling", "NN"], ["in", "IN"], [",", ","], ["in", "IN"], ["their", "PRP$"], ["final", "JJ"], ["position", "NN"], [",", ","], ["in", "IN"], ["the", "DT"], [",", ","], ["the", "DT"], ["left", "JJ"], ["part", "NN"], ["of", "IN"], ["the", "DT"], ["array", "NN"], ["is", "VBZ"], ["representing", "VBG"], ["the", "DT"], ["heap", "NN"], [".", "."], ["The", "DT"], ["R", "NNP"], ["goes", "VBZ"], ["off", "IN"], ["the", "DT"], ["heap", "NN"], [",", ","], ["do", "VBP"], ["the", "DT"], ["sync", "NN"], ["operation", "NN"], ["on", "IN"], ["the", "DT"], ["M", "NNP"], [",", ","], ["and", "CC"], ["now", "RB"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["heap", "NN"], ["ordered", "VBD"], ["array", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], ["do", "VBP"], ["the", "DT"], ["P", "NNP"], [",", ","], ["exchange", "NN"], ["that", "WDT"], ["with", "IN"], ["the", "DT"], ["A", "NNP"], [".", "."], ["Take", "VB"], ["it", "PRP"], ["off", "RP"], ["the", "DT"], ["heap", "NN"], [".", "."], ["Do", "VB"], ["the", "DT"], ["sync", "NN"], ["operation", "NN"], ["on", "IN"], ["the", "DT"], ["A", "NNP"], [".", "."], ["Now", "RB"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], ["the", "DT"], ["O", "NNP"], [".", "."], ["Exchange", "NNP"], ["that", "IN"], ["with", "IN"], ["the", "DT"], ["E.", "NNP"], ["Take", "VB"], ["it", "PRP"], ["off", "RP"], ["the", "DT"], ["heap", "NN"], [".", "."], ["Do", "VB"], ["the", "DT"], ["sync", "NN"], ["operation", "NN"], ["on", "IN"], ["E", "NNP"], ["which", "WDT"], ["involves", "VBZ"], ["promoting", "VBG"], ["the", "DT"], ["larger", "JJR"], ["of", "IN"], ["its", "PRP$"], ["two", "CD"], ["children", "NNS"], [",", ","], ["until", "IN"], ["it", "PRP"], ["gets", "VBZ"], ["to", "TO"], ["the", "DT"], ["bottom", "NN"], [",", ","], ["or", "CC"], ["a", "DT"], ["place", "NN"], ["where", "WRB"], ["it", "PRP"], ["'s", "VBZ"], ["larger", "JJR"], ["than", "IN"], ["both", "DT"], ["its", "PRP$"], ["children", "NNS"], [".", "."], ["So", "RB"], ["now", "RB"], ["we", "PRP"], ["have", "VBP"], [",", ","], ["just", "RB"], ["five", "CD"], ["elements", "NNS"], ["left", "VBN"], [".", "."], ["We", "PRP"], ["'ll", "MD"], [",", ","], ["get", "VB"], ["the", "DT"], ["M.", "NNP"], ["Do", "NNP"], ["heap", "VB"], ["ordering", "VBG"], ["on", "IN"], ["the", "DT"], [",", ","], ["heap", "NN"], ["of", "IN"], ["four", "CD"], ["and", "CC"], ["that", "IN"], ["only", "RB"], ["involves", "VBZ"], ["one", "CD"], ["exchange", "NN"], [".", "."], ["Now", "RB"], ["we", "PRP"], ["get", "VBP"], ["the", "DT"], ["L.", "NNP"], ["A", "NNP"], ["exchange", "NN"], ["for", "IN"], ["the", "DT"], ["larger", "JJR"], ["of", "IN"], ["its", "PRP$"], ["two", "CD"], ["children", "NNS"], [".", "."], ["While", "IN"], [",", ","], ["they", "PRP"], ["'re", "VBP"], ["both", "DT"], ["the", "DT"], ["same", "JJ"], [",", ","], ["so", "IN"], ["i", "JJ"], ["t", "NN"], ["goes", "VBZ"], ["with", "IN"], ["the", "DT"], ["left", "NN"], ["one", "NN"], [".", "."], ["That", "WDT"], ["'s", "VBZ"], ["the", "DT"], ["heap", "NN"], ["of", "IN"], ["size", "NN"], ["three", "CD"], [".", "."], ["Pull", "VB"], ["off", "RP"], ["the", "DT"], ["first", "JJ"], ["E", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["already", "RB"], ["heap", "JJ"], ["ordered", "VBN"], [".", "."], ["Pull", "VB"], ["off", "RP"], ["that", "DT"], ["E.", "NNP"], ["And", "CC"], [",", ","], ["now", "RB"], ["we", "PRP"], ["are", "VBP"], ["left", "VBN"], ["with", "IN"], ["only", "RB"], ["one", "CD"], ["element", "NN"], ["in", "IN"], ["the", "DT"], ["heap", "NN"], ["in", "IN"], ["this", "DT"], ["in", "IN"], ["the", "DT"], ["first", "JJ"], ["position", "NN"], [",", ","], ["so", "IN"], ["there", "EX"], ["is", "VBZ"], ["nothing", "NN"], ["to", "TO"], ["do", "VB"], [".", "."], ["So", "VB"], ["with", "IN"], ["a", "DT"], ["series", "NN"], ["of", "IN"], ["in", "IN"], ["exchange", "NN"], ["and", "CC"], ["then", "RB"], ["sync", "VB"], ["operations", "NNS"], [",", ","], ["we", "PRP"], ["pull", "VBP"], ["the", "DT"], ["sorted", "JJ"], ["array", "NN"], ["out", "IN"], ["of", "IN"], ["the", "DT"], ["heap", "NN"], [".", "."], ["Okay", "NNP"], [".", "."], ["This", "DT"], [",", ","], ["slide", "NN"], ["summarizes", "VBZ"], ["the", "DT"], ["code", "NN"], ["for", "IN"], [",", ","], ["heap", "JJ"], ["construction", "NN"], [".", "."], ["And", "CC"], ["as", "IN"], ["you", "PRP"], ["can", "MD"], ["see", "VB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["one", "CD"], ["liner", "NN"], [".", "."], ["We", "PRP"], ["go", "VBP"], ["backwards", "NNS"], ["through", "IN"], ["the", "DT"], ["heap", "NN"], [".", "."], ["Starting", "VBG"], ["at", "IN"], ["N", "NNP"], ["over", "IN"], ["two", "CD"], ["because", "IN"], ["the", "DT"], [",", ","], ["N", "NNP"], ["over", "IN"], [",", ","], ["half", "NN"], ["of", "IN"], ["the", "DT"], [",", ","], ["right", "RB"], ["most", "JJS"], ["half", "NN"], ["of", "IN"], ["the", "DT"], ["array", "NN"], ["is", "VBZ"], ["just", "RB"], ["little", "JJ"], ["heaps", "NNS"], ["of", "IN"], ["size", "NN"], ["one", "CD"], [".", "."], ["We", "PRP"], ["just", "RB"], ["go", "VBP"], ["backwards", "NNS"], ["doing", "VBG"], ["a", "DT"], ["sync", "NN"], ["starting", "VBG"], ["at", "IN"], ["K.", "NNP"], ["So", "NNP"], ["that", "WDT"], ["'s", "VBZ"], ["the", "DT"], ["first", "JJ"], ["piece", "NN"], ["of", "IN"], ["code", "NN"], ["for", "IN"], ["heap", "NN"], ["ordering", "VBG"], ["an", "DT"], ["array", "NN"], ["with", "IN"], ["arbitrary", "JJ"], ["values", "NNS"], ["and", "CC"], ["then", "RB"], ["these", "DT"], ["diagrams", "NNS"], ["summarize", "VBP"], ["the", "DT"], ["sync", "NN"], ["calls", "VBZ"], ["that", "IN"], [",", ","], ["that", "IN"], ["we", "PRP"], ["just", "RB"], ["went", "VBD"], ["through", "IN"], ["in", "IN"], ["the", "DT"], ["demo", "NN"], ["starting", "VBG"], ["at", "IN"], ["five", "CD"], [",", ","], ["four", "CD"], [",", ","], ["three", "CD"], [",", ","], ["two", "CD"], [",", ","], ["one", "CD"], [".", "."], ["As", "IN"], ["you", "PRP"], ["can", "MD"], ["see", "VB"], [",", ","], ["only", "RB"], ["one", "CD"], [",", ","], ["two", "CD"], [",", ","], ["three", "CD"], [",", ","], ["four", "CD"], [",", ","], ["five", "CD"], ["exchanges", "NNS"], ["are", "VBP"], ["needed", "VBN"], ["to", "TO"], ["bring", "VB"], ["this", "DT"], ["into", "IN"], ["heap", "JJ"], ["order", "NN"], [".", "."], ["Then", "RB"], ["the", "DT"], ["second", "JJ"], ["pass", "NN"], ["again", "RB"], ["that", "DT"], ["'s", "VBZ"], ["only", "RB"], ["a", "DT"], ["two", "CD"], ["liner", "NN"], [",", ","], ["we", "PRP"], ["exchange", "VBP"], ["the", "DT"], ["first", "JJ"], ["element", "NN"], ["with", "IN"], ["the", "DT"], ["one", "NN"], ["at", "IN"], ["the", "DT"], ["end", "NN"], ["and", "CC"], ["then", "RB"], ["decrement", "VB"], ["the", "DT"], ["size", "NN"], ["of", "IN"], ["the", "DT"], ["heap", "NN"], ["and", "CC"], ["then", "RB"], ["do", "VB"], ["a", "DT"], ["sync", "NN"], ["operations", "NNS"], [".", "."], ["And", "CC"], ["these", "DT"], ["diagrams", "NNS"], ["summarize", "VBP"], ["the", "DT"], ["sync", "NN"], ["operations", "NNS"], ["that", "IN"], ["we", "PRP"], ["showed", "VBD"], ["in", "IN"], ["the", "DT"], ["demo", "NN"], [".", "."], ["On", "IN"], ["every", "DT"], ["smaller", "JJR"], ["heap", "NN"], [",", ","], ["now", "RB"], ["we", "PRP"], ["continue", "VBP"], ["just", "RB"], ["performing", "VBG"], ["sync", "JJ"], ["operations", "NNS"], ["at", "IN"], ["the", "DT"], ["root", "NN"], ["until", "IN"], ["we", "PRP"], ["get", "VBP"], ["a", "DT"], ["completely", "RB"], ["sorted", "JJ"], ["array", "NN"], [".", "."], ["So", "RB"], ["given", "VBN"], ["the", "DT"], ["sink", "NN"], ["implementation", "NN"], [",", ","], ["we", "PRP"], ["had", "VBD"], ["done", "VBN"], ["a", "DT"], ["one", "CD"], ["liner", "NN"], ["for", "IN"], ["the", "DT"], ["first", "JJ"], ["pass", "NN"], ["and", "CC"], ["a", "DT"], ["three", "CD"], ["liner", "NN"], ["for", "IN"], ["the", "DT"], ["second", "JJ"], ["pass", "NN"], ["so", "IN"], ["that", "DT"], ["gives", "VBZ"], ["a", "DT"], ["complete", "JJ"], ["implementation", "NN"], ["of", "IN"], ["heap", "JJ"], ["sort", "NN"], ["with", "IN"], ["the", "DT"], ["code", "NN"], ["that", "IN"], ["we", "PRP"], ["have", "VBP"], ["given", "VBN"], ["so", "RB"], ["for", "IN"], [",", ","], ["so", "RB"], ["far", "RB"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["is", "VBZ"], ["one", "CD"], ["little", "JJ"], ["detail", "NN"], ["when", "WRB"], ["you", "PRP"], ["are", "VBP"], ["sorting", "VBG"], ["an", "DT"], ["array", "NN"], ["of", "IN"], ["course", "NN"], ["position", "NN"], ["zero", "CD"], ["comes", "VBZ"], ["into", "IN"], ["account", "NN"], ["and", "CC"], ["we", "PRP"], ["'ve", "VBP"], ["been", "VBN"], ["building", "VBG"], ["our", "PRP$"], ["heaps", "NNS"], ["from", "IN"], ["position", "NN"], ["one", "CD"], [".", "."], ["So", "RB"], [",", ","], ["but", "CC"], ["we", "PRP"], ["can", "MD"], ["take", "VB"], ["care", "NN"], ["of", "IN"], ["that", "DT"], ["in", "IN"], ["the", "DT"], ["less", "JJR"], ["and", "CC"], ["exchange", "NN"], ["methods", "NNS"], ["by", "IN"], ["just", "RB"], ["decrementing", "VBG"], ["the", "DT"], ["indices", "NNS"], ["in", "IN"], ["those", "DT"], ["methods", "NNS"], ["to", "TO"], ["have", "VB"], ["it", "PRP"], ["work", "VB"], ["as", "IN"], ["if", "IN"], ["the", "DT"], ["array", "NN"], ["were", "VBD"], ["zero", "CD"], ["through", "IN"], ["n.", "NN"], ["That", "NNP"], ["'s", "VBZ"], ["a", "DT"], ["little", "JJ"], ["implementation", "NN"], ["detail", "NN"], [",", ","], ["but", "CC"], ["otherwise", "RB"], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], ["fine", "JJ"], ["sword", "NN"], ["implementation", "NN"], [",", ","], ["that", "DT"], ["actually", "RB"], ["is", "VBZ"], ["very", "RB"], ["little", "JJ"], ["code", "NN"], [",", ","], ["and", "CC"], ["its", "PRP$"], ["got", "VBD"], ["a", "DT"], ["place", "NN"], ["in", "IN"], [",", ","], ["in", "IN"], ["the", "DT"], ["theory", "NN"], ["of", "IN"], ["algorithm", "NN"], [",", ","], ["that", "IN"], ["I", "PRP"], ["will", "MD"], ["talk", "VB"], ["about", "IN"], ["in", "IN"], ["a", "DT"], ["second", "JJ"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["just", "RB"], ["another", "DT"], ["trace", "NN"], ["without", "IN"], ["the", "DT"], ["data-structure", "NN"], ["shown", "VBN"], [",", ","], ["to", "TO"], ["just", "RB"], ["show", "VB"], ["in", "IN"], ["our", "PRP$"], ["standard", "JJ"], ["way", "NN"], [",", ","], ["the", "DT"], ["elements", "NNS"], ["in", "IN"], ["black", "JJ"], ["and", "CC"], ["red", "JJ"], ["are", "VBP"], ["the", "DT"], ["ones", "NNS"], ["that", "WDT"], ["are", "VBP"], ["touched", "VBN"], ["and", "CC"], ["the", "DT"], ["elements", "NNS"], ["in", "IN"], ["grey", "NN"], ["are", "VBP"], ["the", "DT"], ["ones", "NNS"], ["that", "WDT"], ["are", "VBP"], ["not", "RB"], ["touched", "VBN"], ["at", "IN"], ["all", "DT"], [".", "."], ["And", "CC"], ["to", "TO"], ["just", "RB"], ["show", "VB"], ["that", "IN"], ["this", "DT"], ["thing", "NN"], ["gets", "VBZ"], ["the", "DT"], ["sort", "NN"], ["done", "VBN"], ["with", "IN"], ["touching", "VBG"], ["relatively", "RB"], ["few", "JJ"], ["elements", "NNS"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["a", "DT"], ["trace", "NN"], [".", "."], ["Let", "NNP"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["an", "DT"], ["animation", "NN"], [",", ","], ["an", "DT"], ["animation", "NN"], ["with", "IN"], ["Heapsort", "NNP"], ["is", "VBZ"], ["interesting", "VBG"], ["to", "TO"], ["watch", "VB"], ["so", "RB"], ["the", "DT"], ["construction", "NN"], ["of", "IN"], ["the", "DT"], ["heap", "NN"], ["happens", "VBZ"], ["in", "IN"], ["a", "DT"], ["blink", "NN"], ["and", "CC"], ["now", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["pulling", "VBG"], ["off", "RP"], ["the", "DT"], ["largest", "JJS"], ["elements", "NNS"], [",", ","], ["moving", "VBG"], ["from", "IN"], ["right", "NN"], ["to", "TO"], ["left", "VB"], [".", "."], ["So", "RB"], ["again", "RB"], [",", ","], ["a", "DT"], ["very", "RB"], ["efficient", "JJ"], ["way", "NN"], ["to", "TO"], ["get", "VB"], ["a", "DT"], ["sorting", "VBG"], ["job", "NN"], ["done", "VBN"], [".", "."], ["So", "IN"], ["what", "WP"], ["about", "IN"], ["the", "DT"], ["mathematical", "JJ"], ["analysis", "NN"], ["?", "."], ["Well", "RB"], ["the", "DT"], ["mathematical", "JJ"], ["analysis", "NN"], [",", ","], ["for", "IN"], ["the", "DT"], ["Heapsort", "NNP"], ["part", "NN"], ["is", "VBZ"], ["pretty", "JJ"], ["easy", "JJ"], [".", "."], ["N", "NNP"], ["times", "NNS"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["doing", "VBG"], ["a", "DT"], ["sink", "NN"], ["operation", "NN"], [",", ","], ["and", "CC"], ["the", "DT"], ["size", "NN"], ["of", "IN"], ["the", "DT"], ["heap", "NN"], ["is", "VBZ"], ["at", "IN"], ["most", "JJS"], ["lg", "JJ"], ["N", "NNP"], ["so", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["N", "NNP"], ["lg", "NN"], ["N.", "NNP"], ["The", "DT"], ["construction", "NN"], [",", ","], ["actually", "RB"], [",", ","], ["it", "PRP"], ["turns", "VBZ"], ["out", "RP"], ["although", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["little", "RB"], ["more", "RBR"], ["complicated", "JJ"], ["to", "TO"], ["prove", "VB"], [",", ","], ["that", "IN"], ["it", "PRP"], ["always", "RB"], ["uses", "VBZ"], ["just", "RB"], ["a", "DT"], ["linear", "JJ"], ["number", "NN"], ["of", "IN"], ["comparison", "NN"], ["exchanges", "NNS"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["an", "DT"], ["interesting", "JJ"], ["result", "NN"], ["in", "IN"], ["itself", "PRP"], [".", "."], ["You", "PRP"], ["can", "MD"], ["build", "VB"], ["a", "DT"], ["heap", "NN"], ["from", "IN"], ["N", "NNP"], ["values", "NNS"], ["in", "IN"], ["linear", "JJ"], ["time", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["and", "CC"], ["then", "RB"], ["lg", "VB"], ["N", "NNP"], ["more", "JJR"], ["time", "NN"], [".", "."], ["You", "PRP"], ["can", "MD"], ["sort", "VB"], ["from", "IN"], ["that", "DT"], ["heap", "NN"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["significance", "NN"], ["be", "VB"], [",", ","], ["significant", "JJ"], ["because", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["the", "DT"], ["first", "JJ"], ["sorting", "NN"], ["algorithm", "NN"], ["that", "IN"], ["we", "PRP"], ["'ve", "VBP"], ["seen", "VBN"], ["that", "DT"], ["is", "VBZ"], ["both", "DT"], ["in", "IN"], ["place", "NN"], [".", "."], ["And", "CC"], ["manages", "VBZ"], ["to", "TO"], ["get", "VB"], ["the", "DT"], ["sorting", "VBG"], ["job", "NN"], ["done", "VBN"], ["with", "IN"], ["guaranteed", "JJ"], ["analogs", "NNS"], ["and", "CC"], ["compares", "NNS"], [".", "."], ["Mergesort", "NNP"], ["does", "VBZ"], ["n't", "RB"], ["do", "VB"], ["that", "DT"], [".", "."], ["It", "PRP"], ["takes", "VBZ"], ["linear", "JJ"], ["extra", "JJ"], ["space", "NN"], [".", "."], ["Quicksort", "NN"], ["does", "VBZ"], ["n't", "RB"], ["do", "VB"], ["that", "DT"], [".", "."], ["It", "PRP"], ["takes", "VBZ"], ["quadratic", "JJ"], ["time", "NN"], ["in", "IN"], ["a", "DT"], ["worse", "JJR"], ["case", "NN"], ["even", "RB"], ["though", "IN"], ["we", "PRP"], ["make", "VBP"], ["that", "DT"], ["unlikely", "JJ"], ["by", "IN"], ["random", "JJ"], ["shuffling", "NN"], [".", "."], ["It", "PRP"], ["still", "RB"], ["takes", "VBZ"], ["quadratic", "JJ"], ["time", "NN"], ["in", "IN"], ["the", "DT"], ["worse", "JJ"], ["case", "NN"], ["but", "CC"], ["Heapsort", "NNP"], ["does", "VBZ"], ["both", "DT"], [".", "."], ["Now", "RB"], ["there", "EX"], ["is", "VBZ"], ["more", "RBR"], ["complicated", "JJ"], ["versions", "NNS"], ["of", "IN"], ["Mergesort", "NNP"], ["and", "CC"], ["Quicksort", "NNP"], ["that", "WDT"], ["can", "MD"], ["do", "VB"], ["this", "DT"], ["in", "IN"], ["theory", "NN"], ["but", "CC"], ["Heapsort", "NNP"], ["is", "VBZ"], ["pretty", "RB"], ["simple", "JJ"], ["algorithm", "NN"], ["that", "WDT"], ["gets", "VBZ"], ["both", "DT"], ["done", "VBN"], [",", ","], ["so", "RB"], ["in", "IN"], ["a", "DT"], ["job", "NN"], ["interview", "NN"], ["somebody", "NN"], ["asks", "VBZ"], ["you", "PRP"], ["what", "WP"], ["'s", "VBZ"], ["an", "DT"], ["in-place", "JJ"], ["sorting", "NN"], ["algorithm", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["guaranteed", "VBN"], ["N", "NNP"], ["lg", "NN"], ["n", "RB"], ["?", "."], ["Your", "PRP$"], ["answer", "NN"], ["'s", "POS"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["Heapsort", "NNP"], [".", "."], ["Now", "RB"], ["in", "IN"], ["practice", "NN"], ["Heapsort", "NNP"], ["is", "VBZ"], ["actually", "RB"], ["not", "RB"], ["used", "VBN"], ["that", "IN"], ["much", "JJ"], ["for", "IN"], ["a", "DT"], ["couple", "NN"], ["of", "IN"], ["reasons", "NNS"], [".", "."], ["And", "CC"], ["they", "PRP"], ["might", "MD"], ["ask", "VB"], ["you", "PRP"], ["these", "DT"], ["on", "IN"], ["your", "PRP$"], ["job", "NN"], ["interview", "NN"], ["too", "RB"], [".", "."], ["First", "JJ"], ["thing", "NN"], ["is", "VBZ"], ["the", "DT"], ["inner", "JJ"], ["loop", "NN"], ["is", "VBZ"], ["longer", "JJR"], ["than", "IN"], ["Quicksorts", "NNS"], [".", "."], ["Like", "IN"], ["Mergesort", "NNP"], ["there", "EX"], ["is", "VBZ"], ["more", "JJR"], ["things", "NNS"], ["to", "TO"], ["do", "VB"], ["in", "IN"], ["the", "DT"], ["inner", "JJ"], ["loop", "NN"], [".", "."], ["There", "EX"], ["is", "VBZ"], ["that", "IN"], ["compare", "NN"], ["are", "VBP"], ["the", "DT"], ["two", "CD"], ["children", "NNS"], ["bigger", "JJR"], [",", ","], ["then", "RB"], ["compare", "NN"], [".", "."], ["So", "IN"], ["there", "EX"], ["are", "VBP"], ["two", "CD"], ["compares", "NNS"], ["that", "WDT"], ["get", "VBP"], ["done", "VBN"], ["at", "IN"], ["N", "NNP"], ["lg", "NN"], ["N", "NNP"], ["times", "NNS"], [".", "."], ["And", "CC"], ["then", "RB"], ["there", "EX"], ["is", "VBZ"], ["some", "DT"], ["that", "IN"], ["array", "JJ"], ["index", "NN"], ["arithmetic", "NN"], [".", "."], ["The", "DT"], ["other", "JJ"], ["thing", "NN"], ["that", "WDT"], ["is", "VBZ"], ["probably", "RB"], ["more", "RBR"], ["significant", "JJ"], ["on", "IN"], ["modern", "JJ"], ["machines", "NNS"], ["is", "VBZ"], [".", "."], ["That", "IN"], ["the", "DT"], ["references", "NNS"], ["to", "TO"], ["memory", "NN"], ["are", "VBP"], ["all", "DT"], ["over", "IN"], ["the", "DT"], ["place", "NN"], ["when", "WRB"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["huge", "JJ"], ["array", "NN"], [",", ","], ["so", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["a", "DT"], ["good", "JJ"], ["algorithm", "NN"], ["for", "IN"], ["a", "DT"], ["situation", "NN"], ["where", "WRB"], ["there", "EX"], ["'s", "VBZ"], ["caching", "VBG"], ["which", "WDT"], ["is", "VBZ"], ["almost", "RB"], ["everywhere", "JJ"], ["nowadays", "NNS"], [".", "."], ["It", "PRP"], ["does", "VBZ"], ["n't", "RB"], ["have", "VB"], ["a", "DT"], ["local", "JJ"], ["reference", "NN"], [",", ","], ["like", "IN"], ["Quicksort", "NNP"], ["does", "VBZ"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["always", "RB"], ["refers", "NNS"], ["to", "TO"], ["something", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["nearby", "JJ"], ["something", "NN"], ["else", "RB"], ["that", "IN"], ["I", "PRP"], ["just", "RB"], ["referred", "VBD"], ["to", "TO"], [".", "."], ["So", "RB"], ["if", "IN"], ["a", "DT"], ["big", "JJ"], ["block", "NN"], ["of", "IN"], ["things", "NNS"], ["comes", "VBZ"], ["into", "IN"], ["memory", "NN"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["no", "DT"], ["more", "RBR"], ["extra", "JJ"], ["costs", "NNS"], [",", ","], ["whereas", "JJ"], ["Heapsort", "NNP"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["far", "RB"], ["away", "RB"], ["from", "IN"], ["the", "DT"], ["current", "JJ"], ["place", "NN"], ["as", "IN"], ["it", "PRP"], ["goes", "VBZ"], ["down", "RP"], ["the", "DT"], ["tree", "NN"], ["and", "CC"], ["that", "IN"], ["makes", "VBZ"], ["it", "PRP"], ["slower", "JJR"], ["in", "IN"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["situations", "NNS"], [".", "."], ["And", "CC"], ["on", "IN"], ["the", "DT"], ["other", "JJ"], ["thing", "NN"], ["is", "VBZ"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["stable", "JJ"], [",", ","], ["sometimes", "RB"], ["people", "NNS"], ["choose", "VBP"], ["to", "TO"], ["use", "VB"], ["Mergesort", "NNP"], ["in", "IN"], ["practice", "NN"], ["because", "IN"], ["of", "IN"], ["the", "DT"], ["stability", "NN"], ["but", "CC"], ["Heapsort", "NNP"], ["isnot", "VBP"], ["stable", "JJ"], ["for", "IN"], ["the", "DT"], ["usual", "JJ"], ["reason", "NN"], ["that", "IN"], ["it", "PRP"], ["does", "VBZ"], ["long", "JJ"], ["distance", "NN"], ["exchanges", "NNS"], ["that", "WDT"], ["might", "MD"], ["bring", "VB"], ["items", "NNS"], ["that", "WDT"], ["have", "VBP"], ["equal", "JJ"], ["keys", "NNS"], ["back", "RB"], ["out", "IN"], ["of", "IN"], ["order", "NN"], [".", "."], ["So", "CC"], ["that", "IN"], [",", ","], ["that", "DT"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["our", "PRP$"], ["full", "JJ"], ["summary", "NN"], ["of", "IN"], ["sorting", "VBG"], ["algorithms", "NN"], ["to", "TO"], ["and", "CC"], ["completes", "VBZ"], ["our", "PRP$"], ["treatment", "NN"], ["of", "IN"], ["sorting", "VBG"], ["algorithms", "NN"], ["with", "IN"], ["Heapsort", "NNP"], [".", "."], ["And", "CC"], ["this", "DT"], ["is", "VBZ"], ["just", "RB"], ["adding", "VBG"], ["the", "DT"], ["Heapsort", "NNP"], ["line", "NN"], ["to", "TO"], ["the", "DT"], ["table", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["in", "IN"], ["place", "NN"], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["use", "VB"], ["any", "DT"], ["auxiliary", "JJ"], ["array", "NN"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["stable", "JJ"], [",", ","], ["but", "CC"], ["its", "PRP$"], ["worst-case", "JJ"], ["guaranteed", "JJ"], ["time", "NN"], ["is", "VBZ"], ["proportional", "JJ"], ["to", "TO"], ["N", "NNP"], ["lg", "NN"], ["N", "NNP"], ["as", "RB"], ["well", "RB"], ["as", "IN"], ["the", "DT"], ["average", "NN"], ["and", "CC"], [",", ","], ["and", "CC"], ["the", "DT"], ["best", "JJS"], ["this", "DT"], ["is", "VBZ"], ["not", "RB"], ["a", "DT"], ["result", "NN"], ["but", "CC"], ["that", "DT"], ["'s", "VBZ"], ["also", "RB"], ["the", "DT"], ["case", "NN"], ["so", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["N", "NNP"], ["lg", "NN"], ["N", "NNP"], ["guarantee", "NN"], ["N", "NNP"], ["place", "NN"], [",", ","], ["but", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["stable", "JJ"], [",", ","], ["and", "CC"], ["we", "PRP"], ["still", "RB"], ["have", "VBP"], ["the", "DT"], ["hope", "NN"], ["that", "IN"], ["someday", "JJ"], ["somebody", "NN"], ["will", "MD"], ["develop", "VB"], ["a", "DT"], ["simple", "JJ"], ["in-place", "NN"], ["stable", "JJ"], ["worst", "JJ"], ["case", "NN"], ["N", "NNP"], ["lg", "NN"], ["N", "NNP"], ["algorithm", "NN"], ["but", "CC"], ["we", "PRP"], ["'re", "VBP"], ["not", "RB"], ["quite", "RB"], ["there", "RB"], ["yet", "RB"], [".", "."], ["And", "CC"], ["that", "IN"], ["completes", "VBZ"], ["our", "PRP$"], ["treatment", "NN"], ["of", "IN"], ["sorting", "VBG"], ["algorithms", "NN"], ["with", "IN"], ["the", "DT"], ["Heapsort", "NNP"], ["algorithm", "NN"], [".", "."]], "title": "heapsort", "text": "Next we're going to look at the use of the binary heap data structure to implement a clever sorting algorithm known as Heapsort. So here's the basic plan. What we're going to do is we have our end keys and we'll have them in an array. We'll view that array as eventually being a max heap. So what we have to do first is to rearrange the keys in the array to heap order it. So just make it so that every key is larger than it's two children. And for example, the largest of all the keys is at the root. And then, the next phase would be to take that heap ordered array and get, get it to be a sorted result in, in place. And again, the, heap is stored in the array, with the first key position one, next to position two and three and like that. So the end result would be like that, with, no keys in the heap, but all the keys in the array in sorted order. So it's a little exercise in abstraction. Part of the array is the heap. Part of the array is the sorted sub array. And eventually we bring it down to the whole thing being sorted. It's very little code beyond the basic heap code that we've looked at can get this implemented. And that's called Heapsort. Let's take a demo of how Heapsort works in our example. So the idea is we're going to use a bottom up method. So all that means is we start with an array in arbitrary order and then we're going to work from the bottom up to make sure that it's heap order. Well all the nodes with no children are heap order, they are only a size one, the first one we have to worry about is this one here the root, the root. We haven't examined yet, it's children are heap ordered so it's a small heap of size three that may not be heap ordered. In this case it's not because one of the children is larger, so that's where things are going to start. We have a lot of one node heaps and then we're going to have to perform the sync operation on this one, that node five, that's, in this case just to change it with it's parent. And then proceeding in that way, moving bottom up or moving from right to left, the next thing we do is but then worry about a three node heap that's heap ordered and we're fine. Now we'll move over to the T and again, that's the root of a three node heap that's heap ordered except at the root. We may need to fix it with the sync operation. In this case nothing is required because it's larger than its children, so we have a three node heap. And then we move one more to the left, now we're looking at the R. Again root of a three node heap may or may not be heap ordered, we do have to do the sync operation. In this case that brings the X up. A three node heap. Now we go to two. Now that's the root of a seven node heap. We know the two three node heaps that are the children are heap ordered but we may have to correct the heap ordering at the root so we do a sync on two. And that's going to involve, exchanging with the T, because T is larger than O. And exchanging with the P because P is larger than O. Now that heap is a seven node heap that's all heap ordered, and then the last thing is to do the root of the whole thing and again, now the two sub trees are heap ordered, that's what we mean by bottom up, we took care of the heep ordering from the bottom up. And so we'll do a sync on the S and bring it into a heap ordering, so that's with just a few exchanges we got that whole array heap order, and now what we want to do is take advantage of the heap ordering in the array to do a sort. And the concept is very simple. Right away we have the maximum element in the array right at the root, we want that to be at the end so that's what we're going to do and that's what we're going to do is just put it at the end. We exchange the element at the root with the last element. Pull it off the heap and then that's our example. We might have violated the heap order condtion at the heap right now. So now we have to do a sync operation on, on the E. And so, it's larger than, it's both children, and the larger of the two children is T, so we promote the T. And the P is larger, the two children promote that and then finally, the E comes down to the bottom. So now that's one step in the sort, we got the largest element off. Now the next largest element in the array is now at the root of the heap. We're going to do the same thing, exchange it with the last element in the heap. Then now that T is in its final position in the sorted array, we take it off the heap. So now, we've got a heap with nine elements and two of the elements in the array are already in their final position. And now this one's not heap ordered, so we have to exchange over the largest of its two children. In this case that involves regarding the S and the R. Now it's heap ordered. So that's the end of the two steps in Heapsort. And then we just keep going. Pulling off the largest element from the heap. Exchanging it with the. Element in the heap in the largest position in the array which brings that element into its final position in the sorted array. And then adjusting the heap ordering with the sync operation. So that E again is going to come down and now it only goes down one step in this case. So now R exchanges with M. It's in it's final position and you can see down at the bottom, the large elements in the array filling in, in their final position, in the, the left part of the array is representing the heap. The R goes off the heap, do the sync operation on the M, and now we have a heap ordered array. So now do the P, exchange that with the A. Take it off the heap. Do the sync operation on the A. Now we're going to do the O. Exchange that with the E. Take it off the heap. Do the sync operation on E which involves promoting the larger of its two children, until it gets to the bottom, or a place where it's larger than both its children. So now we have, just five elements left. We'll, get the M. Do heap ordering on the, heap of four and that only involves one exchange. Now we get the L. A exchange for the larger of its two children. While, they're both the same, so i t goes with the left one. That's the heap of size three. Pull off the first E, it's already heap ordered. Pull off that E. And, now we are left with only one element in the heap in this in the first position, so there is nothing to do. So with a series of in exchange and then sync operations, we pull the sorted array out of the heap. Okay. This, slide summarizes the code for, heap construction. And as you can see, it's a one liner. We go backwards through the heap. Starting at N over two because the, N over, half of the, right most half of the array is just little heaps of size one. We just go backwards doing a sync starting at K. So that's the first piece of code for heap ordering an array with arbitrary values and then these diagrams summarize the sync calls that, that we just went through in the demo starting at five, four, three, two, one. As you can see, only one, two, three, four, five exchanges are needed to bring this into heap order. Then the second pass again that's only a two liner, we exchange the first element with the one at the end and then decrement the size of the heap and then do a sync operations. And these diagrams summarize the sync operations that we showed in the demo. On every smaller heap, now we continue just performing sync operations at the root until we get a completely sorted array. So given the sink implementation, we had done a one liner for the first pass and a three liner for the second pass so that gives a complete implementation of heap sort with the code that we have given so for, so far. There's is one little detail when you are sorting an array of course position zero comes into account and we've been building our heaps from position one. So, but we can take care of that in the less and exchange methods by just decrementing the indices in those methods to have it work as if the array were zero through n. That's a little implementation detail, but otherwise this is a fine sword implementation, that actually is very little code, and its got a place in, in the theory of algorithm, that I will talk about in a second. This is just another trace without the data-structure shown, to just show in our standard way, the elements in black and red are the ones that are touched and the elements in grey are the ones that are not touched at all. And to just show that this thing gets the sort done with touching relatively few elements. That's a trace. Let's look at an animation, an animation with Heapsort is interesting to watch so the construction of the heap happens in a blink and now it's pulling off the largest elements, moving from right to left. So again, a very efficient way to get a sorting job done. So what about the mathematical analysis? Well the mathematical analysis, for the Heapsort part is pretty easy. N times, we're doing a sink operation, and the size of the heap is at most lg N so it's N lg N. The construction, actually, it turns out although it's a little more complicated to prove, that it always uses just a linear number of comparison exchanges. And that's an interesting result in itself. You can build a heap from N values in linear time. And then, and then lg N more time. You can sort from that heap and that's significance be, significant because it's the first sorting algorithm that we've seen that is both in place. And manages to get the sorting job done with guaranteed analogs and compares. Mergesort doesn't do that. It takes linear extra space. Quicksort doesn't do that. It takes quadratic time in a worse case even though we make that unlikely by random shuffling. It still takes quadratic time in the worse case but Heapsort does both. Now there is more complicated versions of Mergesort and Quicksort that can do this in theory but Heapsort is pretty simple algorithm that gets both done, so in a job interview somebody asks you what's an in-place sorting algorithm that's guaranteed N lg n? Your answer's going to be Heapsort. Now in practice Heapsort is actually not used that much for a couple of reasons. And they might ask you these on your job interview too. First thing is the inner loop is longer than Quicksorts. Like Mergesort there is more things to do in the inner loop. There is that compare are the two children bigger, then compare. So there are two compares that get done at N lg N times. And then there is some that array index arithmetic. The other thing that is probably more significant on modern machines is. That the references to memory are all over the place when it's a huge array, so it's not a good algorithm for a situation where there's caching which is almost everywhere nowadays. It doesn't have a local reference, like Quicksort does. It's always refers to something that's nearby something else that I just referred to. So if a big block of things comes into memory, there's no more extra costs, whereas Heapsort is going to look far away from the current place as it goes down the tree and that makes it slower in a lot of situations. And on the other thing is it's not stable, sometimes people choose to use Mergesort in practice because of the stability but Heapsort isnot stable for the usual reason that it does long distance exchanges that might bring items that have equal keys back out of order. So that, that, that's our full summary of sorting algorithms to and completes our treatment of sorting algorithms with Heapsort. And this is just adding the Heapsort line to the table. It's in place we don't use any auxiliary array it's not stable, but its worst-case guaranteed time is proportional to N lg N as well as the average and, and the best this is not a result but that's also the case so it's N lg N guarantee N place, but it's not stable, and we still have the hope that someday somebody will develop a simple in-place stable worst case N lg N algorithm but we're not quite there yet. And that completes our treatment of sorting algorithms with the Heapsort algorithm. ", "video_ID": 36, "course_id": 3}
{"category": ["priority queues"], "tagged": [["Now", "RB"], [",", ","], ["look", "NN"], ["at", "IN"], ["an", "DT"], ["interesting", "JJ"], ["application", "NN"], ["of", "IN"], ["priority", "NN"], ["queues", "NNS"], ["that", "WDT"], ["is", "VBZ"], ["actually", "RB"], ["representative", "JJ"], ["of", "IN"], ["whole", "JJ"], ["family", "NN"], ["of", "IN"], ["a", "DT"], ["critically", "RB"], ["important", "JJ"], ["applications", "NNS"], ["in", "IN"], ["applications", "NNS"], ["of", "IN"], ["computing", "VBG"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["called", "VBN"], ["event", "NN"], ["driven", "VBN"], ["simulation", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["idea", "NN"], ["is", "VBZ"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["study", "VB"], ["some", "DT"], ["property", "NN"], ["of", "IN"], ["the", "DT"], ["natural", "JJ"], ["world", "NN"], ["by", "IN"], ["simulating", "VBG"], ["it", "PRP"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["something", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["very", "RB"], [",", ","], ["very", "RB"], ["common", "JJ"], ["in", "IN"], [",", ","], ["in", "IN"], ["scientific", "JJ"], ["inquiry", "NN"], ["nowadays", "NNS"], [".", "."], ["And", "CC"], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], ["very", "RB"], ["natural", "JJ"], ["idea", "NN"], [".", "."], ["And", "CC"], ["actually", "RB"], [",", ","], ["the", "DT"], ["idea", "NN"], ["goes", "VBZ"], ["back", "RB"], ["to", "TO"], ["Einstein", "NNP"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["simulate", "VB"], ["the", "DT"], ["motion", "NN"], ["of", "IN"], ["N", "NNP"], ["moving", "VBG"], ["particles", "NNS"], ["that", "WDT"], ["might", "MD"], ["collide", "VB"], ["with", "IN"], ["the", "DT"], ["priority", "NN"], [".", "."], ["This", "DT"], [",", ","], ["this", "DT"], ["kind", "NN"], ["of", "IN"], ["stimulation", "NN"], ["is", "VBZ"], ["enabled", "VBN"], ["by", "IN"], ["priority", "NN"], ["queues", "NNS"], [".", "."], ["And", "CC"], ["without", "IN"], ["something", "NN"], ["like", "IN"], ["priority", "NN"], ["queues", "NNS"], [",", ","], ["you", "PRP"], ["could", "MD"], ["n't", "RB"], ["do", "VB"], ["this", "DT"], ["for", "IN"], ["a", "DT"], ["large", "JJ"], ["number", "NN"], ["of", "IN"], ["particles", "NNS"], ["because", "IN"], ["it", "PRP"], ["would", "MD"], ["require", "VB"], ["quadratic", "JJ"], ["time", "NN"], ["and", "CC"], ["simply", "RB"], ["ca", "MD"], ["n't", "RB"], ["be", "VB"], ["afforded", "VBN"], ["for", "IN"], ["a", "DT"], ["huge", "JJ"], ["number", "NN"], ["of", "IN"], ["particles", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["and", "CC"], ["let", "VB"], ["'s", "PRP"], ["take", "VB"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["how", "WRB"], ["we", "PRP"], ["can", "MD"], ["possibly", "RB"], ["make", "VB"], ["this", "DT"], ["happen", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["use", "VBP"], ["a", "DT"], ["simple", "JJ"], ["scientific", "JJ"], ["model", "NN"], ["called", "VBD"], ["the", "DT"], ["hard", "JJ"], ["disc", "NN"], ["model", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["this", "DT"], ["is", "VBZ"], ["just", "RB"], ["for", "IN"], ["simplicity", "NN"], ["to", "TO"], ["get", "VB"], ["this", "DT"], ["done", "VBN"], ["and", "CC"], ["just", "RB"], ["part", "NN"], ["of", "IN"], ["a", "DT"], ["lecture", "NN"], [".", "."], ["Clearly", "RB"], [",", ","], ["these", "DT"], ["things", "NNS"], ["can", "MD"], ["be", "VB"], ["extended", "VBN"], ["in", "IN"], ["many", "JJ"], ["ways", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["moving", "VBG"], ["particles", "NNS"], ["that", "IN"], ["either", "DT"], ["collide", "NN"], ["with", "IN"], ["each", "DT"], ["other", "JJ"], ["and", "CC"], ["with", "IN"], ["the", "DT"], ["walls", "NNS"], [".", "."], ["And", "CC"], ["each", "DT"], ["particle", "NN"], ["is", "VBZ"], ["a", "DT"], ["disc", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["got", "VBD"], ["known", "VBN"], ["position", "NN"], [",", ","], ["velocity", "NN"], [",", ","], ["mass", "NN"], [",", ","], ["and", "CC"], ["radius", "NN"], [".", "."], ["And", "CC"], ["there", "EX"], ["'s", "VBZ"], ["no", "DT"], ["other", "JJ"], ["forces", "NNS"], ["involved", "VBN"], [".", "."], ["It", "PRP"], ["gets", "VBZ"], ["more", "RBR"], ["complicated", "JJ"], ["if", "IN"], ["there", "EX"], ["'s", "VBZ"], ["more", "JJR"], ["forces", "NNS"], [",", ","], ["like", "IN"], ["gravity", "NN"], ["involved", "VBN"], [".", "."], ["And", "CC"], ["this", "DT"], ["point", "NN"], ["by", "IN"], ["itself", "PRP"], ["is", "VBZ"], ["very", "RB"], ["significant", "JJ"], [".", "."], ["As", "IN"], ["I", "PRP"], ["mentioned", "VBD"], [",", ","], ["it", "PRP"], ["goes", "VBZ"], ["back", "RB"], ["to", "TO"], ["the", "DT"], ["study", "NN"], ["of", "IN"], ["physics", "NNS"], ["with", "IN"], ["[", "JJ"], ["cough", "NN"], ["]", "VBD"], ["the", "DT"], ["trying", "VBG"], ["to", "TO"], ["understand", "VB"], ["the", "DT"], ["pressure", "NN"], ["and", "CC"], ["temperature", "NN"], ["in", "IN"], ["Einstein", "NNP"], ["'s", "POS"], ["famous", "JJ"], ["experiment", "NN"], ["on", "IN"], ["a", "DT"], ["pollen", "NN"], ["grain", "NN"], ["showing", "VBG"], ["that", "IN"], ["their", "PRP$"], ["motion", "NN"], ["was", "VBD"], ["brownian", "JJ"], ["and", "CC"], ["random", "NN"], [".", "."], ["So", "IN"], ["whether", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["individual", "JJ"], ["atoms", "NNS"], ["and", "CC"], ["molecules", "NNS"], ["or", "CC"], ["some", "DT"], ["bigger", "JJR"], ["kinds", "NNS"], ["of", "IN"], ["particles", "NNS"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["complex", "JJ"], ["dynamic", "JJ"], ["situation", "NN"], ["that", "WDT"], ["is", "VBZ"], ["better", "JJR"], ["understood", "NN"], ["through", "IN"], ["computer", "NN"], ["simulation", "NN"], [".", "."], ["And", "CC"], ["nowadays", "VBZ"], ["that", "DT"], ["means", "VBZ"], ["priority", "NN"], ["queues", "NNS"], [".", "."], ["[", "JJ"], ["cough", "NN"], ["]", "NNP"], ["So", "NNP"], [",", ","], ["as", "IN"], ["a", "DT"], ["wa", "JJ"], ["rm-up", "NN"], [",", ","], ["here", "RB"], ["'s", "VBZ"], ["code", "NN"], ["to", "TO"], ["implement", "VB"], ["bouncing", "VBG"], ["balls", "NNS"], ["without", "IN"], ["the", "DT"], ["collisions", "NNS"], [".", "."], ["And", "CC"], ["this", "DT"], ["is", "VBZ"], ["an", "DT"], ["elementary", "JJ"], ["programing", "NN"], ["exercise", "NN"], ["that", "WDT"], ["is", "VBZ"], ["the", "DT"], [",", ","], ["the", "DT"], ["code", "NN"], ["at", "IN"], ["the", "DT"], ["left", "NN"], ["has", "VBZ"], ["the", "DT"], ["effects", "NNS"], ["shown", "VBN"], ["at", "IN"], ["the", "DT"], ["right", "NN"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["data", "NN"], ["type", "NN"], ["called", "VBD"], ["ball", "NN"], ["that", "IN"], ["represents", "VBZ"], ["just", "RB"], ["one", "CD"], ["of", "IN"], ["the", "DT"], ["particles", "NNS"], ["and", "CC"], ["has", "VBZ"], ["instance", "NN"], ["variables", "NNS"], ["that", "WDT"], ["has", "VBZ"], ["the", "DT"], ["position", "NN"], ["and", "CC"], ["the", "DT"], ["velocity", "NN"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["why", "WRB"], ["we", "PRP"], ["make", "VBP"], ["a", "DT"], ["bunch", "NN"], ["of", "IN"], ["them", "PRP"], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], [",", ","], ["a", "DT"], ["while", "NN"], ["loop", "NN"], ["which", "WDT"], ["is", "VBZ"], ["just", "RB"], ["every", "DT"], ["50", "CD"], ["milliseconds", "NNS"], ["clear", "JJ"], ["the", "DT"], [",", ","], ["the", "DT"], ["whole", "JJ"], ["drawing", "NN"], ["and", "CC"], ["then", "RB"], ["move", "VB"], ["the", "DT"], ["balls", "NNS"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["and", "CC"], ["then", "RB"], ["draw", "VB"], ["them", "PRP"], ["in", "IN"], ["their", "PRP$"], ["current", "JJ"], ["position", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["the", "DT"], ["only", "RB"], ["to", "TO"], ["move", "VB"], ["[", "NNP"], ["cough", "NN"], ["]", "NN"], ["operation", "NN"], ["does", "VBZ"], ["is", "VBZ"], ["to", "TO"], ["update", "VB"], ["the", "DT"], ["position", "NN"], ["of", "IN"], ["the", "DT"], ["ball", "NN"], ["by", "IN"], ["the", "DT"], ["velocity", "NN"], [",", ","], ["which", "WDT"], ["is", "VBZ"], ["just", "RB"], ["another", "DT"], ["number", "NN"], ["and", "CC"], ["then", "RB"], ["it", "PRP"], ["does", "VBZ"], ["the", "DT"], ["bouncing", "VBG"], ["off", "RP"], ["the", "DT"], ["walls", "NNS"], [".", "."], ["If", "IN"], ["it", "PRP"], ["happens", "VBZ"], ["to", "TO"], ["hit", "VB"], ["the", "DT"], ["left", "NN"], ["of", "IN"], ["the", "DT"], ["wall", "NN"], ["then", "RB"], ["you", "PRP"], ["reflect", "VBP"], ["the", "DT"], ["x-coordinate", "NN"], ["in", "IN"], ["the", "DT"], ["right", "NN"], ["wall", "NN"], [",", ","], ["you", "PRP"], ["reflect", "VBP"], ["the", "DT"], ["x-coordinate", "JJ"], ["bottom", "NN"], ["to", "TO"], ["top", "VB"], [",", ","], ["you", "PRP"], ["do", "VBP"], ["the", "DT"], ["same", "JJ"], ["for", "IN"], ["the", "DT"], ["y-coordinate", "NN"], [".", "."], ["So", "RB"], [",", ","], ["this", "DT"], ["the", "DT"], ["is", "VBZ"], ["an", "DT"], ["easy", "JJ"], ["programming", "NN"], ["exercise", "NN"], ["given", "VBN"], ["the", "DT"], ["right", "JJ"], ["display", "NN"], ["primitives", "NNS"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["good", "JJ"], ["exercise", "NN"], ["in", "IN"], ["object-oriented", "JJ"], ["programming", "NN"], ["showing", "VBG"], ["how", "WRB"], ["just", "RB"], ["one", "CD"], ["implementation", "NN"], ["then", "RB"], ["we", "PRP"], ["can", "MD"], ["use", "VB"], ["that", "DT"], ["same", "JJ"], ["implementation", "NN"], ["to", "TO"], ["simulate", "VB"], ["a", "DT"], ["number", "NN"], ["of", "IN"], ["instances", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["our", "PRP$"], ["starting", "VBG"], ["point", "NN"], ["in", "IN"], ["terms", "NNS"], ["of", "IN"], ["the", "DT"], ["code", "NN"], [".", "."], ["So", "IN"], ["this", "DT"], ["is", "VBZ"], ["the", "DT"], ["implementation", "NN"], ["of", "IN"], ["the", "DT"], ["ball", "NN"], ["class", "NN"], [".", "."], ["So", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["got", "JJ"], ["position", "NN"], ["and", "CC"], ["velocity", "NN"], ["as", "IN"], ["I", "PRP"], ["mentioned", "VBD"], [",", ","], ["and", "CC"], ["every", "DT"], ["ball", "NN"], ["has", "VBZ"], ["a", "DT"], [",", ","], ["a", "DT"], ["radius", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["there", "EX"], ["is", "VBZ"], ["a", "DT"], ["constructor", "NN"], ["and", "CC"], ["maybe", "RB"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["constructor", "NN"], ["that", "WDT"], ["takes", "VBZ"], ["arguments", "NNS"], ["that", "WDT"], ["would", "MD"], ["initialize", "VB"], ["the", "DT"], ["position", "NN"], ["and", "CC"], ["the", "DT"], ["velocity", "NN"], ["or", "CC"], ["maybe", "RB"], ["initialize", "VB"], ["them", "PRP"], ["to", "TO"], ["a", "DT"], ["random", "JJ"], ["position", "NN"], ["if", "IN"], ["there", "EX"], ["'s", "VBZ"], ["no", "DT"], ["arguments", "NNS"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["here", "RB"], ["'s", "VBZ"], ["the", "DT"], ["move", "NN"], ["method", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["move", "NN"], ["method", "NN"], ["again", "RB"], [",", ","], ["most", "JJS"], ["of", "IN"], ["the", "DT"], ["times", "NNS"], [",", ","], ["just", "RB"], ["takes", "VBZ"], ["the", "DT"], ["x", "NN"], ["and", "CC"], ["y", "NN"], ["coordinates", "NNS"], ["and", "CC"], ["adds", "VBZ"], ["the", "DT"], ["current", "JJ"], ["velocity", "NN"], ["times", "VBZ"], ["the", "DT"], ["speed", "NN"], ["constant", "NN"], [".", "."], ["The", "DT"], ["dt", "NN"], ["speed", "NN"], [",", ","], ["speed", "NN"], ["variable", "JJ"], ["that", "WDT"], ["'s", "VBZ"], ["given", "VBN"], ["as", "IN"], ["argument", "NN"], ["dt", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["these", "DT"], ["tests", "NNS"], ["are", "VBP"], ["for", "IN"], ["whether", "IN"], ["it", "PRP"], ["hits", "VBZ"], ["the", "DT"], ["walls", "NNS"], ["in", "IN"], ["which", "WDT"], ["case", "NN"], [",", ","], ["you", "PRP"], ["have", "VBP"], ["to", "TO"], ["flip", "VB"], ["the", "DT"], ["x", "NN"], ["or", "CC"], ["y", "JJ"], ["velocity", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["draw", "VB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["just", "RB"], ["using", "VBG"], ["standard", "JJ"], ["draw", "NN"], [".", "."], ["Just", "NNP"], ["draw", "VB"], ["the", "DT"], ["ball", "NN"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["all", "PDT"], ["the", "DT"], ["code", "NN"], ["for", "IN"], ["doing", "VBG"], ["the", "DT"], ["bouncing", "VBG"], ["ball", "DT"], ["simulation", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["what", "WP"], ["'s", "VBZ"], ["missing", "VBG"], ["in", "IN"], ["this", "DT"], ["is", "VBZ"], ["what", "WP"], ["happens", "VBZ"], ["when", "WRB"], ["the", "DT"], ["balls", "NNS"], ["collide", "VBP"], ["with", "IN"], ["each", "DT"], ["other", "JJ"], [".", "."], ["And", "CC"], ["to", "TO"], ["cope", "VB"], ["with", "IN"], ["that", "DT"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["do", "VB"], ["both", "DT"], [".", "."], ["A", "DT"], ["little", "JJ"], ["bit", "NN"], ["of", "IN"], ["high", "JJ"], ["school", "NN"], ["Physics", "NNS"], ["and", "CC"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["of", "IN"], ["basic", "JJ"], ["Computer", "NNP"], ["Science", "NNP"], [".", "."], ["The", "DT"], ["Physics", "NNPS"], ["problem", "NN"], ["is", "VBZ"], ["exactly", "RB"], ["what", "WP"], ["happens", "VBZ"], ["when", "WRB"], ["two", "CD"], ["balls", "NNS"], ["hit", "VBN"], ["and", "CC"], ["they", "PRP"], ["bounce", "VBP"], ["off", "IN"], ["each", "DT"], ["other", "JJ"], ["according", "VBG"], ["to", "TO"], ["some", "DT"], ["well-understood", "JJ"], ["physical", "JJ"], ["process", "NN"], [",", ","], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["high", "JJ"], ["school", "NN"], ["Physics", "NNPS"], [".", "."], ["And", "CC"], ["the", "DT"], ["CS", "NNP"], ["problem", "NN"], ["is", "VBZ"], ["how", "WRB"], ["and", "CC"], ["when", "WRB"], ["to", "TO"], ["we", "PRP"], ["exactly", "RB"], ["do", "VBP"], ["these", "DT"], ["computations", "NNS"], ["for", "IN"], ["each", "DT"], ["of", "IN"], ["the", "DT"], ["balls", "NNS"], [".", "."], ["And", "CC"], ["how", "WRB"], ["can", "MD"], ["we", "PRP"], ["do", "VB"], ["it", "PRP"], ["efficiently", "RB"], ["that", "DT"], ["is", "VBZ"], ["in", "IN"], [",", ","], ["in", "IN"], ["log", "NN"], ["N", "NNP"], ["time", "NN"], ["versus", "IN"], ["quadratic", "JJ"], ["time", "NN"], [".", "."], ["Because", "IN"], ["if", "IN"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["computational", "JJ"], ["process", "NN"], ["that", "WDT"], ["takes", "VBZ"], ["quadratic", "JJ"], ["time", "NN"], [",", ","], ["then", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], ["scale", "VB"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["do", "VB"], ["large", "JJ"], ["number", "NN"], ["of", "IN"], ["particles", "NNS"], [".", "."], ["Simulations", "NNS"], ["in", "IN"], ["the", "DT"], ["real", "JJ"], ["world", "NN"], [",", ","], ["usually", "RB"], [",", ","], ["we", "PRP"], ["wind", "VBP"], ["up", "RP"], ["doing", "VBG"], ["huge", "JJ"], ["amounts", "NNS"], ["of", "IN"], ["data", "NNS"], ["and", "CC"], ["we", "PRP"], ["can", "MD"], ["not", "RB"], ["have", "VB"], ["a", "DT"], ["quadratic", "JJ"], ["algorithm", "NN"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["just", "RB"], ["first", "JJ"], ["indication", "NN"], ["of", "IN"], ["that", "DT"], ["of", "IN"], ["why", "WRB"], ["if", "IN"], ["you", "PRP"], ["want", "VBP"], ["to", "TO"], ["do", "VB"], ["this", "DT"], ["simulation", "NN"], [",", ","], ["you", "PRP"], ["better", "JJR"], ["know", "VB"], ["about", "IN"], ["some", "DT"], ["data", "NNS"], ["structure", "NN"], ["like", "IN"], ["priority", "NN"], ["queues", "NNS"], [".", "."], ["If", "IN"], ["you", "PRP"], ["try", "VBP"], ["to", "TO"], ["do", "VB"], ["it", "PRP"], ["without", "IN"], ["it", "PRP"], [",", ","], ["you", "PRP"], ["'re", "VBP"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["successful", "JJ"], [".", "."], ["Alright", "NNP"], [",", ","], ["so", "RB"], [",", ","], ["let", "VB"], ["'s", "POS"], ["take", "VB"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["what", "WP"], ["happens", "VBZ"], [".", "."], ["So", "IN"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["number", "NN"], ["of", "IN"], ["things", "NNS"], ["that", "IN"], ["you", "PRP"], ["might", "MD"], ["consider", "VB"], ["trying", "VBG"], [".", "."], ["So", "RB"], [",", ","], ["one", "CD"], ["idea", "NN"], ["is", "VBZ"], ["the", "DT"], ["so-called", "JJ"], ["time", "NN"], ["driven", "VBN"], ["simulation", "NN"], [".", "."], ["And", "CC"], ["we", "PRP"], ["just", "RB"], ["say", "VBP"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["update", "VB"], ["everything", "NN"], ["every", "DT"], ["dt", "NN"], ["seconds", "VBZ"], [".", "."], ["Then", "RB"], ["we", "PRP"], ["go", "VBP"], ["ahead", "RB"], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["could", "MD"], ["check", "VB"], ["if", "IN"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["collision", "NN"], [",", ","], ["if", "IN"], ["the", "DT"], ["two", "CD"], ["balls", "NNS"], [",", ","], ["pieces", "NNS"], ["of", "IN"], ["the", "DT"], ["two", "CD"], ["balls", "NNS"], ["are", "VBP"], ["occupying", "VBG"], ["the", "DT"], ["same", "JJ"], ["space", "NN"], [".", "."], ["And", "CC"], ["if", "IN"], ["there", "EX"], ["is", "VBZ"], [",", ","], ["then", "RB"], ["we", "PRP"], ["could", "MD"], ["roll", "VB"], ["back", "RB"], ["time", "NN"], ["just", "RB"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["and", "CC"], ["I", "PRP"], ["'ll", "MD"], ["try", "VB"], ["to", "TO"], ["figure", "VB"], ["out", "RP"], ["exactly", "RB"], [",", ","], ["the", "DT"], ["moment", "NN"], ["of", "IN"], ["which", "WDT"], ["they", "PRP"], ["collided", "VBD"], ["and", "CC"], ["then", "RB"], ["figure", "VB"], ["out", "RP"], ["how", "WRB"], ["the", "DT"], ["position", "NN"], ["and", "CC"], ["velocity", "NN"], ["should", "MD"], ["change", "VB"], ["accordingly", "RB"], ["and", "CC"], ["then", "RB"], ["continue", "VB"], ["the", "DT"], ["simulation", "NN"], [".", "."], ["But", "CC"], ["this", "DT"], ["has", "VBZ"], ["a", "DT"], ["huge", "JJ"], ["problem", "NN"], [".", "."], ["The", "DT"], ["first", "JJ"], ["one", "NN"], ["is", "VBZ"], ["that", "IN"], ["you", "PRP"], ["have", "VBP"], ["t", "VBN"], ["o", "JJ"], ["check", "VB"], ["all", "DT"], ["pairs", "NNS"], ["of", "IN"], ["balls", "NNS"], ["for", "IN"], ["overlap", "NN"], ["so", "IN"], ["that", "DT"], ["'s", "VBZ"], ["quadratic", "JJ"], [",", ","], ["so", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["really", "RB"], [",", ","], ["really", "RB"], ["lot", "NN"], ["of", "IN"], ["overall", "JJ"], ["texture", "NN"], ["you", "PRP"], ["'re", "VBP"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["do", "VB"], ["it", "PRP"], ["for", "IN"], ["a", "DT"], ["huge", "JJ"], [",", ","], ["huge", "JJ"], ["value", "NN"], ["of", "IN"], ["N.", "NNP"], ["But", "CC"], ["the", "DT"], ["other", "JJ"], ["thing", "NN"], ["is", "VBZ"], ["even", "RB"], ["if", "IN"], ["N", "NNP"], ["is", "VBZ"], ["small", "JJ"], ["if", "IN"], ["you", "PRP"], ["do", "VBP"], ["a", "DT"], ["very", "RB"], ["small", "JJ"], ["dt", "NN"], [",", ","], ["then", "RB"], ["you", "PRP"], ["'re", "VBP"], ["just", "RB"], ["doing", "VBG"], ["this", "DT"], ["calculation", "NN"], ["over", "IN"], ["and", "CC"], ["over", "RB"], ["again", "RB"], ["and", "CC"], ["there", "EX"], ["'s", "VBZ"], ["just", "RB"], ["too", "RB"], ["much", "JJ"], ["computation", "NN"], ["moving", "VBG"], ["the", "DT"], ["balls", "NNS"], ["little", "JJ"], ["bit", "NN"], ["at", "IN"], ["a", "DT"], ["time", "NN"], [".", "."], ["On", "IN"], ["the", "DT"], ["other", "JJ"], ["hand", "NN"], [",", ","], ["if", "IN"], ["you", "PRP"], ["try", "VBP"], ["to", "TO"], ["improve", "VB"], ["things", "NNS"], ["by", "IN"], ["making", "VBG"], ["dt", "NNS"], ["too", "RB"], ["large", "JJ"], ["you", "PRP"], ["might", "MD"], ["completely", "RB"], ["miss", "VB"], ["a", "DT"], ["collision", "NN"], ["as", "IN"], ["shown", "VBN"], ["in", "IN"], ["the", "DT"], ["example", "NN"], ["at", "IN"], ["right", "NN"], [".", "."], ["So", "RB"], ["figuring", "VBG"], ["out", "RP"], ["the", "DT"], ["value", "NN"], ["of", "IN"], ["dt", "NN"], ["that", "WDT"], ["would", "MD"], ["really", "RB"], ["work", "VB"], ["is", "VBZ"], ["a", "DT"], ["huge", "JJ"], ["problem", "NN"], ["for", "IN"], ["the", "DT"], ["time", "NN"], ["driven", "JJ"], ["simulation", "NN"], [".", "."], ["Instead", "RB"], [",", ","], ["what", "WP"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["called", "VBN"], ["an", "DT"], ["event", "NN"], ["driven", "VBN"], ["simulation", "NN"], [".", "."], ["And", "CC"], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], ["very", "RB"], ["general", "JJ"], ["concept", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["useful", "JJ"], ["in", "IN"], ["all", "DT"], ["kinds", "NNS"], ["of", "IN"], ["context", "NN"], [".", "."], ["And", "CC"], ["we", "PRP"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["change", "VB"], ["things", "NNS"], ["when", "WRB"], ["something", "NN"], ["happens", "VBZ"], [".", "."], ["So", "RB"], [",", ","], ["since", "IN"], ["the", "DT"], ["only", "JJ"], ["thing", "NN"], ["that", "IN"], ["matters", "NNS"], ["is", "VBZ"], ["collisions", "NNS"], [",", ","], ["we", "PRP"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["figure", "VB"], ["the", "DT"], ["particles", "NNS"], ["move", "VBP"], ["in", "IN"], ["a", "DT"], ["straight", "JJ"], ["line", "NN"], [",", ","], ["between", "IN"], ["collisions", "NNS"], [".", "."], ["And", "CC"], ["what", "WP"], ["we", "PRP"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["focus", "VB"], ["only", "RB"], ["on", "IN"], ["the", "DT"], ["times", "NNS"], ["when", "WRB"], ["the", "DT"], ["collisions", "NNS"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["occur", "VB"], [".", "."], ["And", "CC"], ["the", "DT"], ["way", "NN"], ["we", "PRP"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["that", "DT"], [",", ","], ["is", "VBZ"], ["to", "TO"], ["maintain", "VB"], ["a", "DT"], ["priority", "NN"], ["queue", "NN"], ["and", "CC"], ["that", "DT"], ["priority", "NN"], ["queue", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["all", "PDT"], ["the", "DT"], ["possible", "JJ"], ["collisions", "NNS"], ["that", "WDT"], ["could", "MD"], ["happen", "VB"], ["in", "IN"], ["the", "DT"], ["future", "NN"], ["and", "CC"], ["they", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["prioritized", "VBN"], ["by", "IN"], ["time", "NN"], [".", "."], ["And", "CC"], ["when", "WRB"], ["we", "PRP"], ["remove", "VBP"], ["the", "DT"], ["minimum", "JJ"], ["element", "NN"], ["from", "IN"], ["the", "DT"], ["priority", "NN"], ["queue", "NN"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["the", "DT"], ["next", "JJ"], ["collision", "NN"], ["that", "IN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["deal", "VB"], ["with", "IN"], [".", "."], ["And", "CC"], ["so", "RB"], ["we", "PRP"], ["have", "VBP"], ["two", "CD"], ["phases", "NNS"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["prediction", "NN"], ["and", "CC"], ["resolution", "NN"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["sometime", "RB"], ["t", "JJ"], [",", ","], ["we", "PRP"], ["can", "MD"], ["take", "VB"], ["two", "CD"], ["particles", "NNS"], [".", "."], ["We", "PRP"], ["know", "VBP"], ["their", "PRP$"], ["position", "NN"], ["and", "CC"], ["velocities", "NNS"], ["shown", "VBN"], ["at", "IN"], ["the", "DT"], ["bottom", "NN"], ["here", "RB"], ["and", "CC"], ["we", "PRP"], ["can", "MD"], ["predict", "VB"], ["exactly", "RB"], ["the", "DT"], ["moment", "NN"], [",", ","], ["which", "WDT"], ["they", "PRP"], ["'ll", "MD"], ["collide", "VB"], ["assuming", "VBG"], ["that", "IN"], ["something", "NN"], ["else", "RB"], ["does", "VBZ"], ["n't", "RB"], ["happen", "VB"], ["to", "TO"], ["them", "PRP"], ["in", "IN"], ["between", "IN"], ["and", "CC"], ["then", "RB"], ["so", "IN"], ["they", "PRP"], ["will", "MD"], ["put", "VB"], ["that", "IN"], ["predicted", "JJ"], ["collision", "NN"], ["time", "NN"], ["on", "IN"], ["the", "DT"], ["priority", "NN"], ["queue", "NN"], ["and", "CC"], ["later", "RB"], ["on", "IN"], [",", ","], ["when", "WRB"], ["that", "DT"], ["time", "NN"], ["comes", "VBZ"], ["to", "TO"], ["pass", "VB"], ["we", "PRP"], ["will", "MD"], ["be", "VB"], ["right", "RB"], ["at", "IN"], ["moment", "NN"], ["when", "WRB"], ["they", "PRP"], ["collide", "VBP"], ["and", "CC"], ["we", "PRP"], ["can", "MD"], ["figure", "VB"], ["out", "RP"], ["what", "WP"], ["to", "TO"], ["do", "VB"], [".", "."], ["Now", "RB"], [",", ","], ["there", "EX"], ["is", "VBZ"], ["a", "DT"], ["possibly", "RB"], ["that", "IN"], ["something", "NN"], ["else", "RB"], ["happened", "VBD"], ["to", "TO"], ["t", "VB"], ["hem", "NN"], ["in", "IN"], ["between", "IN"], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["talk", "VB"], ["about", "IN"], ["that", "DT"], ["change", "NN"], [",", ","], ["too", "RB"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["do", "VB"], ["collision", "NN"], ["prediction", "NN"], [",", ","], ["which", "WDT"], ["is", "VBZ"], ["given", "VBN"], ["position", "NN"], [",", ","], ["velocity", "NN"], [",", ","], ["and", "CC"], ["radius", "NN"], ["when", "WRB"], ["'s", "VBZ"], ["it", "PRP"], ["going", "VBG"], ["to", "TO"], ["hit", "VB"], ["with", "IN"], ["another", "DT"], ["particle", "NN"], ["or", "CC"], [",", ","], ["or", "CC"], ["the", "DT"], ["wall", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["there", "EX"], ["'s", "VBZ"], ["resolution", "NN"], ["which", "WDT"], ["is", "VBZ"], ["to", "TO"], ["figure", "VB"], ["out", "RP"], ["how", "WRB"], ["to", "TO"], ["change", "VB"], ["the", "DT"], ["velocities", "NNS"], ["of", "IN"], ["the", "DT"], ["particles", "NNS"], ["according", "VBG"], ["to", "TO"], ["physical", "JJ"], ["laws", "NNS"], [".", "."], ["Now", "RB"], ["this", "DT"], ["part", "NN"], ["I", "PRP"], ["'m", "VBP"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], ["talk", "VB"], ["about", "IN"], ["in", "IN"], ["that", "DT"], ["much", "RB"], ["detail", "NN"], ["right", "RB"], ["now", "RB"], ["because", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["high", "JJ"], ["school", "NN"], ["Physics", "NNPS"], [".", "."], ["And", "CC"], ["so", "RB"], [",", ","], ["I", "PRP"], ["think", "VBP"], ["most", "JJS"], ["students", "NNS"], ["have", "VBP"], ["had", "VBN"], ["high", "JJ"], ["school", "NN"], ["Physics", "NNP"], ["and", "CC"], ["will", "MD"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["do", "VB"], [",", ","], ["do", "VB"], ["this", "DT"], ["Math", "NN"], ["or", "CC"], ["at", "IN"], ["least", "JJS"], ["be", "VB"], ["convinced", "VBN"], ["that", "IN"], ["the", "DT"], ["code", "NN"], ["that", "WDT"], ["does", "VBZ"], ["this", "DT"], ["Math", "NNP"], ["is", "VBZ"], ["correct", "JJ"], [".", "."], ["So", "RB"], [",", ","], ["if", "IN"], ["you", "PRP"], ["know", "VBP"], ["that", "IN"], ["you", "PRP"], ["have", "VBP"], ["a", "DT"], ["particle", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["at", "IN"], ["a", "DT"], ["certain", "JJ"], ["position", "NN"], ["or", "CC"], ["x", "NN"], ["or", "CC"], ["y", "NN"], ["and", "CC"], ["has", "VBZ"], ["got", "VBN"], ["a", "DT"], ["certain", "JJ"], ["velocity", "NN"], [",", ","], ["the", "DT"], ["x", "NN"], ["in", "IN"], ["the", "DT"], ["x-direction", "NN"], ["and", "CC"], ["y", "NN"], ["in", "IN"], ["the", "DT"], ["y-direction", "NN"], [",", ","], ["then", "RB"], ["you", "PRP"], ["can", "MD"], ["from", "IN"], ["the", "DT"], ["distance", "NN"], ["to", "TO"], ["the", "DT"], ["pro", "JJ"], [",", ","], ["vertical", "JJ"], ["wall", "NN"], ["you", "PRP"], ["can", "MD"], ["figure", "VB"], ["out", "RP"], ["how", "WRB"], ["many", "JJ"], ["seconds", "NNS"], ["this", "DT"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["take", "VB"], ["until", "IN"], ["it", "PRP"], ["hits", "VBZ"], ["it", "PRP"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["basically", "RB"], ["that", "DT"], ["distance", "NN"], ["divided", "VBN"], ["by", "IN"], ["the", "DT"], ["by", "IN"], ["the", "DT"], ["velocity", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], ["that", "IN"], ["'s", "VBZ"], ["the", "DT"], ["prediction", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["the", "DT"], ["resolution", "NN"], [".", "."], ["When", "WRB"], ["it", "PRP"], ["hits", "VBZ"], ["the", "DT"], ["wall", "NN"], ["is", "VBZ"], [",", ","], ["is", "VBZ"], ["just", "RB"], ["going", "VBG"], ["to", "TO"], ["change", "VB"], ["the", "DT"], ["velocity", "NN"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["in", "IN"], [",", ","], ["you", "PRP"], ["know", "VBP"], ["what", "WP"], ["the", "DT"], ["position", "NN"], ["is", "VBZ"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["just", "RB"], ["an", "DT"], ["example", "NN"], ["of", "IN"], ["collision", "NN"], [",", ","], ["of", "IN"], ["collision", "NN"], ["prediction", "NN"], [",", ","], ["when", "WRB"], ["'s", "POS"], ["it", "PRP"], ["going", "VBG"], ["to", "TO"], ["hit", "VB"], ["the", "DT"], ["wall", "NN"], ["and", "CC"], ["resolution", "NN"], ["what", "WP"], ["do", "VBP"], ["you", "PRP"], ["do", "VB"], ["when", "WRB"], ["it", "PRP"], ["gets", "VBZ"], ["to", "TO"], ["the", "DT"], ["wall", "NN"], [".", "."], ["When", "WRB"], ["you", "PRP"], ["have", "VBP"], ["two", "CD"], ["particles", "NNS"], ["there", "EX"], ["'s", "VBZ"], ["definitely", "RB"], ["more", "RBR"], ["math", "NN"], [".", "."], ["And", "CC"], ["again", "RB"], [",", ","], ["this", "DT"], ["is", "VBZ"], ["high", "JJ"], ["school", "NN"], ["Physics", "NNPS"], [".", "."], ["And", "CC"], ["we", "PRP"], ["'re", "VBP"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], ["test", "VB"], ["on", "IN"], ["it", "PRP"], ["or", "CC"], ["even", "RB"], ["go", "VBP"], ["through", "IN"], ["the", "DT"], ["details", "NNS"], [".", "."], ["But", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["just", "RB"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["of", "IN"], ["arithmetic", "JJ"], ["with", "IN"], ["the", "DT"], ["velocities", "NNS"], ["and", "CC"], ["positions", "NNS"], ["to", "TO"], ["deal", "VB"], ["with", "IN"], ["what", "WP"], ["happens", "VBZ"], ["when", "WRB"], [",", ","], ["when", "WRB"], ["how", "WRB"], ["to", "TO"], ["predict", "VB"], ["when", "WRB"], ["a", "DT"], ["given", "VBN"], ["particle", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["collide", "VB"], ["with", "IN"], ["another", "DT"], ["given", "VBN"], ["particle", "NN"], ["knowing", "VBG"], ["their", "PRP$"], ["velocity", "NN"], ["and", "CC"], ["position", "NN"], [".", "."], ["So", "RB"], [",", ","], ["you", "PRP"], ["have", "VBP"], ["to", "TO"], ["take", "VB"], ["both", "DT"], ["velocities", "NNS"], ["and", "CC"], ["divide", "VB"], ["their", "PRP$"], ["distance", "NN"], ["by", "IN"], ["those", "DT"], ["and", "CC"], [",", ","], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["So", "IN"], ["there", "EX"], ["'s", "VBZ"], ["simple", "JJ"], ["formulas", "NNS"], ["to", "TO"], ["tell", "VB"], ["us", "PRP"], ["what", "WDT"], ["to", "TO"], ["do", "VB"], ["and", "CC"], ["we", "PRP"], ["can", "MD"], ["also", "RB"], ["figure", "VB"], ["out", "RP"], ["the", "DT"], ["formulas", "NN"], ["for", "IN"], ["what", "WP"], ["we", "PRP"], ["do", "VBP"], ["o", "JJ"], ["nce", "NN"], ["they", "PRP"], ["do", "VBP"], ["collide", "VB"], [".", "."], ["And", "CC"], ["again", "RB"], ["nobody", "NN"], ["'s", "POS"], ["claiming", "NN"], ["that", "IN"], ["this", "DT"], ["is", "VBZ"], ["easy", "JJ"], ["but", "CC"], ["this", "DT"], ["is", "VBZ"], ["the", "DT"], ["Physics", "NNPS"], ["part", "NN"], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["worked", "VBN"], ["out", "RP"], ["and", "CC"], ["it", "PRP"], ["comes", "VBZ"], ["from", "IN"], ["Newton", "NNP"], ["'s", "POS"], ["Second", "JJ"], ["Law", "NNP"], [".", "."], ["And", "CC"], [",", ","], ["and", "CC"], [",", ","], ["anybody", "NN"], ["taking", "VBG"], ["high", "JJ"], ["school", "NN"], ["Physics", "NNP"], ["will", "MD"], [",", ","], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["deal", "VB"], ["with", "IN"], ["these", "DT"], ["formulas", "NNS"], ["and", "CC"], ["the", "DT"], ["rest", "NN"], ["of", "IN"], ["this", "DT"], ["may", "MD"], ["have", "VB"], ["to", "TO"], ["go", "VB"], ["to", "TO"], ["a", "DT"], ["reference", "NN"], ["book", "NN"], ["to", "TO"], ["get", "VB"], ["up", "RP"], ["to", "TO"], ["speed", "VB"], ["on", "IN"], ["them", "PRP"], [".", "."], ["[", "CC"], ["cough", "JJ"], ["]", "NN"], ["but", "CC"], ["once", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["reduced", "VBN"], ["to", "TO"], ["code", "VB"], ["we", "PRP"], ["can", "MD"], ["be", "VB"], [",", ","], ["it", "PRP"], ["might", "MD"], ["have", "VB"], ["some", "DT"], ["trouble", "NN"], ["debugging", "VBG"], ["at", "IN"], ["first", "JJ"], ["but", "CC"], ["at", "IN"], ["least", "JJS"], ["we", "PRP"], ["can", "MD"], ["be", "VB"], ["convinced", "VBN"], ["that", "IN"], ["it", "PRP"], ["works", "VBZ"], [".", "."], ["But", "CC"], ["now", "RB"], [",", ","], ["let", "VB"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["the", "DT"], ["computer", "NN"], ["science", "NN"], ["code", "NN"], [".", "."], ["So", "RB"], [",", ","], ["this", "DT"], ["is", "VBZ"], ["just", "RB"], ["extending", "VBG"], ["our", "PRP$"], ["ball", "NN"], ["data", "NNS"], ["type", "NN"], ["that", "IN"], ["we", "PRP"], ["use", "VBP"], ["for", "IN"], ["the", "DT"], ["bouncing", "NN"], ["balls", "NNS"], ["that", "WDT"], ["did", "VBD"], ["n't", "RB"], ["collide", "VB"], ["to", "TO"], ["take", "VB"], ["in", "IN"], [",", ","], ["into", "IN"], ["account", "NN"], ["these", "DT"], ["extra", "JJ"], ["things", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["ours", "NNS"], ["will", "MD"], ["have", "VB"], ["mass", "NN"], [",", ","], ["so", "IN"], ["there", "EX"], ["will", "MD"], ["be", "VB"], ["some", "DT"], ["big", "JJ"], ["heavy", "JJ"], ["ones", "NNS"], ["that", "WDT"], ["make", "VBP"], ["things", "NNS"], ["more", "RBR"], ["interesting", "JJ"], [".", "."], ["And", "CC"], ["there", "EX"], ["'s", "VBZ"], ["also", "RB"], ["a", "DT"], ["variable", "NN"], ["called", "VBN"], ["count", "NN"], [",", ","], ["which", "WDT"], ["is", "VBZ"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["collisions", "NNS"], ["of", "IN"], ["particles", "NNS"], ["have", "VBP"], ["been", "VBN"], ["involved", "VBN"], ["in", "IN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["useful", "JJ"], ["for", "IN"], ["a", "DT"], ["couple", "NN"], ["of", "IN"], ["purposes", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["need", "VB"], ["a", "DT"], ["bunch", "NN"], ["of", "IN"], ["procedures", "NNS"], ["which", "WDT"], ["do", "VBP"], ["the", "DT"], ["prediction", "NN"], ["and", "CC"], ["the", "DT"], ["collision", "NN"], ["resolution", "NN"], [".", "."], ["I", "PRP"], ["want", "VBP"], [",", ","], ["what", "WP"], ["'s", "VBZ"], ["the", "DT"], [",", ","], ["given", "VBN"], ["a", "DT"], ["particle", "NN"], ["what", "WP"], ["'s", "VBZ"], ["the", "DT"], ["time", "NN"], ["till", "IN"], ["we", "PRP"], ["hit", "VBP"], ["that", "DT"], ["particle", "NN"], ["?", "."], ["What", "WP"], ["'s", "VBZ"], ["the", "DT"], ["time", "NN"], ["till", "IN"], ["we", "PRP"], ["hit", "VBP"], ["vertical", "JJ"], ["horizontal", "NN"], ["wall", "NN"], ["?", "."], ["And", "CC"], ["the", "DT"], ["same", "JJ"], ["thing", "NN"], ["is", "VBZ"], ["if", "IN"], ["we", "PRP"], ["'re", "VBP"], ["at", "IN"], ["the", "DT"], ["point", "NN"], ["where", "WRB"], ["we", "PRP"], ["'re", "VBP"], ["hitting", "VBG"], ["a", "DT"], ["particle", "NN"], [",", ","], ["what", "WP"], ["would", "MD"], ["we", "PRP"], ["do", "VB"], [",", ","], ["the", "DT"], [",", ","], ["the", "DT"], ["same", "JJ"], ["way", "NN"], ["with", "IN"], ["the", "DT"], ["vertical", "JJ"], ["and", "CC"], ["horizontal", "JJ"], ["wall", "NN"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["skeleton", "NN"], [".", "."], ["We", "PRP"], ["need", "VBP"], ["those", "DT"], ["procedures", "NNS"], ["that", "WDT"], ["implement", "VBP"], ["those", "DT"], ["Physics", "NNS"], ["rules", "NNS"], ["for", "IN"], ["every", "DT"], ["particle", "NN"], [".", "."], ["And", "CC"], [",", ","], ["and", "CC"], ["this", "DT"], ["is", "VBZ"], ["what", "WP"], ["they", "PRP"], ["look", "VBP"], ["like", "IN"], ["and", "CC"], ["again", "RB"], ["this", "DT"], ["is", "VBZ"], ["high", "JJ"], ["school", "NN"], ["Physics", "NNS"], ["so", "IN"], ["we", "PRP"], ["'re", "VBP"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], ["it", "PRP"], ["in", "IN"], ["detail", "NN"], ["other", "JJ"], ["than", "IN"], ["to", "TO"], ["point", "VB"], ["out", "RP"], ["it", "PRP"], ["'s", "VBZ"], ["really", "RB"], ["not", "RB"], ["a", "DT"], ["huge", "JJ"], ["amount", "NN"], ["of", "IN"], ["code", "NN"], [".", "."], ["Lots", "NNP"], ["of", "IN"], ["the", "DT"], ["xs", "NN"], ["and", "CC"], ["the", "DT"], ["ys", "NN"], ["and", "CC"], ["the", "DT"], ["vs", "NN"], ["but", "CC"], ["really", "RB"], ["not", "RB"], ["a", "DT"], ["huge", "JJ"], ["amount", "NN"], ["of", "IN"], ["code", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["other", "JJ"], ["point", "NN"], ["is", "VBZ"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["return", "VB"], ["infinity", "NN"], ["if", "IN"], ["there", "EX"], ["'s", "VBZ"], ["no", "DT"], ["collision", "NN"], ["at", "IN"], ["all", "DT"], ["so", "RB"], ["that", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["keep", "VB"], [",", ","], ["keep", "VB"], ["that", "DT"], ["on", "IN"], ["the", "DT"], ["priority", "NN"], ["queue", "NN"], [",", ","], ["that", "WDT"], ["ran", "VBD"], ["on", "IN"], ["the", "DT"], ["priority", "NN"], ["queue", "NN"], ["forever", "RB"], [".", "."], ["Okay", "NNP"], [",", ","], ["so", "IN"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["procedures", "NNS"], ["that", "IN"], ["we", "PRP"], ["need", "VBP"], ["and", "CC"], ["then", "RB"], ["they", "PRP"], ["'re", "VBP"], ["similar", "JJ"], ["ones", "NNS"], ["for", "IN"], ["the", "DT"], ["horizontal", "NN"], ["and", "CC"], ["vertical", "JJ"], ["walls", "NNS"], [".", "."], ["So", "RB"], ["now", "RB"], [",", ","], ["let", "VB"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["the", "DT"], ["main", "JJ"], ["loop", "NN"], ["for", "IN"], ["the", "DT"], ["event", "NN"], ["driven", "VBN"], ["simulation", "NN"], [".", "."], ["So", "RB"], [",", ","], ["the", "DT"], ["first", "JJ"], ["thing", "NN"], ["is", "VBZ"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["for", "IN"], ["every", "DT"], ["particle", "NN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["compute", "VB"], ["the", "DT"], ["next", "JJ"], ["time", "NN"], ["that", "IN"], ["it", "PRP"], ["might", "MD"], ["hit", "VB"], ["every", "DT"], ["horizontal", "NN"], ["and", "CC"], ["vertical", "JJ"], ["wall", "NN"], [".", "."], ["Well", "NNP"], [",", ","], ["actually", "RB"], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["away", "RB"], ["from", "IN"], ["a", "DT"], ["wall", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], ["hit", "VB"], ["it", "PRP"], ["so", "IN"], ["that", "DT"], ["would", "MD"], ["be", "VB"], ["infinity", "NN"], [".", "."], ["But", "CC"], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["towards", "IN"], ["a", "DT"], ["wall", "NN"], [",", ","], ["then", "RB"], ["we", "PRP"], ["'ll", "MD"], ["compute", "VB"], ["the", "DT"], ["time", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["time", "NN"], ["in", "IN"], ["the", "DT"], ["future", "NN"], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["put", "VB"], ["that", "DT"], ["event", "NN"], ["on", "IN"], ["the", "DT"], ["priority", "NN"], ["queue", "NN"], ["with", "IN"], ["that", "DT"], ["time", "NN"], ["as", "IN"], ["the", "DT"], ["key", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["do", "VB"], ["the", "DT"], ["same", "JJ"], ["thing", "NN"], ["for", "IN"], ["all", "DT"], ["pairs", "NNS"], ["of", "IN"], ["particles", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["do", "VBP"], ["have", "VB"], ["a", "DT"], ["quadratic", "JJ"], ["initialization", "NN"], ["phase", "NN"], ["that", "IN"], ["we", "PRP"], ["perform", "VB"], ["just", "RB"], ["once", "RB"], ["to", "TO"], ["get", "VB"], ["the", "DT"], ["priority", "NN"], ["queue", "NN"], ["filled", "VBD"], ["up", "RP"], [".", "."], ["Now", "RB"], [",", ","], ["all", "DT"], ["collisions", "NNS"], ["are", "VBP"], [",", ","], ["might", "MD"], ["not", "RB"], ["happen", "VB"], ["so", "RB"], ["we", "PRP"], ["might", "MD"], ["have", "VB"], ["two", "CD"], ["particles", "NNS"], ["that", "WDT"], ["are", "VBP"], ["on", "IN"], ["a", "DT"], ["collision", "NN"], ["course", "NN"], ["that", "WDT"], ["and", "CC"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["predict", "VB"], ["that", "DT"], ["point", "NN"], ["for", "IN"], ["both", "DT"], ["of", "IN"], ["those", "DT"], ["particles", "NNS"], [",", ","], ["you", "PRP"], ["know", "VBP"], [",", ","], ["even", "RB"], ["right", "RB"], ["at", "IN"], ["the", "DT"], ["beginning", "NN"], [".", "."], ["But", "CC"], ["it", "PRP"], ["might", "MD"], ["be", "VB"], ["the", "DT"], ["case", "NN"], ["that", "IN"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["third", "JJ"], ["particle", "NN"], ["that", "IN"], ["knocks", "VBZ"], ["one", "CD"], ["of", "IN"], ["those", "DT"], ["out", "IN"], ["before", "IN"], ["that", "DT"], ["thing", "NN"], ["happens", "VBZ"], ["and", "CC"], ["that", "DT"], ["event", "NN"], ["would", "MD"], ["be", "VB"], ["invalidated", "VBN"], [".", "."], ["So", "RB"], [",", ","], ["the", "DT"], ["simulation", "NN"], ["has", "VBZ"], ["to", "TO"], ["be", "VB"], ["careful", "JJ"], ["to", "TO"], ["take", "VB"], ["that", "DT"], ["into", "IN"], ["account", "NN"], [".", "."], ["But", "CC"], ["that", "DT"], ["'s", "VBZ"], ["not", "RB"], ["difficult", "JJ"], ["to", "TO"], ["do", "VB"], [".", "."], ["So", "VB"], [",", ","], ["here", "RB"], ["'s", "VBZ"], ["what", "WP"], ["the", "DT"], ["main", "JJ"], ["loop", "NN"], ["is", "VBZ"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["take", "VB"], ["the", "DT"], ["next", "JJ"], ["event", "NN"], ["from", "IN"], ["the", "DT"], ["priority", "NN"], ["queue", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["the", "DT"], ["next", "JJ"], ["collision", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["happen", "VB"], ["from", "IN"], ["all", "DT"], ["our", "PRP$"], ["calculations", "NNS"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["one", "CD"], ["collision", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["happen", "VB"], ["next", "RB"], [".", "."], ["Then", "RB"], [",", ","], ["we", "PRP"], ["test", "VBP"], ["whether", "IN"], ["that", "DT"], ["event", "NN"], ["has", "VBZ"], ["been", "VBN"], ["invalidated", "VBN"], [".", "."], ["And", "CC"], ["we", "PRP"], ["do", "VBP"], ["that", "DT"], ["by", "IN"], ["using", "VBG"], ["that", "IN"], ["count", "NN"], ["field", "NN"], ["in", "IN"], ["the", "DT"], ["particle", "NN"], [".", "."], ["So", "RB"], [",", ","], ["then", "RB"], ["that", "IN"], ["tells", "VBZ"], ["us", "PRP"], ["what", "WP"], ["time", "NN"], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["next", "JJ"], [".", "."], ["So", "RB"], [",", ","], ["then", "RB"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["go", "VB"], ["through", "IN"], ["all", "PDT"], ["the", "DT"], ["particles", "NNS"], ["and", "CC"], ["change", "VB"], ["their", "PRP$"], ["positions", "NNS"], ["on", "IN"], ["a", "DT"], ["straight", "JJ"], ["line", "NN"], ["trajectory", "NN"], [",", ","], ["where", "WRB"], ["would", "MD"], ["they", "PRP"], ["'ll", "MD"], ["be", "VB"], ["after", "IN"], ["that", "DT"], ["much", "JJ"], ["time", "NN"], ["?", "."], ["Then", "RB"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["take", "VB"], ["the", "DT"], ["two", "CD"], ["particles", "NNS"], ["that", "IN"], ["collide", "NN"], ["and", "CC"], ["change", "VB"], ["their", "PRP$"], ["velocity", "NN"], [".", "."], ["They", "PRP"], ["bounce", "VBD"], ["off", "RP"], ["one", "CD"], ["another", "DT"], [".", "."], ["Now", "RB"], ["those", "DT"], ["two", "CD"], ["particles", "NNS"], ["'", "POS"], ["velocities", "NNS"], ["have", "VBP"], ["changed", "VBN"], [",", ","], ["essentially", "RB"], ["that", "IN"], ["invalidates", "VBZ"], ["the", "DT"], ["future", "JJ"], ["collisions", "NNS"], ["involving", "VBG"], ["those", "DT"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], [",", ","], ["what", "WP"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["for", "IN"], ["those", "DT"], ["two", "CD"], ["particles", "NNS"], ["is", "VBZ"], ["go", "VBN"], ["through", "IN"], ["and", "CC"], ["predict", "VBP"], ["the", "DT"], ["future", "NN"], ["collisions", "NNS"], ["with", "IN"], ["any", "DT"], ["walls", "NNS"], ["and", "CC"], ["collisions", "NNS"], ["with", "IN"], ["any", "DT"], ["other", "JJ"], ["particles", "NNS"], [".", "."], ["And", "CC"], ["put", "VBD"], ["all", "DT"], ["those", "DT"], ["new", "JJ"], ["events", "NNS"], ["on", "IN"], ["to", "TO"], ["the", "DT"], ["priority", "NN"], ["queue", "NN"], [".", "."], ["But", "CC"], ["that", "DT"], ["'s", "VBZ"], ["it", "PRP"], [".", "."], ["You", "PRP"], ["got", "VBD"], ["two", "CD"], ["particles", "NNS"], [",", ","], ["change", "VB"], ["your", "PRP$"], ["velocities", "NNS"], ["figure", "VBP"], ["out", "RP"], ["the", "DT"], ["future", "JJ"], ["collision", "NN"], ["of", "IN"], ["those", "DT"], ["particles", "NNS"], ["with", "IN"], ["the", "DT"], ["wall", "NN"], ["and", "CC"], ["update", "VB"], ["the", "DT"], ["priority", "NN"], ["queue", "NN"], ["and", "CC"], ["then", "RB"], ["the", "DT"], ["main", "JJ"], ["loop", "NN"], ["is", "VBZ"], ["take", "VB"], ["the", "DT"], ["next", "JJ"], ["thing", "NN"], ["off", "IN"], ["the", "DT"], ["priority", "NN"], ["queue", "NN"], ["and", "CC"], ["keep", "VB"], ["going", "VBG"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["the", "DT"], ["code", "NN"], ["that", "IN"], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["next", "JJ"], [".", "."], ["So", "IN"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], [",", ","], ["a", "DT"], [",", ","], ["a", "DT"], ["bunch", "NN"], ["of", "IN"], ["conventions", "NNS"], ["just", "RB"], ["to", "TO"], ["reduce", "VB"], ["the", "DT"], ["code", "NN"], [".", "."], ["And", "CC"], ["if", "IN"], ["we", "PRP"], ["this", "DT"], ["the", "DT"], [",", ","], ["the", "DT"], ["thing", "NN"], ["called", "VBN"], ["event", "NN"], ["which", "WDT"], ["involves", "VBZ"], ["it", "PRP"], ["says", "VBZ"], ["between", "IN"], ["two", "CD"], ["particles", "NNS"], [",", ","], ["something", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["happen", "VB"], ["at", "IN"], ["a", "DT"], ["certain", "JJ"], ["time", "NN"], ["and", "CC"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["adopt", "VB"], ["the", "DT"], ["conventions", "NNS"], ["that", "IN"], [",", ","], ["if", "IN"], [",", ","], ["neither", "DT"], ["particle", "NN"], ["is", "VBZ"], ["null", "JJ"], ["then", "RB"], ["we", "PRP"], ["'re", "VBP"], ["talking", "VBG"], ["about", "IN"], ["two", "CD"], ["particles", "NNS"], [".", "."], ["If", "IN"], ["one", "CD"], ["of", "IN"], ["the", "DT"], ["particles", "NNS"], ["is", "VBZ"], ["null", "JJ"], ["then", "RB"], ["we", "PRP"], ["'re", "VBP"], ["talking", "VBG"], ["about", "IN"], ["a", "DT"], ["wall", "NN"], [",", ","], ["a", "DT"], ["vertical", "JJ"], ["or", "CC"], ["horizontal", "JJ"], ["wall", "NN"], [".", "."], ["And", "CC"], ["if", "IN"], ["both", "DT"], ["particles", "NNS"], ["are", "VBP"], ["null", "JJ"], ["we", "PRP"], ["'re", "VBP"], ["saying", "VBG"], ["we", "PRP"], ["just", "RB"], ["want", "VBP"], ["to", "TO"], ["redraw", "VB"], ["things", "NNS"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["a", "DT"], ["bit", "NN"], ["of", "IN"], ["a", "DT"], ["hack", "NN"], [",", ","], ["but", "CC"], ["it", "PRP"], ["cuts", "VBZ"], ["down", "RB"], ["on", "IN"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["code", "NN"], [".", "."], ["Our", "PRP$"], ["compared", "VBN"], ["to", "TO"], ["is", "VBZ"], ["by", "IN"], ["time", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["again", "RB"], [",", ","], ["we", "PRP"], ["need", "VBP"], ["an", "DT"], [",", ","], ["is", "VBZ"], ["valid", "JJ"], ["to", "TO"], ["check", "VB"], ["about", "IN"], ["intervening", "VBG"], ["collision", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["here", "RB"], ["'s", "VBZ"], ["the", "DT"], ["skeleton", "NN"], ["of", "IN"], ["what", "WP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["happen", "VB"], ["with", "IN"], ["the", "DT"], ["collision", "NN"], ["system", "NN"], ["which", "WDT"], ["is", "VBZ"], ["the", "DT"], ["key", "JJ"], ["thing", "NN"], ["is", "VBZ"], ["this", "DT"], ["prediction", "NN"], ["method", "NN"], ["that", "WDT"], ["takes", "VBZ"], ["a", "DT"], ["particle", "NN"], ["as", "IN"], ["argument", "NN"], [",", ","], ["and", "CC"], ["adds", "VBZ"], ["to", "TO"], ["the", "DT"], ["priority", "NN"], ["queue", "NN"], [",", ","], ["all", "PDT"], ["the", "DT"], ["possible", "JJ"], ["collisions", "NNS"], ["involving", "VBG"], ["this", "DT"], ["particle", "NN"], [".", "."], ["So", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["go", "VB"], ["through", "IN"], ["every", "DT"], ["particle", "NN"], ["and", "CC"], ["call", "VB"], ["the", "DT"], ["time", "NN"], ["to", "TO"], ["hit", "VB"], ["method", "NN"], ["for", "IN"], ["that", "DT"], ["particle", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["it", "PRP"], ["'ll", "MD"], ["put", "VB"], ["an", "DT"], ["event", "NN"], ["on", "IN"], ["the", "DT"], ["priority", "NN"], ["queue", "NN"], ["for", "IN"], ["that", "DT"], ["time", "NN"], [",", ","], ["this", "DT"], ["particle", "NN"], ["with", "IN"], ["that", "DT"], ["particle", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["it", "PRP"], ["'ll", "MD"], ["also", "RB"], ["put", "VB"], ["an", "DT"], ["event", "NN"], ["for", "IN"], ["the", "DT"], ["vertical", "JJ"], ["wall", "NN"], ["and", "CC"], ["the", "DT"], ["horizontal", "NN"], ["wall", "NN"], [",", ","], ["again", "RB"], [",", ","], ["using", "VBG"], ["this", "DT"], ["null", "JJ"], ["convention", "NN"], ["to", "TO"], ["say", "VB"], ["that", "IN"], ["the", "DT"], ["event", "NN"], ["second", "JJ"], ["argument", "NN"], ["null", "NN"], ["is", "VBZ"], ["vertical", "JJ"], [".", "."], ["First", "NNP"], ["argument", "NN"], ["null", "NN"], ["is", "VBZ"], ["horizontal", "JJ"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["key", "JJ"], ["method", "NN"], ["t", "NN"], ["hat", "WP"], ["gets", "VBZ"], ["used", "VBN"], ["in", "IN"], ["the", "DT"], ["simulation", "NN"], ["for", "IN"], ["each", "DT"], ["of", "IN"], ["the", "DT"], ["two", "CD"], ["particles", "NNS"], ["that", "WDT"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["collide", "VB"], [".", "."], ["So", "RB"], [",", ","], ["now", "RB"], ["we", "PRP"], ["can", "MD"], ["look", "VB"], ["finally", "RB"], ["at", "IN"], ["the", "DT"], ["main", "JJ"], ["event", "NN"], ["driven", "VBN"], ["simulation", "NN"], ["loop", "NN"], [".", "."], ["So", "IN"], ["there", "EX"], ["'s", "VBZ"], ["build", "VB"], ["a", "DT"], ["priority", "NN"], ["queue", "NN"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["do", "VBP"], ["this", "DT"], ["prediction", "NN"], ["for", "IN"], ["every", "DT"], ["one", "CD"], ["of", "IN"], ["the", "DT"], ["particles", "NNS"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["also", "RB"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["put", "VB"], ["as", "IN"], ["the", "DT"], ["first", "JJ"], ["thing", "NN"], ["that", "WDT"], ["happened", "VBD"], ["always", "RB"], ["a", "DT"], [",", ","], ["an", "DT"], ["event", "NN"], ["that", "WDT"], ["says", "VBZ"], ["redraw", "VB"], ["everything", "NN"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["just", "RB"], ["a", "DT"], [",", ","], ["a", "DT"], ["way", "NN"], ["of", "IN"], ["make", "NN"], ["suring", "NN"], ["that", "IN"], ["the", "DT"], ["simulation", "NN"], ["keeps", "VBZ"], ["proceeding", "VBG"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["an", "DT"], ["easy", "JJ"], ["way", "NN"], ["to", "TO"], ["get", "VB"], ["things", "NNS"], ["drawn", "VBN"], [".", "."], ["Okay", "NNP"], [".", "."], ["So", "NNP"], [",", ","], ["now", "RB"], ["the", "DT"], ["main", "JJ"], ["loop", "NN"], ["is", "VBZ"], ["while", "IN"], ["the", "DT"], ["priority", "NN"], ["queue", "NN"], ["is", "VBZ"], ["not", "RB"], ["empty", "JJ"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["pull", "VB"], ["off", "RP"], ["an", "DT"], ["event", "NN"], [".", "."], ["We", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["test", "VB"], ["whether", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["valid", "JJ"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["just", "RB"], ["checker", "NN"], ["if", "IN"], ["anything", "NN"], ["happened", "VBD"], ["with", "IN"], ["those", "DT"], ["two", "CD"], ["particles", "NNS"], [".", "."], ["We", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["pull", "VB"], ["off", "RP"], ["the", "DT"], ["two", "CD"], ["particles", "NNS"], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["all", "DT"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["move", "VB"], ["all", "DT"], ["particles", "NNS"], ["by", "IN"], ["the", "DT"], ["amount", "NN"], ["of", "IN"], ["time", "NN"], ["that", "WDT"], ["has", "VBZ"], ["elapsed", "VBN"], ["since", "IN"], ["the", "DT"], ["last", "JJ"], ["event", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["test", "VB"], ["which", "WDT"], ["of", "IN"], ["the", "DT"], ["four", "CD"], ["types", "NNS"], ["of", "IN"], ["events", "NNS"], ["that", "IN"], ["it", "PRP"], ["is", "VBZ"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["either", "CC"], ["redraw", "JJ"], [",", ","], ["bounce", "NN"], [",", ","], ["B", "NNP"], ["of", "IN"], ["A", "NNP"], ["or", "CC"], [",", ","], ["or", "CC"], ["bounce", "VB"], ["off", "RP"], ["a", "DT"], ["vertical", "JJ"], ["wall", "NN"], ["or", "CC"], [",", ","], ["or", "CC"], ["a", "DT"], ["horizontal", "JJ"], ["wall", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["'ll", "MD"], ["go", "VB"], ["ahead", "RB"], ["and", "CC"], ["do", "VB"], ["the", "DT"], ["predictions", "NNS"], ["of", "IN"], ["each", "DT"], ["of", "IN"], ["those", "DT"], ["particles", "NNS"], [",", ","], ["A", "NNP"], ["and", "CC"], ["B", "NNP"], [",", ","], ["against", "IN"], ["all", "DT"], ["other", "JJ"], ["particles", "NNS"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["the", "DT"], ["pretty", "RB"], ["much", "JJ"], ["all", "PDT"], ["the", "DT"], ["code", "NN"], ["for", "IN"], ["the", "DT"], ["simulation", "NN"], [".", "."], ["So", "IN"], ["this", "DT"], ["is", "VBZ"], ["data", "JJ"], ["driven", "RB"], ["code", "NN"], [".", "."], ["So", "RB"], [",", ","], ["one", "CD"], ["thing", "NN"], ["we", "PRP"], ["can", "MD"], ["do", "VB"], ["is", "VBZ"], ["just", "RB"], ["run", "VB"], ["it", "PRP"], ["for", "IN"], ["a", "DT"], ["100", "CD"], ["balls", "NNS"], ["in", "IN"], ["random", "JJ"], ["position", "NN"], ["at", "IN"], ["random", "JJ"], ["velocity", "NN"], [".", "."], ["But", "CC"], ["what", "WP"], ["'s", "VBZ"], ["nice", "JJ"], ["about", "IN"], ["data", "NNS"], ["driven", "RB"], ["code", "NN"], ["is", "VBZ"], ["now", "RB"], ["that", "IN"], ["the", "DT"], ["code", "NN"], ["'s", "POS"], ["working", "NN"], ["and", "CC"], ["again", "RB"], ["we", "PRP"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["not", "RB"], ["saying", "VBG"], ["that", "IN"], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], ["trivial", "JJ"], ["code", "NN"], ["to", "TO"], ["write", "VB"], ["but", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["definitely", "RB"], ["manageable", "JJ"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["enabled", "VBN"], ["by", "IN"], ["priority", "NN"], ["queues", "NNS"], [".", "."], ["Without", "IN"], ["priority", "NN"], ["queues", "NNS"], [",", ","], ["it", "PRP"], ["would", "MD"], ["be", "VB"], ["quite", "RB"], ["a", "DT"], ["bit", "NN"], ["more", "RBR"], ["complicated", "JJ"], ["to", "TO"], ["figure", "VB"], ["out", "RP"], ["how", "WRB"], ["to", "TO"], ["do", "VB"], ["this", "DT"], [".", "."], ["And", "CC"], ["also", "RB"], [",", ","], ["it", "PRP"], ["would", "MD"], ["n't", "RB"], ["be", "VB"], ["reasonably", "RB"], ["efficient", "JJ"], ["at", "IN"], ["all", "DT"], ["for", "IN"], ["large", "JJ"], ["data", "NNS"], ["sets", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], [",", ","], ["a", "DT"], ["simple", "JJ"], ["simulation", "NN"], ["to", "TO"], ["just", "RB"], ["generate", "VB"], ["random", "JJ"], ["positions", "NNS"], [".", "."], ["People", "NNS"], ["might", "MD"], ["be", "VB"], ["interested", "JJ"], ["in", "IN"], ["this", "DT"], ["one", "NN"], [".", "."], ["Now", "RB"], ["this", "DT"], ["is", "VBZ"], ["n't", "RB"], ["exactly", "RB"], ["precisely", "RB"], ["wh", "NN"], ["at", "IN"], ["would", "MD"], ["happen", "VB"], ["in", "IN"], ["the", "DT"], ["real", "JJ"], ["world", "NN"], ["mainly", "RB"], ["because", "IN"], ["we", "PRP"], ["did", "VBD"], ["n't", "RB"], ["put", "VB"], ["in", "IN"], ["the", "DT"], ["simulation", "NN"], ["what", "WP"], ["happens", "VBZ"], ["when", "WRB"], ["three", "CD"], ["particles", "NNS"], ["are", "VBP"], ["touching", "VBG"], ["or", "CC"], ["there", "EX"], ["'s", "VBZ"], ["two", "CD"], ["touching", "NN"], ["in", "IN"], ["another", "DT"], ["one", "CD"], ["hits", "VBZ"], ["them", "PRP"], [".", "."], ["And", "CC"], ["also", "RB"], ["nobody", "NN"], ["racks", "VBZ"], ["up", "RP"], ["a", "DT"], [",", ","], ["a", "DT"], ["set", "NN"], ["of", "IN"], ["billiard", "NN"], ["balls", "NNS"], ["such", "JJ"], ["that", "IN"], ["all", "DT"], ["fifteen", "NNS"], ["are", "VBP"], ["touching", "VBG"], ["in", "IN"], ["all", "DT"], ["places", "NNS"], [".", "."], ["So", "IN"], ["life", "NN"], ["can", "MD"], ["be", "VB"], ["complicating", "VBG"], ["when", "WRB"], ["you", "PRP"], ["try", "VBP"], ["to", "TO"], ["simulate", "VB"], ["the", "DT"], ["natural", "JJ"], ["world", "NN"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["about", "IN"], ["Einstein", "NNP"], ["'s", "POS"], ["experiment", "NN"], [".", "."], ["If", "IN"], ["you", "PRP"], ["got", "VBP"], ["one", "CD"], ["big", "JJ"], ["particle", "NN"], ["like", "IN"], ["a", "DT"], ["pollen", "NN"], ["grain", "NN"], ["and", "CC"], ["lots", "NNS"], ["of", "IN"], ["little", "JJ"], ["particles", "NNS"], ["like", "IN"], ["atoms", "NNS"], ["molecules", "NNS"], ["and", "CC"], ["bouncing", "VBG"], ["against", "IN"], ["it", "PRP"], ["the", "DT"], ["big", "JJ"], ["one", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["move", "VB"], ["about", "IN"], ["randomly", "RB"], [".", "."], ["And", "CC"], ["then", "RB"], ["this", "DT"], ["is", "VBZ"], ["another", "DT"], ["famous", "JJ"], ["physics", "NNS"], ["experiment", "JJ"], ["showing", "VBG"], ["diffusion", "NN"], [".", "."], ["And", "CC"], ["there", "EX"], ["'s", "VBZ"], ["many", "JJ"], ["other", "JJ"], ["things", "NNS"], ["that", "IN"], ["you", "PRP"], ["can", "MD"], ["do", "VB"], ["with", "IN"], ["this", "DT"], ["basic", "JJ"], ["collision", "NN"], ["system", "NN"], [".", "."], ["If", "IN"], ["you", "PRP"], ["have", "VBP"], ["huge", "JJ"], ["numbers", "NNS"], ["of", "IN"], ["particles", "NNS"], ["and", "CC"], ["you", "PRP"], ["measure", "VBP"], ["the", "DT"], ["number", "NN"], ["that", "WDT"], ["hit", "VBD"], ["the", "DT"], ["size", "NN"], ["and", "CC"], ["the", "DT"], ["frequency", "NN"], ["with", "IN"], ["which", "WDT"], ["they", "PRP"], ["hit", "VBD"], ["they", "PRP"], ["sides", "NNS"], ["you", "PRP"], ["can", "MD"], ["do", "VB"], ["experiments", "NNS"], ["relating", "VBG"], ["temperature", "NN"], ["and", "CC"], ["pressure", "NN"], ["and", "CC"], ["many", "JJ"], ["other", "JJ"], ["things", "NNS"], ["or", "CC"], ["do", "VB"], ["three-dimensional", "JJ"], ["versions", "NNS"], [".", "."], ["Again", "NNP"], ["simulation", "NN"], ["of", "IN"], ["the", "DT"], ["natural", "JJ"], ["world", "NN"], ["is", "VBZ"], ["an", "DT"], ["increasingly", "RB"], ["important", "JJ"], ["application", "NN"], ["of", "IN"], ["computing", "VBG"], ["and", "CC"], ["need", "VBP"], ["efficient", "JJ"], ["data", "NNS"], ["structures", "NNS"], ["like", "IN"], ["priority", "NN"], ["queues", "NNS"], ["to", "TO"], ["get", "VB"], ["it", "PRP"], ["done", "VBN"], [".", "."]], "title": "event driven simulation optional", "text": "Now, look at an interesting application of priority queues that is actually representative of whole family of a critically important applications in applications of computing. It's called event driven simulation. And the idea is we want to study some property of the natural world by simulating it. And that's something that's very, very common in, in scientific inquiry nowadays. And this is a very natural idea. And actually, the idea goes back to Einstein. So, we want to simulate the motion of N moving particles that might collide with the priority. This, this kind of stimulation is enabled by priority queues. And without something like priority queues, you couldn't do this for a large number of particles because it would require quadratic time and simply can't be afforded for a huge number of particles. So, and let's take a look at how we can possibly make this happen. So we use a simple scientific model called the hard disc model. And then, this is just for simplicity to get this done and just part of a lecture. Clearly, these things can be extended in many ways. So, we're going to have moving particles that either collide with each other and with the walls. And each particle is a disc that's got known position, velocity, mass, and radius. And there's no other forces involved. It gets more complicated if there's more forces, like gravity involved. And this point by itself is very significant. As I mentioned, it goes back to the study of physics with [cough] the trying to understand the pressure and temperature in Einstein's famous experiment on a pollen grain showing that their motion was brownian and random. So whether it's individual atoms and molecules or some bigger kinds of particles. It's a complex dynamic situation that is better understood through computer simulation. And nowadays that means priority queues. [cough] So, as a wa rm-up, here's code to implement bouncing balls without the collisions. And this is an elementary programing exercise that is the, the code at the left has the effects shown at the right. So, we have a data type called ball that represents just one of the particles and has instance variables that has the position and the velocity. So, that's why we make a bunch of them and then we have a, a while loop which is just every 50 milliseconds clear the, the whole drawing and then move the balls a little bit and then draw them in their current position. And then the only to move [cough] operation does is to update the position of the ball by the velocity, which is just another number and then it does the bouncing off the walls. If it happens to hit the left of the wall then you reflect the x-coordinate in the right wall, you reflect the x-coordinate bottom to top, you do the same for the y-coordinate. So, this the is an easy programming exercise given the right display primitives. And it's a good exercise in object-oriented programming showing how just one implementation then we can use that same implementation to simulate a number of instances. So, that's our starting point in terms of the code. So this is the implementation of the ball class. So, it's got position and velocity as I mentioned, and every ball has a, a radius. And then there is a constructor and maybe we have a constructor that takes arguments that would initialize the position and the velocity or maybe initialize them to a random position if there's no arguments. And then, here's the move method. And the move method again, most of the times, just takes the x and y coordinates and adds the current velocity times the speed constant. The dt speed, speed variable that's given as argument dt. And then these tests are for whether it hits the walls in which case, you have to flip the x or y velocity. And then draw, it's just using standard draw. Just draw the ball. So, that's all the code for doing the bouncing ball simulation. Now, what's missing in this is what happens when the balls collide with each other. And to cope with that we need to do both. A little bit of high school Physics and a little bit of basic Computer Science. The Physics problem is exactly what happens when two balls hit and they bounce off each other according to some well-understood physical process, and that's the high school Physics. And the CS problem is how and when to we exactly do these computations for each of the balls. And how can we do it efficiently that is in, in log N time versus quadratic time. Because if we have a computational process that takes quadratic time, then it's not going to scale, we're not going to be able to do large number of particles. Simulations in the real world, usually, we wind up doing huge amounts of data and we cannot have a quadratic algorithm. This is just first indication of that of why if you want to do this simulation, you better know about some data structure like priority queues. If you try to do it without it, you're not going to be successful. Alright, so, let's take a look at what happens. So there's a number of things that you might consider trying. So, one idea is the so-called time driven simulation. And we just say, we're going to update everything every dt seconds. Then we go ahead and then we could check if there's a collision, if the two balls, pieces of the two balls are occupying the same space. And if there is, then we could roll back time just a little bit and I'll try to figure out exactly, the moment of which they collided and then figure out how the position and velocity should change accordingly and then continue the simulation. But this has a huge problem. The first one is that you have t o check all pairs of balls for overlap so that's quadratic, so it's going to be really, really lot of overall texture you're not going to be able to do it for a huge, huge value of N. But the other thing is even if N is small if you do a very small dt, then you're just doing this calculation over and over again and there's just too much computation moving the balls little bit at a time. On the other hand, if you try to improve things by making dt too large you might completely miss a collision as shown in the example at right. So figuring out the value of dt that would really work is a huge problem for the time driven simulation. Instead, what we want to do is called an event driven simulation. And this is a very general concept that's useful in all kinds of context. And we are going to change things when something happens. So, since the only thing that matters is collisions, we are going to figure the particles move in a straight line, between collisions. And what we are going to do is focus only on the times when the collisions are going to occur. And the way we are going to that, is to maintain a priority queue and that priority queue is going to have all the possible collisions that could happen in the future and they're going to be prioritized by time. And when we remove the minimum element from the priority queue, that's the next collision that we have to deal with. And so we have two phases, we have prediction and resolution. So, that's sometime t, we can take two particles. We know their position and velocities shown at the bottom here and we can predict exactly the moment, which they'll collide assuming that something else doesn't happen to them in between and then so they will put that predicted collision time on the priority queue and later on, when that time comes to pass we will be right at moment when they collide and we can figure out what to do. Now, there is a possibly that something else happened to t hem in between and we'll talk about that change, too. So, we have to do collision prediction, which is given position, velocity, and radius when's it going to hit with another particle or, or the wall. And then there's resolution which is to figure out how to change the velocities of the particles according to physical laws. Now this part I'm not going to talk about in that much detail right now because it's high school Physics. And so, I think most students have had high school Physics and will be able to do, do this Math or at least be convinced that the code that does this Math is correct. So, if you know that you have a particle that's at a certain position or x or y and has got a certain velocity, the x in the x-direction and y in the y-direction, then you can from the distance to the pro, vertical wall you can figure out how many seconds this is going to take until it hits it. It's basically that distance divided by the by the velocity. And so that's the prediction. And then, the resolution. When it hits the wall is, is just going to change the velocity. So that's in, you know what the position is. So that's just an example of collision, of collision prediction, when's it going to hit the wall and resolution what do you do when it gets to the wall. When you have two particles there's definitely more math. And again, this is high school Physics. And we're not going to test on it or even go through the details. But it's just a little bit of arithmetic with the velocities and positions to deal with what happens when, when how to predict when a given particle is going to collide with another given particle knowing their velocity and position. So, you have to take both velocities and divide their distance by those and, and so forth. So there's simple formulas to tell us what to do and we can also figure out the formulas for what we do o nce they do collide. And again nobody's claiming that this is easy but this is the Physics part and it's worked out and it comes from Newton's Second Law. And, and, anybody taking high school Physics will, be able to deal with these formulas and the rest of this may have to go to a reference book to get up to speed on them. [cough] but once it's reduced to code we can be, it might have some trouble debugging at first but at least we can be convinced that it works. But now, let's look at the computer science code. So, this is just extending our ball data type that we use for the bouncing balls that didn't collide to take in, into account these extra things. So, ours will have mass, so there will be some big heavy ones that make things more interesting. And there's also a variable called count, which is the number of collisions of particles have been involved in. And that's useful for a couple of purposes. So, we're going to need a bunch of procedures which do the prediction and the collision resolution. I want, what's the, given a particle what's the time till we hit that particle? What's the time till we hit vertical horizontal wall? And the same thing is if we're at the point where we're hitting a particle, what would we do, the, the same way with the vertical and horizontal wall. So, that's the skeleton. We need those procedures that implement those Physics rules for every particle. And, and this is what they look like and again this is high school Physics so we're not going to do it in detail other than to point out it's really not a huge amount of code. Lots of the xs and the ys and the vs but really not a huge amount of code. And the other point is we're going to return infinity if there's no collision at all so that it's going to keep, keep that on the priority queue, that ran on the priority queue forever. Okay, so that's the procedures that we need and then they're similar ones for the horizontal and vertical walls. So now, let's look at the main loop for the event driven simulation. So, the first thing is we're going to for every particle we're going to compute the next time that it might hit every horizontal and vertical wall. Well, actually if it's going away from a wall, it's not going to hit it so that would be infinity. But if it's going towards a wall, then we'll compute the time. And then that's a time in the future and we'll put that event on the priority queue with that time as the key. And then, we'll do the same thing for all pairs of particles. So, we do have a quadratic initialization phase that we perform just once to get the priority queue filled up. Now, all collisions are, might not happen so we might have two particles that are on a collision course that and we're going to predict that point for both of those particles, you know, even right at the beginning. But it might be the case that there's a third particle that knocks one of those out before that thing happens and that event would be invalidated. So, the simulation has to be careful to take that into account. But that's not difficult to do. So, here's what the main loop is. So, we're going to take the next event from the priority queue. That's the next collision that's going to happen from all our calculations. There's one collision that's going to happen next. Then, we test whether that event has been invalidated. And we do that by using that count field in the particle. So, then that tells us what time it's going to be next. So, then we have to go through all the particles and change their positions on a straight line trajectory, where would they'll be after that much time? Then we have to take the two particles that collide and change their velocity. They bounce off one another. Now those two particles' velocities have changed , essentially that invalidates the future collisions involving those. And then we, what we have to do is for those two particles is go through and predict the future collisions with any walls and collisions with any other particles. And put all those new events on to the priority queue. But that's it. You got two particles, change your velocities figure out the future collision of those particles with the wall and update the priority queue and then the main loop is take the next thing off the priority queue and keep going. That's the code that we'll look at next. So we have a, a, a bunch of conventions just to reduce the code. And if we this the, the thing called event which involves it says between two particles, something is going to happen at a certain time and we're going to adopt the conventions that, if, neither particle is null then we're talking about two particles. If one of the particles is null then we're talking about a wall, a vertical or horizontal wall. And if both particles are null we're saying we just want to redraw things. That's a bit of a hack, but it cuts down on a lot of code. Our compared to is by time. And then again, we need an, is valid to check about intervening collision. And then here's the skeleton of what's going to happen with the collision system which is the key thing is this prediction method that takes a particle as argument, and adds to the priority queue, all the possible collisions involving this particle. So, it's going to go through every particle and call the time to hit method for that particle. And then, it'll put an event on the priority queue for that time, this particle with that particle. And then, it'll also put an event for the vertical wall and the horizontal wall, again, using this null convention to say that the event second argument null is vertical. First argument null is horizontal. So that's a key method t hat gets used in the simulation for each of the two particles that are going to collide. So, now we can look finally at the main event driven simulation loop. So there's build a priority queue. There's do this prediction for every one of the particles. And then, also we're going to put as the first thing that happened always a, an event that says redraw everything. So that's just a, a way of make suring that the simulation keeps proceeding. It's an easy way to get things drawn. Okay. So, now the main loop is while the priority queue is not empty we're going to pull off an event. We're going to test whether it's valid. And that's just checker if anything happened with those two particles. We're going to pull off the two particles and then we're going to all, we're going to move all particles by the amount of time that has elapsed since the last event. And then, we're going to test which of the four types of events that it is. It's either redraw, bounce, B of A or, or bounce off a vertical wall or, or a horizontal wall. And then we'll go ahead and do the predictions of each of those particles, A and B, against all other particles. That's the pretty much all the code for the simulation. So this is data driven code. So, one thing we can do is just run it for a 100 balls in random position at random velocity. But what's nice about data driven code is now that the code's working and again we, we're not saying that this is a trivial code to write but it's definitely manageable. And it's enabled by priority queues. Without priority queues, it would be quite a bit more complicated to figure out how to do this. And also, it wouldn't be reasonably efficient at all for large data sets. So, that's a, a simple simulation to just generate random positions. People might be interested in this one. Now this isn't exactly precisely wh at would happen in the real world mainly because we didn't put in the simulation what happens when three particles are touching or there's two touching in another one hits them. And also nobody racks up a, a set of billiard balls such that all fifteen are touching in all places. So life can be complicating when you try to simulate the natural world. This is a little bit about Einstein's experiment. If you got one big particle like a pollen grain and lots of little particles like atoms molecules and bouncing against it the big one is going to move about randomly. And then this is another famous physics experiment showing diffusion. And there's many other things that you can do with this basic collision system. If you have huge numbers of particles and you measure the number that hit the size and the frequency with which they hit they sides you can do experiments relating temperature and pressure and many other things or do three-dimensional versions. Again simulation of the natural world is an increasingly important application of computing and need efficient data structures like priority queues to get it done. ", "video_ID": 37, "course_id": 3}
{"category": ["elementary symbol tables"], "tagged": [["Welcome", "NNP"], ["back", "RB"], [".", "."], ["In", "IN"], ["this", "DT"], ["and", "CC"], ["the", "DT"], ["next", "JJ"], ["few", "JJ"], ["lectures", "NNS"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["symbol", "NN"], ["tables", "NNS"], [".", "."], ["A", "DT"], ["fundamental", "JJ"], ["and", "CC"], ["extremely", "RB"], ["important", "JJ"], ["data", "NNS"], ["type", "NN"], ["that", "WDT"], ["have", "VBP"], ["led", "VBN"], ["to", "TO"], ["all", "DT"], ["kinds", "NNS"], ["of", "IN"], ["fascinating", "JJ"], ["implementations", "NNS"], ["and", "CC"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["see", "VB"], ["at", "IN"], ["several", "JJ"], ["of", "IN"], ["them", "PRP"], ["in", "IN"], ["this", "DT"], ["course", "NN"], [".", "."], ["To", "TO"], ["begin", "VB"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["take", "VB"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["the", "DT"], ["API", "NNP"], ["and", "CC"], ["some", "DT"], ["elementary", "JJ"], ["implementations", "NNS"], ["and", "CC"], ["various", "JJ"], ["operations", "NNS"], ["that", "WDT"], ["people", "NNS"], ["want", "VBP"], ["to", "TO"], ["perform", "VB"], ["on", "IN"], ["Symbol", "NNP"], ["Tables", "NNP"], [".", "."], ["Start", "NNP"], ["with", "IN"], ["the", "DT"], ["API", "NNP"], [".", "."], ["The", "DT"], ["idea", "NN"], ["behind", "IN"], ["symbol", "NN"], ["tables", "NNS"], ["is", "VBZ"], ["to", "TO"], ["implement", "VB"], ["the", "DT"], ["following", "JJ"], ["abstraction", "NN"], [".", "."], ["We", "PRP"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["keys", "NNS"], [",", ","], ["like", "IN"], ["our", "PRP$"], ["keys", "NNS"], ["in", "IN"], ["priority", "NN"], ["queues", "NNS"], ["but", "CC"], [",", ","], ["the", "DT"], ["whole", "JJ"], ["ideas", "NNS"], ["that", "IN"], ["we", "PRP"], ["are", "VBP"], ["going", "VBG"], ["want", "NN"], ["to", "TO"], ["associate", "VB"], [",", ","], ["values", "NNS"], ["with", "IN"], ["each", "DT"], ["key", "NN"], [".", "."], ["So", "RB"], ["two", "CD"], ["operations", "NNS"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["perform", "VB"], ["in", "IN"], ["symbol", "NN"], ["tables", "NNS"], ["is", "VBZ"], ["the", "DT"], ["insert", "NN"], ["operation", "NN"], ["where", "WRB"], ["we", "PRP"], ["'re", "VBP"], ["really", "RB"], ["putting", "VBG"], ["a", "DT"], ["value", "NN"], [",", ","], ["a", "DT"], ["key", "JJ"], ["value", "NN"], ["pair", "NN"], ["into", "IN"], ["the", "DT"], ["symbol", "NN"], ["table", "NN"], [",", ","], ["a", "DT"], ["value", "NN"], ["with", "IN"], ["a", "DT"], ["specified", "JJ"], ["key", "NN"], [",", ","], ["and", "CC"], ["then", "RB"], ["given", "VBN"], ["a", "DT"], ["key", "NN"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["search", "VB"], ["for", "IN"], ["a", "DT"], ["corresponding", "JJ"], ["value", "NN"], [".", "."], ["Those", "DT"], ["are", "VBP"], ["the", "DT"], ["two", "CD"], ["basic", "JJ"], ["operations", "NNS"], [".", "."], ["Now", "RB"], ["the", "DT"], ["keys", "NNS"], ["and", "CC"], ["the", "DT"], ["values", "NNS"], ["can", "MD"], ["interchange", "VB"], ["roles", "NNS"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["why", "WRB"], ["we", "PRP"], [",", ","], ["have", "VBP"], ["the", "DT"], ["abstraction", "NN"], ["to", "TO"], ["separate", "VB"], ["them", "PRP"], [".", "."], ["So", "RB"], ["for", "IN"], ["example", "NN"], [",", ","], ["a", "DT"], ["domain", "NN"], ["name", "NN"], ["server", "NN"], ["might", "MD"], ["have", "VB"], ["a", "DT"], ["look", "NN"], ["up", "RP"], ["where", "WRB"], ["you", "PRP"], ["'ve", "VBP"], ["got", "VBN"], ["a", "DT"], ["table", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["got", "VBD"], ["an", "DT"], ["IP", "NNP"], ["address", "NN"], [",", ","], ["and", "CC"], ["a", "DT"], ["URL", "NNP"], ["associated", "VBN"], ["with", "IN"], ["that", "DT"], ["IP", "NNP"], ["address", "NN"], [".", "."], ["And", "CC"], ["different", "JJ"], ["clients", "NNS"], ["might", "MD"], ["want", "VB"], ["to", "TO"], ["use", "VB"], ["this", "DT"], ["data", "NN"], ["in", "IN"], ["different", "JJ"], ["ways", "NNS"], [".", "."], ["One", "CD"], ["might", "MD"], ["want", "VB"], ["to", "TO"], ["use", "VB"], ["the", "DT"], ["URL", "NNP"], ["as", "IN"], ["key", "JJ"], [".", "."], ["Given", "VBN"], ["the", "DT"], ["URL", "NNP"], [",", ","], ["give", "VB"], ["us", "PRP"], ["the", "DT"], ["corresponding", "JJ"], ["IP", "NNP"], [".", "."], ["The", "DT"], ["address", "NN"], [".", "."], ["Another", "DT"], ["client", "NN"], [",", ","], ["might", "MD"], ["want", "VB"], ["to", "TO"], ["use", "VB"], ["the", "DT"], ["IP", "NNP"], ["address", "NN"], ["as", "IN"], ["key", "JJ"], [",", ","], ["have", "VBP"], ["an", "DT"], ["IP", "NNP"], ["address", "NN"], [",", ","], ["give", "VB"], ["me", "PRP"], ["the", "DT"], ["corresponding", "JJ"], ["client", "NN"], [".", "."], ["So", "IN"], ["those", "DT"], ["are", "VBP"], ["just", "RB"], ["a", "DT"], ["couple", "NN"], ["of", "IN"], ["examples", "NNS"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["a", "DT"], ["very", "RB"], ["fundamental", "JJ"], ["and", "CC"], ["basic", "JJ"], ["abstraction", "NN"], [".", "."], ["In", "IN"], ["the", "DT"], ["list", "NN"], ["of", "IN"], ["applications", "NNS"], ["is", "VBZ"], ["huge", "JJ"], [",", ","], ["in", "IN"], ["fact", "NN"], ["almost", "RB"], ["any", "DT"], ["computer", "NN"], ["application", "NN"], ["system", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["symbol", "NN"], ["table", "NN"], ["or", "CC"], ["multiple", "JJ"], ["symbol", "NN"], ["tables", "NNS"], ["at", "IN"], ["its", "PRP$"], ["core", "NN"], [",", ","], ["all", "PDT"], ["the", "DT"], ["way", "NN"], ["down", "IN"], ["to", "TO"], ["the", "DT"], ["basic", "JJ"], ["memory", "NN"], ["system", "NN"], ["of", "IN"], ["the", "DT"], ["computer", "NN"], ["or", "CC"], ["the", "DT"], ["networking", "NN"], ["system", "NN"], ["that", "IN"], ["your", "PRP$"], ["computer", "NN"], ["accessed", "VBN"], ["information", "NN"], ["depends", "VBZ"], ["on", "IN"], [".", "."], ["You", "PRP"], ["can", "MD"], ["think", "VB"], ["of", "IN"], ["it", "PRP"], ["intuitively", "RB"], [",", ","], ["as", "IN"], [",", ","], ["like", "IN"], ["a", "DT"], ["dictionary", "NN"], [".", "."], ["Well", "RB"], [",", ","], ["there", "EX"], ["used", "VBN"], ["to", "TO"], ["be", "VB"], ["books", "NNS"], [",", ","], ["and", "CC"], ["people", "NNS"], ["would", "MD"], ["open", "VB"], ["up", "RP"], ["those", "DT"], ["books", "NNS"], ["to", "TO"], ["look", "VB"], ["for", "IN"], ["a", "DT"], ["word", "NN"], [",", ","], ["to", "TO"], ["find", "VB"], ["the", "DT"], ["definition", "NN"], [".", "."], ["Nowadays", "CC"], [",", ","], ["you", "PRP"], ["'re", "VBP"], ["more", "RBR"], ["likely", "JJ"], [",", ","], ["to", "TO"], ["do", "VB"], ["that", "DT"], ["online", "NN"], [".", "."], ["Or", "CC"], [",", ","], ["when", "WRB"], ["you", "PRP"], ["'re", "VBP"], ["trying", "VBG"], ["to", "TO"], ["find", "VB"], ["a", "DT"], ["song", "NN"], ["to", "TO"], ["download", "VB"], [",", ","], ["you", "PRP"], ["provide", "VBP"], ["the", "DT"], ["name", "NN"], ["of", "IN"], ["the", "DT"], ["song", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["a", "DT"], ["value", "NN"], ["will", "MD"], ["tell", "VB"], ["you", "PRP"], ["what", "WP"], ["computer", "NN"], ["to", "TO"], ["go", "VB"], ["to", "TO"], [",", ","], ["to", "TO"], ["get", "VB"], ["that", "DT"], ["or", "CC"], ["in", "IN"], ["commercial", "JJ"], ["computing", "NN"], [",", ","], ["the", "DT"], ["key", "NN"], ["might", "MD"], ["be", "VB"], ["an", "DT"], ["account", "NN"], ["number", "NN"], [",", ","], ["and", "CC"], ["the", "DT"], ["value", "NN"], ["might", "MD"], ["be", "VB"], ["the", "DT"], ["transaction", "NN"], ["details", "NNS"], [",", ","], ["for", "IN"], ["that", "DT"], ["account", "NN"], [".", "."], ["Web", "NNP"], ["search", "NN"], ["is", "VBZ"], ["something", "NN"], [",", ","], ["we", "PRP"], ["all", "DT"], ["do", "VBP"], ["multiple", "JJ"], ["times", "NNS"], ["every", "DT"], ["day", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["key", "NN"], ["is", "VBZ"], ["a", "DT"], ["keyword", "NN"], [",", ","], ["or", "CC"], ["a", "DT"], ["list", "NN"], ["of", "IN"], ["keywords", "NNS"], [".", "."], ["And", "CC"], ["the", "DT"], ["value", "NN"], ["is", "VBZ"], ["a", "DT"], ["list", "NN"], ["of", "IN"], ["places", "NNS"], ["where", "WRB"], ["that", "DT"], ["keyword", "NN"], ["is", "VBZ"], ["found", "VBN"], [".", "."], ["And", "CC"], ["there", "EX"], ["'s", "VBZ"], ["many", "JJ"], [",", ","], ["many", "JJ"], ["other", "JJ"], ["applications", "NNS"], [",", ","], ["including", "VBG"], ["scientific", "JJ"], ["applications", "NNS"], ["where", "WRB"], ["say", "VBP"], ["in", "IN"], ["genomics", "NNS"], ["people", "NNS"], ["use", "VBP"], ["simple", "JJ"], ["tables", "NNS"], ["to", "TO"], ["keep", "VB"], ["track", "NN"], ["of", "IN"], ["finding", "VBG"], ["markers", "NNS"], ["in", "IN"], ["the", "DT"], ["genome", "NN"], ["and", "CC"], ["again", "RB"], ["many", "JJ"], ["other", "JJ"], ["applications", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["its", "PRP$"], ["a", "DT"], ["very", "RB"], ["fundamental", "JJ"], ["concept", "NN"], ["and", "CC"], ["we", "PRP"], ["will", "MD"], ["look", "VB"], ["at", "IN"], ["plenty", "NN"], ["of", "IN"], ["applications", "NNS"], [".", "."], ["But", "CC"], ["first", "JJ"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["some", "DT"], ["algorithms", "NNS"], ["so", "IN"], ["the", "DT"], ["way", "NN"], ["that", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["convenient", "JJ"], ["to", "TO"], ["set", "VB"], ["up", "RP"], ["a", "DT"], ["symbol", "NN"], ["table", "NN"], ["is", "VBZ"], ["to", "TO"], ["implement", "VB"], ["the", "DT"], ["so-called", "JJ"], ["associative", "JJ"], ["array", "NN"], ["abstraction", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["idea", "NN"], ["behind", "IN"], ["that", "DT"], ["is", "VBZ"], ["to", "TO"], ["think", "VB"], ["about", "IN"], ["just", "RB"], ["associating", "VBG"], ["one", "CD"], ["value", "NN"], ["with", "IN"], ["each", "DT"], ["key", "NN"], [".", "."], ["And", "CC"], ["well", "VBP"], ["it", "PRP"], ["'s", "VBZ"], ["like", "IN"], ["in", "IN"], ["Java", "NNP"], ["array", "NN"], ["of", "IN"], ["integers", "NNS"], ["say", "VBP"], [".", "."], ["We", "PRP"], ["'re", "VBP"], ["only", "RB"], [",", ","], ["our", "PRP$"], ["keys", "NNS"], ["in", "IN"], ["that", "DT"], ["case", "NN"], ["are", "VBP"], ["indices", "NNS"], ["that", "WDT"], ["are", "VBP"], ["restricted", "VBN"], ["between", "IN"], [",", ","], ["to", "TO"], ["be", "VB"], ["between", "IN"], ["zero", "NN"], ["and", "CC"], ["the", "DT"], ["array", "NN"], ["size", "NN"], [".", "."], ["But", "CC"], ["we", "PRP"], ["'re", "VBP"], ["only", "RB"], ["associating", "VBG"], ["one", "CD"], ["value", "NN"], ["with", "IN"], ["each", "DT"], ["index", "NN"], [".", "."], ["We", "PRP"], ["think", "VBP"], ["of", "IN"], ["storing", "VBG"], ["the", "DT"], ["value", "NN"], ["in", "IN"], ["the", "DT"], ["array", "NN"], ["position", "NN"], ["given", "VBN"], ["by", "IN"], ["that", "DT"], ["index", "NN"], [".", "."], ["And", "CC"], ["a", "DT"], ["good", "JJ"], ["way", "NN"], ["to", "TO"], ["think", "VB"], ["of", "IN"], ["a", "DT"], ["symbol", "NN"], ["table", "NN"], ["is", "VBZ"], ["as", "RB"], ["shown", "VBN"], ["in", "IN"], ["the", "DT"], ["right", "NN"], ["here", "RB"], [".", "."], ["When", "WRB"], ["we", "PRP"], ["put", "VBD"], ["a", "DT"], ["key", "JJ"], ["value", "NN"], ["pair", "NN"], ["onto", "IN"], ["the", "DT"], ["symbol", "NN"], ["table", "NN"], [".", "."], ["Think", "NNP"], ["of", "IN"], ["that", "DT"], ["as", "IN"], ["using", "VBG"], ["the", "DT"], ["key", "NN"], ["to", "TO"], ["index", "NN"], ["an", "DT"], ["array", "NN"], [",", ","], ["and", "CC"], ["storing", "VBG"], ["the", "DT"], ["value", "NN"], ["there", "RB"], [".", "."], ["Now", "RB"], ["this", "DT"], [",", ","], ["is", "VBZ"], ["n't", "RB"], ["legal", "JJ"], ["in", "IN"], ["Java", "NNP"], ["if", "IN"], ["key", "JJ"], ["is", "VBZ"], ["not", "RB"], ["an", "DT"], ["int", "NN"], [".", "."], ["And", "CC"], [",", ","], ["and", "CC"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], ["this", "DT"], ["generic", "NN"], [".", "."], ["It", "PRP"], ["can", "MD"], ["be", "VB"], ["any", "DT"], ["type", "NN"], ["of", "IN"], ["data", "NNS"], [".", "."], ["But", "CC"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["good", "JJ"], ["way", "NN"], ["to", "TO"], ["think", "VB"], ["about", "IN"], ["it", "PRP"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["to", "TO"], ["retrieve", "VB"], ["it", "PRP"], [",", ","], ["you", "PRP"], ["just", "RB"], ["give", "VBP"], ["that", "DT"], ["same", "JJ"], ["key", "NN"], [",", ","], ["and", "CC"], ["it", "PRP"], ["'ll", "MD"], ["return", "VB"], ["the", "DT"], ["value", "NN"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["our", "PRP$"], [",", ","], ["two", "CD"], ["primary", "JJ"], ["operations", "NNS"], [".", "."], ["Put", "VB"], ["a", "DT"], ["key", "JJ"], ["value", "NN"], ["pair", "NN"], ["into", "IN"], ["the", "DT"], ["table", "NN"], [".", "."], ["So", "IN"], ["that", "DT"], ["is", "VBZ"], ["associate", "JJ"], ["the", "DT"], ["value", "NN"], ["with", "IN"], ["key", "JJ"], [",", ","], ["and", "CC"], ["then", "RB"], ["get", "VB"], ["the", "DT"], ["value", "NN"], ["paired", "VBN"], ["with", "IN"], ["the", "DT"], ["key", "NN"], [".", "."], ["Now", "RB"], ["th", "VBZ"], ["ere", "EX"], ["'s", "VBZ"], ["particular", "JJ"], ["rules", "NNS"], ["for", "IN"], ["Null", "NNP"], ["that", "IN"], ["I", "PRP"], ["'ll", "MD"], ["talk", "VB"], ["about", "IN"], ["in", "IN"], ["a", "DT"], ["second", "JJ"], [".", "."], ["And", "CC"], ["then", "RB"], ["to", "TO"], ["properly", "RB"], ["maintain", "VB"], ["the", "DT"], ["symbol", "NN"], ["table", "NN"], ["in", "IN"], ["a", "DT"], ["dynamic", "JJ"], ["situation", "NN"], ["in", "IN"], ["many", "JJ"], ["clients", "NNS"], ["you", "PRP"], ["want", "VBP"], ["to", "TO"], ["support", "VB"], ["and", "CC"], ["delete", "VB"], ["operation", "NN"], ["and", "CC"], ["contains", "NNS"], ["is", "VBZ"], [",", ","], ["is", "VBZ"], ["simpler", "JJR"], ["operation", "NN"], ["than", "IN"], ["depth", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["convenient", "NN"], ["for", "IN"], ["many", "JJ"], ["clients", "NNS"], ["where", "WRB"], ["it", "PRP"], ["just", "RB"], ["tells", "VBZ"], ["us", "PRP"], ["whether", "IN"], ["there", "EX"], ["'s", "VBZ"], ["some", "DT"], ["value", "NN"], ["paired", "VBN"], ["with", "IN"], ["that", "DT"], ["key", "NN"], ["in", "IN"], ["the", "DT"], ["table", "NN"], ["is", "VBZ"], ["n't", "RB"], ["in", "IN"], ["size", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["another", "DT"], ["thing", "NN"], ["that", "IN"], ["you", "PRP"], ["might", "MD"], ["want", "VB"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["iterate", "VB"], ["through", "IN"], ["all", "PDT"], ["the", "DT"], ["keys", "NNS"], ["in", "IN"], [",", ","], ["in", "IN"], ["the", "DT"], ["table", "NN"], [".", "."], ["So", "IN"], ["those", "DT"], ["are", "VBP"], ["the", "DT"], ["basic", "JJ"], ["operations", "NNS"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["want", "VB"], ["to", "TO"], ["implement", "VB"], ["to", "TO"], ["get", "VB"], ["the", "DT"], ["associative", "JJ"], ["array", "NN"], ["abstraction", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["there", "EX"], ["'s", "VBZ"], ["many", "JJ"], [",", ","], ["many", "JJ"], ["possibilities", "NNS"], ["for", "IN"], ["clients", "NNS"], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["some", "DT"], ["later", "RB"], ["on", "IN"], [".", "."], ["Now", "RB"], ["there", "EX"], ["is", "VBZ"], ["a", "DT"], ["couple", "NN"], ["of", "IN"], ["conventions", "NNS"], ["around", "IN"], ["null", "NN"], [".", "."], ["And", "CC"], ["these", "DT"], ["are", "VBP"], ["not", "RB"], ["critical", "JJ"], [",", ","], ["but", "CC"], ["they", "PRP"], ["make", "VBP"], ["it", "PRP"], ["bit", "VBZ"], ["more", "RBR"], ["convenient", "JJ"], ["for", "IN"], ["several", "JJ"], ["implementations", "NNS"], [".", "."], ["So", "IN"], ["we", "PRP"], ["are", "VBP"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], ["allow", "VB"], ["null", "JJ"], ["values", "NNS"], [",", ","], ["we", "PRP"], ["can", "MD"], ["not", "RB"], ["associate", "VB"], ["null", "NNS"], ["with", "IN"], ["any", "DT"], ["key", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["adopt", "VB"], ["the", "DT"], ["convention", "NN"], ["that", "IN"], ["the", "DT"], ["get", "NN"], ["method", "NN"], ["returns", "NNS"], ["null", "RB"], [",", ","], ["if", "IN"], ["the", "DT"], ["key", "NN"], ["is", "VBZ"], ["not", "RB"], ["present", "JJ"], ["in", "IN"], ["the", "DT"], ["table", "NN"], [".", "."], ["And", "CC"], ["also", "RB"], ["the", "DT"], ["associative", "JJ"], ["array", "NN"], ["abstraction", "NN"], ["is", "VBZ"], ["the", "DT"], ["put", "NN"], ["method", "NN"], [",", ","], ["well", "RB"], [",", ","], ["overwrite", "PRP"], ["an", "DT"], ["old", "JJ"], ["value", "NN"], ["with", "IN"], ["a", "DT"], ["new", "JJ"], ["value", "NN"], [".", "."], ["So", "IN"], ["these", "DT"], ["are", "VBP"], ["our", "PRP$"], ["consequences", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], [",", ","], ["the", "DT"], ["contains", "NNS"], ["implementation", "NN"], ["is", "VBZ"], ["the", "DT"], ["same", "JJ"], ["for", "IN"], ["all", "DT"], ["our", "PRP$"], [",", ","], ["symbol", "NN"], ["typal", "JJ"], ["implementations", "NNS"], [".", "."], ["If", "IN"], ["get", "JJ"], ["returns", "NNS"], [",", ","], ["a", "DT"], ["non", "JJ"], ["null", "JJ"], ["value", "NN"], [",", ","], ["then", "RB"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["value", "NN"], ["corresponding", "VBG"], ["to", "TO"], ["that", "DT"], ["key", "NN"], ["in", "IN"], ["the", "DT"], ["table", "NN"], ["if", "IN"], ["it", "PRP"], ["returns", "VBZ"], ["null", "RB"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["get", "VB"], ["returns", "NNS"], ["null", "RB"], ["keys", "NNS"], ["not", "RB"], ["present", "JJ"], [".", "."], ["And", "CC"], ["the", "DT"], ["other", "JJ"], ["thing", "NN"], ["that", "IN"], ["we", "PRP"], ["could", "MD"], ["do", "VB"], ["is", "VBZ"], ["we", "PRP"], ["can", "MD"], ["use", "VB"], ["null", "NN"], ["in", "IN"], ["some", "DT"], ["situations", "NNS"], ["or", "CC"], ["temporary", "JJ"], ["situations", "NNS"], ["to", "TO"], ["implement", "VB"], ["a", "DT"], ["lazy", "JJ"], ["version", "NN"], ["of", "IN"], ["the", "DT"], ["delete", "JJ"], ["operation", "NN"], [".", "."], ["We", "PRP"], ["can", "MD"], ["associate", "VB"], ["the", "DT"], ["key", "NN"], ["with", "IN"], ["null", "JJ"], ["internally", "RB"], ["and", "CC"], ["then", "RB"], ["a", "DT"], ["client", "NN"], ["wo", "MD"], ["n't", "RB"], ["know", "VB"], ["the", "DT"], ["difference", "NN"], ["whether", "IN"], ["that", "DT"], ["'s", "VBZ"], ["in", "IN"], ["there", "EX"], ["or", "CC"], ["not", "RB"], [".", "."], ["And", "CC"], ["some", "DT"], ["algorithms", "NNS"], ["take", "VBP"], ["advantage", "NN"], ["of", "IN"], ["the", "DT"], ["ability", "NN"], ["to", "TO"], ["use", "VB"], ["null", "NN"], ["in", "IN"], ["this", "DT"], ["way", "NN"], [".", "."], ["These", "DT"], ["are", "VBP"], ["just", "RB"], ["conventions", "NNS"], ["and", "CC"], ["somewhat", "RB"], ["details", "NNS"], ["but", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["important", "JJ"], ["to", "TO"], ["point", "VB"], ["them", "PRP"], ["out", "RP"], ["at", "IN"], ["front", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["want", "VB"], ["the", "DT"], ["value", "NN"], ["to", "TO"], ["be", "VB"], ["any", "DT"], ["generic", "JJ"], ["type", "NN"], ["at", "IN"], ["all", "DT"], [",", ","], ["but", "CC"], ["the", "DT"], ["key", "JJ"], ["type", "NN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["make", "VB"], ["some", "DT"], ["natural", "JJ"], ["assumptions", "NNS"], ["about", "IN"], ["them", "PRP"], [".", "."], ["And", "CC"], ["actually", "RB"], ["there", "EX"], ["'s", "VBZ"], ["different", "JJ"], ["assumptions", "NNS"], ["that", "IN"], ["we", "PRP"], ["make", "VBP"], ["in", "IN"], ["our", "PRP$"], ["implementations", "NNS"], ["depending", "VBG"], ["on", "IN"], ["the", "DT"], ["application", "NN"], [".", "."], ["Though", "IN"], ["one", "CD"], ["of", "IN"], ["the", "DT"], ["most", "RBS"], ["useful", "JJ"], ["ones", "NNS"], ["is", "VBZ"], ["to", "TO"], ["have", "VB"], ["comparable", "JJ"], ["keys", "NNS"], [".", "."], ["Just", "RB"], ["as", "IN"], ["in", "IN"], ["sorting", "VBG"], ["algorithms", "NN"], ["we", "PRP"], ["'ll", "MD"], ["assume", "VB"], ["that", "IN"], ["the", "DT"], ["keys", "NNS"], ["have", "VBP"], ["values", "NNS"], ["that", "WDT"], ["have", "VBP"], ["come", "VBN"], ["from", "IN"], ["a", "DT"], ["total", "JJ"], ["order", "NN"], [".", "."], ["And", "CC"], ["we", "PRP"], ["can", "MD"], ["use", "VB"], ["compare", "NN"], ["to", "TO"], [",", ","], ["to", "TO"], ["compare", "VB"], ["whether", "IN"], ["one", "CD"], ["key", "NN"], ["is", "VBZ"], ["less", "JJR"], ["than", "IN"], [",", ","], ["than", "IN"], ["other", "JJ"], ["or", "CC"], ["not", "RB"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["for", "IN"], ["two", "CD"], ["reasons", "NNS"], [".", "."], ["One", "CD"], ["is", "VBZ"], ["we", "PRP"], ["can", "MD"], ["get", "VB"], ["more", "RBR"], ["efficient", "JJ"], ["app", "JJ"], ["implementations", "NNS"], ["if", "IN"], ["we", "PRP"], ["can", "MD"], ["use", "VB"], ["the", "DT"], ["ordering", "NN"], ["of", "IN"], ["the", "DT"], ["keys", "NNS"], ["to", "TO"], ["help", "VB"], ["us", "PRP"], ["find", "VB"], ["our", "PRP$"], ["way", "NN"], ["around", "IN"], ["the", "DT"], ["data", "NN"], ["structure", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["other", "JJ"], ["reason", "NN"], ["is", "VBZ"], ["that", "IN"], ["we", "PRP"], ["can", "MD"], ["support", "VB"], ["a", "DT"], ["broader", "JJR"], ["set", "NN"], ["of", "IN"], ["simple", "JJ"], ["table", "JJ"], ["operations", "NNS"], ["that", "WDT"], ["are", "VBP"], ["very", "RB"], ["convenient", "JJ"], ["for", "IN"], ["many", "JJ"], ["clients", "NNS"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["very", "RB"], ["typical", "JJ"], ["for", "IN"], ["keys", "NNS"], ["to", "TO"], ["come", "VB"], ["from", "IN"], ["an", "DT"], ["ordered", "JJ"], ["set", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["for", "IN"], ["example", "NN"], ["in", "IN"], ["the", "DT"], ["dictionary", "JJ"], ["application", "NN"], ["or", "CC"], ["if", "IN"], ["keys", "NNS"], ["are", "VBP"], ["stings", "NNS"], ["or", "CC"], ["numbers", "NNS"], [".", "."], ["Or", "CC"], ["account", "JJ"], ["numbers", "NNS"], ["or", "CC"], ["many", "JJ"], ["other", "JJ"], ["situations", "NNS"], [".", "."], ["So", "RB"], ["if", "IN"], ["they", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["comparable", "JJ"], ["we", "PRP"], ["might", "MD"], ["as", "RB"], ["well", "RB"], ["take", "VB"], ["advantage", "NN"], ["of", "IN"], ["it", "PRP"], [".", "."], ["Both", "DT"], ["to", "TO"], ["get", "VB"], ["more", "RBR"], ["efficient", "JJ"], ["algorithms", "NN"], ["and", "CC"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["take", "VB"], ["advantage", "NN"], ["of", "IN"], ["a", "DT"], ["broader", "JJR"], ["set", "NN"], ["of", "IN"], ["operations", "NNS"], [".", "."], ["Now", "RB"], ["in", "IN"], ["other", "JJ"], ["situations", "NNS"], [",", ","], ["maybe", "RB"], ["they", "PRP"], ["'re", "VBP"], ["not", "RB"], ["comparable", "JJ"], [".", "."], ["And", "CC"], ["all", "DT"], ["we", "PRP"], ["'re", "VBP"], ["allowed", "VBN"], ["to", "TO"], ["use", "VB"], ["is", "VBZ"], ["to", "TO"], [",", ","], ["use", "VB"], ["the", "DT"], ["equals", "NNS"], ["operation", "NN"], [".", "."], ["That", "DT"], ["is", "VBZ"], ["everything", "NN"], ["every", "DT"], ["type", "NN"], ["of", "IN"], ["data", "NNS"], ["in", "IN"], ["Java", "NNP"], ["has", "VBZ"], ["to", "TO"], ["support", "VB"], ["and", "CC"], ["equals", "NNS"], ["operation", "NN"], ["that", "IN"], ["reads", "VBZ"], ["out", "RP"], ["to", "TO"], ["test", "VB"], ["whether", "IN"], ["they", "PRP"], ["'re", "VBP"], ["equal", "JJ"], [".", "."], ["And", "CC"], ["there", "EX"], ["'s", "VBZ"], ["another", "DT"], ["family", "NN"], ["of", "IN"], ["methods", "NNS"], ["where", "WRB"], ["there", "EX"], ["'s", "VBZ"], ["no", "DT"], ["ordering", "NN"], [".", "."], ["Then", "RB"], ["there", "EX"], ["is", "VBZ"], ["a", "DT"], ["special", "JJ"], ["method", "NN"], ["called", "VBN"], ["hash", "NN"], ["code", "NN"], ["that", "WDT"], ["helps", "VBZ"], ["us", "PRP"], ["[", "JJ"], ["cough", "JJ"], ["]", "NN"], ["inject", "NN"], ["randomness", "NN"], ["into", "IN"], ["the", "DT"], ["process", "NN"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["built", "VBN"], ["into", "IN"], ["Java", "NNP"], ["and", "CC"], ["also", "RB"], ["some", "DT"], ["classic", "JJ"], ["algorithms", "JJ"], ["depend", "NN"], ["on", "IN"], ["that", "DT"], [".", "."], ["We", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["start", "VB"], ["out", "RP"], ["with", "IN"], ["the", "DT"], ["comparable", "JJ"], ["mostly", "RB"], [".", "."], ["And", "CC"], ["again", "RB"], [",", ","], ["as", "IN"], ["with", "IN"], ["priority", "NN"], ["queues", "NNS"], [",", ","], ["the", "DT"], ["best", "JJS"], ["practice", "NN"], ["is", "VBZ"], ["to", "TO"], ["use", "VB"], ["immutable", "JJ"], ["types", "NNS"], [",", ","], ["and", "CC"], ["experienced", "VBD"], ["programmers", "NNS"], ["know", "VBP"], ["this", "DT"], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["difficult", "JJ"], ["to", "TO"], ["arrange", "VB"], ["for", "IN"], ["the", "DT"], ["natural", "JJ"], ["types", "NNS"], ["of", "IN"], ["data", "NNS"], ["that", "IN"], ["people", "NNS"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["use", "VB"], ["for", "IN"], ["simple", "JJ"], ["table", "JJ"], ["keys", "NNS"], [".", "."], ["Unreasonable", "JJ"], ["to", "TO"], ["expect", "VB"], ["the", "DT"], ["implementation", "NN"], ["to", "TO"], ["work", "VB"], ["well", "RB"], ["if", "IN"], ["the", "DT"], ["client", "NN"], ["can", "MD"], ["change", "VB"], ["the", "DT"], ["values", "NNS"], ["of", "IN"], ["keys", "NNS"], ["that", "WDT"], ["are", "VBP"], ["in", "IN"], ["the", "DT"], ["table", "NN"], [".", "."], ["If", "IN"], ["you", "PRP"], ["want", "VBP"], ["that", "IN"], [",", ","], ["you", "PRP"], ["have", "VBP"], ["to", "TO"], ["provide", "VB"], ["that", "IN"], ["as", "IN"], ["a", "DT"], ["specific", "JJ"], ["operation", "NN"], [".", "."], ["In", "IN"], ["the", "DT"], ["case", "NN"], ["of", "IN"], ["symbol", "NN"], ["tables", "NNS"], [",", ","], ["we", "PRP"], ["are", "VBP"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], ["that", "DT"], [".", "."], ["You", "PRP"], ["have", "VBP"], ["to", "TO"], ["remove", "VB"], ["it", "PRP"], ["and", "CC"], ["put", "VBD"], ["it", "PRP"], ["back", "RP"], ["in", "IN"], [".", "."], ["Alright", "NNP"], [",", ","], ["so", "IN"], ["there", "EX"], ["'s", "POS"], ["equalities", "NNS"], [".", "."], ["Now", "RB"], [",", ","], ["equality", "NN"], ["again", "RB"], ["we", "PRP"], ["'re", "VBP"], ["getting", "VBG"], ["into", "IN"], ["programming", "VBG"], ["language", "NN"], ["issue", "NN"], ["but", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["still", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["important", "JJ"], ["to", "TO"], ["be", "VB"], ["explicit", "JJ"], ["about", "IN"], ["what", "WP"], ["'s", "VBZ"], ["going", "VBG"], ["on", "IN"], ["with", "IN"], [",", ","], ["equality", "NN"], [".", "."], ["How", "WRB"], ["do", "VBP"], ["we", "PRP"], ["test", "VB"], ["if", "IN"], ["two", "CD"], ["objects", "NNS"], ["are", "VBP"], ["equal", "JJ"], ["?", "."], ["So", "RB"], [",", ","], ["the", "DT"], ["job", "NN"], ["has", "VBZ"], ["got", "VBN"], ["requirements", "NNS"], ["as", "IN"], ["for", "IN"], ["compared", "VBN"], ["to", "TO"], ["in", "IN"], [",", ","], ["here", "RB"], ["'s", "VBZ"], ["the", "DT"], ["basic", "JJ"], ["requirements", "NNS"], ["about", "IN"], ["equals", "NNS"], [".", "."], ["There", "EX"], ["is", "VBZ"], ["a", "DT"], ["method", "NN"], ["that", "IN"], ["all", "DT"], ["Java", "NNP"], ["for", "IN"], ["equals", "NNS"], [",", ","], ["but", "CC"], ["the", "DT"], ["default", "NN"], ["implementation", "NN"], ["is", "VBZ"], ["simply", "RB"], ["to", "TO"], ["test", "VB"], ["whether", "IN"], ["the", "DT"], ["references", "NNS"], ["are", "VBP"], ["equal", "JJ"], [".", "."], ["Are", "VBP"], ["those", "DT"], ["precisely", "RB"], ["the", "DT"], ["same", "JJ"], ["objects", "NNS"], ["or", "CC"], ["not", "RB"], [".", "."], ["Usually", "RB"], ["in", "IN"], ["applications", "NNS"], ["when", "WRB"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["have", "VB"], ["something", "NN"], ["more", "JJR"], ["general", "JJ"], ["than", "IN"], ["that", "DT"], ["and", "CC"], ["have", "VBP"], ["a", "DT"], ["concept", "NN"], ["of", "IN"], ["a", "DT"], ["value", "NN"], ["or", "CC"], ["like", "IN"], ["a", "DT"], ["key", "NN"], ["in", "IN"], ["our", "PRP$"], ["case", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["know", "VB"], ["if", "IN"], ["two", "CD"], ["references", "NNS"], ["refer", "VBP"], ["to", "TO"], ["objects", "NNS"], ["that", "WDT"], ["have", "VBP"], ["the", "DT"], ["same", "JJ"], ["value", "NN"], ["and", "CC"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["call", "VB"], ["that", "DT"], ["equal", "JJ"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["what", "WP"], ["equals", "VBZ"], ["is", "VBZ"], ["about", "RB"], [".", "."], ["So", "RB"], ["anyway", "RB"], ["we", "PRP"], ["'re", "VBP"], ["required", "VBN"], ["to", "TO"], ["make", "VB"], ["sure", "JJ"], ["that", "IN"], ["X", "NN"], ["is", "VBZ"], ["always", "RB"], ["equal", "JJ"], ["to", "TO"], ["X", "VB"], ["and", "CC"], ["that", "IN"], [",", ","], ["X", "NNP"], ["=", "NNP"], ["Y", "NNP"], ["is", "VBZ"], ["the", "DT"], ["same", "JJ"], ["Y", "NNP"], ["=", "NNP"], ["X", "NNP"], [",", ","], ["and", "CC"], ["if", "IN"], ["X", "NNP"], ["=", "NNP"], ["Y", "NNP"], [",", ","], ["Y", "NNP"], ["=", "NNP"], ["Z", "NNP"], [",", ","], ["then", "RB"], ["X", "NNP"], ["=", "NNP"], ["Z", "NNP"], [".", "."], ["So", "CC"], ["that", "IN"], ["means", "VBZ"], ["that", "IN"], ["mathematical", "JJ"], ["terms", "NNS"], ["equals", "NNS"], ["is", "VBZ"], ["called", "VBN"], ["an", "DT"], ["equivalence", "NN"], ["relation", "NN"], [".", "."], ["And", "CC"], ["also", "RB"], ["no", "DT"], [",", ","], ["no", "DT"], ["object", "NN"], ["is", "VBZ"], ["equal", "JJ"], ["to", "TO"], ["null", "VB"], [".", "."], ["So", "IN"], ["those", "DT"], ["are", "VBP"], ["absolute", "JJ"], ["requirements", "NNS"], ["for", "IN"], ["Java", "NNP"], [".", "."], ["And", "CC"], ["again", "RB"], [",", ","], ["the", "DT"], ["default", "NN"], ["implementation", "NN"], ["is", "VBZ"], ["to", "TO"], ["check", "VB"], ["whether", "IN"], ["they", "PRP"], ["refer", "VBP"], ["to", "TO"], ["the", "DT"], ["same", "JJ"], ["object", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["rarely", "RB"], ["what", "WP"], ["we", "PRP"], ["want", "VBP"], [".", "."], ["Java", "NNP"], ["systems", "NNS"], ["programs", "NNS"], ["maybe", "RB"], ["want", "VBP"], ["that", "IN"], [".", "."], ["But", "CC"], ["client", "NN"], ["programs", "NNS"], ["usually", "RB"], ["have", "VBP"], ["customized", "VBN"], ["implementations", "NNS"], ["that", "WDT"], ["are", "VBP"], ["based", "VBN"], ["on", "IN"], ["comparing", "VBG"], ["some", "DT"], ["sort", "NN"], ["of", "IN"], ["value", "NN"], ["and", "CC"], ["the", "DT"], ["standard", "JJ"], ["built-in", "JJ"], ["types", "NNS"], ["of", "IN"], ["the", "DT"], ["Java", "NNP"], ["language", "NN"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["those", "DT"], ["customized", "VBN"], ["implementations", "NNS"], ["and", "CC"], ["we", "PRP"], ["can", "MD"], ["rely", "VB"], ["on", "IN"], ["them", "PRP"], ["doing", "VBG"], ["what", "WP"], ["we", "PRP"], ["expect", "VBP"], [".", "."], ["If", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["implement", "VB"], ["our", "PRP$"], ["own", "JJ"], ["types", "NNS"], ["and", "CC"], ["then", "RB"], ["use", "VB"], ["those", "DT"], ["types", "NNS"], ["as", "IN"], ["keys", "NNS"], ["and", "CC"], ["symbol", "NN"], ["tables", "NNS"], ["you", "PRP"], ["have", "VBP"], ["to", "TO"], ["exercise", "VB"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["of", "IN"], ["care", "NN"], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["talk", "VB"], ["about", "IN"], ["that", "DT"], ["briefly", "NN"], [".", "."], ["Say", "NNP"], ["we", "PRP"], ["have", "VBP"], ["this", "DT"], ["simplified", "VBN"], ["date", "NN"], ["implementation", "NN"], ["we", "PRP"], ["talked", "VBD"], ["about", "IN"], ["before", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["mutable", "JJ"], ["type", "NN"], ["and", "CC"], ["every", "DT"], ["day", "NN"], ["it", "PRP"], ["'s", "VBZ"], ["got", "VBD"], ["a", "DT"], ["month", "NN"], ["a", "DT"], ["day", "NN"], ["in", "IN"], ["a", "DT"], ["year", "NN"], [".", "."], ["It", "PRP"], ["seems", "VBZ"], ["like", "IN"], ["it", "PRP"], ["should", "MD"], ["be", "VB"], ["easy", "JJ"], ["to", "TO"], ["implement", "VB"], ["equals", "NNS"], ["basically", "RB"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["just", "RB"], ["going", "VBG"], ["to", "TO"], ["check", "VB"], ["that", "IN"], ["all", "PDT"], ["the", "DT"], ["significant", "JJ"], ["fields", "NNS"], ["are", "VBP"], ["the", "DT"], ["same", "JJ"], [".", "."], ["Two", "CD"], ["dates", "NNS"], ["should", "MD"], ["be", "VB"], ["equal", "JJ"], ["if", "IN"], ["they", "PRP"], ["have", "VBP"], ["the", "DT"], ["same", "JJ"], ["day", "NN"], [",", ","], ["month", "NN"], [",", ","], ["and", "CC"], ["year", "NN"], [".", "."], ["And", "CC"], ["if", "IN"], ["any", "DT"], ["one", "CD"], ["of", "IN"], ["those", "DT"], ["are", "VBP"], ["not", "RB"], ["the", "DT"], ["same", "JJ"], ["value", "NN"], [",", ","], ["then", "RB"], ["just", "RB"], ["return", "VB"], ["false", "JJ"], [".", "."], ["So", "CC"], ["that", "RB"], ["seems", "VBZ"], ["as", "IN"], ["if", "IN"], ["it", "PRP"], ["should", "MD"], ["work", "VB"], [".", "."], ["But", "CC"], ["that", "DT"], ["does", "VBZ"], ["n't", "RB"], ["have", "VB"], ["all", "DT"], ["the", "DT"], ["characteristics", "NNS"], ["that", "IN"], ["we", "PRP"], ["need", "VBP"], ["in", "IN"], ["a", "DT"], ["job", "NN"], ["implementation", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], ["all", "DT"], ["of", "IN"], ["this", "DT"], ["code", "NN"], ["in", "IN"], ["red", "JJ"], ["shows", "NNS"], ["a", "DT"], ["model", "NN"], ["for", "IN"], ["what", "WP"], ["you", "PRP"], ["might", "MD"], ["do", "VB"], ["if", "IN"], ["you", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["implement", "VB"], ["your", "PRP$"], ["own", "JJ"], ["type", "NN"], ["of", "IN"], ["data", "NNS"], ["equals", "NNS"], ["for", "IN"], ["your", "PRP$"], ["own", "JJ"], ["type", "NN"], ["of", "IN"], ["data", "NNS"], [".", "."], ["So", "IN"], ["we", "PRP"], ["should", "MD"], ["n't", "RB"], ["use", "VB"], ["it", "PRP"], ["in", "IN"], ["connection", "NN"], ["with", "IN"], ["inheritance", "NN"], ["so", "IN"], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["use", "VB"], ["inheritance", "NN"], ["that", "IN"], ["much", "JJ"], ["so", "IN"], ["I", "PRP"], ["wo", "MD"], ["n't", "RB"], ["talk", "VB"], ["about", "IN"], ["that", "DT"], ["The", "DT"], ["type", "NN"], ["of", "IN"], ["the", "DT"], ["argument", "NN"], ["in", "IN"], ["the", "DT"], ["equals", "NNS"], ["must", "MD"], ["be", "VB"], ["object", "JJ"], [",", ","], ["do", "VBP"], ["you", "PRP"], ["think", "VB"], ["it", "PRP"], ["should", "MD"], ["be", "VB"], ["date", "NN"], ["?", "."], ["And", "CC"], ["experts", "NNS"], ["debate", "VBP"], ["about", "IN"], ["that", "DT"], [",", ","], ["and", "CC"], ["people", "NNS"], ["who", "WP"], ["are", "VBP"], ["interested", "JJ"], ["can", "MD"], ["look", "VB"], ["on", "IN"], ["the", "DT"], ["web", "NN"], ["for", "IN"], ["that", "DT"], ["kind", "NN"], ["of", "IN"], ["date", "NN"], [".", "."], ["If", "IN"], ["it", "PRP"], ["is", "VBZ"], ["the", "DT"], ["case", "NN"], ["that", "IN"], ["you", "PRP"], ["happen", "VBP"], ["to", "TO"], ["be", "VB"], ["testing", "VBG"], ["two", "CD"], ["objects", "NNS"], ["that", "WDT"], ["are", "VBP"], ["the", "DT"], ["same", "JJ"], ["object", "NN"], ["for", "IN"], ["equality", "NN"], [",", ","], ["you", "PRP"], ["might", "MD"], ["as", "RB"], ["well", "RB"], [",", ","], ["optimize", "VB"], ["everything", "NN"], ["and", "CC"], ["just", "RB"], ["test", "NN"], ["that", "IN"], [".", "."], ["If", "IN"], ["Y", "NNP"], ["is", "VBZ"], ["a", "DT"], ["reference", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["pointing", "VBG"], ["to", "TO"], ["the", "DT"], ["same", "JJ"], ["object", "NN"], ["as", "IN"], ["this", "DT"], ["object", "NN"], ["just", "RB"], ["returned", "VBN"], ["true", "JJ"], ["because", "RB"], [",", ","], ["if", "IN"], ["you", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["test", "VB"], ["the", "DT"], ["values", "NNS"], ["they", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["the", "DT"], ["same", "JJ"], ["values", "NNS"], ["anyway", "RB"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["good", "JJ"], ["optimization", "NN"], ["for", "IN"], ["lots", "NNS"], ["of", "IN"], [",", ","], ["situations", "NNS"], [".", "."], ["Why", "WRB"], ["go", "VBP"], ["through", "IN"], ["all", "PDT"], ["that", "DT"], ["risk", "NN"], ["to", "TO"], ["that", "DT"], ["code", "NN"], ["if", "IN"], ["you", "PRP"], ["know", "VBP"], ["right", "RB"], ["away", "RB"], ["they", "PRP"], ["'re", "VBP"], [",", ","], ["equal", "JJ"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["this", "DT"], ["test", "NN"], ["for", "IN"], ["null", "NN"], [",", ","], ["that", "WDT"], ["has", "VBZ"], ["to", "TO"], ["be", "VB"], ["there", "RB"], [".", "."], ["And", "CC"], ["if", "IN"], ["not", "RB"], ["there", "EX"], ["can", "MD"], ["lead", "VB"], ["to", "TO"], ["nefarious", "JJ"], ["plugs", "NNS"], ["and", "CC"], [",", ","], ["and", "CC"], [",", ","], ["unusual", "JJ"], ["problems", "NNS"], [".", "."], ["So", "RB"], ["on", "IN"], ["your", "PRP$"], ["equals", "NNS"], ["test", "VBP"], ["you", "PRP"], ["'d", "MD"], ["better", "VB"], [",", ","], ["test", "NN"], ["that", "IN"], [",", ","], ["the", "DT"], ["client", "NN"], ["did", "VBD"], ["n't", "RB"], ["give", "VB"], ["you", "PRP"], ["null", "RB"], [".", "."], ["They", "PRP"], ["have", "VBP"], ["to", "TO"], ["be", "VB"], ["in", "IN"], ["the", "DT"], ["same", "JJ"], ["class", "NN"], [".", "."], ["And", "CC"], ["while", "IN"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["couple", "NN"], ["of", "IN"], ["different", "JJ"], ["ways", "NNS"], ["to", "TO"], ["check", "VB"], ["about", "IN"], ["the", "DT"], ["same", "JJ"], ["class", "NN"], [",", ","], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["another", "DT"], ["religious", "JJ"], ["debate", "NN"], [".", "."], ["That", "IN"], ["we", "PRP"], ["'ll", "MD"], ["ignore", "RB"], [".", "."], ["We", "PRP"], ["'ll", "MD"], ["use", "VB"], [",", ","], ["get", "VB"], ["class", "NN"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["something", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["got", "VBD"], ["to", "TO"], ["work", "VB"], ["or", "CC"], ["they", "PRP"], ["'ll", "MD"], ["get", "VB"], [",", ","], ["they", "PRP"], ["'ll", "MD"], ["get", "VB"], ["an", "DT"], ["exception", "NN"], ["in", "IN"], ["this", "DT"], ["later", "JJ"], ["code", "NN"], [".", "."], ["Because", "IN"], ["since", "IN"], ["Y", "NNP"], ["had", "VBD"], ["to", "TO"], ["be", "VB"], ["an", "DT"], ["object", "JJ"], [",", ","], ["now", "RB"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], [",", ","], ["cast", "VB"], ["it", "PRP"], ["to", "TO"], ["a", "DT"], ["date", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["it", "PRP"], ["better", "RBR"], ["be", "VB"], ["the", "DT"], ["right", "JJ"], ["class", "NN"], [",", ","], ["or", "CC"], ["else", "VB"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["these", "DT"], ["fields", "NNS"], [",", ","], ["that", "IN"], [",", ","], ["we", "PRP"], ["can", "MD"], ["test", "VB"], ["for", "IN"], [".", "."], ["So", "NNP"], [",", ","], ["details", "NNS"], ["but", "CC"], ["anyway", "RB"], [",", ","], ["you", "PRP"], ["can", "MD"], ["use", "VB"], ["this", "DT"], ["code", "NN"], ["as", "IN"], ["a", "DT"], ["model", "NN"], ["to", "TO"], ["implement", "VB"], ["equals", "NNS"], ["for", "IN"], ["any", "DT"], ["data", "NNS"], ["type", "NN"], ["that", "IN"], ["you", "PRP"], ["might", "MD"], ["wind", "VB"], ["up", "RP"], ["using", "VBG"], ["as", "IN"], ["a", "DT"], ["simple", "JJ"], ["table", "JJ"], ["key", "NN"], [".", "."], ["Okay", "NNP"], ["so", "IN"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["standard", "NN"], ["this", "DT"], ["is", "VBZ"], ["just", "RB"], ["in", "IN"], ["words", "NNS"], ["the", "DT"], ["standard", "NN"], ["recipe", "NN"], ["for", "IN"], ["user", "JJ"], ["find", "NN"], [",", ","], ["type", "NN"], ["optimize", "NN"], ["for", "IN"], ["reference", "NN"], ["equality", "NN"], [",", ","], ["check", "VB"], ["against", "IN"], ["null", "NN"], [".", "."], ["Make", "NNP"], ["sure", "JJ"], ["they", "PRP"], ["'re", "VBP"], ["the", "DT"], ["same", "JJ"], ["type", "NN"], ["and", "CC"], ["do", "VB"], ["the", "DT"], ["casting", "NN"], [",", ","], ["and", "CC"], ["then", "RB"], ["compare", "VB"], ["all", "PDT"], ["the", "DT"], ["similar", "JJ"], [",", ","], ["significant", "JJ"], ["fields", "NNS"], [".", "."], ["It", "PRP"], ["could", "MD"], ["be", "VB"], ["that", "IN"], ["if", "IN"], ["one", "CD"], ["of", "IN"], ["the", "DT"], ["fields", "NNS"], ["is", "VBZ"], ["an", "DT"], ["object", "NN"], [",", ","], ["then", "RB"], ["you", "PRP"], ["use", "VBP"], ["that", "IN"], ["object", "NN"], ["'s", "POS"], ["equals", "NNS"], [",", ","], ["which", "WDT"], ["reapplies", "VBZ"], ["the", "DT"], ["world", "NN"], ["the", "DT"], ["rule", "NN"], ["recursively", "RB"], [".", "."], ["And", "CC"], ["then", "RB"], ["if", "IN"], ["you", "PRP"], ["ever", "RB"], ["feel", "VBP"], ["that", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["an", "DT"], ["array", "NN"], ["you", "PRP"], ["can", "MD"], ["go", "VB"], ["ahead", "RB"], ["and", "CC"], ["try", "VB"], ["applying", "VBG"], ["it", "PRP"], ["to", "TO"], ["each", "DT"], ["entry", "NN"], [".", "."], ["And", "CC"], ["there", "EX"], ["'s", "VBZ"], ["implementations", "NNS"], ["in", "IN"], ["Java", "NNP"], [".", "."], ["You", "PRP"], ["do", "VBP"], ["n't", "RB"], ["want", "VB"], ["to", "TO"], ["use", "VB"], ["A", "NNP"], [",", ","], ["A", "NNP"], [".", "."], ["=", "NN"], ["B", "NNP"], [".", "."], ["That", "IN"], ["checks", "NNS"], ["if", "IN"], ["those", "DT"], ["arrays", "NNS"], ["are", "VBP"], ["the", "DT"], ["same", "JJ"], ["objects", "NNS"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["not", "RB"], ["what", "WP"], ["you", "PRP"], ["want", "VBP"], ["you", "PRP"], ["want", "VBP"], ["to", "TO"], ["check", "VB"], ["that", "IN"], ["all", "PDT"], ["the", "DT"], ["values", "NNS"], ["are", "VBP"], ["the", "DT"], ["same", "JJ"], [".", "."], ["And", "CC"], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["array", "NN"], ["of", "IN"], ["objects", "NNS"], ["you", "PRP"], ["can", "MD"], ["see", "VB"], ["that", "IN"], ["testing", "VBG"], ["for", "IN"], ["equals", "NNS"], ["can", "MD"], ["actually", "RB"], ["involve", "VB"], ["a", "DT"], ["lot", "NN"], ["a", "DT"], ["code", "NN"], ["and", "CC"], ["a", "DT"], ["lot", "NN"], ["a", "DT"], ["cost", "NN"], [".", "."], ["Alright", "NNP"], ["so", "RB"], ["and", "CC"], ["certainly", "RB"], ["you", "PRP"], ["want", "VBP"], ["to", "TO"], ["follow", "VB"], ["some", "DT"], ["of", "IN"], ["these", "DT"], ["best", "JJS"], ["practices", "NNS"], [".", "."], ["So", "RB"], ["fields", "JJ"], ["that", "WDT"], ["are", "VBP"], ["most", "RBS"], ["likely", "JJ"], ["to", "TO"], ["differ", "VB"], [".", "."], ["Those", "DT"], ["are", "VBP"], ["the", "DT"], ["ones", "NNS"], ["you", "PRP"], ["might", "MD"], ["want", "VB"], ["to", "TO"], ["compare", "VB"], ["first", "JJ"], [".", "."], ["And", "CC"], ["your", "PRP$"], ["also", "RB"], ["going", "VBG"], ["to", "TO"], ["want", "VB"], ["to", "TO"], ["make", "VB"], ["compare", "NN"], ["to", "TO"], ["consistent", "VB"], ["with", "IN"], ["equals", "NNS"], [".", "."], ["The", "DT"], ["rule", "NN"], ["generally", "RB"], ["if", "IN"], ["we", "PRP"], ["'re", "VBP"], ["have", "VBP"], ["a", "DT"], ["comparable", "JJ"], ["types", "NNS"], ["we", "PRP"], ["'ll", "MD"], ["use", "VB"], ["to", "TO"], ["compare", "VB"], ["to", "TO"], [".", "."], ["If", "IN"], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["have", "VB"], ["a", "DT"], ["comparable", "JJ"], ["types", "NNS"], ["then", "RB"], ["we", "PRP"], ["'ll", "MD"], ["use", "VB"], ["equals", "NNS"], [".", "."], ["Okay", "NNP"], [",", ","], ["so", "RB"], ["now", "RB"], ["let", "VBP"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["a", "DT"], ["couple", "NN"], ["of", "IN"], ["test", "NN"], ["clients", "NNS"], ["before", "IN"], ["we", "PRP"], ["look", "VBP"], ["at", "IN"], ["any", "DT"], ["particular", "JJ"], ["implementation", "NN"], [".", "."], ["So", "IN"], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], ["test", "NN"], ["client", "NN"], ["so", "RB"], ["symbol", "JJ"], ["tables", "NNS"], ["are", "VBP"], ["ST", "NNP"], ["is", "VBZ"], ["the", "DT"], ["type", "NN"], [",", ","], ["symbol", "NN"], ["table", "NN"], [",", ","], ["they", "PRP"], ["'re", "VBP"], ["generic", "JJ"], ["on", "IN"], ["key", "JJ"], ["and", "CC"], ["value", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], ["this", "DT"], [",", ","], ["this", "DT"], ["statement", "NN"], ["builds", "VBZ"], ["a", "DT"], ["new", "JJ"], ["symbol", "NN"], ["table", "NN"], ["with", "IN"], ["string", "VBG"], ["keys", "NNS"], ["and", "CC"], ["integer", "NN"], ["values", "NNS"], ["that", "WDT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["associate", "VB"], ["integers", "NNS"], ["with", "IN"], ["strings", "NNS"], [".", "."], ["And", "CC"], ["so", "RB"], ["what", "WP"], ["the", "DT"], ["test", "NN"], ["client", "NN"], ["is", "VBZ"], ["going", "VBG"], ["do", "VB"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["a", "DT"], ["just", "RB"], ["go", "VBN"], ["in", "IN"], ["a", "DT"], ["loop", "NN"], ["as", "RB"], ["long", "RB"], ["as", "IN"], ["standard", "JJ"], ["n", "NN"], ["is", "VBZ"], ["not", "RB"], ["empty", "JJ"], [",", ","], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["read", "VB"], ["strings", "NNS"], [",", ","], ["read", "VBD"], ["a", "DT"], ["string", "VBG"], ["off", "RP"], ["standard", "JJ"], ["input", "NN"], [",", ","], ["and", "CC"], ["then", "RB"], ["put", "VBD"], ["it", "PRP"], ["in", "IN"], ["the", "DT"], ["symbol", "NN"], ["table", "NN"], ["associated", "VBN"], ["with", "IN"], ["the", "DT"], ["value", "NN"], ["I", "PRP"], ["where", "WRB"], ["did", "VBD"], ["it", "PRP"], ["appear", "VB"], ["in", "IN"], ["the", "DT"], ["value", "NN"], ["input", "NN"], [".", "."], ["So", "IN"], ["this", "DT"], ["is", "VBZ"], ["an", "DT"], ["index", "NN"], ["same", "JJ"], ["client", "NN"], ["where", "WRB"], ["we", "PRP"], ["associate", "VBP"], ["each", "DT"], ["string", "NN"], ["with", "IN"], ["its", "PRP$"], ["position", "NN"], ["most", "RBS"], ["recent", "JJ"], ["position", "NN"], ["in", "IN"], ["the", "DT"], ["input", "NN"], [".", "."], ["And", "CC"], [",", ","], ["notice", "VBP"], ["it", "PRP"], ["'s", "VBZ"], ["an", "DT"], ["associative", "JJ"], ["array", "NN"], ["implementation", "NN"], ["so", "RB"], ["for", "IN"], ["example", "NN"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["two", "CD"], ["Es", "NNP"], ["and", "CC"], ["at", "IN"], ["the", "DT"], ["end", "NN"], ["E", "NNP"], ["is", "VBZ"], ["a", "DT"], ["associated", "JJ"], ["value", "NN"], ["twelve", "NN"], [".", "."], ["The", "DT"], ["place", "NN"], ["where", "WRB"], ["it", "PRP"], ["most", "RBS"], ["recently", "RB"], ["appeared", "VBD"], [".", "."], ["We", "PRP"], ["could", "MD"], ["also", "RB"], ["keep", "VB"], ["these", "DT"], ["things", "NNS"], ["in", "IN"], ["a", "DT"], ["bag", "NN"], ["and", "CC"], ["do", "VB"], ["a", "DT"], ["client", "NN"], ["that", "WDT"], ["does", "VBZ"], ["all", "PDT"], ["the", "DT"], ["positions", "NNS"], ["that", "WDT"], ["appeared", "VBD"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["a", "DT"], ["simple", "JJ"], ["indexing", "NN"], ["client", "NN"], ["that", "IN"], ["we", "PRP"], ["use", "VBP"], ["for", "IN"], ["our", "PRP$"], ["traces", "NNS"], [".", "."], ["[", "JJ"], ["cough", "NN"], ["]", "NN"], ["For", "IN"], ["analysis", "NN"], ["for", "IN"], ["bigger", "JJR"], ["problems", "NNS"], ["we", "PRP"], ["'ll", "MD"], ["use", "VB"], ["a", "DT"], ["client", "NN"], ["called", "VBN"], ["the", "DT"], ["frequency", "NN"], ["counter", "NN"], ["client", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], ["that", "IN"], ["one", "CD"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["read", "VB"], ["a", "DT"], ["sequence", "NN"], ["of", "IN"], ["strings", "NNS"], ["from", "IN"], ["standard", "JJ"], ["input", "NN"], ["and", "CC"], ["print", "NN"], ["out", "RP"], ["the", "DT"], ["one", "NN"], ["that", "WDT"], ["occurs", "VBZ"], ["with", "IN"], ["highest", "JJS"], ["frequency", "NN"], [".", "."], ["So", "RB"], [",", ","], ["so", "RB"], ["for", "IN"], ["this", "DT"], ["small", "JJ"], ["data", "NNS"], ["from", "IN"], ["the", "DT"], ["beginning", "NN"], ["of", "IN"], ["Dickens", "NNP"], ["'", "POS"], ["Tale", "NNP"], ["of", "IN"], ["two", "CD"], ["Cities", "NNS"], ["if", "IN"], ["we", "PRP"], ["run", "VBP"], ["a", "DT"], ["frequency", "NN"], ["count-", "NN"], [",", ","], ["or", "CC"], ["the", "DT"], ["frequency", "NN"], ["counter", "NN"], ["client", "NN"], [".", "."], ["And", "CC"], ["this", "DT"], ["first", "JJ"], ["argument", "NN"], ["is", "VBZ"], ["just", "RB"], ["ignore", "JJ"], ["words", "NNS"], ["of", "IN"], ["fewer", "JJR"], ["than", "IN"], ["this", "DT"], ["many", "JJ"], ["letters", "NNS"], [".", "."], ["It", "PRP"], ["'ll", "MD"], ["say", "VB"], ["that", "IN"], ["the", "DT"], ["most", "RBS"], ["frequent", "JJ"], ["word", "NN"], ["where", "WRB"], ["there", "EX"], ["'s", "VBZ"], ["no", "DT"], ["word", "NN"], ["that", "IN"], ["appears", "VBZ"], ["more", "RBR"], ["frequently", "RB"], ["than", "IN"], ["it", "PRP"], ["which", "WDT"], ["appears", "VBZ"], ["ten", "JJ"], ["times", "NNS"], [".", "."], ["And", "CC"], ["we", "PRP"], ["'ll", "MD"], ["want", "VB"], ["this", "DT"], ["client", "NN"], ["to", "TO"], ["work", "VB"], ["well", "RB"], ["for", "IN"], ["huge", "JJ"], ["data", "NNS"], ["sets", "NNS"], ["so", "RB"], ["Liepzeig", "NNP"], ["is", "VBZ"], ["a", "DT"], [",", ","], ["a", "DT"], ["data", "NN"], ["set", "NN"], ["from", "IN"], ["the", "DT"], ["web", "NN"], ["of", "IN"], ["about", "IN"], ["twenty", "NN"], ["million", "CD"], ["words", "NNS"], [".", "."], ["About", "IN"], ["half", "PDT"], ["a", "DT"], ["million", "CD"], ["distinct", "JJ"], ["ones", "NNS"], ["and", "CC"], ["in", "IN"], ["that", "DT"], ["Corpus", "NNP"], [",", ","], ["the", "DT"], ["word", "NN"], ["government", "NN"], ["appears", "VBZ"], ["about", "IN"], ["25,000", "CD"], ["times", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["if", "IN"], ["you", "PRP"], ["have", "VBP"], ["a", "DT"], ["quadratic", "JJ"], ["time", "NN"], ["algorithm", "NN"], ["for", "IN"], ["implementing", "VBG"], ["simple", "JJ"], ["tables", "NNS"], ["or", "CC"], ["linear", "JJ"], ["time", "NN"], ["for", "IN"], ["each", "DT"], ["operation", "NN"], [".", "."], ["You", "PRP"], ["'re", "VBP"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["run", "VB"], ["this", "DT"], ["client", "NN"], ["in", "IN"], ["a", "DT"], ["reasonable", "JJ"], ["amount", "NN"], ["of", "IN"], ["time", "NN"], ["for", "IN"], ["a", "DT"], ["big", "JJ"], ["amount", "NN"], ["of", "IN"], ["data", "NNS"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["client", "NN"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["use", "VB"], ["for", "IN"], ["analysis", "NN"], [".", "."], ["Here", "RB"], ["'s", "VBZ"], ["the", "DT"], ["code", "NN"], ["for", "IN"], ["that", "DT"], ["frequency", "NN"], ["counter", "RB"], ["client", "NN"], [".", "."], ["Again", "NNP"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["similar", "JJ"], ["to", "TO"], ["the", "DT"], ["other", "JJ"], ["one", "CD"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["creating", "VBG"], ["a", "DT"], ["simple", "JJ"], ["table", "NN"], ["that", "WDT"], ["associates", "VBZ"], ["strings", "NNS"], ["with", "IN"], ["integers", "NNS"], [".", "."], ["We", "PRP"], ["take", "VBP"], ["that", "DT"], ["command", "VBP"], ["line", "NN"], ["argument", "NN"], ["which", "WDT"], ["is", "VBZ"], ["the", "DT"], ["minimum", "JJ"], ["length", "NN"], ["that", "IN"], ["we", "PRP"], ["care", "VBP"], ["about", "IN"], [".", "."], ["We", "PRP"], ["will", "MD"], ["read", "VB"], ["a", "DT"], ["new", "JJ"], ["word", "NN"], [".", "."], ["We", "PRP"], ["'ll", "MD"], ["ignore", "VB"], ["the", "DT"], ["short", "JJ"], ["strings", "NNS"], [".", "."], ["Just", "NNP"], ["trap", "NN"], ["out", "RB"], ["if", "IN"], ["the", "DT"], ["word", "NN"], ["length", "NN"], ["is", "VBZ"], ["too", "RB"], ["small", "JJ"], [".", "."], ["And", "CC"], ["now", "RB"], ["the", "DT"], ["integer", "NN"], ["we", "PRP"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["associate", "VB"], ["with", "IN"], ["each", "DT"], ["word", "NN"], ["is", "VBZ"], ["the", "DT"], ["frequency", "NN"], ["of", "IN"], ["occurrence", "NN"], ["of", "IN"], ["that", "DT"], ["word", "NN"], ["in", "IN"], ["a", "DT"], ["symbol", "NN"], ["table", "NN"], [".", "."], ["So", "RB"], ["if", "IN"], ["word", "NN"], ["is", "VBZ"], ["not", "RB"], ["in", "IN"], ["the", "DT"], ["symbol", "NN"], ["table", "NN"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["put", "VB"], ["it", "PRP"], ["there", "RB"], ["with", "IN"], ["a", "DT"], ["frequency", "NN"], ["of", "IN"], ["occurrence", "NN"], ["of", "IN"], ["one", "CD"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["the", "DT"], ["first", "JJ"], ["time", "NN"], ["we", "PRP"], ["saw", "VBD"], ["the", "DT"], ["word", "NN"], [".", "."], ["If", "IN"], ["it", "PRP"], ["is", "VBZ"], ["in", "IN"], ["the", "DT"], ["symbol", "NN"], ["table", "NN"], [",", ","], ["we", "PRP"], ["will", "MD"], ["just", "RB"], ["over", "IN"], ["write", "JJ"], [".", "."], ["The", "DT"], ["old", "JJ"], ["value", "NN"], [",", ","], ["which", "WDT"], ["is", "VBZ"], ["ST", "NNP"], ["get", "NN"], ["word", "NN"], [",", ","], ["with", "IN"], ["the", "DT"], ["new", "JJ"], ["value", "NN"], [",", ","], ["ST", "NNP"], ["ge", "NN"], ["t", "NN"], ["word", "NN"], ["plus", "CC"], ["one", "CD"], [".", "."], ["So", "CC"], ["increment", "JJ"], ["the", "DT"], ["frequency", "NN"], ["in", "IN"], ["the", "DT"], ["symbol", "NN"], ["table", "NN"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], [",", ","], ["read", "VB"], [",", ","], ["this", "DT"], ["loop", "NN"], ["reads", "VBZ"], ["in", "IN"], ["all", "PDT"], ["the", "DT"], ["data", "NNS"], ["and", "CC"], ["associates", "NNS"], ["each", "DT"], ["word", "NN"], ["with", "IN"], ["its", "PRP$"], ["frequency", "NN"], ["of", "IN"], ["occurrence", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["'ll", "MD"], ["have", "VB"], ["a", "DT"], ["client", "NN"], ["that", "WDT"], ["uses", "VBZ"], ["the", "DT"], ["iterator", "NN"], [",", ","], ["going", "VBG"], ["through", "IN"], ["all", "PDT"], ["the", "DT"], ["keys", "NNS"], ["in", "IN"], ["the", "DT"], ["symbol", "NN"], ["table", "NN"], [".", "."], ["It", "PRP"], ["'ll", "MD"], ["get", "VB"], ["the", "DT"], ["value", "NN"], ["associated", "VBN"], ["with", "IN"], ["each", "DT"], ["key", "NN"], [".", "."], ["And", "CC"], ["if", "IN"], ["that", "DT"], ["'s", "VBZ"], ["bigger", "JJR"], ["than", "IN"], ["the", "DT"], ["maximum", "JJ"], ["found", "NN"], ["so", "RB"], ["far", "RB"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["save", "VB"], ["that", "DT"], ["away", "RB"], [".", "."], ["And", "CC"], ["then", "RB"], ["print", "VB"], ["out", "RP"], ["the", "DT"], [",", ","], ["the", "DT"], ["word", "NN"], ["that", "WDT"], ["occurs", "VBZ"], ["the", "DT"], [",", ","], ["the", "DT"], ["most", "RBS"], ["often", "RB"], ["along", "RB"], ["with", "IN"], ["its", "PRP$"], ["frequency", "NN"], [".", "."], ["So", "IN"], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], ["useful", "JJ"], ["and", "CC"], ["non", "JJ"], ["trivial", "JJ"], ["client", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["enable", "JJ"], ["by", "IN"], ["symbol", "NN"], ["table", "NN"], [".", "."], ["And", "CC"], [",", ","], ["but", "CC"], ["it", "PRP"], ["wo", "MD"], ["n't", "RB"], ["work", "VB"], ["well", "RB"], ["unless", "IN"], ["we", "PRP"], ["have", "VBP"], ["an", "DT"], ["efficient", "JJ"], ["symbol", "NN"], ["table", "JJ"], ["operation", "NN"], [".", "."], ["And", "CC"], ["we", "PRP"], ["'ll", "MD"], ["use", "VB"], ["this", "DT"], ["client", "NN"], ["to", "TO"], ["compare", "VB"], ["different", "JJ"], ["symbol", "NN"], ["table", "JJ"], ["implementations", "NNS"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["symbol", "NN"], ["table", "JJ"], ["API", "NNP"], [".", "."], ["And", "CC"], ["next", "JJ"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["take", "VB"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["implementations", "NNS"], [".", "."]], "title": "symbol table api", "text": "Welcome back. In this and the next few lectures, we're going to look at symbol tables. A fundamental and extremely important data type that have led to all kinds of fascinating implementations and we're going to see at several of them in this course. To begin, we'll take a look at the API and some elementary implementations and various operations that people want to perform on Symbol Tables. Start with the API. The idea behind symbol tables is to implement the following abstraction. We are going to have keys, like our keys in priority queues but, the whole ideas that we are going want to associate, values with each key. So two operations that we're going to perform in symbol tables is the insert operation where we're really putting a value, a key value pair into the symbol table, a value with a specified key, and then given a key we want to search for a corresponding value. Those are the two basic operations. Now the keys and the values can interchange roles. And that's, that's why we, have the abstraction to separate them. So for example, a domain name server might have a look up where you've got a table that's got an IP address, and a URL associated with that IP address. And different clients might want to use this data in different ways. One might want to use the URL as key. Given the URL, give us the corresponding IP. The address. Another client, might want to use the IP address as key, have an IP address, give me the corresponding client. So those are just a couple of examples. This is a very fundamental and basic abstraction. In the list of applications is huge, in fact almost any computer application system is going to have symbol table or multiple symbol tables at its core, all the way down to the basic memory system of the computer or the networking system that your computer accessed information depends on. You can think of it intuitively, as, like a dictionary. Well, there used to be books, and people would open up those books to look for a word, to find the definition. Nowadays, you're more likely, to do that online. Or, when you're trying to find a song to download, you provide the name of the song. And then a value will tell you what computer to go to, to get that or in commercial computing, the key might be an account number, and the value might be the transaction details, for that account. Web search is something, we all do multiple times every day. And the key is a keyword, or a list of keywords. And the value is a list of places where that keyword is found. And there's many, many other applications, including scientific applications where say in genomics people use simple tables to keep track of finding markers in the genome and again many other applications. So, its a very fundamental concept and we will look at plenty of applications. But first we want to look at some algorithms so the way that it's convenient to set up a symbol table is to implement the so-called associative array abstraction. And the idea behind that is to think about just associating one value with each key. And well it's like in Java array of integers say. We're only, our keys in that case are indices that are restricted between, to be between zero and the array size. But we're only associating one value with each index. We think of storing the value in the array position given by that index. And a good way to think of a symbol table is as shown in the right here. When we put a key value pair onto the symbol table. Think of that as using the key to index an array, and storing the value there. Now this, isn't legal in Java if key is not an int. And, and we're going to do this generic. It can be any type of data. But, it's a good way to think about it. And then, to retrieve it, you just give that same key, and it'll return the value. So that's our, two primary operations. Put a key value pair into the table. So that is associate the value with key, and then get the value paired with the key. Now th ere's particular rules for Null that I'll talk about in a second. And then to properly maintain the symbol table in a dynamic situation in many clients you want to support and delete operation and contains is, is simpler operation than depth. It's convenient for many clients where it just tells us whether there's some value paired with that key in the table isn't in size. And then another thing that you might want to do is iterate through all the keys in, in the table. So those are the basic operations that we're going to want to implement to get the associative array abstraction. And then there's many, many possibilities for clients and we'll look at some later on. Now there is a couple of conventions around null. And these are not critical, but they make it bit more convenient for several implementations. So we are not going to allow null values, we cannot associate null with any key. And then we are going to adopt the convention that the get method returns null, if the key is not present in the table. And also the associative array abstraction is the put method, well, overwrite an old value with a new value. So these are our consequences. So, it's, the contains implementation is the same for all our, symbol typal implementations. If get returns, a non null value, then there's a value corresponding to that key in the table if it returns null. It's not get returns null keys not present. And the other thing that we could do is we can use null in some situations or temporary situations to implement a lazy version of the delete operation. We can associate the key with null internally and then a client won't know the difference whether that's in there or not. And some algorithms take advantage of the ability to use null in this way. These are just conventions and somewhat details but it's important to point them out at front. So now, we're going to want the value to be any generic type at all, but the key type we have to make some natural assumptions about them. And actually there's different assumptions that we make in our implementations depending on the application. Though one of the most useful ones is to have comparable keys. Just as in sorting algorithms we'll assume that the keys have values that have come from a total order. And we can use compare to, to compare whether one key is less than, than other or not. This is for two reasons. One is we can get more efficient app implementations if we can use the ordering of the keys to help us find our way around the data structure. And the other reason is that we can support a broader set of simple table operations that are very convenient for many clients. And it's very typical for keys to come from an ordered set. Now, for example in the dictionary application or if keys are stings or numbers. Or account numbers or many other situations. So if they're going to be comparable we might as well take advantage of it. Both to get more efficient algorithms and to be able to take advantage of a broader set of operations. Now in other situations, maybe they're not comparable. And all we're allowed to use is to, use the equals operation. That is everything every type of data in Java has to support and equals operation that reads out to test whether they're equal. And there's another family of methods where there's no ordering. Then there is a special method called hash code that helps us [cough] inject randomness into the process and that's built into Java and also some classic algorithms depend on that. We're going to start out with the comparable mostly. And again, as with priority queues, the best practice is to use immutable types, and experienced programmers know this and it's not difficult to arrange for the natural types of data that people are going to use for simple table keys. Unreasonable to expect the implementation to work well if the client can change the values of keys that are in the table. If you want that, you have to provide that as a specific operation. In the case of symbol tables , we are not going to do that. You have to remove it and put it back in. Alright, so there's equalities. Now, equality again we're getting into programming language issue but it's still it's important to be explicit about what's going on with, equality. How do we test if two objects are equal? So, the job has got requirements as for compared to in, here's the basic requirements about equals. There is a method that all Java for equals, but the default implementation is simply to test whether the references are equal. Are those precisely the same objects or not. Usually in applications when we want to have something more general than that and have a concept of a value or like a key in our case. And then we want to know if two references refer to objects that have the same value and we want to call that equal, that's what equals is about. So anyway we're required to make sure that X is always equal to X and that, X = Y is the same Y = X, and if X = Y, Y = Z, then X = Z. So that means that mathematical terms equals is called an equivalence relation. And also no, no object is equal to null. So those are absolute requirements for Java. And again, the default implementation is to check whether they refer to the same object. And that's rarely what we want. Java systems programs maybe want that. But client programs usually have customized implementations that are based on comparing some sort of value and the standard built-in types of the Java language are going to have those customized implementations and we can rely on them doing what we expect. If we're going to implement our own types and then use those types as keys and symbol tables you have to exercise a little bit of care and we'll talk about that briefly. Say we have this simplified date implementation we talked about before it's a mutable type and every day it's got a month a day in a year. It seems like it should be easy to implement equals basically, we're just going to check that all the significant fields are the same. Two dates should be equal if they have the same day, month, and year. And if any one of those are not the same value, then just return false. So that seems as if it should work. But that doesn't have all the characteristics that we need in a job implementation. And so all of this code in red shows a model for what you might do if you're going to implement your own type of data equals for your own type of data. So we shouldn't use it in connection with inheritance so we don't use inheritance that much so I won't talk about that The type of the argument in the equals must be object, do you think it should be date? And experts debate about that, and people who are interested can look on the web for that kind of date. If it is the case that you happen to be testing two objects that are the same object for equality, you might as well, optimize everything and just test that. If Y is a reference that's pointing to the same object as this object just returned true because, if you're going to test the values they're going to have the same values anyway. And that's a good optimization for lots of, situations. Why go through all that risk to that code if you know right away they're, equal. There's this test for null, that has to be there. And if not there can lead to nefarious plugs and, and, unusual problems. So on your equals test you'd better, test that, the client didn't give you null. They have to be in the same class. And while there's a couple of different ways to check about the same class, and that's another religious debate. That we'll ignore. We'll use, get class and that's something that's got to work or they'll get, they'll get an exception in this later code. Because since Y had to be an object, now we have to, cast it to a date. And then it better be the right class, or else it's not going to have these fields, that, we can test for. So, details but anyway, you can use this code as a model to implement equals for any data type that you might wind up using as a simple table key. Okay so that's a standard this is just in words the standard recipe for user find, type optimize for reference equality, check against null. Make sure they're the same type and do the casting, and then compare all the similar, significant fields. It could be that if one of the fields is an object, then you use that object's equals, which reapplies the world the rule recursively. And then if you ever feel that it's an array you can go ahead and try applying it to each entry. And there's implementations in Java. You don't want to use A, A. = B. That checks if those arrays are the same objects. And that's not what you want you want to check that all the values are the same. And if it's array of objects you can see that testing for equals can actually involve a lot a code and a lot a cost. Alright so and certainly you want to follow some of these best practices. So fields that are most likely to differ. Those are the ones you might want to compare first. And your also going to want to make compare to consistent with equals. The rule generally if we're have a comparable types we'll use to compare to. If we don't have a comparable types then we'll use equals. Okay, so now let's look at a couple of test clients before we look at any particular implementation. So this is a test client so symbol tables are ST is the type, symbol table, they're generic on key and value. And so this, this statement builds a new symbol table with string keys and integer values that's going to associate integers with strings. And so what the test client is going do is going to a just go in a loop as long as standard n is not empty, and it's going to read strings, read a string off standard input, and then put it in the symbol table associated with the value I where did it appear in the value input. So this is an index same client where we associate each string with its position most recent position in the input. And, notice it's an associative array implementation so for example, we have two Es and at the end E is a associated value twelve. The place where it most recently appeared. We could also keep these things in a bag and do a client that does all the positions that appeared. This is a simple indexing client that we use for our traces. [cough] For analysis for bigger problems we'll use a client called the frequency counter client. And so that one is going to read a sequence of strings from standard input and print out the one that occurs with highest frequency. So, so for this small data from the beginning of Dickens' Tale of two Cities if we run a frequency count-, or the frequency counter client. And this first argument is just ignore words of fewer than this many letters. It'll say that the most frequent word where there's no word that appears more frequently than it which appears ten times. And we'll want this client to work well for huge data sets so Liepzeig is a, a data set from the web of about twenty million words. About half a million distinct ones and in that Corpus, the word government appears about 25,000 times. So, if you have a quadratic time algorithm for implementing simple tables or linear time for each operation. You're not going to be able to run this client in a reasonable amount of time for a big amount of data. So that's the client that we're going to use for analysis. Here's the code for that frequency counter client. Again, it's similar to the other one, we're creating a simple table that associates strings with integers. We take that command line argument which is the minimum length that we care about. We will read a new word. We'll ignore the short strings. Just trap out if the word length is too small. And now the integer we are going to associate with each word is the frequency of occurrence of that word in a symbol table. So if word is not in the symbol table, we'll put it there with a frequency of occurrence of one. That's the first time we saw the word. If it is in the symbol table, we will just over write. The old value, which is ST get word, with the new value, ST ge t word plus one. So increment the frequency in the symbol table. So that's, read, this loop reads in all the data and associates each word with its frequency of occurrence. And then we'll have a client that uses the iterator, going through all the keys in the symbol table. It'll get the value associated with each key. And if that's bigger than the maximum found so far, we'll save that away. And then print out the, the word that occurs the, the most often along with its frequency. So this is a useful and non trivial client that's enable by symbol table. And, but it won't work well unless we have an efficient symbol table operation. And we'll use this client to compare different symbol table implementations. So that's the symbol table API. And next, we'll take a look at implementations. ", "video_ID": 38, "course_id": 3}
{"category": ["elementary symbol tables"], "tagged": [["Next", "IN"], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["some", "DT"], ["elementary", "JJ"], ["symbol", "NN"], ["table", "JJ"], ["implementations", "NNS"], [".", "."], ["These", "DT"], ["are", "VBP"], ["so", "RB"], ["simple", "JJ"], ["that", "IN"], ["we", "PRP"], ["wo", "MD"], ["n't", "RB"], ["go", "VB"], ["in", "IN"], ["too", "RB"], ["much", "JJ"], ["detail", "NN"], [",", ","], ["but", "CC"], ["still", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["worthwhile", "JJ"], ["to", "TO"], ["take", "VB"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["them", "PRP"], ["to", "TO"], ["set", "VB"], ["the", "DT"], ["stage", "NN"], ["for", "IN"], ["the", "DT"], ["more", "RBR"], ["advanced", "JJ"], ["implementations", "NNS"], ["we", "PRP"], ["'ll", "MD"], ["consider", "VB"], ["next", "JJ"], [".", "."], ["Well", "RB"], [",", ","], ["one", "CD"], ["thing", "NN"], ["we", "PRP"], ["could", "MD"], ["do", "VB"], ["is", "VBZ"], ["maintain", "VB"], ["a", "DT"], ["linked", "JJ"], ["list", "NN"], [".", "."], ["We", "PRP"], ["could", "MD"], ["keep", "VB"], ["it", "PRP"], ["in", "IN"], ["order", "NN"], ["or", "CC"], ["keep", "VB"], ["it", "PRP"], ["unordered", "JJ"], [".", "."], ["This", "DT"], ["version", "NN"], ["keeps", "VBZ"], ["it", "PRP"], ["unordered", "JJ"], [".", "."], ["So", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["nodes", "NNS"], ["in", "IN"], ["the", "DT"], ["linked", "VBN"], ["list", "NN"], ["that", "WDT"], ["have", "VBP"], ["key", "VBN"], ["value", "NN"], ["pairs", "NNS"], [".", "."], ["They", "PRP"], ["have", "VBP"], ["every", "DT"], ["key", "NN"], ["in", "IN"], ["the", "DT"], ["symbol", "NN"], ["table", "NN"], ["and", "CC"], ["a", "DT"], ["value", "NN"], ["associated", "VBN"], ["with", "IN"], ["that", "DT"], ["key", "NN"], [".", "."], ["For", "IN"], ["search", "NN"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], [",", ","], ["since", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["unordered", "JJ"], [",", ","], ["scan", "JJ"], ["through", "IN"], ["the", "DT"], ["whole", "JJ"], ["list", "NN"], ["to", "TO"], ["find", "VB"], ["a", "DT"], ["match", "NN"], [",", ","], ["a", "DT"], ["key", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["there", "RB"], [".", "."], ["For", "IN"], ["insert", "NN"], [",", ","], ["I", "PRP"], ["would", "MD"], ["also", "RB"], ["have", "VB"], ["to", "TO"], ["scan", "VB"], ["through", "IN"], ["all", "DT"], ["keys", "NNS"], ["to", "TO"], ["find", "VB"], ["the", "DT"], ["place", "NN"], ["to", "TO"], ["update", "VB"], ["a", "DT"], ["value", "NN"], [",", ","], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["value", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["already", "RB"], ["there", "RB"], [".", "."], ["And", "CC"], ["if", "IN"], ["there", "EX"], ["'s", "VBZ"], ["no", "DT"], ["match", "NN"], [",", ","], ["we", "PRP"], ["could", "MD"], ["add", "VB"], ["it", "PRP"], ["to", "TO"], ["the", "DT"], ["front", "NN"], [".", "."], ["So", "CC"], ["here", "RB"], ["'s", "VBZ"], ["our", "PRP$"], ["simple", "JJ"], ["client", "NN"], ["for", "IN"], ["traces", "NNS"], [",", ","], ["so", "RB"], ["if", "IN"], ["we", "PRP"], ["associate", "VBP"], ["S", "JJ"], ["with", "IN"], ["zero", "NN"], [",", ","], ["we", "PRP"], ["just", "RB"], ["had", "VBD"], ["it", "PRP"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["our", "PRP$"], ["one", "CD"], ["node", "NN"], ["linked", "VBD"], ["list", "NN"], ["that", "IN"], ["'s", "VBZ"], ["got", "VBD"], ["that", "DT"], ["information", "NN"], [".", "."], ["Associate", "NNP"], ["E", "NNP"], ["with", "IN"], ["1", "CD"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["not", "RB"], ["there", "RB"], [",", ","], ["so", "IN"], ["we", "PRP"], ["just", "RB"], ["add", "VB"], ["it", "PRP"], ["to", "TO"], ["the", "DT"], ["beginning", "NN"], ["of", "IN"], ["list", "NN"], ["A", "NNP"], ["with", "IN"], ["2", "CD"], ["R", "NNP"], [",", ","], ["with", "IN"], ["3C", "CD"], [",", ","], ["with", "IN"], ["4", "CD"], ["H", "NNP"], [",", ","], ["with", "IN"], ["5", "CD"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["So", "RB"], ["now", "RB"], ["when", "WRB"], ["we", "PRP"], ["associate", "VBP"], ["E", "NNS"], ["with", "IN"], ["6", "CD"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["search", "VB"], ["through", "IN"], ["the", "DT"], ["list", "NN"], ["to", "TO"], ["see", "VB"], ["if", "IN"], ["there", "EX"], ["'s", "VBZ"], ["an", "DT"], ["E.", "NNP"], ["And", "CC"], ["in", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["there", "EX"], ["is", "VBZ"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["just", "RB"], ["update", "VBP"], ["that", "IN"], ["value", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["the", "DT"], ["associative", "JJ"], ["array", "NN"], ["abstraction", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["possible", "JJ"], ["to", "TO"], ["implement", "VB"], ["symbol", "NN"], ["tables", "NNS"], ["that", "WDT"], ["allow", "VBP"], ["multiple", "JJ"], ["values", "NNS"], ["with", "IN"], ["the", "DT"], ["same", "JJ"], ["key", "NN"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["And", "CC"], ["that", "DT"], ["leads", "VBZ"], ["to", "TO"], ["different", "JJ"], ["types", "NNS"], ["of", "IN"], ["clients", "NNS"], [",", ","], ["different", "JJ"], ["types", "NNS"], ["of", "IN"], ["implementations", "NNS"], [".", "."], ["We", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["stick", "VB"], ["to", "TO"], ["this", "DT"], ["associative", "JJ"], ["array", "NN"], ["abstraction", "NN"], ["and", "CC"], ["no", "DT"], ["duplicate", "NN"], ["keys", "NNS"], ["in", "IN"], ["the", "DT"], ["symbol", "NN"], ["table", "NN"], [",", ","], ["because", "IN"], ["it", "PRP"], ["both", "DT"], ["simplifies", "NNS"], ["implementations", "NNS"], ["and", "CC"], ["leads", "VBZ"], ["to", "TO"], ["simpler", "VB"], ["client", "NN"], ["code", "NN"], [".", "."], ["Okay", "NNP"], [",", ","], ["X7", "NNP"], ["is", "VBZ"], ["a", "DT"], ["new", "JJ"], ["value", "NN"], [".", "."], ["A8", "NNP"], [",", ","], ["we", "PRP"], ["found", "VBD"], ["A", "NNP"], ["in", "IN"], ["there", "EX"], ["and", "CC"], ["update", "VB"], ["the", "DT"], ["value", "NN"], ["8", "CD"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["M9", "NNP"], ["and", "CC"], ["P10", "NNP"], [",", ","], ["L11", "NNP"], ["are", "VBP"], ["all", "DT"], ["not", "RB"], ["there", "EX"], ["and", "CC"], ["they", "PRP"], ["go", "VBP"], ["at", "IN"], ["the", "DT"], ["beginning", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["the", "DT"], ["last", "JJ"], ["one", "CD"], ["changes", "VBZ"], ["the", "DT"], ["value", "NN"], ["at", "IN"], ["E", "NNP"], [",", ","], ["again", "RB"], [",", ","], ["12", "CD"], [".", "."], ["So", "RB"], ["implementing", "VBG"], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], ["simple", "JJ"], ["example", "NN"], ["of", "IN"], ["linked", "VBN"], ["list", "NN"], ["processing", "NN"], [",", ","], ["a", "DT"], ["slight", "JJ"], ["modification", "NN"], ["of", "IN"], ["our", "PRP$"], ["stack", "NN"], ["and", "CC"], ["queue", "JJ"], ["code", "NN"], [".", "."], ["And", "CC"], ["we", "PRP"], ["will", "MD"], ["skip", "VB"], ["the", "DT"], ["details", "NNS"], [".", "."], ["And", "CC"], ["just", "RB"], ["note", "VB"], ["that", "IN"], ["what", "WP"], ["'s", "VBZ"], ["the", "DT"], ["cost", "NN"], ["of", "IN"], ["implementing", "VBG"], ["this", "DT"], [",", ","], ["well", "RB"], ["if", "IN"], ["there", "EX"], ["'s", "VBZ"], ["been", "VBN"], [",", ","], ["if", "IN"], ["there", "EX"], ["are", "VBP"], ["N", "NNP"], ["things", "NNS"], ["on", "IN"], ["the", "DT"], ["symbol", "NN"], ["table", "NN"], [",", ","], ["you", "PRP"], ["have", "VBP"], ["to", "TO"], ["for", "IN"], ["both", "DT"], ["search", "NN"], ["and", "CC"], ["insert", "NN"], [",", ","], ["look", "VB"], ["all", "PDT"], ["the", "DT"], ["way", "NN"], ["through", "IN"], [".", "."], ["And", "CC"], ["if", "IN"], ["everything", "NN"], ["'s", "POS"], ["random", "NN"], [",", ","], ["then", "RB"], ["on", "IN"], ["average", "NN"], ["you", "PRP"], ["only", "RB"], ["have", "VBP"], ["to", "TO"], ["look", "VB"], ["halfway", "RB"], ["through", "IN"], ["for", "IN"], ["a", "DT"], ["successful", "JJ"], ["search", "NN"], [".", "."], ["Well", "UH"], [",", ","], ["you", "PRP"], ["still", "RB"], ["have", "VBP"], ["to", "TO"], ["insert", "VB"], [".", "."], ["Another", "DT"], ["issue", "NN"], ["is", "VBZ"], [",", ","], ["for", "IN"], ["many", "JJ"], ["clients", "NNS"], [",", ","], ["if", "IN"], ["the", "DT"], ["keys", "NNS"], ["are", "VBP"], ["ordered", "VBN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["nice", "JJ"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["iterate", "VB"], ["through", "IN"], ["the", "DT"], ["symbol", "NN"], ["table", "NN"], ["and", "CC"], ["order", "NN"], [".", "."], ["And", "CC"], ["this", "DT"], ["one", "CD"], [",", ","], ["by", "IN"], ["definition", "NN"], [",", ","], ["does", "VBZ"], ["n't", "RB"], ["provide", "VB"], ["that", "DT"], [".", "."], ["And", "CC"], ["this", "DT"], ["one", "NN"], ["just", "RB"], ["uses", "VBZ"], ["equals", "NNS"], [",", ","], ["so", "IN"], ["the", "DT"], ["keys", "NNS"], ["do", "VBP"], ["n't", "RB"], ["have", "VB"], ["to", "TO"], ["be", "VB"], ["comparable", "JJ"], ["for", "IN"], ["this", "DT"], [".", "."], ["It", "PRP"], ["just", "RB"], ["uses", "VBZ"], ["equals", "NNS"], [".", "."], ["So", "RB"], ["our", "PRP$"], ["challenge", "NN"], ["is", "VBZ"], ["to", "TO"], ["look", "VB"], ["for", "IN"], ["methods", "NNS"], ["that", "WDT"], ["give", "VBP"], ["us", "PRP"], ["more", "RBR"], ["efficient", "JJ"], ["implementations", "NNS"], ["for", "IN"], ["these", "DT"], ["search", "NN"], ["and", "CC"], ["insert", "JJ"], ["operations", "NNS"], [".", "."], ["And", "CC"], ["we", "PRP"], ["'ve", "VBP"], ["already", "RB"], ["looked", "VBN"], ["at", "IN"], ["an", "DT"], ["algorithm", "NN"], ["that", "WDT"], ["can", "MD"], ["do", "VB"], ["this", "DT"], [",", ","], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["binary", "JJ"], ["search", "NN"], [".", "."], ["So", "RB"], [",", ","], ["for", "IN"], ["binary", "JJ"], ["search", "NN"], [",", ","], ["[", "NNP"], ["COUGH", "NNP"], ["]", "NNP"], ["what", "WP"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["use", "VB"], ["an", "DT"], ["ordered", "JJ"], ["array", "NN"], ["and", "CC"], ["actually", "RB"], ["use", "VB"], ["parallel", "JJ"], ["arrays", "NNS"], [",", ","], ["one", "CD"], ["for", "IN"], ["the", "DT"], ["keys", "NNS"], ["and", "CC"], ["one", "CD"], ["for", "IN"], ["the", "DT"], ["values", "NNS"], [".", "."], ["And", "CC"], ["the", "DT"], ["idea", "NN"], ["is", "VBZ"], ["to", "TO"], ["keep", "VB"], ["the", "DT"], ["array", "NN"], ["of", "IN"], ["keys", "NNS"], ["in", "IN"], ["sorted", "JJ"], ["order", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["find", "VB"], ["the", "DT"], ["index", "NN"], ["associated", "VBD"], ["with", "IN"], ["the", "DT"], ["key", "NN"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["searching", "VBG"], ["for", "IN"], ["using", "VBG"], ["binary", "JJ"], ["search", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["use", "VB"], ["that", "DT"], ["index", "NN"], ["to", "TO"], ["get", "VB"], ["the", "DT"], ["value", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["associated", "VBN"], ["with", "IN"], ["that", "DT"], ["key", "NN"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["stored", "VBN"], ["in", "IN"], ["a", "DT"], ["parallel", "JJ"], ["array", "NN"], [".", "."], ["And", "CC"], ["we", "PRP"], ["looked", "VBD"], ["at", "IN"], ["the", "DT"], ["binary", "JJ"], ["search", "NN"], ["algorithm", "NN"], ["earlier", "RBR"], ["in", "IN"], ["the", "DT"], ["course", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], [",", ","], ["for", "IN"], ["example", "NN"], [",", ","], ["if", "IN"], ["these", "DT"], ["are", "VBP"], ["the", "DT"], ["keys", "NNS"], ["in", "IN"], ["our", "PRP$"], ["symbol", "NN"], ["table", "NN"], ["and", "CC"], ["we", "PRP"], ["'re", "VBP"], ["doing", "VBG"], ["a", "DT"], ["search", "NN"], ["for", "IN"], ["the", "DT"], ["index", "NN"], ["where", "WRB"], ["P", "NNP"], ["is", "VBZ"], ["stored", "VBN"], [",", ","], ["we", "PRP"], ["look", "VBP"], ["at", "IN"], ["the", "DT"], ["middle", "NN"], [".", "."], ["P", "NNP"], ["is", "VBZ"], ["bigger", "JJR"], ["than", "IN"], ["L", "NNP"], [",", ","], ["so", "IN"], ["we", "PRP"], ["look", "VBP"], ["to", "TO"], ["the", "DT"], ["right", "NN"], [".", "."], ["Look", "VB"], ["in", "IN"], ["the", "DT"], ["middle", "NN"], ["of", "IN"], ["the", "DT"], ["right", "JJ"], ["half", "NN"], [".", "."], ["P", "NNP"], ["is", "VBZ"], ["less", "JJR"], ["than", "IN"], ["R", "NNP"], [",", ","], ["so", "IN"], ["we", "PRP"], ["look", "VBP"], ["to", "TO"], ["the", "DT"], ["left", "NN"], [".", "."], ["Continue", "NNP"], ["until", "IN"], ["we", "PRP"], ["find", "VBP"], ["P.", "JJ"], ["When", "WRB"], ["we", "PRP"], ["find", "VBP"], ["P", "JJ"], [",", ","], ["we", "PRP"], ["return", "VBP"], ["its", "PRP$"], ["index", "NN"], ["and", "CC"], ["we", "PRP"], ["use", "VBP"], ["that", "DT"], ["index", "NN"], ["to", "TO"], ["get", "VB"], ["us", "PRP"], ["the", "DT"], ["value", "NN"], ["that", "IN"], ["we", "PRP"], ["need", "VBP"], [".", "."], ["Or", "CC"], ["another", "DT"], ["way", "NN"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["this", "DT"], ["is", "VBZ"], ["it", "PRP"], ["implements", "VBZ"], ["the", "DT"], ["function", "NN"], [",", ","], ["how", "WRB"], ["many", "JJ"], ["keys", "NNS"], ["are", "VBP"], ["there", "RB"], ["that", "IN"], ["are", "VBP"], ["less", "JJR"], ["than", "IN"], ["K.", "NNP"], ["So", "NNP"], [",", ","], ["for", "IN"], ["example", "NN"], [",", ","], ["for", "IN"], ["Q", "NNP"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["an", "DT"], ["unsuccessful", "JJ"], ["search", "NN"], [".", "."], ["You", "PRP"], ["can", "MD"], ["figure", "VB"], ["out", "RP"], ["from", "IN"], ["the", "DT"], ["last", "JJ"], ["index", "NN"], ["when", "WRB"], ["you", "PRP"], ["do", "VBP"], ["n't", "RB"], ["find", "VB"], ["your", "PRP$"], ["element", "NN"], ["that", "IN"], ["you", "PRP"], ["'re", "VBP"], ["seeking", "VBG"], [".", "."], ["You", "PRP"], ["can", "MD"], ["figure", "VB"], ["out", "RP"], ["the", "DT"], ["return", "NN"], ["value", "NN"], ["which", "WDT"], ["is", "VBZ"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["keys", "NNS"], ["that", "WDT"], ["are", "VBP"], ["less", "JJR"], ["than", "IN"], ["it", "PRP"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["trace", "NN"], ["of", "IN"], ["implementing", "VBG"], ["binary", "JJ"], ["search", "NN"], ["to", "TO"], ["find", "VB"], ["the", "DT"], ["rank", "NN"], ["of", "IN"], ["a", "DT"], ["key", "NN"], ["in", "IN"], ["ordered", "JJ"], ["array", "NN"], [".", "."], ["And", "CC"], ["again", "RB"], [",", ","], ["for", "IN"], ["successful", "JJ"], [",", ","], ["you", "PRP"], ["can", "MD"], ["use", "VB"], ["that", "DT"], ["rank", "NN"], ["to", "TO"], ["return", "VB"], ["the", "DT"], ["value", "NN"], [".", "."], ["And", "CC"], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["unsuccessful", "JJ"], [",", ","], ["you", "PRP"], ["can", "MD"], ["use", "VB"], ["that", "DT"], ["rank", "NN"], ["to", "TO"], ["figure", "VB"], ["out", "RP"], ["where", "WRB"], ["to", "TO"], ["insert", "VB"], ["the", "DT"], ["new", "JJ"], ["key", "NN"], [".", "."], ["[", "CC"], ["COUGH", "NNP"], ["]", "NNP"], ["All", "NNP"], ["right", "RB"], [",", ","], ["so", "IN"], ["this", "DT"], ["is", "VBZ"], ["the", "DT"], ["code", "NN"], ["for", "IN"], ["the", "DT"], ["get", "NN"], ["operation", "NN"], ["and", "CC"], ["this", "DT"], ["rank", "NN"], ["which", "WDT"], ["is", "VBZ"], ["binary", "JJ"], ["search", "NN"], [".", "."], ["So", "IN"], ["this", "DT"], ["is", "VBZ"], ["precisely", "RB"], ["the", "DT"], ["binary", "JJ"], ["search", "NN"], ["code", "NN"], ["that", "IN"], ["we", "PRP"], ["looked", "VBD"], ["at", "IN"], ["before", "RB"], [".", "."], ["So", "NNP"], ["let", "NN"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["the", "DT"], ["gap", "NN"], [".", "."], ["So", "RB"], ["if", "IN"], ["the", "DT"], ["whole", "NN"], ["table", "NN"], ["is", "VBZ"], ["empty", "JJ"], [",", ","], ["return", "JJ"], ["null", "NN"], [".", "."], ["Otherwise", "RB"], [",", ","], ["we", "PRP"], ["call", "VBP"], ["rank", "JJ"], ["and", "CC"], ["that", "DT"], ["gives", "VBZ"], ["us", "PRP"], ["a", "DT"], ["number", "NN"], ["of", "IN"], ["keys", "NNS"], ["less", "RBR"], ["than", "IN"], ["the", "DT"], ["current", "JJ"], ["key", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], [",", ","], ["that", "DT"], ["is", "VBZ"], ["where", "WRB"], ["we", "PRP"], ["look", "VBP"], ["to", "TO"], ["check", "VB"], ["to", "TO"], ["see", "VB"], ["if", "IN"], ["that", "DT"], ["key", "NN"], ["is", "VBZ"], ["there", "RB"], [".", "."], ["If", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["there", "RB"], [",", ","], ["then", "RB"], ["we", "PRP"], ["return", "VBP"], ["the", "DT"], ["value", "NN"], ["with", "IN"], ["the", "DT"], ["same", "JJ"], ["index", "NN"], ["and", "CC"], ["parallel", "JJ"], ["array", "NN"], [".", "."], ["If", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["there", "RB"], [",", ","], ["then", "RB"], ["we", "PRP"], ["return", "VBP"], ["null", "JJ"], [",", ","], ["saying", "VBG"], ["the", "DT"], ["key", "NN"], ["'s", "POS"], ["not", "RB"], ["there", "RB"], [".", "."], ["Now", "RB"], [",", ","], ["the", "DT"], ["problem", "NN"], ["with", "IN"], ["binary", "JJ"], ["search", "NN"], ["is", "VBZ"], [",", ","], ["well", "RB"], [",", ","], ["not", "RB"], ["necessarily", "RB"], ["the", "DT"], ["problem", "NN"], [",", ","], ["but", "CC"], ["the", "DT"], ["situation", "NN"], ["is", "VBZ"], ["that", "IN"], ["when", "WRB"], ["it", "PRP"], ["'s", "VBZ"], ["time", "NN"], ["to", "TO"], ["insert", "VB"], ["a", "DT"], ["new", "JJ"], ["element", "NN"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["move", "VB"], ["everything", "NN"], ["larger", "JJR"], ["over", "IN"], ["one", "CD"], ["position", "NN"], [",", ","], ["just", "RB"], ["like", "IN"], ["an", "DT"], ["insertion", "NN"], ["sort", "NN"], [".", "."], ["So", "RB"], ["if", "IN"], ["the", "DT"], ["table", "NN"], ["has", "VBZ"], ["A", "DT"], [",", ","], ["E", "NNP"], [",", ","], ["R", "NNP"], [",", ","], ["and", "CC"], ["S", "NNP"], [",", ","], ["and", "CC"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["insert", "VB"], ["the", "DT"], ["value", "NN"], ["C", "NNP"], [",", ","], ["then", "RB"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["move", "VB"], ["the", "DT"], ["E", "NNP"], [",", ","], ["R", "NNP"], [",", ","], ["and", "CC"], ["S", "NNP"], ["over", "IN"], ["one", "CD"], ["position", "NN"], ["to", "TO"], ["put", "VB"], ["the", "DT"], ["C.", "NNP"], ["And", "CC"], ["then", "RB"], ["put", "VBD"], ["the", "DT"], ["value", "NN"], ["associated", "VBN"], ["with", "IN"], ["C.", "NNP"], ["You", "PRP"], ["'ll", "MD"], ["have", "VB"], ["to", "TO"], ["do", "VB"], ["the", "DT"], ["same", "JJ"], ["thing", "NN"], ["in", "IN"], ["the", "DT"], ["vals", "NNS"], ["array", "NN"], [".", "."], ["Move", "NNP"], ["all", "PDT"], ["the", "DT"], ["values", "NNS"], ["associated", "VBN"], ["with", "IN"], ["those", "DT"], ["keys", "NNS"], ["over", "IN"], ["in", "IN"], ["one", "CD"], ["position", "NN"], ["and", "CC"], ["put", "VBD"], ["the", "DT"], ["associated", "VBN"], ["value", "NN"], ["in", "IN"], [".", "."], ["So", "IN"], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], ["trace", "NN"], ["of", "IN"], ["what", "WP"], ["would", "MD"], ["happen", "VB"], ["for", "IN"], ["our", "PRP$"], ["trace", "NN"], [".", "."], ["And", "CC"], ["again", "RB"], [",", ","], ["every", "DT"], ["insertion", "NN"], ["involves", "VBZ"], ["making", "VBG"], ["a", "DT"], ["new", "JJ"], ["position", "NN"], ["by", "IN"], ["moving", "VBG"], ["all", "PDT"], ["the", "DT"], ["larger", "JJR"], ["keys", "NNS"], ["over", "IN"], ["one", "CD"], ["position", "NN"], [".", "."], ["Do", "VBP"], ["the", "DT"], ["same", "JJ"], ["thing", "NN"], ["in", "IN"], ["the", "DT"], ["vals", "NNS"], ["array", "NN"], [".", "."], ["[", "CC"], ["COUGH", "NNP"], ["]", "NNP"], ["And", "CC"], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["changing", "VBG"], ["the", "DT"], ["value", "NN"], ["associated", "VBN"], ["with", "IN"], ["a", "DT"], ["key", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["already", "RB"], ["there", "RB"], [",", ","], ["then", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["just", "RB"], ["a", "DT"], ["matter", "NN"], ["of", "IN"], ["finding", "VBG"], ["where", "WRB"], ["the", "DT"], ["key", "NN"], ["is", "VBZ"], ["and", "CC"], ["changing", "VBG"], ["the", "DT"], ["value", "NN"], ["at", "IN"], ["that", "DT"], ["index", "NN"], [".", "."], ["So", "RB"], ["from", "IN"], ["that", "DT"], ["trace", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["pretty", "JJ"], ["easy", "JJ"], ["to", "TO"], ["see", "VB"], ["what", "WP"], ["'s", "VBZ"], ["involved", "VBN"], ["for", "IN"], ["the", "DT"], ["code", "NN"], [".", "."], ["And", "CC"], ["we", "PRP"], ["'ll", "MD"], ["skip", "VB"], ["that", "IN"], ["code", "NN"], ["and", "CC"], ["just", "RB"], ["take", "VB"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["the", "DT"], ["comparison", "NN"], ["between", "IN"], ["this", "DT"], ["elementary", "JJ"], ["implementation", "NN"], ["for", "IN"], ["symbol", "NN"], ["tables", "NNS"], ["with", "IN"], ["the", "DT"], ["sequential", "JJ"], ["search", "NN"], ["in", "IN"], ["an", "DT"], ["unordered", "JJ"], ["list", "NN"], [".", "."], ["So", "RB"], [",", ","], ["one", "CD"], ["thing", "NN"], ["is", "VBZ"], ["we", "PRP"], ["'re", "VBP"], ["using", "VBG"], ["a", "DT"], ["different", "JJ"], ["key", "JJ"], ["interface", "NN"], [".", "."], ["We", "PRP"], ["'re", "VBP"], ["taking", "VBG"], ["advantage", "NN"], ["of", "IN"], ["the", "DT"], ["fact", "NN"], ["that", "IN"], ["the", "DT"], ["keys", "NNS"], ["are", "VBP"], ["comparable", "JJ"], ["to", "TO"], ["give", "VB"], ["us", "PRP"], ["an", "DT"], ["efficient", "JJ"], ["search", "NN"], [".", "."], ["We", "PRP"], ["can", "MD"], ["do", "VB"], ["search", "VB"], ["in", "IN"], ["worst", "JJ"], ["case", "NN"], [",", ","], ["in", "IN"], ["average", "JJ"], ["case", "NN"], [",", ","], ["in", "IN"], ["time", "NN"], ["proportional", "JJ"], ["to", "TO"], ["log", "VB"], ["N.", "NNP"], ["That", "NNP"], ["'s", "POS"], ["what", "WP"], ["binary", "JJ"], ["search", "NN"], ["provides", "VBZ"], ["for", "IN"], ["us", "PRP"], [".", "."], ["And", "CC"], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], ["fine", "JJ"], ["data", "NN"], ["structure", "NN"], ["for", "IN"], ["symbol", "NN"], ["tables", "NNS"], ["where", "WRB"], ["there", "EX"], ["is", "VBZ"], [",", ","], ["[", "JJ"], ["COUGH", "NNP"], ["]", "NN"], ["that", "WDT"], ["are", "VBP"], ["relatively", "RB"], ["static", "JJ"], [",", ","], ["where", "WRB"], ["the", "DT"], ["values", "NNS"], ["do", "VBP"], ["n't", "RB"], ["change", "VB"], ["much", "RB"], [",", ","], ["and", "CC"], ["most", "JJS"], ["of", "IN"], ["the", "DT"], ["operations", "NNS"], ["are", "VBP"], ["search", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["hard", "JJ"], ["to", "TO"], ["beat", "VB"], ["binary", "JJ"], ["search", "NN"], [".", "."], ["On", "IN"], ["the", "DT"], ["other", "JJ"], ["hand", "NN"], [",", ","], ["in", "IN"], ["a", "DT"], ["dynamic", "JJ"], ["situation", "NN"], ["where", "WRB"], ["there", "EX"], ["are", "VBP"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["inserts", "NNS"], [",", ","], ["this", "DT"], ["method", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["problematic", "JJ"], [",", ","], ["because", "IN"], ["the", "DT"], ["cost", "NN"], ["of", "IN"], ["its", "PRP$"], ["insert", "NN"], ["is", "VBZ"], ["linear", "JJ"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["proportional", "JJ"], ["to", "TO"], ["N", "NNP"], ["over", "IN"], ["2", "CD"], [".", "."], ["If", "IN"], ["you", "PRP"], ["have", "VBP"], ["a", "DT"], ["huge", "JJ"], ["number", "NN"], ["of", "IN"], ["operations", "NNS"], ["and", "CC"], ["every", "DT"], ["one", "CD"], ["of", "IN"], ["them", "PRP"], ["is", "VBZ"], ["proportional", "JJ"], ["to", "TO"], ["the", "DT"], ["symbol", "NN"], ["table", "JJ"], ["size", "NN"], [",", ","], ["then", "RB"], ["you", "PRP"], ["'re", "VBP"], ["just", "RB"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["support", "VB"], ["huge", "JJ"], ["numbers", "NNS"], ["of", "IN"], ["keys", "NNS"], [".", "."], ["What", "WP"], ["we", "PRP"], ["want", "VBP"], ["is", "VBZ"], ["sufficient", "JJ"], ["implementations", "NNS"], ["of", "IN"], ["both", "DT"], ["search", "NN"], ["and", "CC"], ["insert", "NN"], [".", "."], ["Those", "DT"], ["are", "VBP"], ["elementary", "JJ"], ["implementations", "NNS"], [".", "."], ["Next", "JJ"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["more", "RBR"], ["advanced", "JJ"], ["ones", "NNS"], [".", "."]], "title": "elementary implementations", "text": "Next we'll look at some elementary symbol table implementations. These are so simple that we won't go in too much detail, but still it's worthwhile to take a look at them to set the stage for the more advanced implementations we'll consider next. Well, one thing we could do is maintain a linked list. We could keep it in order or keep it unordered. This version keeps it unordered. So we're going to have nodes in the linked list that have key value pairs. They have every key in the symbol table and a value associated with that key. For search, we have to, since it's unordered, scan through the whole list to find a match, a key that's there. For insert, I would also have to scan through all keys to find the place to update a value, if it's a value that's already there. And if there's no match, we could add it to the front. So here's our simple client for traces, so if we associate S with zero, we just had it. That's our one node linked list that's got that information. Associate E with 1, that's not there, so we just add it to the beginning of list A with 2 R, with 3C, with 4 H, with 5 and so forth. So now when we associate E with 6, we have to search through the list to see if there's an E. And in this case, there is. And then we just update that value. That's the associative array abstraction. It's possible to implement symbol tables that allow multiple values with the same key and so forth. And that leads to different types of clients, different types of implementations. We're going to stick to this associative array abstraction and no duplicate keys in the symbol table, because it both simplifies implementations and leads to simpler client code. Okay, X7 is a new value. A8, we found A in there and update the value 8. And then, M9 and P10, L11 are all not there and they go at the beginning. And then the last one changes the value at E, again, 12. So implementing this is a simple example of linked list processing, a slight modification of our stack and queue code. And we will skip the details. And just note that what's the cost of implementing this, well if there's been, if there are N things on the symbol table, you have to for both search and insert, look all the way through. And if everything's random, then on average you only have to look halfway through for a successful search. Well, you still have to insert. Another issue is, for many clients, if the keys are ordered, it's nice to be able to iterate through the symbol table and order. And this one, by definition, doesn't provide that. And this one just uses equals, so the keys don't have to be comparable for this. It just uses equals. So our challenge is to look for methods that give us more efficient implementations for these search and insert operations. And we've already looked at an algorithm that can do this, and that's binary search. So, for binary search, [COUGH] what we're going to do is use an ordered array and actually use parallel arrays, one for the keys and one for the values. And the idea is to keep the array of keys in sorted order. And then find the index associated with the key that we're searching for using binary search. And then use that index to get the value that's associated with that key, that's stored in a parallel array. And we looked at the binary search algorithm earlier in the course. And so, for example, if these are the keys in our symbol table and we're doing a search for the index where P is stored, we look at the middle. P is bigger than L, so we look to the right. Look in the middle of the right half. P is less than R, so we look to the left. Continue until we find P. When we find P, we return its index and we use that index to get us the value that we need. Or another way to look at this is it implements the function, how many keys are there that are less than K. So, for example, for Q, that's an unsuccessful search. You can figure out from the last index when you don't find your element that you're seeking. You can figure out the return value which is the number of keys that are less than it. So that's a trace of implementing binary search to find the rank of a key in ordered array. And again, for successful, you can use that rank to return the value. And if it's unsuccessful, you can use that rank to figure out where to insert the new key. [COUGH] All right, so this is the code for the get operation and this rank which is binary search. So this is precisely the binary search code that we looked at before. So let's look at the gap. So if the whole table is empty, return null. Otherwise, we call rank and that gives us a number of keys less than the current key. And so, that is where we look to check to see if that key is there. If it's there, then we return the value with the same index and parallel array. If it's not there, then we return null, saying the key's not there. Now, the problem with binary search is, well, not necessarily the problem, but the situation is that when it's time to insert a new element, we have to move everything larger over one position, just like an insertion sort. So if the table has A, E, R, and S, and we have to insert the value C, then we have to move the E, R, and S over one position to put the C. And then put the value associated with C. You'll have to do the same thing in the vals array. Move all the values associated with those keys over in one position and put the associated value in. So this is a trace of what would happen for our trace. And again, every insertion involves making a new position by moving all the larger keys over one position. Do the same thing in the vals array. [COUGH] And if it's changing the value associated with a key that's already there, then it's just a matter of finding where the key is and changing the value at that index. So from that trace, it's pretty easy to see what's involved for the code. And we'll skip that code and just take a look at the comparison between this elementary implementation for symbol tables with the sequential search in an unordered list. So, one thing is we're using a different key interface. We're taking advantage of the fact that the keys are comparable to give us an efficient search. We can do search in worst case, in average case, in time proportional to log N. That's what binary search provides for us. And this is a fine data structure for symbol tables where there is, [COUGH] that are relatively static, where the values don't change much, and most of the operations are search. It's hard to beat binary search. On the other hand, in a dynamic situation where there are a lot of inserts, this method is going to be problematic, because the cost of its insert is linear. It's proportional to N over 2. If you have a huge number of operations and every one of them is proportional to the symbol table size, then you're just not going to be able to support huge numbers of keys. What we want is sufficient implementations of both search and insert. Those are elementary implementations. Next, we'll look at more advanced ones. ", "video_ID": 39, "course_id": 3}
{"category": ["elementary symbol tables"], "tagged": [["When", "WRB"], ["keys", "NNS"], ["are", "VBP"], ["comparable", "JJ"], ["and", "CC"], ["we", "PRP"], ["can", "MD"], ["put", "VB"], ["them", "PRP"], ["in", "IN"], ["order", "NN"], [".", "."], ["We", "PRP"], ["saw", "VBD"], ["that", "IN"], ["we", "PRP"], ["can", "MD"], ["use", "VB"], ["binary", "JJ"], ["search", "NN"], ["to", "TO"], ["get", "VB"], ["an", "DT"], ["efficient", "JJ"], ["symbol", "NN"], ["table", "JJ"], ["implementation", "NN"], [".", "."], ["But", "CC"], ["we", "PRP"], ["can", "MD"], ["also", "RB"], ["provide", "VB"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["convenient", "JJ"], ["functionality", "NN"], ["for", "IN"], ["the", "DT"], ["client", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["what", "WP"], ["we", "PRP"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["next", "JJ"], [".", "."], ["So", "RB"], ["this", "DT"], ["is", "VBZ"], ["just", "RB"], ["an", "DT"], ["example", "NN"], ["of", "IN"], ["an", "DT"], ["application", "NN"], ["that", "WDT"], ["might", "MD"], ["try", "VB"], ["to", "TO"], ["associate", "VB"], ["keys", "NNS"], ["with", "IN"], ["values", "NNS"], [".", "."], ["An", "DT"], ["illustration", "NN"], ["of", "IN"], ["all", "PDT"], ["the", "DT"], ["different", "JJ"], ["operations", "NNS"], ["that", "IN"], ["a", "DT"], ["client", "NN"], ["might", "MD"], ["want", "VB"], [".", "."], ["So", "IN"], ["we", "PRP"], ["already", "RB"], ["looked", "VBD"], ["at", "IN"], ["the", "DT"], ["Get", "NNP"], ["operation", "NN"], ["so", "IN"], ["we", "PRP"], ["might", "MD"], ["want", "VB"], ["to", "TO"], ["know", "VB"], ["what", "WP"], ["city", "NN"], ["is", "VBZ"], ["associated", "VBN"], ["with", "IN"], ["the", "DT"], ["event", "NN"], ["that", "WDT"], ["happened", "VBD"], ["at", "IN"], ["time", "NN"], ["nine", "CD"], ["o'clock", "NN"], [",", ","], ["thirteenth", "NN"], ["and", "CC"], ["so", "RB"], ["that", "RB"], ["should", "MD"], ["return", "VB"], ["that", "IN"], ["value", "NN"], [".", "."], ["But", "CC"], ["there", "EX"], ["'s", "VBZ"], ["plenty", "NN"], ["of", "IN"], ["other", "JJ"], ["things", "NNS"], ["that", "IN"], ["we", "PRP"], ["might", "MD"], ["want", "VB"], [".", "."], ["Like", "IN"], [",", ","], ["for", "IN"], ["example", "NN"], [",", ","], ["what", "WP"], ["'s", "VBZ"], ["the", "DT"], ["earliest", "JJS"], ["time", "NN"], ["?", "."], ["That", "DT"], ["'s", "VBZ"], ["the", "DT"], ["min", "NN"], ["or", "CC"], ["what", "WP"], ["'s", "VBZ"], ["the", "DT"], ["latest", "JJS"], ["time", "NN"], ["?", "."], ["That", "DT"], ["'s", "VBZ"], ["the", "DT"], ["max", "NN"], [".", "."], ["What", "WP"], ["about", "IN"], [",", ","], ["being", "VBG"], ["able", "JJ"], ["to", "TO"], ["iterate", "VB"], ["between", "IN"], [",", ","], ["among", "IN"], ["all", "PDT"], ["the", "DT"], ["keys", "NNS"], ["between", "IN"], ["two", "CD"], ["given", "VBN"], ["times", "NNS"], ["?", "."], ["That", "DT"], [",", ","], ["certainly", "RB"], ["is", "VBZ"], ["convenient", "JJ"], [".", "."], ["Then", "RB"], ["there", "EX"], ["'s", "VBZ"], [",", ","], ["what", "WP"], ["'s", "VBZ"], ["the", "DT"], ["seventh", "JJ"], ["largest", "JJS"], ["times", "NNS"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["select", "VBP"], ["that", "IN"], ["like", "IN"], ["a", "DT"], ["median", "JJ"], [",", ","], ["it", "PRP"], ["generalizes", "VBZ"], ["min", "NN"], ["or", "CC"], ["max", "NN"], ["?", "."], ["Which", "NNP"], ["key", "NN"], ["is", "VBZ"], ["that", "IN"], [",", ","], ["happens", "VBZ"], ["second", "JJ"], ["or", "CC"], ["seventh", "JJ"], ["?", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], [",", ","], ["order", "NN"], ["statistics", "NNS"], [",", ","], ["a", "DT"], ["dynamic", "JJ"], ["thing", "NN"], ["what", "WP"], ["happened", "VBD"], [",", ","], ["whats", "VBZ"], ["the", "DT"], ["closest", "JJS"], ["time", "NN"], [",", ","], ["thing", "NN"], ["that", "WDT"], ["happened", "VBD"], ["just", "RB"], ["before", "RB"], [",", ","], ["five", "CD"], ["past", "JJ"], ["nine", "CD"], [".", "."], ["Certainly", "RB"], [",", ","], ["plenty", "NN"], ["of", "IN"], ["clients", "NNS"], ["might", "MD"], ["want", "VB"], [",", ","], ["want", "VBP"], ["that", "DT"], [".", "."], ["So", "RB"], ["this", "DT"], ["one", "NN"], ["is", "VBZ"], [",", ","], ["I", "PRP"], ["'ve", "VBP"], ["only", "RB"], ["got", "VBD"], ["ten", "JJ"], ["tickets", "NNS"], ["to", "TO"], ["sell", "VB"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["cut", "NN"], ["off", "RP"], ["point", "NN"], ["for", "IN"], [",", ","], ["selling", "VBG"], [",", ","], ["seven", "CD"], ["tickets", "NNS"], ["that", "WDT"], ["'s", "VBZ"], ["the", "DT"], ["cut", "NN"], ["off", "RP"], ["point", "NN"], [".", "."], ["For", "IN"], [",", ","], ["anybody", "NN"], ["after", "IN"], ["that", "DT"], ["time", "NN"], ["does", "VBZ"], ["n't", "RB"], ["get", "VB"], ["a", "DT"], ["ticket", "NN"], [".", "."], ["And", "CC"], [",", ","], ["and", "CC"], ["this", "DT"], ["one", "NN"], ["might", "MD"], ["be", "VB"], [",", ","], ["if", "IN"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["time", "NN"], ["cut", "VBN"], ["off", "RP"], [".", "."], ["I", "PRP"], ["'m", "VBP"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], ["sell", "VB"], ["tickets", "NNS"], ["to", "TO"], ["anyone", "NN"], ["that", "WDT"], ["came", "VBD"], ["after", "IN"], ["that", "DT"], ["time", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["the", "DT"], ["corresponding", "VBG"], ["one", "CD"], ["is", "VBZ"], [",", ","], ["what", "WP"], ["'s", "VBZ"], ["the", "DT"], ["first", "JJ"], ["thing", "NN"], ["that", "WDT"], ["happened", "VBD"], ["after", "IN"], ["that", "DT"], ["time", "NN"], ["?", "."], ["That", "DT"], ["'s", "VBZ"], ["call", "NN"], ["in", "IN"], ["to", "TO"], ["the", "DT"], ["radio", "NN"], ["show", "NN"], [",", ","], ["I", "PRP"], ["'m", "VBP"], ["going", "VBG"], ["to", "TO"], ["take", "VB"], ["that", "DT"], ["caller", "NN"], [",", ","], ["the", "DT"], ["first", "JJ"], ["call", "NN"], ["that", "WDT"], ["comes", "VBZ"], ["at", "IN"], ["nine:30", "JJ"], [".", "."], ["And", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["So", "RB"], ["then", "RB"], ["see", "VB"], ["how", "WRB"], ["many", "JJ"], ["things", "NNS"], ["happen", "VBP"], ["between", "IN"], ["nine:15", "NNS"], ["and", "CC"], ["nine:25", "NN"], [".", "."], ["And", "CC"], ["how", "WRB"], ["many", "JJ"], ["calls", "NNS"], ["were", "VBD"], ["there", "EX"], ["before", "IN"], ["nine:10:25", "NNS"], ["?", "."], ["So", "IN"], ["you", "PRP"], ["can", "MD"], ["see", "VB"], ["that", "IN"], ["there", "EX"], ["'s", "VBZ"], [",", ","], ["all", "DT"], ["of", "IN"], ["these", "DT"], ["operations", "NNS"], ["are", "VBP"], ["quite", "RB"], ["natural", "JJ"], ["when", "WRB"], ["we", "PRP"], ["have", "VBP"], ["the", "DT"], [",", ","], ["table", "NN"], ["in", "IN"], ["sorted", "JJ"], ["order", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["what", "WP"], ["we", "PRP"], ["have", "VBP"], ["for", "IN"], ["our", "PRP$"], ["binary", "JJ"], ["search", "NN"], ["implementation", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["can", "MD"], [",", ","], ["implement", "VB"], ["these", "DT"], [",", ","], ["efficiently", "RB"], ["and", "CC"], ["they", "PRP"], ["are", "VBP"], [",", ","], ["convenient", "JJ"], ["and", "CC"], ["useful", "JJ"], ["for", "IN"], ["the", "DT"], ["clients", "NNS"], [".", "."], ["So", "NNP"], ["typically", "RB"], ["for", "IN"], ["ordered", "VBN"], ["simple", "JJ"], ["tables", "NNS"], [",", ","], ["when", "WRB"], ["keys", "NNS"], ["are", "VBP"], ["comparable", "JJ"], ["will", "MD"], ["provide", "VB"], ["a", "DT"], ["much", "JJ"], ["wider", "JJR"], ["interface", "NN"], ["it", "PRP"], ["'s", "VBZ"], ["very", "RB"], ["useful", "JJ"], ["for", "IN"], ["many", "JJ"], ["clients", "NNS"], [".", "."], ["So", "IN"], ["we", "PRP"], ["say", "VBP"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["dealing", "VBG"], ["with", "IN"], ["keys", "NNS"], ["that", "WDT"], ["are", "VBP"], ["comparable", "JJ"], ["by", "IN"], ["simply", "RB"], ["adding", "VBG"], ["this", "DT"], ["extents", "NNS"], ["comparable", "JJ"], ["key", "NN"], ["to", "TO"], ["our", "PRP$"], ["declaration", "NN"], [".", "."], ["Same", "JJ"], ["way", "NN"], ["we", "PRP"], ["did", "VBD"], ["for", "IN"], ["sorting", "VBG"], ["methods", "NNS"], [".", "."], ["So", "RB"], ["all", "PDT"], ["that", "DT"], ["means", "VBZ"], ["is", "VBZ"], ["that", "IN"], ["our", "PRP$"], ["implementations", "NNS"], ["can", "MD"], ["use", "VB"], ["compared", "VBN"], ["to", "TO"], ["but", "CC"], ["for", "IN"], ["the", "DT"], ["client", "NN"], ["it", "PRP"], ["means", "VBZ"], ["that", "IN"], ["all", "PDT"], ["these", "DT"], ["operations", "NNS"], ["have", "VBP"], ["meaning", "NN"], [".", "."], ["Give", "VB"], ["me", "PRP"], ["the", "DT"], ["minimum", "JJ"], ["key", "NN"], [",", ","], ["give", "VB"], ["me", "PRP"], ["the", "DT"], ["largest", "JJS"], ["key", "NN"], [",", ","], ["and", "CC"], ["then", "RB"], ["I", "PRP"], ["can", "MD"], ["get", "VB"], ["the", "DT"], ["value", "NN"], ["associated", "VBN"], ["with", "IN"], ["that", "DT"], ["using", "VBG"], ["that", "DT"], [".", "."], ["Give", "VB"], ["me", "PRP"], ["the", "DT"], ["largest", "JJS"], ["key", "NN"], ["less", "JJR"], ["than", "IN"], ["or", "CC"], ["equal", "JJ"], ["to", "TO"], ["this", "DT"], ["key", "JJ"], ["value", "NN"], ["or", "CC"], ["the", "DT"], ["smallest", "JJS"], ["key", "NN"], ["greater", "JJR"], ["than", "IN"], ["that", "DT"], ["key", "JJ"], ["value", "NN"], [",", ","], ["give", "VB"], ["me", "PRP"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["keys", "NNS"], ["less", "RBR"], ["than", "IN"], ["that", "DT"], ["key", "NN"], [".", "."], ["You", "PRP"], ["can", "MD"], ["actually", "RB"], ["implement", "VB"], ["priority", "NN"], ["queues", "NNS"], ["this", "DT"], ["way", "NN"], [".", "."], ["Delete", "VB"], ["the", "DT"], ["minimum", "JJ"], ["key", "NN"], [",", ","], ["delete", "VB"], ["the", "DT"], ["largest", "JJS"], ["key", "NN"], [".", "."], ["Now", "RB"], ["usually", "RB"], ["we", "PRP"], ["argue", "VBP"], ["against", "IN"], ["why", "WRB"], ["the", "DT"], ["interface", "NN"], ["is", "VBZ"], ["just", "RB"], ["adding", "VBG"], ["operations", "NNS"], ["to", "TO"], ["an", "DT"], ["interface", "NN"], [",", ","], ["usually", "RB"], ["our", "PRP$"], ["reason", "NN"], ["for", "IN"], ["doing", "VBG"], ["so", "RB"], ["is", "VBZ"], ["that", "IN"], ["we", "PRP"], ["ca", "MD"], ["n't", "RB"], ["guarantee", "VB"], ["that", "IN"], ["all", "PDT"], ["the", "DT"], ["operations", "NNS"], ["can", "MD"], ["be", "VB"], ["performing", "VBG"], ["efficiently", "RB"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["as", "IN"], ["we", "PRP"], ["'ll", "MD"], ["see", "VB"], [",", ","], ["ultimately", "RB"], ["we", "PRP"], ["have", "VBP"], ["ways", "NNS"], ["to", "TO"], ["guarantee", "VB"], ["that", "IN"], ["all", "PDT"], ["the", "DT"], ["operations", "NNS"], ["can", "MD"], ["be", "VB"], ["formed", "VBN"], ["efficiently", "RB"], [".", "."], ["And", "CC"], ["they", "PRP"], ["'re", "VBP"], ["so", "RB"], ["convenient", "JJ"], ["for", "IN"], ["clients", "NNS"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["certainly", "RB"], ["worth", "JJ"], ["adding", "VBG"], ["them", "PRP"], [".", "."], ["So", "IN"], ["we", "PRP"], ["have", "VBP"], ["iterate", "VBN"], ["through", "IN"], ["all", "PDT"], ["the", "DT"], ["keys", "NNS"], [",", ","], ["and", "CC"], ["iterate", "VB"], ["through", "IN"], ["all", "PDT"], ["the", "DT"], ["keys", "NNS"], ["in", "IN"], ["a", "DT"], ["given", "VBN"], ["range", "NN"], [",", ","], ["and", "CC"], ["count", "VB"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["keys", "NNS"], ["in", "IN"], ["a", "DT"], ["given", "VBN"], ["range", "NN"], [".", "."], ["All", "DT"], ["of", "IN"], ["these", "DT"], ["operations", "NNS"], ["are", "VBP"], ["very", "RB"], ["useful", "JJ"], ["for", "IN"], ["clients", "NNS"], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["see", "VB"], ["plenty", "NN"], ["of", "IN"], ["examples", "NNS"], ["later", "RB"], ["on", "IN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["greatly", "RB"], ["expand", "VB"], ["our", "PRP$"], [",", ","], ["our", "PRP$"], ["table", "NN"], [".", "."], ["What", "WP"], [",", ","], ["what", "WP"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["the", "DT"], ["cost", "NN"], ["of", "IN"], ["all", "DT"], ["of", "IN"], ["these", "DT"], ["things", "NNS"], [".", "."], ["And", "CC"], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], ["big", "JJ"], ["difference", "NN"], ["between", "IN"], ["the", "DT"], ["binary", "JJ"], ["search", "NN"], ["implementation", "NN"], ["where", "WRB"], ["the", "DT"], ["keys", "NNS"], ["are", "VBP"], ["kept", "VBN"], ["in", "IN"], ["order", "NN"], ["in", "IN"], ["an", "DT"], ["array", "NN"], [",", ","], ["in", "IN"], ["the", "DT"], ["sequential", "JJ"], ["search", "NN"], ["implementation", "NN"], [",", ","], ["when", "WRB"], ["they", "PRP"], ["'re", "VBP"], ["all", "DT"], ["in", "IN"], ["a", "DT"], ["link", "NN"], ["list", "NN"], [".", "."], ["So", "RB"], [",", ","], ["for", "IN"], ["example", "NN"], [",", ","], ["to", "TO"], ["provide", "VB"], ["order", "NN"], ["and", "CC"], ["iteration", "NN"], [",", ","], ["you", "PRP"], ["have", "VBP"], ["to", "TO"], ["get", "VB"], ["them", "PRP"], ["sorted", "VBN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], [",", ","], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["work", "NN"], [",", ","], ["and", "CC"], ["take", "VB"], ["N", "NNP"], ["lg", "VB"], ["N", "NNP"], ["time", "NN"], [".", "."], ["Whereas", "NNP"], ["binary", "JJ"], ["search", "NN"], [",", ","], ["you", "PRP"], ["just", "RB"], ["iterate", "VB"], ["through", "IN"], [",", ","], ["the", "DT"], ["things", "NNS"], ["in", "IN"], ["order", "NN"], [".", "."], ["The", "DT"], ["give", "JJ"], ["me", "PRP"], ["the", "DT"], ["seventh", "JJ"], ["key", "NN"], ["we", "PRP"], ["just", "RB"], ["go", "VB"], ["and", "CC"], ["look", "VB"], ["there", "RB"], [",", ","], ["they", "PRP"], ["are", "VBP"], ["in", "IN"], ["order", "NN"], [".", "."], ["Rank", "NNP"], ["operation", "NN"], [",", ","], ["that", "WDT"], ["is", "VBZ"], ["essentially", "RB"], ["what", "WP"], ["binary", "JJ"], ["search", "NN"], ["provides", "VBZ"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["the", "DT"], [",", ","], ["our", "PRP$"], ["basic", "JJ"], ["implementation", "NN"], ["is", "VBZ"], ["providing", "VBG"], ["rank", "NN"], [".", "."], ["Floor", "NNP"], ["and", "CC"], ["ceiling", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["again", "RB"], ["is", "VBZ"], ["an", "DT"], ["outgrowth", "NN"], ["of", "IN"], ["the", "DT"], ["rank", "NN"], ["operation", "NN"], [".", "."], ["Minimum", "NNP"], ["and", "CC"], ["maximum", "RB"], ["well", "RB"], ["again", "RB"], ["those", "DT"], ["are", "VBP"], ["like", "IN"], ["select", "NN"], [".", "."], ["Their", "PRP$"], ["just", "RB"], ["right", "RB"], ["there", "RB"], [",", ","], ["you", "PRP"], ["look", "VBP"], ["at", "IN"], ["the", "DT"], ["first", "JJ"], ["or", "CC"], ["the", "DT"], ["last", "JJ"], [".", "."], ["To", "TO"], ["insert", "VB"], ["or", "CC"], ["delete", "VB"], ["however", "RB"], ["takes", "VBZ"], ["linear", "JJ"], ["time", "NN"], [".", "."], ["To", "TO"], ["maintain", "VB"], ["the", "DT"], ["sorted", "JJ"], ["array", "NN"], ["in", "IN"], ["dynamic", "JJ"], ["fashion", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["take", "VB"], ["linear", "JJ"], ["time", "NN"], ["you", "PRP"], ["have", "VBP"], ["to", "TO"], ["go", "VB"], ["through", "IN"], ["the", "DT"], ["whole", "JJ"], ["thing", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], ["that", "IN"], ["'s", "VBZ"], ["really", "RB"], ["are", "VBP"], ["the", "DT"], ["key", "NN"], ["to", "TO"], ["thinking", "VBG"], ["about", "IN"], ["what", "WP"], ["are", "VBP"], ["symbol", "JJ"], ["table", "JJ"], ["and", "CC"], ["symbol", "NN"], ["tables", "NNS"], ["in", "IN"], ["general", "JJ"], [".", "."], ["How", "WRB"], ["could", "MD"], ["we", "PRP"], ["guarantee", "VB"], ["that", "IN"], ["all", "DT"], ["operations", "NNS"], ["are", "VBP"], ["fast", "RB"], ["?", "."], ["Binary", "NNP"], ["research", "NN"], ["is", "VBZ"], ["pretty", "RB"], ["good", "JJ"], ["but", "CC"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["major", "JJ"], ["flaw", "NN"], [".", "."], ["It", "PRP"], ["ca", "MD"], ["n't", "RB"], ["maintain", "VB"], ["a", "DT"], ["dynamic", "JJ"], ["table", "JJ"], ["efficiently", "RB"], ["with", "IN"], ["binary", "JJ"], ["search", "NN"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["your", "PRP$"], ["focus", "NN"], ["in", "IN"], ["the", "DT"], ["next", "JJ"], ["lecture", "NN"]], "title": "ordered operations", "text": "When keys are comparable and we can put them in order. We saw that we can use binary search to get an efficient symbol table implementation. But we can also provide a lot of convenient functionality for the client that's what we are going to look at next. So this is just an example of an application that might try to associate keys with values. An illustration of all the different operations that a client might want. So we already looked at the Get operation so we might want to know what city is associated with the event that happened at time nine o'clock, thirteenth and so that should return that value. But there's plenty of other things that we might want. Like, for example, what's the earliest time? That's the min or what's the latest time? That's the max. What about, being able to iterate between, among all the keys between two given times? That, certainly is convenient. Then there's, what's the seventh largest times, that's select that like a median, it generalizes min or max? Which key is that, happens second or seventh? So that's, order statistics, a dynamic thing what happened, whats the closest time, thing that happened just before, five past nine. Certainly, plenty of clients might want, want that. So this one is, I've only got ten tickets to sell. So that's the cut off point for, selling, seven tickets that's the cut off point. For, anybody after that time doesn't get a ticket. And, and this one might be, if there's a time cut off. I'm not going to sell tickets to anyone that came after that time. And then the corresponding one is, what's the first thing that happened after that time? That's call in to the radio show, I'm going to take that caller, the first call that comes at nine:30. And so forth. So then see how many things happen between nine:15 and nine:25. And how many calls were there before nine:10:25? So you can see that there's, all of these operations are quite natural when we have the, table in sorted order. And that's what we have for our binary search implementation. So we can, implement these, efficiently and they are, convenient and useful for the clients. So typically for ordered simple tables, when keys are comparable will provide a much wider interface it's very useful for many clients. So we say that we're dealing with keys that are comparable by simply adding this extents comparable key to our declaration. Same way we did for sorting methods. So all that means is that our implementations can use compared to but for the client it means that all these operations have meaning. Give me the minimum key, give me the largest key, and then I can get the value associated with that using that. Give me the largest key less than or equal to this key value or the smallest key greater than that key value, give me the number of keys less than that key. You can actually implement priority queues this way. Delete the minimum key, delete the largest key. Now usually we argue against why the interface is just adding operations to an interface, usually our reason for doing so is that we can't guarantee that all the operations can be performing efficiently. In this case, as we'll see, ultimately we have ways to guarantee that all the operations can be formed efficiently. And they're so convenient for clients. It's certainly worth adding them. So we have iterate through all the keys, and iterate through all the keys in a given range, and count the number of keys in a given range. All of these operations are very useful for clients and we'll see plenty of examples later on. So we have to greatly expand our, our table. What, what are going to be the cost of all of these things. And this is a big difference between the binary search implementation where the keys are kept in order in an array, in the sequential search implementation, when they're all in a link list. So, for example, to provide order and iteration, you have to get them sorted. And that's, going to be a lot of work, and take N lg N time. Whereas binary search, you just iterate through, the things in order. The give me the seventh key we just go and look there, they are in order. Rank operation, that is essentially what binary search provides. That's the, our basic implementation is providing rank. Floor and ceiling that's again is an outgrowth of the rank operation. Minimum and maximum well again those are like select. Their just right there, you look at the first or the last. To insert or delete however takes linear time. To maintain the sorted array in dynamic fashion is going to take linear time you have to go through the whole thing. And so that's really are the key to thinking about what are symbol table and symbol tables in general. How could we guarantee that all operations are fast? Binary research is pretty good but that's a major flaw. It can't maintain a dynamic table efficiently with binary search and that's going to be your focus in the next lecture ", "video_ID": 40, "course_id": 3}
{"category": ["elementary symbol tables"], "tagged": [["Welcome", "NNP"], ["back", "RB"], [".", "."], ["Next", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["talk", "VB"], ["about", "IN"], ["Binary", "NNP"], ["Search", "NNP"], ["Trees", "NNP"], [",", ","], ["a", "DT"], ["classic", "JJ"], ["data", "NN"], ["structures", "NNS"], ["that", "WDT"], ["'ll", "MD"], ["enables", "VB"], ["us", "PRP"], ["to", "TO"], ["provide", "VB"], ["efficient", "JJ"], ["implementation", "NN"], ["of", "IN"], ["symbol", "NN"], ["table", "NN"], ["and", "CC"], ["out", "IN"], ["rhythms", "NN"], [".", "."], ["[", "CC"], ["cough", "JJ"], ["]", "NNP"], ["Let", "NNP"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["the", "DT"], ["basic", "JJ"], ["Binary", "NNP"], ["Search", "NNP"], ["Tree", "NNP"], ["data", "NNS"], ["structure", "NN"], ["with", "IN"], ["Heaps", "NNP"], ["we", "PRP"], ["talk", "VBP"], ["about", "IN"], ["implicit", "JJ"], ["representation", "NN"], ["of", "IN"], ["trees", "NNS"], ["with", "IN"], ["an", "DT"], ["array", "NN"], [".", "."], ["For", "IN"], ["Binary", "NNP"], ["Search", "NNP"], ["Trees", "NNP"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["talk", "VB"], ["about", "IN"], ["actually", "RB"], ["explicit", "JJ"], ["tree", "JJ"], ["data", "NNS"], ["structures", "NNS"], [".", "."], ["A", "DT"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], ["is", "VBZ"], ["a", "DT"], ["binary", "JJ"], ["tree", "NN"], ["in", "IN"], ["symmetric", "JJ"], ["order", "NN"], [".", "."], ["Let", "VB"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["the", "DT"], ["meaning", "NN"], ["of", "IN"], ["those", "DT"], ["words", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["a", "DT"], ["binary", "JJ"], ["tree", "NN"], ["is", "VBZ"], ["an", "DT"], ["explicit", "JJ"], ["data", "NN"], ["structure", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["got", "VBD"], ["what", "WP"], ["we", "PRP"], ["call", "VBP"], ["nodes", "NNS"], ["which", "WDT"], ["contain", "VBP"], ["information", "NN"], ["and", "CC"], ["every", "DT"], ["node", "NN"], ["'s", "POS"], ["got", "VBD"], ["two", "CD"], ["links", "NNS"], ["to", "TO"], ["Binary", "NNP"], ["Trees", "NNP"], ["that", "WDT"], ["are", "VBP"], ["disjoint", "NN"], ["from", "IN"], ["one", "CD"], ["another", "DT"], [",", ","], ["a", "DT"], ["left", "JJ"], ["tree", "NN"], ["and", "CC"], ["right", "JJ"], ["tree", "NN"], ["associated", "VBN"], ["with", "IN"], ["each", "DT"], ["node", "NN"], [".", "."], ["Each", "DT"], ["node", "NN"], ["has", "VBZ"], ["a", "DT"], ["left", "VBN"], ["tree", "NN"], ["and", "CC"], ["a", "DT"], ["right", "JJ"], ["tree", "NN"], [".", "."], ["Links", "NNS"], ["can", "MD"], ["be", "VB"], ["null", "JJ"], [".", "."], ["Left", "NNP"], ["tree", "NN"], ["can", "MD"], ["be", "VB"], ["null", "JJ"], ["and", "CC"], ["right", "JJ"], ["tree", "NN"], ["can", "MD"], ["be", "VB"], ["null", "JJ"], ["or", "CC"], ["both", "DT"], [".", "."], ["We", "PRP"], ["refer", "VBP"], ["to", "TO"], ["every", "DT"], ["node", "NN"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], ["as", "IN"], ["the", "DT"], ["root", "NN"], ["of", "IN"], ["a", "DT"], ["sub-tree", "JJ"], ["and", "CC"], ["[", "JJ"], ["cough", "NN"], ["]", "NN"], ["referred", "VBD"], ["to", "TO"], [",", ","], ["the", "DT"], ["nodes", "NNS"], ["below", "IN"], [".", "."], ["Each", "DT"], ["node", "NN"], ["is", "VBZ"], ["its", "PRP$"], ["children", "NNS"], ["so", "IN"], ["this", "DT"], ["is", "VBZ"], ["the", "DT"], ["right", "JJ"], ["child", "NN"], ["of", "IN"], ["the", "DT"], ["root", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["left", "JJ"], ["link", "NN"], [",", ","], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["definition", "NN"], ["of", "IN"], ["a", "DT"], ["binary", "JJ"], ["tree", "NN"], [".", "."], ["A", "DT"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], [",", ","], ["each", "DT"], ["node", "NN"], ["has", "VBZ"], ["a", "DT"], ["key", "NN"], ["and", "CC"], ["every", "DT"], ["nodes", "JJ"], ["key", "NN"], ["is", "VBZ"], ["larger", "JJR"], ["than", "IN"], ["all", "PDT"], ["the", "DT"], ["keys", "NNS"], ["in", "IN"], ["its", "PRP$"], ["left", "JJ"], ["subtree", "NN"], ["and", "CC"], ["smaller", "JJR"], ["than", "IN"], ["all", "PDT"], ["the", "DT"], ["keys", "NNS"], ["in", "IN"], ["its", "PRP$"], ["right", "JJ"], ["subtree", "NN"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["a", "DT"], ["different", "JJ"], ["ordering", "NN"], ["than", "IN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["heap", "VB"], ["if", "IN"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["node", "NN"], ["larger", "JJR"], ["than", "IN"], ["both", "DT"], ["its", "PRP$"], ["children", "NNS"], [",", ","], ["this", "DT"], ["one", "CD"], [",", ","], ["every", "DT"], ["node", "NN"], ["is", "VBZ"], ["between", "IN"], ["the", "DT"], ["values", "NNS"], [",", ","], ["the", "DT"], ["value", "NN"], ["of", "IN"], ["every", "DT"], ["node", "NN"], ["is", "VBZ"], ["between", "IN"], ["the", "DT"], ["values", "NNS"], ["of", "IN"], ["the", "DT"], ["nodes", "NNS"], ["in", "IN"], ["its", "PRP$"], ["two", "CD"], ["subtrees", "NNS"], [".", "."], ["So", "IN"], ["the", "DT"], ["nodes", "NNS"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["of", "IN"], ["e", "NN"], ["are", "VBP"], ["smaller", "JJR"], ["and", "CC"], ["nodes", "NNS"], ["to", "TO"], ["the", "DT"], ["right", "NN"], ["of", "IN"], ["e", "NN"], ["are", "VBP"], ["larger", "JJR"], [".", "."], ["[", "JJ"], ["cough", "JJ"], ["]", "NN"], ["now", "RB"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["use", "VB"], ["these", "DT"], ["to", "TO"], ["implement", "VB"], ["symbol", "NN"], ["tables", "NNS"], ["and", "CC"], ["there", "EX"], ["'s", "VBZ"], ["values", "NNS"], ["associated", "VBN"], ["with", "IN"], ["each", "DT"], ["key", "NN"], ["when", "WRB"], ["appropriate", "NN"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["write", "VB"], ["the", "DT"], ["values", "NNS"], ["in", "IN"], ["smaller", "JJR"], ["numbers", "NNS"], ["next", "IN"], ["to", "TO"], ["the", "DT"], ["keys", "NNS"], [".", "."], ["But", "CC"], ["usually", "RB"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["just", "RB"], ["going", "VBG"], ["to", "TO"], ["worry", "VB"], ["about", "IN"], ["the", "DT"], ["keys", "NNS"], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["keep", "VB"], ["the", "DT"], ["values", "NNS"], [",", ","], ["in", "IN"], ["the", "DT"], ["nodes", "NNS"], ["along", "IN"], ["with", "IN"], ["them", "PRP"], ["[", "VBP"], ["cough", "JJ"], ["]", "NNP"], ["so", "IN"], ["that", "DT"], ["'s", "VBZ"], ["binary", "JJ"], ["search", "NN"], ["trees", "NNS"], [".", "."], ["A", "DT"], ["binary", "JJ"], ["tree", "NN"], ["in", "IN"], ["symmetric", "JJ"], ["order", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["the", "DT"], ["data", "NN"], ["structur", "NN"], ["e", "NN"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["use", "VB"], ["to", "TO"], ["implement", "VB"], ["symbol", "NN"], ["table", "JJ"], ["operations", "NNS"], [".", "."], ["So", "IN"], ["how", "WRB"], ["are", "VBP"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["represent", "VB"], ["binary", "JJ"], ["search", "NN"], ["trees", "NNS"], ["in", "IN"], ["Java", "NNP"], ["?", "."], ["Well", "NNP"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["extend", "VB"], ["our", "PRP$"], ["implementations", "NNS"], ["of", "IN"], ["linked", "JJ"], ["list", "NN"], ["structures", "NNS"], ["to", "TO"], ["have", "VB"], ["two", "CD"], ["references", "NNS"], ["instead", "RB"], ["of", "IN"], ["just", "RB"], ["one", "CD"], [".", "."], ["So", "IN"], ["first", "JJ"], ["of", "IN"], ["all", "DT"], [",", ","], ["is", "VBZ"], ["the", "DT"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["node", "NN"], ["at", "IN"], ["the", "DT"], ["root", "NN"], [".", "."], ["So", "RB"], [",", ","], ["a", "DT"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], ["in", "IN"], ["Java", "NNP"], ["is", "VBZ"], ["just", "RB"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["referenced", "VBN"], ["to", "TO"], ["a", "DT"], ["root", "NN"], ["node", "NN"], [".", "."], ["And", "CC"], ["every", "DT"], ["node", "NN"], ["'s", "POS"], ["got", "VBD"], ["four", "CD"], ["fields", "NNS"], [",", ","], ["a", "DT"], ["key", "NN"], ["and", "CC"], ["a", "DT"], ["value", "NN"], [",", ","], ["and", "CC"], ["references", "NNS"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["subtree", "NN"], [",", ","], ["that", "WDT"], ["contains", "VBZ"], ["the", "DT"], ["smaller", "JJR"], ["keys", "NN"], [",", ","], ["and", "CC"], ["the", "DT"], ["right", "JJ"], ["subtree", "NN"], ["that", "WDT"], ["contains", "VBZ"], ["the", "DT"], ["larger", "JJR"], ["keys", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["here", "RB"], ["'s", "VBZ"], ["what", "WP"], ["the", "DT"], [",", ","], ["[", "JJ"], ["cough", "NN"], ["]", "NN"], ["code", "NN"], ["is", "VBZ"], ["based", "VBN"], ["on", "IN"], [".", "."], ["The", "DT"], [",", ","], ["inner", "JJ"], ["class", "NN"], ["that", "IN"], ["we", "PRP"], ["used", "VBD"], ["to", "TO"], ["implement", "VB"], ["nodes", "NNS"], ["has", "VBZ"], [",", ","], ["one", "CD"], [",", ","], ["two", "CD"], [",", ","], ["three", "CD"], [",", ","], ["four", "CD"], ["instance", "NN"], ["variables", "NNS"], [".", "."], ["All", "DT"], ["of", "IN"], ["which", "WDT"], ["are", "VBP"], ["private", "JJ"], ["as", "IN"], ["usual", "JJ"], [".", "."], ["A", "DT"], ["key", "NN"], ["of", "IN"], ["type", "NN"], ["key", "NN"], [",", ","], ["a", "DT"], ["value", "NN"], ["of", "IN"], ["type", "JJ"], ["value", "NN"], ["and", "CC"], ["then", "RB"], ["references", "NNS"], ["to", "TO"], ["a", "DT"], ["left", "NN"], ["and", "CC"], ["a", "DT"], ["right", "JJ"], ["node", "NN"], [".", "."], ["For", "IN"], ["convenience", "NN"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["provide", "VB"], ["a", "DT"], ["constructor", "NN"], ["that", "WDT"], ["takes", "VBZ"], ["the", "DT"], ["key", "NN"], ["and", "CC"], ["value", "NN"], ["as", "IN"], ["argument", "NN"], ["and", "CC"], ["fills", "NNS"], ["in", "IN"], ["the", "DT"], ["key", "NN"], ["and", "CC"], ["value", "NN"], ["instance", "NN"], ["variables", "NNS"], ["then", "RB"], ["the", "DT"], ["left", "NN"], ["and", "CC"], ["right", "JJ"], ["links", "NNS"], ["are", "VBP"], ["initialized", "VBN"], ["to", "TO"], ["null", "VB"], [".", "."], ["And", "CC"], ["our", "PRP$"], ["data", "NNS"], ["structure", "NN"], ["then", "RB"], ["will", "MD"], ["be", "VB"], ["a", "DT"], ["root", "NN"], ["that", "WDT"], ["points", "VBZ"], ["to", "TO"], ["a", "DT"], ["node", "NN"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], ["and", "CC"], ["then", "RB"], ["that", "DT"], ["node", "NN"], ["will", "MD"], ["point", "VB"], ["to", "TO"], ["subtrees", "NNS"], ["and", "CC"], ["that", "DT"], ["will", "MD"], ["be", "VB"], ["the", "DT"], ["data", "NN"], ["structure", "NN"], ["that", "IN"], ["we", "PRP"], ["use", "VBP"], ["for", "IN"], ["symbol", "NN"], ["tables", "NNS"], [".", "."], ["So", "RB"], ["here", "RB"], ["'s", "VBZ"], ["the", "DT"], ["skeleton", "NN"], ["of", "IN"], ["our", "PRP$"], ["symbol", "NN"], ["table", "JJ"], ["implementation", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["for", "IN"], ["comparable", "JJ"], ["keys", "NNS"], ["associated", "VBN"], ["with", "IN"], ["values", "NNS"], ["and", "CC"], ["those", "DT"], ["are", "VBP"], ["both", "DT"], ["generic", "JJ"], ["types", "NNS"], [".", "."], ["The", "DT"], ["only", "JJ"], ["instance", "NN"], ["variable", "NN"], ["is", "VBZ"], ["a", "DT"], ["link", "NN"], ["to", "TO"], ["the", "DT"], ["root", "NN"], ["node", "NN"], ["called", "VBN"], ["root", "NN"], [".", "."], ["The", "DT"], ["inner", "JJ"], ["class", "NN"], ["node", "NN"], ["is", "VBZ"], ["the", "DT"], ["code", "NN"], ["that", "WDT"], ["was", "VBD"], ["given", "VBN"], ["on", "IN"], ["the", "DT"], ["previous", "JJ"], ["slide", "NN"], [",", ","], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["'ll", "MD"], ["need", "VB"], ["implementations", "NNS"], ["of", "IN"], ["put", "NN"], ["and", "CC"], ["get", "VB"], [",", ","], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["also", "RB"], ["look", "VB"], ["at", "IN"], ["an", "DT"], ["implementation", "NN"], ["of", "IN"], ["delete", "NN"], [",", ","], ["and", "CC"], ["an", "DT"], ["iterator", "NN"], ["as", "RB"], ["well", "RB"], [".", "."], ["So", "CC"], ["that", "IN"], ["'s", "VBZ"], ["our", "PRP$"], ["skeleton", "JJ"], ["implementation", "NN"], [",", ","], ["let", "VB"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["the", "DT"], ["keys", "NNS"], [".", "."], ["So", "NNP"], ["let", "NN"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["search", "NN"], ["first", "RB"], [".", "."], ["So", "RB"], ["here", "RB"], ["'s", "VBZ"], ["a", "DT"], ["binary", "JJ"], ["search", "NN"], ["tree", "JJ"], ["let", "NN"], ["'s", "POS"], ["do", "VB"], ["a", "DT"], ["demo", "NN"], ["of", "IN"], ["what", "WP"], ["different", "JJ"], ["searches", "NNS"], ["will", "MD"], ["look", "VB"], ["like", "IN"], ["in", "IN"], ["this", "DT"], ["tree", "NN"], [".", "."], ["So", "IN"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["tree", "NN"], ["so", "RB"], ["S", "NNP"], ["is", "VBZ"], ["at", "IN"], ["the", "DT"], ["root", "NN"], ["everybody", "NN"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["of", "IN"], ["is", "VBZ"], ["less", "JJR"], ["than", "IN"], ["S", "NNP"], ["over", "IN"], ["to", "TO"], ["the", "DT"], ["right", "NN"], ["is", "VBZ"], ["bigger", "JJR"], [".", "."], ["So", "IN"], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], ["dynamic", "JJ"], ["data", "NN"], ["structure", "NN"], ["that", "IN"], ["kind", "NN"], ["of", "IN"], ["follows", "VBZ"], ["the", "DT"], ["same", "JJ"], ["rule", "NN"], ["as", "IN"], ["binary", "JJ"], ["search", "NN"], [".", "."], ["So", "RB"], ["to", "TO"], ["look", "VB"], ["for", "IN"], ["a", "DT"], [",", ","], ["to", "TO"], ["do", "VB"], ["a", "DT"], ["search", "NN"], ["for", "IN"], ["the", "DT"], ["key", "JJ"], ["H", "NNP"], ["in", "IN"], ["this", "DT"], ["tree", "NN"], [",", ","], ["we", "PRP"], ["start", "VBP"], ["at", "IN"], ["the", "DT"], ["root", "NN"], ["and", "CC"], ["we", "PRP"], ["compare", "VBP"], ["our", "PRP$"], ["key", "NN"], ["against", "IN"], ["the", "DT"], ["key", "NN"], ["at", "IN"], ["the", "DT"], ["root", "NN"], [".", "."], ["And", "CC"], ["in", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["H", "NNP"], ["is", "VBZ"], ["less", "RBR"], ["so", "RB"], ["all", "PDT"], ["that", "DT"], ["says", "VBZ"], ["to", "TO"], ["us", "PRP"], ["is", "VBZ"], ["that", "IN"], ["if", "IN"], ["H", "NNP"], ["is", "VBZ"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], [",", ","], ["it", "PRP"], ["has", "VBZ"], ["to", "TO"], ["be", "VB"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["cuz", "NN"], ["everybody", "NN"], ["to", "TO"], ["the", "DT"], ["right", "NN"], ["is", "VBZ"], ["greater", "JJR"], ["than", "IN"], ["S.", "NNP"], ["So", "NNP"], ["we", "PRP"], ["move", "VBP"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["and", "CC"], ["compare", "VB"], ["H", "NNP"], ["against", "IN"], ["the", "DT"], ["root", "NN"], ["of", "IN"], ["the", "DT"], ["left", "JJ"], ["subtree", "NN"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["E.", "NNP"], ["Now", "RB"], ["H", "NNP"], ["is", "VBZ"], ["greater", "JJR"], ["so", "RB"], ["that", "IN"], ["says", "VBZ"], ["we", "PRP"], ["should", "MD"], ["go", "VB"], ["right", "JJ"], [".", "."], ["Now", "RB"], ["we", "PRP"], ["can", "MD"], ["pair", "VB"], ["H", "NNP"], ["against", "IN"], ["the", "DT"], ["root", "NN"], ["of", "IN"], ["the", "DT"], ["right", "JJ"], ["subtree", "NN"], ["of", "IN"], ["E", "NNP"], [",", ","], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["R", "NNP"], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["less", "JJR"], ["so", "IN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["go", "VB"], ["left", "JJ"], ["cuz", "NN"], ["everybody", "NN"], ["to", "TO"], ["the", "DT"], ["right", "NN"], ["of", "IN"], ["R", "NNP"], ["is", "VBZ"], ["bigger", "JJR"], ["and", "CC"], ["H", "NNP"], ["is", "VBZ"], ["smaller", "JJR"], [".", "."], ["And", "CC"], ["eventually", "RB"], ["if", "IN"], ["the", "DT"], ["key", "NN"], ["is", "VBZ"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["hit", "VB"], ["it", "PRP"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], ["we", "PRP"], [",", ","], ["we", "PRP"], ["find", "VBP"], ["H", "JJ"], ["as", "IN"], ["the", "DT"], ["left", "NN"], ["sub", "VBD"], ["tree", "NN"], ["of", "IN"], ["R", "NNP"], ["in", "IN"], ["[", "NNP"], ["cough", "NN"], ["]", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["a", "DT"], ["search", "NN"], ["hit", "NN"], ["and", "CC"], ["then", "RB"], ["for", "IN"], ["the", "DT"], ["get", "NN"], ["operation", "NN"], [",", ","], ["we", "PRP"], ["can", "MD"], ["return", "VB"], ["the", "DT"], ["value", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["stored", "VBN"], ["in", "IN"], ["that", "DT"], ["node", "NN"], ["along", "IN"], ["with", "IN"], ["the", "DT"], ["key", "NN"], ["H.", "NNP"], ["What", "WP"], ["about", "IN"], ["an", "DT"], ["unsuccessful", "JJ"], ["search", "NN"], ["?", "."], ["Well", "RB"], ["the", "DT"], ["same", "JJ"], ["rules", "NNS"], ["follow", "VBP"], [".", "."], ["If", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["got", "VBD"], ["ta", "RB"], ["be", "VB"], ["according", "VBG"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["or", "CC"], ["right", "NN"], [",", ","], ["according", "VBG"], ["to", "TO"], ["whether", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["smaller", "JJR"], ["or", "CC"], ["larger", "JJR"], ["than", "IN"], ["the", "DT"], ["key", "NN"], ["at", "IN"], ["the", "DT"], ["route", "NN"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["if", "IN"], ["we", "PRP"], ["'re", "VBP"], ["searching", "VBG"], ["for", "IN"], ["G", "NNP"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["got", "VBD"], ["ta", "JJ"], ["go", "NN"], ["left", "VBD"], [",", ","], ["because", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["less", "JJR"], ["than", "IN"], ["S.", "NNP"], ["When", "WRB"], ["we", "PRP"], ["come", "VBP"], ["against", "IN"], ["the", "DT"], ["E", "NNP"], [",", ","], ["we", "PRP"], ["got", "VBD"], ["ta", "RB"], ["go", "VB"], ["right", "RB"], ["because", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["bigger", "JJR"], ["than", "IN"], ["E", "NN"], ["against", "IN"], ["the", "DT"], ["R", "NNP"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["go", "VB"], ["left", "RB"], [",", ","], ["because", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["less", "JJR"], ["than", "IN"], ["R.", "NNP"], ["We", "PRP"], ["come", "VBP"], ["against", "IN"], ["the", "DT"], ["H", "NNP"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["go", "VB"], ["left", "JJ"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["come", "VBP"], ["off", "RP"], ["a", "DT"], ["null", "JJ"], ["link", "NN"], [",", ","], ["and", "CC"], ["all", "PDT"], ["that", "DT"], ["says", "VBZ"], ["is", "VBZ"], ["that", "IN"], ["there", "EX"], ["'s", "VBZ"], ["no", "DT"], ["place", "NN"], ["in", "IN"], ["this", "DT"], ["tree", "NN"], ["where", "WRB"], ["G", "NNP"], ["could", "MD"], ["be", "VB"], ["so", "RB"], ["G", "NNP"], ["is", "VBZ"], ["not", "RB"], ["there", "RB"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["search", "NN"], ["miss", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["get", "NN"], ["operation", "NN"], ["would", "MD"], ["return", "VB"], ["null", "NN"], ["in", "IN"], ["that", "DT"], ["case", "NN"], [".", "."], ["What", "WP"], ["about", "IN"], ["insertion", "NN"], ["?", "."], ["Well", "UH"], [",", ","], ["to", "TO"], ["insert", "VB"], ["a", "DT"], ["new", "JJ"], ["key", "NN"], [",", ","], ["all", "DT"], ["we", "PRP"], ["do", "VBP"], ["is", "VBZ"], ["follow", "VB"], ["the", "DT"], ["same", "JJ"], ["steps", "NNS"], ["as", "IN"], ["we", "PRP"], ["did", "VBD"], ["for", "IN"], ["search", "NN"], [".", "."], ["That", "IN"], ["following", "VBG"], ["off", "RP"], ["that", "DT"], ["null", "JJ"], ["link", "NN"], ["and", "CC"], ["again", "RB"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["just", "RB"], [",", ","], ["for", "IN"], ["G", "NNP"], [",", ","], ["travel", "VBP"], ["down", "IN"], ["the", "DT"], ["tree", "NN"], ["until", "IN"], ["we", "PRP"], ["come", "VBP"], ["to", "TO"], ["the", "DT"], [",", ","], ["null", "JJ"], ["link", "NN"], [".", "."], ["Really", "RB"], [",", ","], ["what", "WP"], ["we", "PRP"], ["'re", "VBP"], ["saying", "VBG"], ["is", "VBZ"], ["when", "WRB"], ["we", "PRP"], ["go", "VBP"], ["to", "TO"], ["the", "DT"], ["left", "JJ"], ["link", "NN"], ["of", "IN"], ["H", "NNP"], [",", ","], ["it", "PRP"], ["says", "VBZ"], [",", ","], ["if", "IN"], ["G", "NNP"], ["is", "VBZ"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], [",", ","], ["it", "PRP"], ["has", "VBZ"], ["to", "TO"], ["be", "VB"], ["down", "RP"], ["this", "DT"], ["link", "NN"], [".", "."], ["Since", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["there", "RB"], ["to", "TO"], ["in", "IN"], ["sert", "JJ"], ["G", "NNP"], [",", ","], ["all", "DT"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["just", "RB"], ["put", "VBN"], ["it", "PRP"], ["there", "RB"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["how", "WRB"], ["we", "PRP"], ["insert", "VBP"], ["a", "DT"], ["new", "JJ"], ["node", "NN"], ["into", "IN"], ["a", "DT"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], [".", "."], ["Alright", "NNP"], [",", ","], ["here", "RB"], ["'s", "VBZ"], ["the", "DT"], ["code", "NN"], ["corresponding", "VBG"], ["to", "TO"], ["the", "DT"], ["process", "NN"], ["that", "IN"], ["we", "PRP"], ["just", "RB"], ["demo", "NN"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["quite", "RB"], ["straight", "JJ"], ["forward", "RB"], ["simple", "JJ"], ["code", "NN"], ["as", "RB"], ["simple", "JJ"], ["as", "IN"], ["binary", "JJ"], ["search", "NN"], ["really", "RB"], [".", "."], ["We", "PRP"], ["start", "VBP"], ["at", "IN"], ["the", "DT"], ["root", "NN"], ["then", "RB"], ["we", "PRP"], ["set", "VBP"], ["variable", "JJ"], ["x", "NN"], ["to", "TO"], ["be", "VB"], ["the", "DT"], ["root", "NN"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["the", "DT"], ["pointer", "NN"], ["to", "TO"], ["the", "DT"], ["current", "JJ"], ["node", "NN"], ["as", "IN"], ["we", "PRP"], ["move", "VBP"], ["down", "RP"], ["the", "DT"], ["tree", "NN"], [".", "."], ["As", "RB"], ["long", "RB"], ["as", "IN"], ["our", "PRP$"], [",", ","], ["our", "PRP$"], ["current", "JJ"], ["node", "NN"], ["x", "NN"], ["is", "VBZ"], ["not", "RB"], ["null", "JJ"], ["what", "WP"], ["we", "PRP"], ["'ll", "MD"], ["want", "VB"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["a", "DT"], ["comparison", "NN"], ["between", "IN"], ["the", "DT"], ["key", "NN"], ["at", "IN"], ["node", "JJ"], ["x", "NN"], ["and", "CC"], ["our", "PRP$"], ["search", "NN"], ["key", "NN"], [".", "."], ["If", "IN"], ["our", "PRP$"], ["search", "NN"], ["key", "NN"], ["is", "VBZ"], ["less", "RBR"], [",", ","], ["we", "PRP"], ["go", "VBP"], ["to", "TO"], ["the", "DT"], ["left", "NN"], [".", "."], ["If", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["greater", "JJR"], ["we", "PRP"], ["go", "VBP"], ["to", "TO"], ["the", "DT"], ["right", "NN"], [".", "."], ["And", "CC"], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["equal", "JJ"], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["even", "RB"], ["have", "VB"], ["to", "TO"], ["test", "VB"], ["that", "IN"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["why", "WRB"], ["it", "PRP"], ["'s", "VBZ"], ["in", "IN"], ["grey", "NN"], [".", "."], ["If", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["greater", "JJR"], ["or", "CC"], ["lesser", "JJR"], ["it", "PRP"], ["has", "VBZ"], ["to", "TO"], ["be", "VB"], ["equal", "JJ"], [",", ","], ["than", "IN"], ["we", "PRP"], ["return", "VBP"], ["the", "DT"], ["value", "NN"], ["right", "NN"], ["at", "IN"], ["that", "DT"], ["node", "NN"], [".", "."], ["If", "IN"], ["we", "PRP"], ["get", "VBP"], ["to", "TO"], ["the", "DT"], ["bottom", "NN"], ["and", "CC"], ["our", "PRP$"], ["current", "JJ"], ["node", "NN"], ["is", "VBZ"], ["null", "JJ"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["falling", "VBG"], ["off", "RP"], ["the", "DT"], ["bottom", "NN"], ["of", "IN"], ["the", "DT"], ["tree", "NN"], ["we", "PRP"], ["return", "VBP"], ["null", "JJ"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["equivalent", "JJ"], ["to", "TO"], ["saying", "VBG"], ["our", "PRP$"], ["buyer", "NN"], ["convention", "NN"], ["that", "IN"], [",", ","], ["that", "DT"], ["key", "NN"], ["is", "VBZ"], ["not", "RB"], ["in", "IN"], ["our", "PRP$"], ["data", "NNS"], ["structure", "NN"], [",", ","], ["or", "CC"], ["not", "RB"], ["in", "IN"], ["our", "PRP$"], ["symbol", "NN"], ["table", "NN"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["very", "RB"], ["straightforward", "JJ"], ["implementation", "NN"], ["of", "IN"], ["the", "DT"], ["get", "NN"], ["operation", "NN"], ["for", "IN"], ["symbol", "NN"], ["tables", "NNS"], ["with", "IN"], ["a", "DT"], ["binary", "JJ"], ["search", "NN"], ["tree", "JJ"], ["representation", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["what", "WP"], ["'s", "VBZ"], ["the", "DT"], ["cost", "NN"], ["?", "."], ["Well", "RB"], [",", ","], ["we", "PRP"], ["went", "VBD"], ["down", "RP"], ["a", "DT"], ["path", "NN"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], ["so", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["one", "CD"], ["plus", "CC"], ["the", "DT"], ["depth", "NN"], ["of", "IN"], ["the", "DT"], ["node", "NN"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], [".", "."], ["[", "CC"], ["cough", "JJ"], ["]", "NN"], ["So", "IN"], ["what", "WP"], ["about", "IN"], ["search", "NN"], ["well", "RB"], ["search", "NN"], ["for", "IN"], ["put", "NN"], ["there", "EX"], ["'s", "VBZ"], ["two", "CD"], ["cases", "NNS"], [".", "."], ["If", "IN"], ["the", "DT"], ["if", "IN"], ["we", "PRP"], ["'re", "VBP"], ["supposed", "VBN"], ["to", "TO"], ["associate", "VB"], ["a", "DT"], ["value", "NN"], ["with", "IN"], ["a", "DT"], ["key", "NN"], [".", "."], ["If", "IN"], ["the", "DT"], ["key", "NN"], ["'s", "POS"], ["already", "RB"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], ["then", "RB"], ["we", "PRP"], ["'re", "VBP"], ["just", "RB"], ["going", "VBG"], ["to", "TO"], ["reset", "VB"], ["the", "DT"], ["value", "NN"], [".", "."], ["If", "IN"], ["they", "PRP"], ["key", "VBP"], ["'s", "VBZ"], ["not", "RB"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], ["then", "RB"], ["we", "PRP"], ["add", "VBP"], ["a", "DT"], ["new", "JJ"], ["node", "NN"], ["at", "IN"], ["the", "DT"], ["bottom", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["tricky", "JJ"], ["the", "DT"], ["way", "NN"], ["that", "IN"], ["we", "PRP"], ["implement", "VBP"], ["it", "PRP"], ["since", "IN"], ["we", "PRP"], ["'re", "VBP"], ["using", "VBG"], ["we", "PRP"], ["use", "VBP"], ["a", "DT"], ["recursive", "JJ"], ["implementation", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["reason", "NN"], ["we", "PRP"], ["do", "VBP"], ["this", "DT"], ["is", "VBZ"], ["that", "IN"], ["it", "PRP"], ["generalizes", "VBZ"], ["to", "TO"], ["give", "VB"], ["us", "PRP"], ["more", "RBR"], ["efficient", "JJ"], ["data", "NN"], ["structures", "NNS"], ["later", "RB"], ["on", "IN"], [".", "."], ["So", "RB"], [",", ","], ["what", "WP"], ["we", "PRP"], ["'ll", "MD"], ["do", "VB"], ["is", "VBZ"], ["use", "VB"], ["a", "DT"], ["recursive", "JJ"], ["implementation", "NN"], ["that", "IN"], ["as", "IN"], ["it", "PRP"], ["moves", "VBZ"], ["down", "RP"], ["the", "DT"], ["tree", "NN"], ["it", "PRP"], ["'ll", "MD"], ["return", "VB"], ["a", "DT"], ["link", "NN"], ["up", "RP"], ["higher", "RBR"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], ["when", "WRB"], ["we", "PRP"], ["insert", "VBP"], ["a", "DT"], ["new", "JJ"], ["node", "NN"], ["L", "NNP"], ["say", "VBP"], ["in", "IN"], ["this", "DT"], ["tree", "NN"], ["we", "PRP"], ["go", "VBP"], ["down", "RP"], ["that", "DT"], ["path", "NN"], [",", ","], ["we", "PRP"], ["create", "VBP"], ["a", "DT"], ["new", "JJ"], ["node", "NN"], ["and", "CC"], ["then", "RB"], ["return", "VB"], ["the", "DT"], ["link", "NN"], ["to", "TO"], ["that", "DT"], ["node", "NN"], ["higher", "JJR"], ["up", "RB"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["ways", "NNS"], ["to", "TO"], ["implement", "VB"], ["that", "DT"], ["do", "VBP"], ["n't", "RB"], ["involve", "VB"], ["this", "DT"], [",", ","], ["but", "CC"], ["its", "PRP$"], [",", ","], ["the", "DT"], ["code", "NN"], ["is", "VBZ"], ["so", "RB"], ["simple", "JJ"], ["and", "CC"], ["it", "PRP"], ["extends", "VBZ"], ["to", "TO"], ["more", "RBR"], ["powerful", "JJ"], ["data", "NNS"], ["structures", "NNS"], ["later", "RB"], ["on", "IN"], ["that", "IN"], ["we", "PRP"], ["'ll", "MD"], ["introduce", "VB"], ["this", "DT"], ["right", "NN"], ["now", "RB"], ["and", "CC"], [",", ","], ["and", "CC"], ["you", "PRP"], ["'ll", "MD"], ["see", "VB"], ["how", "WRB"], ["it", "PRP"], ["works", "VBZ"], [".", "."], ["So", "NNP"], ["here", "RB"], ["'s", "VBZ"], ["the", "DT"], [",", ","], ["this", "DT"], ["is", "VBZ"], ["very", "RB"], ["concise", "JJ"], ["recursive", "JJ"], ["code", "NN"], ["but", "CC"], ["its", "PRP$"], ["tricky", "JJ"], ["because", "IN"], ["of", "IN"], ["that", "DT"], ["last", "JJ"], ["point", "NN"], ["so", "RB"], ["its", "PRP$"], ["worth", "NN"], ["reading", "VBG"], ["carefully", "RB"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["use", "VB"], ["a", "DT"], ["recursive", "JJ"], ["method", "NN"], ["put", "VBD"], [".", "."], ["That", "IN"], ["put", "VBD"], ["a", "DT"], ["associate", "NN"], ["a", "DT"], ["value", "NN"], ["with", "IN"], ["a", "DT"], ["key", "NN"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], [".", "."], ["And", "CC"], ["that", "IN"], ["recursive", "JJ"], ["[", "NNP"], ["cough", "NN"], ["]", "NNP"], ["method", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["return", "VB"], ["a", "DT"], ["node", "NN"], [".", "."], ["So", "IN"], ["the", "DT"], ["client", "NN"], ["method", "NN"], ["put", "NN"], ["of", "IN"], ["course", "NN"], [",", ","], ["just", "RB"], ["is", "VBZ"], ["supposed", "VBN"], ["to", "TO"], ["do", "VB"], ["the", "DT"], ["association", "NN"], ["so", "IN"], ["it", "PRP"], ["has", "VBZ"], ["a", "DT"], ["void", "JJ"], ["return", "NN"], [".", "."], ["But", "CC"], ["what", "WP"], ["we", "PRP"], ["'ll", "MD"], ["do", "VB"], ["is", "VBZ"], ["invoke", "VB"], ["a", "DT"], ["recursive", "JJ"], ["method", "NN"], ["starting", "VBG"], ["at", "IN"], ["the", "DT"], ["root", "NN"], ["and", "CC"], ["whatever", "WDT"], ["link", "VBP"], ["gets", "VBZ"], ["returned", "VBN"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["set", "VB"], ["that", "DT"], ["to", "TO"], ["root", "VB"], [".", "."], ["So", "RB"], ["right", "JJ"], ["away", "RB"], [",", ","], ["we", "PRP"], ["can", "MD"], ["see", "VB"], [",", ","], ["let", "VB"], ["'s", "POS"], ["suppose", "VB"], ["that", "IN"], ["we", "PRP"], ["have", "VBP"], ["an", "DT"], ["empty", "JJ"], ["tree", "NN"], ["where", "WRB"], ["root", "NN"], ["is", "VBZ"], ["null", "JJ"], [".", "."], ["So", "RB"], ["then", "RB"], ["if", "IN"], ["we", "PRP"], ["put", "VBP"], ["with", "IN"], ["null", "NN"], ["as", "IN"], ["the", "DT"], ["first", "JJ"], ["argument", "NN"], [",", ","], ["then", "RB"], ["null", "NN"], ["is", "VBZ"], ["the", "DT"], ["first", "JJ"], ["argument", "NN"], [".", "."], ["What", "WP"], ["we", "PRP"], ["do", "VBP"], ["is", "VBZ"], ["we", "PRP"], ["say", "VBP"], ["if", "IN"], [",", ","], ["if", "IN"], ["the", "DT"], ["argument", "NN"], ["is", "VBZ"], ["null", "JJ"], [",", ","], ["return", "VB"], ["a", "DT"], ["reference", "NN"], ["to", "TO"], ["a", "DT"], ["new", "JJ"], ["node", "NN"], ["that", "WDT"], ["associates", "VBZ"], ["key", "JJ"], ["with", "IN"], ["value", "NN"], ["and", "CC"], ["then", "RB"], ["that", "DT"], ["one", "NN"], ["has", "VBZ"], ["null", "JJ"], ["links", "NNS"], [".", "."], ["So", "RB"], ["in", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["that", "IN"], ["first", "JJ"], ["call", "NN"], ["will", "MD"], ["return", "VB"], ["a", "DT"], ["link", "NN"], ["and", "CC"], ["whatever", "WDT"], ["link", "VBP"], ["gets", "VBZ"], ["returned", "VBN"], [",", ","], ["that", "WDT"], ["will", "MD"], ["be", "VB"], ["set", "VBN"], ["to", "TO"], ["root", "VB"], [".", "."], ["So", "RB"], [",", ","], ["without", "IN"], ["any", "DT"], ["extra", "JJ"], ["special", "JJ"], ["code", "NN"], ["we", "PRP"], ["insert", "VBP"], ["a", "DT"], ["node", "NN"], ["into", "IN"], ["an", "DT"], ["empty", "JJ"], ["tree", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["works", "VBZ"], [",", ","], ["again", "RB"], [",", ","], ["recursively", "RB"], ["say", "VBP"], ["we", "PRP"], ["have", "VBP"], ["one", "CD"], ["node", "NN"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], [",", ","], ["and", "CC"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["new", "JJ"], ["key", "NN"], ["to", "TO"], ["associate", "VB"], [".", "."], ["And", "CC"], ["let", "VB"], ["'s", "POS"], ["say", "VB"], ["that", "IN"], ["key", "JJ"], ["is", "VBZ"], ["less", "RBR"], ["than", "IN"], ["the", "DT"], ["key", "NN"], ["at", "IN"], ["the", "DT"], ["root", "NN"], [".", "."], ["So", "RB"], [",", ","], ["so", "RB"], ["now", "RB"], ["we", "PRP"], ["do", "VBP"], ["put", "VBN"], ["in", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["actually", "RB"], ["a", "DT"], ["link", "NN"], ["to", "TO"], ["that", "DT"], ["one", "CD"], ["node", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["got", "VBD"], ["two", "CD"], ["null", "JJ"], ["links", "NNS"], [".", "."], ["So", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["null", "JJ"], ["so", "IN"], ["we", "PRP"], ["'ll", "MD"], ["compare", "VB"], ["our", "PRP$"], ["key", "NN"], ["against", "IN"], ["the", "DT"], ["key", "NN"], ["in", "IN"], ["that", "DT"], ["node", "NN"], [".", "."], ["If", "IN"], ["that", "DT"], ["comparison", "NN"], ["comes", "VBZ"], ["out", "RP"], ["left", "JJ"], [",", ","], ["here", "RB"], ["'s", "POS"], ["how", "WRB"], ["we", "PRP"], ["do", "VBP"], ["the", "DT"], ["insert", "NN"], [".", "."], ["We", "PRP"], ["change", "VBP"], ["our", "PRP$"], ["left", "NN"], ["link", "NN"], ["which", "WDT"], ["is", "VBZ"], ["right", "RB"], ["now", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["null", "JJ"], ["to", "TO"], ["whatever", "WDT"], ["put", "VB"], ["returns", "NNS"], [".", "."], ["So", "IN"], ["what", "WP"], ["'s", "VBZ"], ["put", "VBN"], ["going", "VBG"], ["to", "TO"], ["return", "VB"], ["?", "."], ["Well", "NNP"], [",", ","], ["that", "WDT"], ["left", "VBD"], ["link", "NN"], ["is", "VBZ"], ["null", "JJ"], [",", ","], ["so", "IN"], ["what", "WP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["happen", "VB"], ["is", "VBZ"], [",", ","], ["in", "IN"], ["that", "DT"], ["call", "NN"], ["x", "NN"], ["is", "VBZ"], ["null", "JJ"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["cre", "VBN"], ["ated", "VBN"], ["a", "DT"], ["new", "JJ"], ["node", "NN"], ["and", "CC"], ["the", "DT"], ["link", "NN"], ["to", "TO"], ["that", "DT"], ["node", "NN"], ["will", "MD"], ["be", "VB"], ["returned", "VBN"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["link", "NN"], ["that", "IN"], ["we", "PRP"], ["'ll", "MD"], ["put", "VB"], ["in", "IN"], ["the", "DT"], ["left", "NN"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["a", "DT"], ["very", "RB"], ["concise", "JJ"], ["code", "NN"], ["that", "WDT"], ["otherwise", "RB"], ["we", "PRP"], ["'d", "MD"], ["have", "VB"], ["various", "JJ"], ["cases", "NNS"], ["about", "IN"], ["saving", "VBG"], ["which", "WDT"], ["link", "VBP"], ["we", "PRP"], ["went", "VBD"], ["down", "RB"], ["in", "IN"], ["order", "NN"], ["to", "TO"], ["reset", "VB"], ["that", "IN"], ["later", "RB"], ["on", "IN"], [".", "."], ["So", "RB"], ["now", "RB"], ["the", "DT"], ["best", "JJS"], ["way", "NN"], ["having", "VBG"], ["looked", "VBN"], ["at", "IN"], ["those", "DT"], ["small", "JJ"], ["examples", "NNS"], [",", ","], ["the", "DT"], ["best", "JJS"], ["way", "NN"], ["to", "TO"], ["understand", "VB"], ["this", "DT"], ["code", "NN"], ["is", "VBZ"], ["recursively", "RB"], [".", "."], ["Let", "VB"], ["'s", "POS"], ["believe", "VB"], ["that", "IN"], ["it", "PRP"], ["works", "VBZ"], ["for", "IN"], ["small", "JJ"], ["cases", "NNS"], ["which", "WDT"], ["we", "PRP"], ["have", "VBP"], ["just", "RB"], ["done", "VBN"], [".", "."], ["So", "RB"], [",", ","], ["lets", "NNS"], ["see", "VBP"], ["what", "WP"], ["the", "DT"], ["code", "NN"], ["does", "VBZ"], [".", "."], ["So", "VB"], ["if", "IN"], ["x", "NN"], ["is", "VBZ"], ["null", "JJ"], [",", ","], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["create", "VB"], ["a", "DT"], ["new", "JJ"], ["node", "NN"], ["and", "CC"], ["return", "VB"], ["the", "DT"], ["link", "NN"], ["to", "TO"], ["that", "DT"], ["node", "NN"], [".", "."], ["So", "RB"], [",", ","], ["even", "RB"], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["huge", "JJ"], ["tree", "NN"], ["down", "RB"], ["at", "IN"], ["the", "DT"], ["bottom", "NN"], [",", ","], ["we", "PRP"], ["just", "RB"], ["came", "VBD"], ["of", "IN"], ["a", "DT"], ["null", "JJ"], ["link", "NN"], [".", "."], ["We", "PRP"], ["just", "RB"], ["want", "VBP"], ["to", "TO"], ["create", "VB"], ["a", "DT"], ["new", "JJ"], ["node", "NN"], ["with", "IN"], ["our", "PRP$"], ["new", "JJ"], ["key", "NN"], ["and", "CC"], ["return", "VB"], ["a", "DT"], ["link", "NN"], ["to", "TO"], ["that", "DT"], ["node", "NN"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["all", "DT"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["do", "VB"], [".", "."], ["Now", "RB"], [",", ","], ["we", "PRP"], ["can", "MD"], ["assume", "VB"], ["that", "IN"], ["put", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["return", "VB"], ["a", "DT"], ["link", "NN"], ["to", "TO"], ["a", "DT"], ["sub-tree", "JJ"], ["that", "WDT"], ["contains", "VBZ"], ["our", "PRP$"], ["new", "JJ"], ["key", "NN"], ["and", "CC"], ["if", "IN"], ["our", "PRP$"], ["new", "JJ"], ["key", "NN"], ["is", "VBZ"], ["smaller", "JJR"], ["than", "IN"], ["the", "DT"], ["key", "NN"], ["at", "IN"], ["the", "DT"], ["node", "NN"], ["that", "IN"], [",", ","], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["processing", "VBG"], ["now", "RB"], [",", ","], ["then", "RB"], ["[", "NNP"], ["cough", "NN"], ["]", "NN"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["insert", "VB"], ["the", "DT"], ["new", "JJ"], ["key", "JJ"], ["value", "NN"], ["there", "EX"], ["and", "CC"], ["the", "DT"], ["new", "JJ"], ["node", "NN"], ["on", "IN"], ["the", "DT"], ["left", "JJ"], ["otherwise", "NN"], [",", ","], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["insert", "VB"], ["on", "IN"], ["the", "DT"], ["right", "NN"], [".", "."], ["Most", "JJS"], ["of", "IN"], ["the", "DT"], ["time", "NN"], [",", ","], ["the", "DT"], ["link", "NN"], ["that", "IN"], ["we", "PRP"], ["get", "VBP"], ["back", "RB"], ["will", "MD"], ["be", "VB"], ["same", "JJ"], ["as", "IN"], ["the", "DT"], ["link", "NN"], ["that", "IN"], ["we", "PRP"], ["put", "VBP"], ["in", "IN"], ["but", "CC"], ["for", "IN"], ["the", "DT"], ["bottom", "JJ"], ["node", "NN"], ["it", "PRP"], ["will", "MD"], ["be", "VB"], ["different", "JJ"], [".", "."], ["So", "RB"], [",", ","], ["if", "IN"], ["put", "VBN"], ["works", "VBZ"], ["properly", "RB"], ["inserting", "VBG"], ["a", "DT"], ["new", "JJ"], ["node", "NN"], ["on", "IN"], ["the", "DT"], ["left", "NN"], [",", ","], ["then", "RB"], ["that", "DT"], ["'s", "VBZ"], ["what", "WP"], ["we", "PRP"], ["want", "VBP"], ["our", "PRP$"], ["left", "JJ"], ["link", "NN"], ["to", "TO"], ["be", "VB"], [".", "."], ["If", "IN"], ["it", "PRP"], ["works", "VBZ"], ["properly", "RB"], [",", ","], ["putting", "VBG"], ["in", "IN"], ["the", "DT"], ["subtree", "NN"], ["on", "IN"], ["the", "DT"], ["right", "NN"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["what", "WP"], ["we", "PRP"], ["want", "VBP"], ["our", "PRP$"], ["right", "JJ"], ["link", "NN"], ["to", "TO"], ["be", "VB"], [".", "."], ["And", "CC"], ["by", "IN"], ["the", "DT"], ["way", "NN"], [",", ","], ["if", "IN"], ["we", "PRP"], ["find", "VBP"], ["a", "DT"], ["key", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], ["already", "RB"], [",", ","], ["then", "RB"], ["we", "PRP"], ["just", "RB"], ["want", "VBP"], ["to", "TO"], ["reset", "VB"], ["the", "DT"], ["value", "NN"], [".", "."], ["And", "CC"], ["in", "IN"], ["all", "DT"], ["of", "IN"], ["these", "DT"], ["cases", "NNS"], ["where", "WRB"], ["we", "PRP"], ["'re", "VBP"], ["on", "IN"], ["a", "DT"], ["node", "NN"], ["that", "WDT"], ["already", "RB"], ["existed", "VBD"], [",", ","], ["we", "PRP"], ["just", "RB"], ["want", "VBP"], ["to", "TO"], ["return", "VB"], ["the", "DT"], ["link", "NN"], ["to", "TO"], ["that", "DT"], ["node", "NN"], [".", "."], ["Again", "NNP"], [",", ","], ["when", "WRB"], ["we", "PRP"], ["look", "VBP"], ["at", "IN"], ["more", "RBR"], ["sophisticated", "JJ"], ["values", "IN"], ["we", "PRP"], ["'ll", "MD"], ["be", "VB"], ["returning", "VBG"], ["something", "NN"], ["else", "RB"], [".", "."], ["So", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["worthwhile", "JJ"], ["you", "PRP"], ["know", "VBP"], [",", ","], ["checking", "VBG"], ["that", "IN"], ["you", "PRP"], ["believe", "VBP"], ["that", "IN"], ["this", "DT"], ["code", "NN"], ["implements", "VBZ"], ["the", "DT"], ["simple", "JJ"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], ["algorithm", "NN"], ["that", "IN"], ["we", "PRP"], ["demoed", "VBP"], ["where", "WRB"], ["when", "WRB"], ["we", "PRP"], ["fall", "VBP"], ["off", "RP"], ["a", "DT"], ["null", "JJ"], ["link", "NN"], ["we", "PRP"], ["created", "VBD"], ["a", "DT"], ["new", "JJ"], ["node", "NN"], ["and", "CC"], ["replaced", "VBD"], ["that", "IN"], ["null", "JJ"], ["link", "NN"], ["with", "IN"], ["the", "DT"], ["new", "JJ"], ["node", "NN"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["insert", "NN"], ["for", "IN"], ["a", "DT"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], ["in", "IN"], ["a", "DT"], ["symbol", "NN"], ["table", "NN"], [".", "."], ["And", "CC"], ["again", "RB"], [",", ","], ["the", "DT"], ["cost", "NN"], ["of", "IN"], ["this", "DT"], ["is", "VBZ"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["compares", "NNS"], ["is", "VBZ"], ["equal", "JJ"], ["to", "TO"], ["one", "CD"], ["plus", "CC"], ["the", "DT"], ["depth", "NN"], ["of", "IN"], ["the", "DT"], ["node", "NN"], [".", "."], ["We", "PRP"], ["just", "RB"], ["go", "VBP"], ["down", "RP"], ["a", "DT"], ["path", "NN"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["what", "WP"], ["'s", "VBZ"], ["interesting", "VBG"], ["about", "IN"], ["binary", "JJ"], ["search", "NN"], ["trees", "NNS"], ["is", "VBZ"], ["that", "IN"], ["there", "EX"], ["are", "VBP"], ["many", "JJ"], ["different", "JJ"], ["binary", "JJ"], ["search", "NN"], ["trees", "NNS"], ["that", "WDT"], ["correspond", "VBP"], ["to", "TO"], ["the", "DT"], ["same", "JJ"], ["set", "NN"], ["of", "IN"], ["keys", "NNS"], [".", "."], ["So", "IN"], ["the", "DT"], ["number", "NN"], ["it", "PRP"], ["compares", "VBZ"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["depend", "VB"], ["on", "IN"], ["the", "DT"], ["order", "NN"], ["in", "IN"], ["which", "WDT"], ["the", "DT"], ["keys", "NNS"], ["come", "VBP"], ["in", "IN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["key", "JJ"], ["feature", "NN"], ["of", "IN"], ["binary", "JJ"], ["search", "NN"], ["trees", "NNS"], ["that", "IN"], ["we", "PRP"], ["'ll", "MD"], ["come", "VB"], ["back", "RB"], ["to", "TO"], ["again", "RB"], ["when", "WRB"], ["we", "PRP"], ["look", "VBP"], ["at", "IN"], ["more", "RBR"], ["sophisticated", "JJ"], ["data", "NN"], ["structures", "NNS"], [".", "."], ["So", "IN"], ["it", "PRP"], ["depends", "VBZ"], ["on", "IN"], ["how", "WRB"], ["the", "DT"], ["keys", "NNS"], ["come", "VBP"], ["in", "IN"], [".", "."], ["The", "DT"], ["shape", "NN"], ["of", "IN"], ["the", "DT"], [",", ","], ["of", "IN"], ["the", "DT"], ["tree", "NN"], ["could", "MD"], ["be", "VB"], ["well", "RB"], ["in", "IN"], ["the", "DT"], ["best", "JJS"], ["case", "NN"], ["so", "IN"], ["it", "PRP"], ["would", "MD"], ["be", "VB"], ["perfectly", "RB"], ["balanced", "VBN"], [".", "."], ["And", "CC"], ["one", "CD"], ["of", "IN"], ["the", "DT"], ["things", "NNS"], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["is", "VBZ"], ["algorithms", "JJ"], ["that", "IN"], ["come", "JJ"], ["very", "RB"], [",", ","], ["very", "RB"], ["close", "RB"], ["to", "TO"], ["achieving", "VBG"], ["that", "DT"], ["goal", "NN"], [".", "."], ["The", "DT"], ["typical", "JJ"], [",", ","], ["typical", "JJ"], ["case", "NN"], ["it", "PRP"], ["'ll", "MD"], ["be", "VB"], ["sort", "NN"], ["of", "IN"], ["balanced", "JJ"], [".", "."], ["Now", "RB"], ["but", "CC"], ["one", "CD"], ["problem", "NN"], ["is", "VBZ"], ["if", "IN"], ["the", "DT"], ["keys", "NNS"], ["come", "VBP"], ["in", "IN"], ["and", "CC"], [",", ","], ["and", "CC"], ["really", "RB"], ["unfortunately", "RB"], [",", ","], ["if", "IN"], ["they", "PRP"], ["come", "VBP"], ["in", "IN"], [",", ","], ["in", "IN"], ["a", "DT"], ["natural", "JJ"], ["order", "NN"], [".", "."], ["Like", "IN"], ["if", "IN"], ["they", "PRP"], ["come", "VBP"], ["in", "IN"], [",", ","], ["in", "IN"], ["order", "NN"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["the", "DT"], ["worst", "JJS"], ["case", "NN"], [".", "."], ["We", "PRP"], ["do", "VBP"], ["n't", "RB"], ["get", "VB"], ["any", "DT"], ["benefit", "NN"], ["from", "IN"], ["having", "VBG"], ["it", "PRP"], ["in", "IN"], ["a", "DT"], ["tree", "JJ"], ["shape", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["no", "DT"], ["different", "JJ"], ["than", "IN"], ["a", "DT"], ["link", "JJ"], ["list", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["'ll", "MD"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["come", "VB"], ["back", "RB"], ["to", "TO"], ["dealing", "VBG"], ["with", "IN"], ["that", "DT"], ["worse", "JJR"], ["case", "NN"], ["in", "IN"], ["the", "DT"], ["next", "JJ"], ["lecture", "NN"], [".", "."], ["But", "CC"], ["the", "DT"], ["point", "NN"], ["is", "VBZ"], [",", ","], ["the", "DT"], ["tree", "JJ"], ["shape", "NN"], ["depends", "VBZ"], ["on", "IN"], ["the", "DT"], ["order", "NN"], ["of", "IN"], ["insertion", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["but", "CC"], ["let", "VBP"], ["'s", "PRP"], ["look", "VB"], ["at", "IN"], ["what", "WP"], ["'s", "VBZ"], ["happened", "VBD"], ["or", "CC"], ["visualize", "VB"], ["what", "WP"], ["happens", "VBZ"], ["when", "WRB"], ["keys", "NNS"], ["come", "VBP"], ["in", "IN"], [",", ","], ["in", "IN"], ["random", "JJ"], ["order", "NN"], [".", "."], ["So", "IN"], ["the", "DT"], ["tree", "NN"], ["grows", "VBZ"], ["from", "IN"], ["the", "DT"], ["bottom", "NN"], ["in", "IN"], ["the", "DT"], ["little", "JJ"], ["side", "NN"], ["to", "TO"], ["side", "VB"], ["motion", "NN"], ["it", "PRP"], ["'s", "VBZ"], ["just", "RB"], ["accommodating", "JJ"], ["room", "NN"], ["for", "IN"], ["each", "DT"], ["new", "JJ"], ["key", "NN"], ["as", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["added", "JJ"], [".", "."], ["But", "CC"], ["you", "PRP"], ["could", "MD"], ["see", "VB"], ["that", "IN"], ["even", "RB"], ["for", "IN"], ["this", "DT"], ["case", "NN"], ["which", "WDT"], ["is", "VBZ"], ["hundreds", "NNS"], ["of", "IN"], ["keys", "NNS"], [",", ","], ["the", "DT"], ["length", "NN"], ["of", "IN"], ["the", "DT"], ["path", "NN"], ["from", "IN"], ["top", "JJ"], ["to", "TO"], ["bottom", "VB"], ["is", "VBZ"], ["not", "RB"], ["so", "RB"], ["much", "JJ"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["the", "DT"], ["maximum", "JJ"], ["distance", "NN"], ["from", "IN"], ["the", "DT"], ["top", "NN"], ["to", "TO"], ["the", "DT"], ["bottom", "NN"], ["is", "VBZ"], ["sixteen", "JJ"], ["the", "DT"], ["average", "NN"], ["is", "VBZ"], ["only", "RB"], ["nine", "CD"], ["and", "CC"], ["the", "DT"], ["best", "JJS"], ["you", "PRP"], ["could", "MD"], ["in", "IN"], ["a", "DT"], ["perfectly", "RB"], ["balanced", "VBN"], ["tree", "IN"], ["it", "PRP"], ["would", "MD"], ["be", "VB"], ["seven", "CD"], [".", "."], ["So", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["pretty", "RB"], ["well", "RB"], ["balanced", "VBN"], ["which", "WDT"], ["means", "VBZ"], ["that", "IN"], ["our", "PRP$"], ["search", "NN"], ["and", "CC"], ["insert", "NN"], ["cost", "NN"], ["in", "IN"], ["this", "DT"], ["case", "NN"], ["for", "IN"], ["255", "CD"], ["keys", "NNS"], ["is", "VBZ"], ["only", "RB"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["sixteen", "JJ"], ["quite", "RB"], ["a", "DT"], ["bit", "NN"], ["less", "RBR"], [".", "."], ["So", "CC"], ["one", "CD"], ["remark", "NN"], ["before", "IN"], ["we", "PRP"], ["do", "VBP"], ["the", "DT"], ["analysis", "NN"], ["is", "VBZ"], ["that", "IN"], ["actually", "RB"], ["binary", "JJ"], ["search", "NN"], ["trees", "NNS"], ["correspond", "VBP"], ["exactly", "RB"], ["to", "TO"], ["Quicksort", "NNP"], ["partitioning", "VBG"], [".", "."], ["In", "IN"], ["the", "DT"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["node", "NN"], ["at", "IN"], ["the", "DT"], ["root", "NN"], ["and", "CC"], ["we", "PRP"], ["have", "VBP"], ["everybody", "VBN"], ["smaller", "JJR"], ["to", "TO"], ["the", "DT"], ["left", "NN"], [",", ","], ["and", "CC"], ["everybody", "NN"], ["larger", "JJR"], ["to", "TO"], ["the", "DT"], ["right", "NN"], [".", "."], ["In", "IN"], ["Quicksort", "NNP"], ["partitioning", "NN"], [",", ","], ["after", "IN"], ["the", "DT"], ["random", "NN"], ["shuffling", "VBG"], ["we", "PRP"], ["have", "VBP"], ["the", "DT"], ["partitioning", "NN"], ["element", "NN"], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["process", "VBP"], ["everybody", "NN"], ["to", "TO"], ["the", "DT"], ["left", "VBN"], ["independently", "RB"], ["of", "IN"], ["everybody", "NN"], ["to", "TO"], ["the", "DT"], ["right", "NN"], [".", "."], ["So", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["[", "JJ"], ["cough", "NN"], ["]", "NN"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["direct", "JJ"], ["correspondence", "NN"], [".", "."], ["If", "IN"], ["there", "EX"], ["is", "VBZ"], ["no", "DT"], ["duplicate", "JJ"], ["keys", "NNS"], ["Quicksort", "VBP"], ["processes", "VBZ"], ["them", "PRP"], ["and", "CC"], ["referred", "VBD"], ["them", "PRP"], ["out", "RP"], ["in", "IN"], ["BSTs", "NNP"], ["and", "CC"], ["if", "IN"], ["there", "EX"], ["'s", "VBZ"], ["no", "DT"], ["duplicate", "NN"], ["keys", "VBZ"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["one-to-one", "JJ"], ["correspondence", "NN"], ["between", "IN"], ["what", "WP"], ["happens", "VBZ"], ["with", "IN"], ["Quicksort", "NNP"], ["and", "CC"], ["what", "WP"], ["happens", "VBZ"], ["with", "IN"], ["binary", "JJ"], ["search", "NN"], ["trees", "NNS"], [".", "."], ["And", "CC"], ["we", "PRP"], ["point", "VBP"], ["that", "DT"], ["out", "RP"], ["because", "IN"], ["that", "DT"], ["helps", "VBZ"], ["with", "IN"], ["the", "DT"], ["mathematical", "JJ"], ["analysis", "NN"], [".", "."], ["In", "IN"], ["fact", "NN"], [",", ","], ["this", "DT"], ["correspondence", "NN"], ["with", "IN"], ["Quicksort", "NNP"], ["partitioning", "VBG"], ["tells", "NNS"], ["us", "PRP"], ["we", "PRP"], ["can", "MD"], ["take", "VB"], ["that", "DT"], ["proof", "NN"], ["and", "CC"], ["prove", "VB"], ["that", "IN"], ["if", "IN"], ["you", "PRP"], ["insert", "VBP"], ["in", "IN"], ["distinct", "JJ"], ["keys", "NNS"], ["into", "IN"], ["a", "DT"], ["BST", "NNP"], [",", ","], ["in", "IN"], ["random", "JJ"], ["order", "NN"], [",", ","], ["then", "RB"], ["the", "DT"], ["expected", "JJ"], ["number", "NN"], ["of", "IN"], ["compares", "NNS"], ["for", "IN"], ["a", "DT"], ["search", "NN"], ["and", "CC"], ["an", "DT"], ["insert", "NN"], ["is", "VBZ"], ["two", "CD"], ["natural", "JJ"], ["log", "NN"], ["N.", "NNP"], ["So", "NNP"], ["again", "RB"], ["about", "IN"], ["1.38", "CD"], ["log", "JJ"], ["base", "NN"], ["two", "CD"], ["of", "IN"], ["N", "NNP"], ["almost", "RB"], ["the", "DT"], ["best", "JJS"], ["that", "IN"], ["you", "PRP"], ["could", "MD"], ["do", "VB"], [".", "."], ["It", "PRP"], ["also", "RB"], ["has", "VBZ"], ["been", "VBN"], ["shown", "VBN"], ["actually", "RB"], ["not", "RB"], ["that", "IN"], ["long", "RB"], ["ago", "RB"], [",", ","], ["that", "IN"], ["the", "DT"], ["expected", "JJ"], ["height", "NN"], ["of", "IN"], ["the", "DT"], ["tree", "NN"], ["if", "IN"], ["they", "PRP"], ["'re", "VBP"], ["inserted", "VBN"], ["in", "IN"], ["random", "NN"], ["order", "NN"], [",", ","], ["the", "DT"], ["height", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["the", "DT"], ["worst", "JJS"], ["case", "NN"], ["length", "NN"], ["of", "IN"], ["a", "DT"], ["path", "NN"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["the", "DT"], ["average", "JJ"], ["path", "NN"], ["in", "IN"], ["a", "DT"], ["tree", "NN"], [",", ","], ["this", "DT"], ["is", "VBZ"], ["the", "DT"], [",", ","], ["the", "DT"], ["worst", "JJS"], ["of", "IN"], ["all", "PDT"], ["the", "DT"], ["keys", "NN"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["about", "IN"], ["four", "CD"], ["natural", "JJ"], ["log", "NN"], ["N.", "NNP"], ["So", "NNP"], [",", ","], ["if", "IN"], ["you", "PRP"], ["have", "VBP"], ["the", "DT"], ["keys", "NNS"], ["in", "IN"], ["random", "JJ"], ["order", "NN"], ["the", "DT"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], ["gives", "VBZ"], ["efficient", "JJ"], ["search", "NN"], ["and", "CC"], ["insert", "NN"], [".", "."], ["Now", "RB"], ["but", "CC"], ["there", "EX"], ["is", "VBZ"], ["this", "DT"], ["problem", "NN"], ["that", "IN"], ["the", "DT"], ["actual", "JJ"], ["worst", "JJS"], ["case", "NN"], ["height", "NN"], ["if", "IN"], ["the", "DT"], ["keys", "NNS"], ["come", "VBP"], ["in", "IN"], [",", ","], ["in", "IN"], ["order", "NN"], ["and", "CC"], ["reverse", "NN"], ["order", "NN"], ["and", "CC"], ["other", "JJ"], ["natural", "JJ"], ["orders", "NNS"], ["that", "IN"], ["the", "DT"], ["time", "NN"], ["could", "MD"], ["be", "VB"], ["proportional", "JJ"], ["to", "TO"], ["n.", "VB"], ["So", "RB"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["this", "DT"], ["summary", "NN"], ["which", "WDT"], ["is", "VBZ"], ["looking", "VBG"], ["pretty", "RB"], ["good", "JJ"], [",", ","], ["because", "IN"], ["we", "PRP"], ["have", "VBP"], ["the", "DT"], ["average", "JJ"], ["case", "NN"], ["for", "IN"], ["both", "DT"], ["operations", "NNS"], [",", ","], ["the", "DT"], ["search", "NN"], ["and", "CC"], ["insert", "NN"], [",", ","], ["to", "TO"], ["be", "VB"], ["1.39", "CD"], ["log", "JJ"], ["N", "NNP"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["probabilistic", "JJ"], ["if", "IN"], ["they", "PRP"], ["are", "VBP"], ["in", "IN"], ["random", "JJ"], ["order", "NN"], [",", ","], ["its", "PRP$"], ["extremely", "RB"], ["likely", "JJ"], ["to", "TO"], ["be", "VB"], ["there", "RB"], [".", "."], ["But", "CC"], ["the", "DT"], ["problem", "NN"], ["by", "IN"], ["comparison", "NN"], ["with", "IN"], ["sorting", "NN"], ["is", "VBZ"], [",", ","], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["get", "VB"], ["to", "TO"], ["randomize", "VB"], ["the", "DT"], ["order", "NN"], ["the", "DT"], ["client", "NN"], ["is", "VBZ"], ["providing", "VBG"], ["the", "DT"], ["keys", "NNS"], [".", "."], ["So", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["need", "VB"], ["something", "NN"], ["better", "JJR"], ["to", "TO"], ["provide", "VB"], ["the", "DT"], ["guarantee", "NN"], ["than", "IN"], ["just", "RB"], ["randomly", "VB"], ["ordering", "VBG"], ["the", "DT"], ["keys", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["what", "WP"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["looking", "VBG"], ["at", "IN"], ["next", "JJ"], ["when", "WRB"], ["we", "PRP"], ["look", "VBP"], ["at", "IN"], ["more", "RBR"], ["efficient", "JJ"], ["algorithms", "NN"], [".", "."], ["But", "CC"], ["first", "JJ"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["the", "DT"], ["implementation", "NN"], ["of", "IN"], ["order", "NN"], ["and", "CC"], ["operations", "NNS"], ["with", "IN"], ["the", "DT"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], ["structure", "NN"], [".", "."], ["It", "PRP"], ["expands", "VBZ"], ["like", "IN"], ["binary", "JJ"], ["search", "NN"], ["to", "TO"], ["handle", "VB"], ["all", "PDT"], ["these", "DT"], ["convenient", "JJ"], ["client", "NN"], ["operations", "NNS"], ["in", "IN"], ["a", "DT"], ["very", "RB"], ["natural", "JJ"], ["manner", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["the", "DT"], ["implementation", "NN"], ["of", "IN"], ["binary", "JJ"], ["search", "NN"], ["trees", "NNS"], ["for", "IN"], ["symbol", "NN"], ["tables", "NNS"], [".", "."], ["They", "PRP"], ["give", "VBP"], ["sufficient", "JJ"], ["implementation", "NN"], ["of", "IN"], ["both", "DT"], ["search", "NN"], ["and", "CC"], ["insert", "NN"], [".", "."]], "title": "binary search trees", "text": "Welcome back. Next we're going to talk about Binary Search Trees, a classic data structures that'll enables us to provide efficient implementation of symbol table and out rhythms. [cough] Let's look at the basic Binary Search Tree data structure with Heaps we talk about implicit representation of trees with an array. For Binary Search Trees we're going to talk about actually explicit tree data structures. A binary search tree is a binary tree in symmetric order. Let's look at the meaning of those words. So, a binary tree is an explicit data structure. It's got what we call nodes which contain information and every node's got two links to Binary Trees that are disjoint from one another, a left tree and right tree associated with each node. Each node has a left tree and a right tree. Links can be null. Left tree can be null and right tree can be null or both. We refer to every node in the tree as the root of a sub-tree and [cough] referred to, the nodes below. Each node is its children so this is the right child of the root. And that's a left link, and so forth. So that's the definition of a binary tree. A binary search tree, each node has a key and every nodes key is larger than all the keys in its left subtree and smaller than all the keys in its right subtree. This is a different ordering than we have to heap if we have a node larger than both its children, this one, every node is between the values, the value of every node is between the values of the nodes in its two subtrees. So the nodes to the left of e are smaller and nodes to the right of e are larger. [cough] now we're going to use these to implement symbol tables and there's values associated with each key when appropriate, we'll write the values in smaller numbers next to the keys. But usually, we're just going to worry about the keys and we'll keep the values, in the nodes along with them [cough] so that's binary search trees. A binary tree in symmetric order that's the data structur e that we're going to use to implement symbol table operations. So how are we're going to represent binary search trees in Java? Well, we're going to extend our implementations of linked list structures to have two references instead of just one. So first of all, is the, there's a node at the root. So, a binary search tree in Java is just going to be referenced to a root node. And every node's got four fields, a key and a value, and references to the left subtree, that contains the smaller keys, and the right subtree that contains the larger keys. So, here's what the, [cough] code is based on. The, inner class that we used to implement nodes has, one, two, three, four instance variables. All of which are private as usual. A key of type key, a value of type value and then references to a left and a right node. For convenience, we'll provide a constructor that takes the key and value as argument and fills in the key and value instance variables then the left and right links are initialized to null. And our data structure then will be a root that points to a node in the tree and then that node will point to subtrees and that will be the data structure that we use for symbol tables. So here's the skeleton of our symbol table implementation. It's for comparable keys associated with values and those are both generic types. The only instance variable is a link to the root node called root. The inner class node is the code that was given on the previous slide, and then we'll need implementations of put and get, and we'll also look at an implementation of delete, and an iterator as well. So that's our skeleton implementation, let's look at the keys. So let's look at search first. So here's a binary search tree let's do a demo of what different searches will look like in this tree. So there's a tree so S is at the root everybody to the left of is less than S over to the right is bigger. So this is a dynamic data structure that kind of follows the same rule as binary search. So to look for a, to do a search for the key H in this tree, we start at the root and we compare our key against the key at the root. And in this case, H is less so all that says to us is that if H is in the tree, it has to be to the left cuz everybody to the right is greater than S. So we move to the left and compare H against the root of the left subtree. In this case that's E. Now H is greater so that says we should go right. Now we can pair H against the root of the right subtree of E, and that's R and it's less so we have to go left cuz everybody to the right of R is bigger and H is smaller. And eventually if the key is in the tree, we're going to hit it. In this case we, we find H as the left sub tree of R in [cough] that's a search hit and then for the get operation, we can return the value that's stored in that node along with the key H. What about an unsuccessful search? Well the same rules follow. If it's in the tree, it's gotta be according to the left or right, according to whether it's smaller or larger than the key at the route. In this case, if we're searching for G, it's gotta go left, because it's less than S. When we come against the E, we gotta go right because it's bigger than E against the R, we have to go left, because it's less than R. We come against the H, we have to go left. And then we come off a null link, and all that says is that there's no place in this tree where G could be so G is not there. So that's a search miss. And the get operation would return null in that case. What about insertion? Well, to insert a new key, all we do is follow the same steps as we did for search. That following off that null link and again, we'll just, for G, travel down the tree until we come to the, null link. Really, what we're saying is when we go to the left link of H, it says, if G is in the tree, it has to be down this link. Since it's not there to in sert G, all we need to do is just put it there and that's how we insert a new node into a binary search tree. Alright, here's the code corresponding to the process that we just demo. And it's quite straight forward simple code as simple as binary search really. We start at the root then we set variable x to be the root and that's going to be the pointer to the current node as we move down the tree. As long as our, our current node x is not null what we'll want to do is a comparison between the key at node x and our search key. If our search key is less, we go to the left. If it's greater we go to the right. And if it's equal we don't even have to test that, that's why it's in grey. If it's not greater or lesser it has to be equal, than we return the value right at that node. If we get to the bottom and our current node is null and that's falling off the bottom of the tree we return null and that's equivalent to saying our buyer convention that, that key is not in our data structure, or not in our symbol table. So that's very straightforward implementation of the get operation for symbol tables with a binary search tree representation. Now, what's the cost? Well, we went down a path in the tree so it's one plus the depth of the node in the tree. [cough] So what about search well search for put there's two cases. If the if we're supposed to associate a value with a key. If the key's already in the tree then we're just going to reset the value. If they key's not in the tree then we add a new node at the bottom. So now it's a little bit tricky the way that we implement it since we're using we use a recursive implementation. And the reason we do this is that it generalizes to give us more efficient data structures later on. So, what we'll do is use a recursive implementation that as it moves down the tree it'll return a link up higher in the tree. And so when we insert a new node L say in this tree we go down that path, we create a new node and then return the link to that node higher up. There's ways to implement that don't involve this, but its, the code is so simple and it extends to more powerful data structures later on that we'll introduce this right now and, and you'll see how it works. So here's the, this is very concise recursive code but its tricky because of that last point so its worth reading carefully. So, we're going to use a recursive method put. That put a associate a value with a key in the tree. And that recursive [cough] method is going to return a node. So the client method put of course, just is supposed to do the association so it has a void return. But what we'll do is invoke a recursive method starting at the root and whatever link gets returned, we'll set that to root. So right away, we can see, let's suppose that we have an empty tree where root is null. So then if we put with null as the first argument, then null is the first argument. What we do is we say if, if the argument is null, return a reference to a new node that associates key with value and then that one has null links. So in this case, that first call will return a link and whatever link gets returned, that will be set to root. So, without any extra special code we insert a node into an empty tree. And that works, again, recursively say we have one node in the tree, and we have a new key to associate. And let's say that key is less than the key at the root. So, so now we do put in it's actually a link to that one node that's got two null links. So it's not null so we'll compare our key against the key in that node. If that comparison comes out left, here's how we do the insert. We change our left link which is right now it's null to whatever put returns. So what's put going to return? Well, that left link is null, so what's going to happen is, in that call x is null. It's going to be cre ated a new node and the link to that node will be returned and that's the link that we'll put in the left. This is a very concise code that otherwise we'd have various cases about saving which link we went down in order to reset that later on. So now the best way having looked at those small examples, the best way to understand this code is recursively. Let's believe that it works for small cases which we have just done. So, lets see what the code does. So if x is null, we want to create a new node and return the link to that node. So, even if it's a huge tree down at the bottom, we just came of a null link. We just want to create a new node with our new key and return a link to that node, that's all we want to do. Now, we can assume that put is going to return a link to a sub-tree that contains our new key and if our new key is smaller than the key at the node that, that we're processing now, then [cough] we want to insert the new key value there and the new node on the left otherwise, we want to insert on the right. Most of the time, the link that we get back will be same as the link that we put in but for the bottom node it will be different. So, if put works properly inserting a new node on the left, then that's what we want our left link to be. If it works properly, putting in the subtree on the right, that's what we want our right link to be. And by the way, if we find a key that's in the tree already, then we just want to reset the value. And in all of these cases where we're on a node that already existed, we just want to return the link to that node. Again, when we look at more sophisticated values we'll be returning something else. So it's worthwhile you know, checking that you believe that this code implements the simple binary search tree algorithm that we demoed where when we fall off a null link we created a new node and replaced that null link with the new node . So that's insert for a binary search tree in a symbol table. And again, the cost of this is the number of compares is equal to one plus the depth of the node. We just go down a path in the tree. Now, what's interesting about binary search trees is that there are many different binary search trees that correspond to the same set of keys. So the number it compares is going to depend on the order in which the keys come in. And that's a key feature of binary search trees that we'll come back to again when we look at more sophisticated data structures. So it depends on how the keys come in. The shape of the, of the tree could be well in the best case so it would be perfectly balanced. And one of the things we'll look at is algorithms that come very, very close to achieving that goal. The typical, typical case it'll be sort of balanced. Now but one problem is if the keys come in and, and really unfortunately, if they come in, in a natural order. Like if they come in, in order, that's the worst case. We don't get any benefit from having it in a tree shape. It's no different than a link list. So we'll, we'll come back to dealing with that worse case in the next lecture. But the point is, the tree shape depends on the order of insertion. Now, but let's look at what's happened or visualize what happens when keys come in, in random order. So the tree grows from the bottom in the little side to side motion it's just accommodating room for each new key as it's added. But you could see that even for this case which is hundreds of keys, the length of the path from top to bottom is not so much. In this case, the maximum distance from the top to the bottom is sixteen the average is only nine and the best you could in a perfectly balanced tree it would be seven. So it's pretty well balanced which means that our search and insert cost in this case for 255 keys is only going to be sixteen quite a bit less. So one remark before we do the analysis is that actually binary search trees correspond exactly to Quicksort partitioning. In the binary search tree, we have a node at the root and we have everybody smaller to the left, and everybody larger to the right. In Quicksort partitioning, after the random shuffling we have the partitioning element and then we process everybody to the left independently of everybody to the right. So it's a [cough] there's a direct correspondence. If there is no duplicate keys Quicksort processes them and referred them out in BSTs and if there's no duplicate keys there's a one-to-one correspondence between what happens with Quicksort and what happens with binary search trees. And we point that out because that helps with the mathematical analysis. In fact, this correspondence with Quicksort partitioning tells us we can take that proof and prove that if you insert in distinct keys into a BST, in random order, then the expected number of compares for a search and an insert is two natural log N. So again about 1.38 log base two of N almost the best that you could do. It also has been shown actually not that long ago, that the expected height of the tree if they're inserted in random order, the height that's the worst case length of a path in the tree. This is the average path in a tree, this is the, the worst of all the keys. This is about four natural log N. So, if you have the keys in random order the binary search tree gives efficient search and insert. Now but there is this problem that the actual worst case height if the keys come in, in order and reverse order and other natural orders that the time could be proportional to n. So, we have this summary which is looking pretty good, because we have the average case for both operations, the search and insert, to be 1.39 log N and that's probabilistic if they are in random order, its extremely likely to be there. But the problem by comparison with sorting is, we don't get to randomize the order the client is providing the keys. So we're going to need something better to provide the guarantee than just randomly ordering the keys. That's what we're going to be looking at next when we look at more efficient algorithms. But first we're going to look at the implementation of order and operations with the binary search tree structure. It expands like binary search to handle all these convenient client operations in a very natural manner. That's the implementation of binary search trees for symbol tables. They give sufficient implementation of both search and insert. ", "video_ID": 41, "course_id": 3}
{"category": ["elementary symbol tables"], "tagged": [["Now", "RB"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["take", "VB"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["ordered", "JJ"], ["symbol", "NN"], ["table", "JJ"], ["operations", "NNS"], ["using", "VBG"], ["the", "DT"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], ["data", "NNS"], ["structure", "NN"], ["as", "IN"], ["the", "DT"], ["underlying", "JJ"], ["implementation", "NN"], [".", "."], ["Well", "NNP"], [",", ","], ["each", "DT"], ["one", "CD"], ["of", "IN"], ["these", "DT"], ["operations", "NNS"], ["are", "VBP"], ["fairly", "RB"], ["straight", "JJ"], ["forward", "RB"], ["but", "CC"], ["just", "RB"], ["to", "TO"], ["check", "VB"], ["our", "PRP$"], ["ability", "NN"], ["to", "TO"], ["manipulate", "VB"], ["this", "DT"], ["data", "NN"], ["structure", "NN"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["take", "VB"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["each", "DT"], [".", "."], ["Suppose", "NNP"], [",", ","], ["we", "PRP"], ["wanted", "VBD"], ["to", "TO"], ["find", "VB"], ["the", "DT"], ["minimum", "JJ"], ["key", "NN"], ["in", "IN"], ["a", "DT"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], [",", ","], ["or", "CC"], ["the", "DT"], ["maximum", "JJ"], ["key", "NN"], [".", "."], ["Well", "NNP"], [",", ","], ["just", "RB"], ["looking", "VBG"], ["at", "IN"], ["one", "CD"], ["example", "NN"], ["you", "PRP"], ["can", "MD"], ["see", "VB"], ["almost", "RB"], ["immediately", "RB"], ["what", "WP"], ["to", "TO"], ["do", "VB"], ["to", "TO"], ["find", "VB"], ["the", "DT"], ["minimum", "NN"], [",", ","], ["we", "PRP"], ["move", "VBP"], ["left", "RB"], ["from", "IN"], ["the", "DT"], ["root", "NN"], ["until", "IN"], ["we", "PRP"], ["find", "VBP"], ["a", "DT"], ["null", "JJ"], ["key", "NN"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["where", "WRB"], ["the", "DT"], ["smallest", "JJS"], ["key", "NN"], ["in", "IN"], ["the", "DT"], ["data", "NN"], ["structure", "NN"], ["is", "VBZ"], [".", "."], ["To", "TO"], ["find", "VB"], ["the", "DT"], ["maximum", "JJ"], [",", ","], ["we", "PRP"], ["move", "VBP"], ["right", "RB"], ["from", "IN"], ["the", "DT"], ["root", "NN"], [",", ","], ["until", "IN"], ["we", "PRP"], ["find", "VBP"], ["a", "DT"], ["null", "JJ"], ["key", "NN"], [".", "."], ["What", "WP"], ["about", "IN"], ["floor", "NN"], ["and", "CC"], ["ceiling", "NN"], ["?", "."], ["Well", "UH"], [",", ","], ["those", "DT"], ["are", "VBP"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["more", "RBR"], ["complicated", "JJ"], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["have", "VB"], ["to", "TO"], [",", ","], ["not", "RB"], ["quite", "RB"], ["the", "DT"], ["same", "JJ"], ["as", "IN"], ["in", "IN"], ["the", "DT"], ["ordered", "JJ"], ["array", "NN"], ["for", "IN"], ["the", "DT"], ["binary", "JJ"], ["search", "NN"], ["so", "IN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["do", "VB"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["more", "RBR"], ["work", "NN"], ["for", "IN"], ["that", "DT"], [".", "."], ["So", "RB"], ["just", "RB"], ["for", "IN"], ["example", "NN"], [",", ","], ["let", "VB"], ["'s", "POS"], ["take", "VB"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["the", "DT"], ["problem", "NN"], ["of", "IN"], ["computing", "VBG"], ["the", "DT"], ["floor", "NN"], [".", "."], ["So", "RB"], [",", ","], ["what", "WP"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["find", "VB"], ["is", "VBZ"], ["so", "RB"], ["say", "JJ"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["seeking", "VBG"], ["the", "DT"], ["floor", "NN"], ["of", "IN"], ["G.", "NNP"], ["So", "NNP"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["the", "DT"], ["largest", "JJS"], ["key", "NN"], ["in", "IN"], ["the", "DT"], ["data", "NN"], ["structure", "NN"], ["that", "WDT"], ["is", "VBZ"], ["less", "JJR"], ["than", "IN"], ["G.", "NNP"], ["In", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["the", "DT"], ["answer", "NN"], ["is", "VBZ"], ["E.", "NNP"], ["So", "NNP"], ["let", "VB"], ["'s", "POS"], ["just", "RB"], ["take", "VB"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["what", "WP"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["do", "VB"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], [",", ","], ["the", "DT"], ["path", "NN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["take", "VB"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], ["to", "TO"], ["figure", "VB"], ["that", "DT"], ["out", "RP"], [".", "."], ["Well", "NNP"], ["so", "RB"], [",", ","], ["we", "PRP"], ["are", "VBP"], ["looking", "VBG"], ["for", "IN"], ["the", "DT"], ["largest", "JJS"], ["key", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["less", "JJR"], ["than", "IN"], ["G.", "NNP"], ["And", "CC"], ["have", "VBP"], ["S", "NNP"], ["well", "RB"], [",", ","], ["that", "IN"], ["key", "JJ"], ["is", "VBZ"], ["definitely", "RB"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["in", "IN"], ["the", "DT"], ["left", "JJ"], ["subtree", "NN"], [".", "."], ["Its", "PRP$"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["bigger", "JJR"], ["than", "IN"], ["S", "NNP"], ["because", "IN"], ["S", "NNP"], ["is", "VBZ"], ["bigger", "JJR"], ["than", "IN"], ["G", "NNP"], ["so", "IN"], ["we", "PRP"], ["go", "VBP"], ["to", "TO"], ["the", "DT"], ["left", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], [",", ","], ["we", "PRP"], ["are", "VBP"], ["sitting", "VBG"], ["at", "IN"], ["E.", "NNP"], ["And", "CC"], ["so", "RB"], ["what", "WP"], ["'s", "VBZ"], ["the", "DT"], ["largest", "JJS"], ["key", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["less", "JJR"], ["than", "IN"], ["G", "NNP"], ["in", "IN"], ["this", "DT"], [",", ","], ["in", "IN"], ["this", "DT"], ["tree", "NN"], ["here", "RB"], [".", "."], ["Well", "UH"], [",", ","], ["it", "PRP"], ["might", "MD"], ["be", "VB"], ["E", "VBN"], ["but", "CC"], ["there", "EX"], ["'s", "VBZ"], ["no", "DT"], ["way", "NN"], ["it", "PRP"], ["'s", "VBZ"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["of", "IN"], ["E", "NNP"], ["because", "IN"], ["those", "DT"], ["keys", "NNS"], ["are", "VBP"], ["all", "DT"], ["smaller", "JJR"], ["than", "IN"], ["E", "NNP"], ["and", "CC"], ["therefore", "RB"], ["smaller", "JJR"], ["than", "IN"], ["G.", "NNP"], ["So", "NNP"], [",", ","], ["E", "NNP"], ["is", "VBZ"], ["a", "DT"], ["key", "JJ"], ["candidate", "NN"], [".", "."], ["But", "CC"], ["it", "PRP"], ["might", "MD"], ["also", "RB"], ["be", "VB"], ["in", "IN"], ["the", "DT"], ["right", "NN"], ["so", "IN"], ["we", "PRP"], ["move", "VBP"], ["to", "TO"], ["the", "DT"], ["right", "NN"], ["in", "IN"], ["this", "DT"], ["case", "NN"], [".", "."], ["Alright", "NNP"], ["[", "NNP"], ["cough", "NN"], ["]", "NN"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["[", "JJ"], ["cough", "NN"], ["]", "NN"], ["if", "IN"], ["K", "NNP"], ["is", "VBZ"], ["equal", "JJ"], ["to", "TO"], ["the", "DT"], ["key", "NN"], ["at", "IN"], ["the", "DT"], ["root", "NN"], [",", ","], ["the", "DT"], ["floor", "NN"], ["of", "IN"], ["K", "NNP"], ["is", "VBZ"], ["K.", "NNP"], ["If", "IN"], ["K", "NNP"], ["is", "VBZ"], ["less", "JJR"], ["than", "IN"], ["the", "DT"], ["key", "NN"], [",", ","], ["it", "PRP"], ["roots", "VBZ"], ["i", "JJ"], ["n", "VBP"], ["the", "DT"], ["left", "JJ"], ["subtree", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["the", "DT"], ["one", "CD"], ["we", "PRP"], ["just", "RB"], ["did", "VBD"], [".", "."], ["If", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["greater", "JJR"], ["than", "IN"], ["the", "DT"], ["key", "NN"], ["at", "IN"], ["the", "DT"], ["root", "NN"], [".", "."], ["The", "DT"], ["floor", "NN"], ["of", "IN"], ["K", "NNP"], ["is", "VBZ"], ["in", "IN"], ["the", "DT"], ["right", "JJ"], ["subtree", "NN"], [",", ","], ["if", "IN"], ["there", "EX"], ["is", "VBZ"], ["any", "DT"], ["key", "JJ"], ["smaller", "JJR"], ["than", "IN"], ["K", "NNP"], ["in", "IN"], ["the", "DT"], ["right", "JJ"], ["subtree", "NN"], [".", "."], ["So", "RB"], [",", ","], ["in", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["no", "DT"], ["key", "JJ"], ["smaller", "JJR"], ["than", "IN"], ["G", "NNP"], ["in", "IN"], ["the", "DT"], ["right", "JJ"], ["subtree", "NN"], [".", "."], ["So", "RB"], ["therefore", "RB"], [",", ","], ["the", "DT"], ["answer", "NN"], ["is", "VBZ"], ["E.", "NNP"], ["So", "NNP"], [",", ","], ["our", "PRP$"], ["code", "NN"], ["has", "VBZ"], ["to", "TO"], ["check", "VB"], ["for", "IN"], ["these", "DT"], ["three", "CD"], ["cases", "NNS"], [".", "."], ["And", "CC"], ["here", "RB"], ["'s", "VBZ"], ["the", "DT"], ["code", "NN"], ["that", "WDT"], ["does", "VBZ"], ["it", "PRP"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["that", "RB"], ["much", "JJ"], ["code", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["just", "RB"], ["complicated", "VBN"], ["code", "NN"], ["to", "TO"], ["understand", "VB"], [".", "."], ["So", "RB"], ["if", "IN"], ["we", "PRP"], ["find", "VBP"], ["our", "PRP$"], ["key", "NN"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["the", "DT"], ["floor", "NN"], [".", "."], ["If", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["we", "PRP"], ["find", "VBP"], ["the", "DT"], ["floor", "NN"], [",", ","], ["the", "DT"], ["one", "NN"], ["on", "IN"], ["the", "DT"], ["left", "NN"], [".", "."], ["And", "CC"], ["in", "IN"], ["on", "IN"], ["the", "DT"], ["right", "NN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["do", "VB"], ["a", "DT"], [",", ","], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["of", "IN"], ["tricky", "JJ"], ["code", "NN"], ["to", "TO"], ["make", "VB"], ["sure", "JJ"], ["that", "IN"], ["we", "PRP"], ["return", "VBP"], ["the", "DT"], ["floor", "NN"], ["on", "IN"], ["the", "DT"], ["right", "JJ"], ["subtree", "NN"], [",", ","], ["if", "IN"], ["there", "EX"], ["'s", "VBZ"], ["some", "DT"], ["tree", "NN"], ["there", "RB"], [".", "."], ["If", "IN"], ["there", "EX"], ["'s", "VBZ"], [",", ","], ["if", "IN"], ["there", "EX"], ["'s", "VBZ"], ["no", "DT"], ["node", "NN"], ["there", "RB"], ["then", "RB"], [",", ","], ["then", "RB"], [",", ","], ["then", "RB"], ["we", "PRP"], [",", ","], ["we", "PRP"], ["return", "VBP"], ["the", "DT"], ["root", "NN"], ["itself", "PRP"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], [",", ","], ["a", "DT"], ["implementation", "NN"], ["that", "IN"], [",", ","], ["that", "DT"], ["code", "NN"], ["is", "VBZ"], ["definitely", "RB"], ["tricky", "JJ"], ["and", "CC"], ["a", "DT"], ["similar", "JJ"], ["code", "NN"], ["for", "IN"], ["ceiling", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], [",", ","], ["what", "WP"], ["about", "IN"], ["operations", "NNS"], ["like", "IN"], ["rank", "NN"], ["and", "CC"], ["select", "VB"], ["?", "."], ["How", "WRB"], ["many", "JJ"], ["keys", "NNS"], ["are", "VBP"], ["there", "RB"], ["less", "JJR"], ["than", "IN"], ["a", "DT"], ["given", "VBN"], ["key", "NN"], ["?", "."], ["And", "CC"], [",", ","], ["give", "VB"], ["us", "PRP"], ["the", "DT"], ["seventh", "JJ"], ["largest", "JJS"], ["key", "NN"], ["to", "TO"], ["facilitate", "VB"], ["implementing", "VBG"], ["those", "DT"], ["operations", "NNS"], ["and", "CC"], ["also", "RB"], ["size", "NN"], ["all", "DT"], ["we", "PRP"], ["do", "VBP"], ["is", "VBZ"], ["keep", "VB"], ["an", "DT"], ["extra", "JJ"], ["field", "NN"], ["in", "IN"], ["each", "DT"], ["node", "NN"], [",", ","], ["which", "WDT"], ["is", "VBZ"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["the", "DT"], ["nodes", "NNS"], ["in", "IN"], ["the", "DT"], ["subtree", "NN"], ["rooted", "VBN"], ["at", "IN"], ["that", "DT"], ["node", "NN"], [".", "."], ["So", "RB"], [",", ","], ["this", "DT"], ["tree", "NN"], ["has", "VBZ"], ["got", "VBN"], ["eight", "CD"], ["nodes", "NNS"], ["in", "IN"], ["it", "PRP"], [".", "."], ["This", "DT"], ["subtree", "NN"], ["has", "VBZ"], ["six", "CD"], ["nodes", "NNS"], ["in", "IN"], ["it", "PRP"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["And", "CC"], ["those", "DT"], ["counts", "NNS"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["not", "RB"], ["only", "RB"], ["enable", "JJ"], ["us", "PRP"], ["to", "TO"], ["immediately", "RB"], ["implement", "VB"], ["the", "DT"], ["size", "NN"], ["function", "NN"], [",", ","], ["just", "RB"], ["return", "VB"], ["the", "DT"], ["count", "NN"], ["at", "IN"], ["the", "DT"], ["root", "NN"], ["but", "CC"], ["also", "RB"], [",", ","], ["they", "PRP"], ["'ll", "MD"], ["give", "VB"], ["us", "PRP"], ["good", "JJ"], ["implementations", "NNS"], ["of", "IN"], ["rank", "NN"], ["and", "CC"], ["select", "NN"], [".", "."], ["So", "RB"], [",", ","], ["let", "VB"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["those", "DT"], ["now", "RB"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["add", "VBP"], ["account", "JJ"], ["field", "NN"], ["to", "TO"], ["every", "DT"], ["node", "NN"], ["and", "CC"], ["then", "RB"], ["to", "TO"], ["implement", "VB"], ["the", "DT"], ["size", "NN"], ["function", "NN"], ["well", "RB"], [",", ","], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["null", "JJ"], [",", ","], ["we", "PRP"], ["return", "VBP"], ["zero", "CD"], [".", "."], ["So", "CC"], ["a", "DT"], ["client", "NN"], ["might", "MD"], ["call", "VB"], ["us", "PRP"], ["for", "IN"], ["a", "DT"], ["null", "JJ"], ["tree", "NN"], ["or", "CC"], ["[", "JJ"], ["cough", "NN"], ["]", "NN"], ["or", "CC"], ["an", "DT"], ["empty", "JJ"], ["tree", "NN"], [".", "."], ["Otherwise", "IN"], ["we", "PRP"], ["return", "VBP"], [",", ","], ["x.count", "NNP"], [",", ","], ["which", "WDT"], ["is", "VBZ"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["nodes", "NNS"], ["in", "IN"], ["that", "DT"], [",", ","], ["in", "IN"], ["that", "DT"], ["subtree", "NN"], ["by", "IN"], ["definition", "NN"], [".", "."], ["The", "DT"], ["way", "NN"], ["we", "PRP"], ["maintain", "VBP"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["number", "NN"], ["of", "IN"], ["ways", "NNS"], ["we", "PRP"], ["can", "MD"], ["maintain", "VB"], ["the", "DT"], ["thing", "NN"], ["but", "CC"], ["the", "DT"], ["one", "NN"], ["that", "WDT"], ["we", "PRP"], ["'ll", "MD"], ["adopt", "VB"], ["un", "JJ"], ["iformly", "RB"], ["because", "IN"], ["it", "PRP"], ["adapts", "VBZ"], ["to", "TO"], ["more", "RBR"], ["complicated", "JJ"], ["situations", "NNS"], ["is", "VBZ"], ["just", "RB"], ["before", "IN"], ["we", "PRP"], ["'re", "VBP"], ["done", "VBN"], ["with", "IN"], ["the", "DT"], ["put", "NN"], ["operation", "NN"], ["we", "PRP"], ["'ll", "MD"], ["say", "VB"], [",", ","], ["okay", "IN"], ["we", "PRP"], ["'ve", "VBP"], ["done", "VBN"], ["all", "DT"], ["our", "PRP$"], ["work", "NN"], ["and", "CC"], ["before", "IN"], ["we", "PRP"], ["return", "VBP"], ["the", "DT"], ["pointer", "NN"], ["to", "TO"], ["the", "DT"], ["given", "VBN"], ["subtree", "NN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["take", "VB"], ["the", "DT"], ["size", "NN"], ["of", "IN"], ["what", "WP"], ["'s", "VBZ"], ["on", "IN"], ["the", "DT"], ["left", "NN"], ["and", "CC"], ["the", "DT"], ["size", "NN"], ["of", "IN"], ["what", "WP"], ["'s", "VBZ"], ["on", "IN"], ["the", "DT"], ["right", "NN"], ["and", "CC"], ["add", "VB"], ["one", "CD"], ["for", "IN"], ["us", "PRP"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["our", "PRP$"], ["count", "NN"], [".", "."], ["So", "RB"], [",", ","], ["whether", "IN"], ["or", "CC"], ["not", "RB"], ["there", "EX"], ["was", "VBD"], ["a", "DT"], ["new", "JJ"], ["node", "NN"], ["added", "VBD"], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["have", "VB"], ["to", "TO"], ["test", "VB"], ["for", "IN"], ["that", "DT"], ["this", "DT"], ["recursively", "RB"], ["takes", "VBZ"], ["care", "NN"], ["of", "IN"], ["the", "DT"], ["problem", "NN"], ["of", "IN"], ["maintaining", "VBG"], ["the", "DT"], ["size", "NN"], ["in", "IN"], ["every", "DT"], ["node", "NN"], ["when", "WRB"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["new", "JJ"], ["node", "NN"], ["inserted", "VBN"], [".", "."], ["And", "CC"], [",", ","], ["it", "PRP"], ["also", "RB"], ["handles", "VBZ"], ["more", "RBR"], ["general", "JJ"], ["situations", "NNS"], [",", ","], ["as", "IN"], ["we", "PRP"], ["'ll", "MD"], ["see", "VB"], ["later", "RB"], ["on", "IN"], [".", "."], ["So", "NNP"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["how", "WRB"], ["to", "TO"], ["maintain", "VB"], ["size", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], [",", ","], ["how", "WRB"], ["do", "VBP"], ["we", "PRP"], ["implement", "VB"], ["rank", "NN"], ["?", "."], ["Well", "UH"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["little", "JJ"], ["like", "JJ"], ["floor", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["an", "DT"], ["easy", "JJ"], ["recursive", "JJ"], ["algorithm", "NN"], [",", ","], ["but", "CC"], ["there", "EX"], ["are", "VBP"], ["three", "CD"], ["cases", "NNS"], [".", "."], ["So", "NNP"], ["let", "NN"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["the", "DT"], [",", ","], ["at", "IN"], ["the", "DT"], ["three", "CD"], ["cases", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["know", "VB"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["keys", "NNS"], ["less", "JJR"], ["than", "IN"], ["K.", "NNP"], ["So", "NNP"], ["[", "NNP"], ["cough", "NN"], ["]", "NN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["a", "DT"], ["recursive", "JJ"], ["algorithm", "NN"], ["for", "IN"], ["our", "PRP$"], ["given", "VBN"], ["key", "NN"], [".", "."], ["So", "RB"], [",", ","], ["let", "NN"], ["'s", "POS"], [",", ","], ["one", "CD"], ["of", "IN"], ["the", "DT"], ["easy", "JJ"], ["ones", "NNS"], ["is", "VBZ"], [",", ","], ["if", "IN"], ["our", "PRP$"], ["key", "NN"], ["is", "VBZ"], ["equal", "JJ"], ["to", "TO"], ["the", "DT"], [",", ","], ["if", "IN"], ["were", "VBD"], ["[", "NNP"], ["cough", "NN"], ["]", "NN"], ["to", "TO"], ["the", "DT"], [",", ","], ["the", "DT"], ["key", "NN"], ["at", "IN"], ["the", "DT"], ["current", "JJ"], ["node", "NN"], ["then", "RB"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["keys", "NNS"], ["less", "RBR"], ["than", "IN"], ["our", "PRP$"], ["key", "NN"], ["is", "VBZ"], ["the", "DT"], ["size", "NN"], ["of", "IN"], ["the", "DT"], ["left", "JJ"], ["subtree", "NN"], ["of", "IN"], ["that", "DT"], ["node", "NN"], [".", "."], ["So", "RB"], [",", ","], ["if", "IN"], ["we", "PRP"], ["'re", "VBP"], ["looking", "VBG"], ["for", "IN"], ["the", "DT"], ["rank", "NN"], ["of", "IN"], ["E", "NNP"], ["say", "VBP"], [",", ","], ["how", "WRB"], ["many", "JJ"], ["keys", "NNS"], ["are", "VBP"], ["there", "RB"], ["less", "JJR"], ["than", "IN"], ["E", "NNP"], ["there", "EX"], ["'s", "VBZ"], ["exactly", "RB"], ["two", "CD"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["by", "IN"], ["definition", "NN"], ["in", "IN"], ["the", "DT"], ["data", "NN"], ["structure", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["keys", "NNS"], ["that", "WDT"], ["are", "VBP"], ["less", "JJR"], ["than", "IN"], ["E.", "NNP"], ["So", "NNP"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["that", "IN"], ["one", "CD"], ["for", "IN"], ["rank", "NN"], [".", "."], ["What", "WP"], ["about", "IN"], ["the", "DT"], ["[", "JJ"], ["cough", "NN"], ["]", "NN"], ["starting", "VBG"], ["at", "IN"], ["the", "DT"], ["root", "NN"], ["if", "IN"], ["we", "PRP"], ["have", "VBP"], ["the", "DT"], ["case", "NN"], ["where", "WRB"], ["E", "NNP"], ["is", "VBZ"], ["less", "JJR"], ["than", "IN"], ["S.", "NNP"], ["So", "NNP"], [",", ","], ["the", "DT"], ["rank", "NN"], ["of", "IN"], ["E", "NN"], ["in", "IN"], ["this", "DT"], ["whole", "JJ"], ["tree", "NN"], ["is", "VBZ"], ["the", "DT"], ["same", "JJ"], ["as", "IN"], ["the", "DT"], ["rank", "NN"], ["of", "IN"], ["E", "NNP"], ["in", "IN"], ["the", "DT"], ["left", "JJ"], ["subtree", "NN"], [".", "."], ["So", "RB"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["that", "DT"], ["case", "NN"], ["and", "CC"], ["then", "RB"], ["if", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["the", "DT"], ["right", "NN"], [",", ","], ["then", "RB"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["add", "VB"], ["one", "CD"], ["for", "IN"], ["the", "DT"], ["root", "NN"], ["and", "CC"], ["one", "CD"], ["for", "IN"], ["the", "DT"], ["left", "JJ"], ["subtree", "NN"], ["of", "IN"], ["the", "DT"], ["root", "NN"], ["and", "CC"], ["then", "RB"], ["find", "VB"], ["the", "DT"], ["rank", "NN"], ["of", "IN"], ["us", "PRP"], ["on", "IN"], ["the", "DT"], ["right", "NN"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["an", "DT"], ["easy", "JJ"], ["recursive", "JJ"], ["algorithm", "NN"], ["for", "IN"], ["finding", "VBG"], ["out", "RP"], ["the", "DT"], ["rank", "NN"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["definitely", "RB"], ["an", "DT"], ["instructive", "JJ"], ["exercise", "NN"], ["to", "TO"], ["check", "VB"], ["that", "IN"], ["you", "PRP"], ["believe", "VBP"], ["that", "IN"], [",", ","], ["that", "IN"], ["method", "NN"], ["works", "NNS"], [".", "."], ["The", "DT"], ["other", "JJ"], ["thing", "NN"], ["we", "PRP"], ["h", "VBP"], ["ave", "VB"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["iteration", "NN"], [".", "."], ["And", "CC"], ["iteration", "NN"], ["is", "VBZ"], ["a", "DT"], ["fundamental", "JJ"], ["operation", "NN"], ["on", "IN"], ["tree", "JJ"], ["structure", "NN"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["based", "VBN"], ["on", "IN"], ["so", "RB"], ["called", "VBN"], ["in-order", "NN"], ["traversal", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["also", "RB"], ["a", "DT"], ["simple", "JJ"], ["recursive", "JJ"], ["algorithm", "NN"], [".", "."], ["Traverse", "VB"], ["the", "DT"], ["left", "JJ"], ["subtree", "JJ"], ["enqueue", "IN"], ["the", "DT"], ["key", "NN"], [",", ","], ["traverse", "VBP"], ["the", "DT"], ["right", "JJ"], ["subtree", "NN"], [".", "."], ["So", "RB"], [",", ","], ["to", "TO"], ["iterate", "VB"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["maintain", "VB"], ["a", "DT"], ["queue", "NN"], ["of", "IN"], ["keys", "NNS"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["call", "VB"], ["this", "DT"], ["recursive", "JJ"], ["in-order", "NN"], ["[", "NNP"], ["cough", "NN"], ["]", "NN"], ["method", "NN"], [".", "."], ["And", "CC"], ["that", "IN"], ["method", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["add", "VB"], ["all", "PDT"], ["the", "DT"], ["keys", "NNS"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], ["to", "TO"], ["the", "DT"], ["queue", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["'ll", "MD"], ["just", "RB"], ["return", "VB"], ["that", "DT"], ["queue", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], [",", ","], ["a", "DT"], ["queue", "NN"], ["is", "VBZ"], ["an", "DT"], ["iterable", "JJ"], ["data", "NN"], ["structure", "NN"], [",", ","], ["and", "CC"], ["the", "DT"], ["client", "NN"], ["can", "MD"], ["iterate", "VB"], ["that", "DT"], [".", "."], ["And", "CC"], [",", ","], ["in", "IN"], ["order", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["just", "RB"], ["a", "DT"], ["simple", "JJ"], ["recursive", "JJ"], ["method", "NN"], [".", "."], ["Put", "VB"], ["everybody", "NN"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["on", "IN"], ["the", "DT"], ["queue", "NN"], ["then", "RB"], ["put", "VBD"], ["the", "DT"], ["root", "NN"], ["on", "IN"], ["the", "DT"], ["queue", "NN"], [",", ","], ["then", "RB"], ["put", "VBD"], ["everybody", "NN"], ["to", "TO"], ["the", "DT"], ["right", "NN"], ["on", "IN"], ["the", "DT"], ["queue", "NN"], [".", "."], ["And", "CC"], ["to", "TO"], ["believe", "VB"], ["this", "DT"], ["method", "NN"], [",", ","], ["you", "PRP"], ["just", "RB"], ["have", "VBP"], ["to", "TO"], ["think", "VB"], ["recursively", "RB"], ["and", "CC"], ["prove", "VB"], ["by", "IN"], ["induction", "NN"], ["that", "IN"], ["this", "DT"], ["in", "IN"], ["order", "NN"], ["method", "NN"], ["puts", "VBZ"], ["all", "PDT"], ["the", "DT"], ["keys", "NNS"], ["in", "IN"], ["the", "DT"], ["data", "NN"], ["structure", "NN"], ["on", "IN"], ["the", "DT"], ["queue", "NN"], ["in", "IN"], ["their", "PRP$"], ["natural", "JJ"], ["order", "NN"], [".", "."], ["First", "NNP"], [",", ","], ["it", "PRP"], ["puts", "VBZ"], ["all", "PDT"], ["the", "DT"], ["ones", "NNS"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["on", "IN"], ["the", "DT"], ["queue", "NN"], [".", "."], ["If", "IN"], ["that", "DT"], [",", ","], ["that", "DT"], ["happens", "VBZ"], ["in", "IN"], ["their", "PRP$"], ["natural", "JJ"], ["order", "NN"], [",", ","], ["then", "RB"], ["the", "DT"], ["next", "JJ"], ["thing", "NN"], ["that", "WDT"], ["has", "VBZ"], ["to", "TO"], ["appear", "VB"], ["is", "VBZ"], ["the", "DT"], ["key", "NN"], ["at", "IN"], ["the", "DT"], ["root", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["if", "IN"], ["the", "DT"], ["ones", "NNS"], ["on", "IN"], ["the", "DT"], ["right", "NN"], ["go", "VBP"], ["in", "IN"], ["their", "PRP$"], ["natural", "JJ"], ["order", "NN"], [",", ","], ["and", "CC"], ["then", "RB"], [",", ","], ["by", "IN"], ["induction", "NN"], [",", ","], ["they", "PRP"], ["'re", "VBP"], ["all", "DT"], ["in", "IN"], ["their", "PRP$"], ["natural", "JJ"], ["order", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["a", "DT"], ["very", "RB"], ["simple", "JJ"], ["implementation", "NN"], ["of", "IN"], ["an", "DT"], ["iterator", "NN"], ["for", "IN"], ["these", "DT"], ["symbol", "NN"], ["table", "NN"], ["with", "IN"], ["comparable", "JJ"], ["keys", "NNS"], [".", "."], ["So", "IN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["again", "RB"], ["prove", "VB"], ["that", "IN"], ["property", "NN"], ["by", "IN"], ["induction", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["easy", "JJ"], ["to", "TO"], ["do", "VB"], [".", "."], ["The", "DT"], ["diagram", "NN"], ["at", "IN"], ["the", "DT"], ["right", "JJ"], ["gives", "VBZ"], ["another", "DT"], ["simple", "JJ"], ["way", "NN"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["it", "PRP"], ["pictorially", "RB"], [".", "."], ["All", "PDT"], ["the", "DT"], ["keys", "NNS"], ["that", "WDT"], ["are", "VBP"], ["smaller", "JJR"], ["on", "IN"], ["the", "DT"], ["left", "NN"], ["we", "PRP"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["put", "VB"], ["them", "PRP"], ["out", "RP"], [",", ","], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["put", "VBD"], ["the", "DT"], ["key", "NN"], ["at", "IN"], ["the", "DT"], ["root", "NN"], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["put", "VBP"], ["all", "PDT"], ["the", "DT"], ["keys", "NNS"], ["on", "IN"], ["the", "DT"], ["right", "NN"], ["out", "RP"], ["in", "IN"], ["order", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["that", "IN"], ["key", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["all", "DT"], ["those", "DT"], ["keys", "NNS"], ["in", "IN"], ["order", "NN"], ["by", "IN"], ["induction", "NN"], [".", "."], ["So", "RB"], [",", ","], ["here", "RB"], ["'s", "VBZ"], ["the", "DT"], ["operation", "NN"], ["summary", "NN"], ["for", "IN"], ["ordered", "JJ"], ["symbol", "NN"], ["table", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["quick", "JJ"], ["summary", "NN"], ["is", "VBZ"], ["that", "IN"], ["every", "DT"], ["one", "CD"], ["of", "IN"], ["those", "DT"], ["operations", "NNS"], [",", ","], ["while", "IN"], ["ordered", "VBN"], ["iteration", "NN"], ["is", "VBZ"], ["optimal", "JJ"], [",", ","], ["it", "PRP"], ["just", "RB"], ["gets", "VBZ"], ["them", "PRP"], ["in", "IN"], ["linear", "JJ"], ["time", "NN"], [".", "."], ["And", "CC"], ["all", "PDT"], ["the", "DT"], ["res", "NNS"], ["t", "VBP"], ["of'em", "JJ"], ["take", "VB"], ["time", "NN"], ["proportional", "JJ"], ["to", "TO"], ["the", "DT"], ["height", "NN"], ["of", "IN"], ["the", "DT"], ["tree", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["if", "IN"], ["the", "DT"], [",", ","], ["the", "DT"], ["keys", "NNS"], ["are", "VBP"], ["inserted", "VBN"], ["in", "IN"], ["random", "NN"], ["order", "NN"], [",", ","], ["we", "PRP"], ["know", "VBP"], ["that", "IN"], ["height", "NN"], ["by", "IN"], ["analysis", "NN"], [",", ","], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["proportional", "JJ"], ["to", "TO"], ["log", "VB"], ["N.", "NNP"], ["Or", "NNP"], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["some", "DT"], ["application", "NN"], ["where", "WRB"], ["the", "DT"], ["order", "NN"], ["of", "IN"], ["insertion", "NN"], ["of", "IN"], ["the", "DT"], ["keys", "NN"], ["is", "VBZ"], ["well", "RB"], ["modeled", "VBN"], ["by", "IN"], ["random", "JJ"], ["order", "NN"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["not", "RB"], ["unusual", "JJ"], ["at", "IN"], ["all", "DT"], [".", "."], ["A", "DT"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], ["is", "VBZ"], ["a", "DT"], ["simple", "JJ"], ["and", "CC"], ["extremely", "RB"], ["effective", "JJ"], ["data", "NNS"], ["structure", "NN"], ["that", "WDT"], ["can", "MD"], ["support", "VB"], ["all", "DT"], ["of", "IN"], ["these", "DT"], ["operations", "NNS"], ["in", "IN"], ["a", "DT"], ["quickly", "RB"], [",", ","], ["much", "RB"], ["better", "JJR"], ["than", "IN"], ["binary", "JJ"], ["search", "NN"], ["in", "IN"], ["an", "DT"], ["ordered", "JJ"], ["array", "NN"], ["which", "WDT"], ["is", "VBZ"], ["not", "RB"], ["dynamic", "JJ"], ["and", "CC"], ["slow", "VB"], ["for", "IN"], ["insertion", "NN"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["binary", "JJ"], ["search", "NN"], ["tree", "JJ"], ["implementations", "NNS"], ["of", "IN"], ["ordered", "JJ"], ["operations", "NNS"], ["when", "WRB"], ["keys", "NNS"], ["are", "VBP"], ["comparable", "JJ"], [".", "."]], "title": "ordered operations in bsts", "text": "Now, we're going to take a look at ordered symbol table operations using the binary search tree data structure as the underlying implementation. Well, each one of these operations are fairly straight forward but just to check our ability to manipulate this data structure, we'll take a look at each. Suppose, we wanted to find the minimum key in a binary search tree, or the maximum key. Well, just looking at one example you can see almost immediately what to do to find the minimum, we move left from the root until we find a null key, that's where the smallest key in the data structure is. To find the maximum, we move right from the root, until we find a null key. What about floor and ceiling? Well, those are a little bit more complicated and we'll have to, not quite the same as in the ordered array for the binary search so we have to do a little bit more work for that. So just for example, let's take a look at the problem of computing the floor. So, what we want to find is so say, we're seeking the floor of G. So, that's the largest key in the data structure that is less than G. In this case, the answer is E. So let's just take a look at what we have to do in the tree, the path we have to take in the tree to figure that out. Well so, we are looking for the largest key that's less than G. And have S well, that key is definitely going to be in the left subtree. Its not going to be bigger than S because S is bigger than G so we go to the left. So now, we are sitting at E. And so what's the largest key that's less than G in this, in this tree here. Well, it might be E but there's no way it's to the left of E because those keys are all smaller than E and therefore smaller than G. So, E is a key candidate. But it might also be in the right so we move to the right in this case. Alright [cough]. So that's [cough] if K is equal to the key at the root, the floor of K is K. If K is less than the key, it roots i n the left subtree. That's the one we just did. If it's greater than the key at the root. The floor of K is in the right subtree, if there is any key smaller than K in the right subtree. So, in this case, there's no key smaller than G in the right subtree. So therefore, the answer is E. So, our code has to check for these three cases. And here's the code that does it. It's not that much code. It's just complicated code to understand. So if we find our key, that's the floor. If we're going to the left we find the floor, the one on the left. And in on the right we have to do a, a little bit of tricky code to make sure that we return the floor on the right subtree, if there's some tree there. If there's, if there's no node there then, then, then we, we return the root itself. So, that's a, a implementation that, that code is definitely tricky and a similar code for ceiling. So now, what about operations like rank and select? How many keys are there less than a given key? And, give us the seventh largest key to facilitate implementing those operations and also size all we do is keep an extra field in each node, which is the number of the nodes in the subtree rooted at that node. So, this tree has got eight nodes in it. This subtree has six nodes in it and so forth. And those counts are going to not only enable us to immediately implement the size function, just return the count at the root but also, they'll give us good implementations of rank and select. So, let's look at those now. So, we add account field to every node and then to implement the size function well, if it's null, we return zero. So a client might call us for a null tree or [cough] or an empty tree. Otherwise we return, x.count, which is the number of nodes in that, in that subtree by definition. The way we maintain, there's a number of ways we can maintain the thing but the one that we'll adopt un iformly because it adapts to more complicated situations is just before we're done with the put operation we'll say, okay we've done all our work and before we return the pointer to the given subtree we're going to take the size of what's on the left and the size of what's on the right and add one for us and that's going to be our count. So, whether or not there was a new node added we don't have to test for that this recursively takes care of the problem of maintaining the size in every node when there's a new node inserted. And, it also handles more general situations, as we'll see later on. So, that's how to maintain size. So now, how do we implement rank? Well, it's a little like floor. It's an easy recursive algorithm, but there are three cases. So let's look at the, at the three cases. So, we want to know the number of keys less than K. So [cough] we're going to have a recursive algorithm for our given key. So, let's, one of the easy ones is, if our key is equal to the, if were [cough] to the, the key at the current node then the number of keys less than our key is the size of the left subtree of that node. So, if we're looking for the rank of E say, how many keys are there less than E there's exactly two, that's by definition in the data structure that's the number of keys that are less than E. So, that's that one for rank. What about the [cough] starting at the root if we have the case where E is less than S. So, the rank of E in this whole tree is the same as the rank of E in the left subtree. So, there's that case and then if we're going to the right, then we have to add one for the root and one for the left subtree of the root and then find the rank of us on the right. So, that's an easy recursive algorithm for finding out the rank. And it's definitely an instructive exercise to check that you believe that, that method works. The other thing we h ave to do is iteration. And iteration is a fundamental operation on tree structure. And it's based on so called in-order traversal. And that's also a simple recursive algorithm. Traverse the left subtree enqueue the key, traverse the right subtree. So, to iterate we're going to maintain a queue of keys. And then, we're going to call this recursive in-order [cough] method. And that method is going to add all the keys in the tree to the queue. And then we'll just return that queue. And that's, a queue is an iterable data structure, and the client can iterate that. And, in order, it's just a simple recursive method. Put everybody to the left on the queue then put the root on the queue, then put everybody to the right on the queue. And to believe this method, you just have to think recursively and prove by induction that this in order method puts all the keys in the data structure on the queue in their natural order. First, it puts all the ones to the left on the queue. If that, that happens in their natural order, then the next thing that has to appear is the key at the root. And then if the ones on the right go in their natural order, and then, by induction, they're all in their natural order. That's a very simple implementation of an iterator for these symbol table with comparable keys. So we have to again prove that property by induction. And that's easy to do. The diagram at the right gives another simple way to look at it pictorially. All the keys that are smaller on the left we are going to put them out, and then we put the key at the root and then we put all the keys on the right out in order. And then that key is going to have all those keys in order by induction. So, here's the operation summary for ordered symbol table. And the quick summary is that every one of those operations, while ordered iteration is optimal, it just gets them in linear time. And all the res t of'em take time proportional to the height of the tree. Now, if the, the keys are inserted in random order, we know that height by analysis, is going to be proportional to log N. Or if it's some application where the order of insertion of the keys is well modeled by random order and that's not unusual at all. A binary search tree is a simple and extremely effective data structure that can support all of these operations in a quickly, much better than binary search in an ordered array which is not dynamic and slow for insertion. So, that's a look at binary search tree implementations of ordered operations when keys are comparable. ", "video_ID": 42, "course_id": 3}
{"category": ["elementary symbol tables"], "tagged": [["If", "IN"], ["our", "PRP$"], ["symbols", "NNS"], ["table", "NN"], ["'s", "POS"], ["really", "RB"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["dynamic", "JJ"], [",", ","], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["delete", "VB"], ["key", "JJ"], ["valued", "VBN"], ["pairs", "NNS"], ["from", "IN"], ["the", "DT"], ["table", "NN"], [".", "."], ["As", "IN"], ["we", "PRP"], ["'ll", "MD"], ["see", "VB"], [",", ","], ["all", "DT"], ["symbol", "NN"], ["table", "JJ"], ["implementations", "NNS"], ["have", "VBP"], [",", ","], ["lead", "VBP"], ["to", "TO"], ["complications", "NNS"], ["when", "WRB"], ["we", "PRP"], ["try", "VBP"], ["to", "TO"], ["do", "VB"], ["this", "DT"], ["operation", "NN"], [".", "."], ["Binary", "NNP"], ["search", "NN"], ["trace", "NN"], ["is", "VBZ"], ["our", "PRP$"], ["first", "JJ"], ["example", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["fill", "VB"], ["in", "IN"], ["this", "DT"], ["one", "CD"], ["table", "NN"], [".", "."], ["What", "WP"], ["'s", "VBZ"], [",", ","], ["what", "WP"], ["'s", "VBZ"], ["the", "DT"], ["cost", "NN"], ["of", "IN"], ["deletion", "NN"], ["in", "IN"], ["a", "DT"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], ["?", "."], ["How", "WRB"], ["are", "VBP"], ["we", "PRP"], ["going", "VBG"], ["to", "TO"], ["really", "RB"], ["do", "VB"], ["that", "DT"], ["?", "."], ["Well", "NNP"], ["let", "NN"], ["'s", "POS"], ["take", "VB"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["a", "DT"], ["very", "RB"], ["lazy", "JJ"], ["approach", "NN"], ["which", "WDT"], ["we", "PRP"], ["set", "VBP"], ["up", "RP"], ["for", "IN"], ["in", "IN"], ["our", "PRP$"], ["basic", "JJ"], ["conventions", "NNS"], ["for", "IN"], ["simple", "JJ"], ["tables", "NNS"], [".", "."], ["What", "WP"], ["we", "PRP"], ["can", "MD"], ["do", "VB"], ["to", "TO"], ["remove", "VB"], ["a", "DT"], ["node", "NN"], ["with", "IN"], ["a", "DT"], ["give", "JJ"], ["key", "NN"], ["is", "VBZ"], ["just", "RB"], ["mark", "NN"], ["it", "PRP"], ["with", "IN"], ["a", "DT"], ["tombstone", "NN"], [".", "."], ["Say", "NNP"], [",", ","], ["well", "RB"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["leave", "VB"], ["the", "DT"], ["key", "NN"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], ["to", "TO"], ["guide", "VB"], ["searches", "NNS"], [",", ","], ["but", "CC"], ["we", "PRP"], ["wo", "MD"], ["n't", "RB"], [",", ","], ["count", "VB"], ["it", "PRP"], ["as", "IN"], ["being", "VBG"], ["in", "IN"], ["the", "DT"], ["symbol", "NN"], ["table", "NN"], [".", "."], ["And", "CC"], ["actually", "RB"], ["you", "PRP"], ["can", "MD"], [",", ","], ["make", "VB"], ["some", "DT"], ["progress", "NN"], ["with", "IN"], ["this", "DT"], ["kind", "NN"], ["of", "IN"], ["method", "NN"], [".", "."], ["Leaving", "VBG"], ["tombstone", "NN"], ["throughout", "IN"], ["the", "DT"], ["tree", "NN"], [".", "."], ["And", "CC"], [",", ","], ["make", "VB"], ["sure", "JJ"], ["that", "IN"], ["you", "PRP"], ["keep", "VBP"], [",", ","], ["as", "RB"], ["long", "RB"], ["as", "IN"], ["there", "EX"], ["are", "VBP"], ["n't", "RB"], ["too", "RB"], ["many", "JJ"], ["deletions", "NNS"], [",", ","], ["you", "PRP"], ["can", "MD"], ["keep", "VB"], ["the", "DT"], ["search", "NN"], ["costs", "NNS"], [",", ","], ["and", "CC"], ["deletion", "NN"], ["and", "CC"], ["insert", "NN"], ["costs", "NNS"], ["to", "TO"], ["be", "VB"], ["logarithmic", "JJ"], [".", "."], ["But", "CC"], ["it", "PRP"], ["definitely", "RB"], ["becomes", "VBZ"], [",", ","], ["inconvenient", "NN"], ["to", "TO"], ["manage", "VB"], ["large", "JJ"], ["numbers", "NNS"], ["of", "IN"], ["tombstones", "NNS"], ["in", "IN"], ["highly", "RB"], ["dynamic", "JJ"], ["situations", "NNS"], ["with", "IN"], ["large", "JJ"], ["numbers", "NNS"], ["of", "IN"], ["keys", "NNS"], ["and", "CC"], ["values", "NNS"], [".", "."], ["Eventually", "RB"], ["you", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["get", "VB"], ["an", "DT"], ["overload", "NN"], ["of", "IN"], ["memory", "NN"], ["and", "CC"], ["you", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["to", "TO"], ["rebuild", "VB"], ["the", "DT"], ["thing", "NN"], ["or", "CC"], ["clean", "VB"], ["out", "RP"], ["the", "DT"], ["tombstones", "NNS"], ["in", "IN"], ["some", "DT"], ["way", "NN"], ["so", "IN"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["look", "VB"], ["for", "IN"], ["a", "DT"], ["better", "JJR"], ["way", "NN"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["a", "DT"], ["general", "JJ"], ["method", "NN"], ["that", "IN"], ["people", "NNS"], ["often", "RB"], ["use", "VBP"], ["on", "IN"], ["all", "DT"], ["different", "JJ"], ["types", "NNS"], ["of", "IN"], ["implementations", "NNS"], [",", ","], ["but", "CC"], ["in", "IN"], ["modern", "JJ"], ["systems", "NNS"], ["it", "PRP"], ["'s", "VBZ"], ["rather", "RB"], ["unsatisfactory", "JJ"], [".", "."], ["Also", "RB"], ["got", "VBD"], ["a", "DT"], ["simpler", "NN"], ["problem", "NN"], [".", "."], ["What", "WP"], ["about", "IN"], ["deleting", "VBG"], ["the", "DT"], ["minimum", "NN"], ["?", "."], ["Well", "NNP"], ["actually", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["maybe", "RB"], ["not", "RB"], ["too", "RB"], ["difficult", "JJ"], ["to", "TO"], ["delete", "VB"], ["the", "DT"], ["minimum", "NN"], ["in", "IN"], ["a", "DT"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], [".", "."], ["Again", "NNP"], [",", ","], ["we", "PRP"], ["just", "RB"], ["go", "VB"], ["to", "TO"], ["the", "DT"], ["left", "VBN"], ["until", "IN"], ["we", "PRP"], ["get", "VBP"], ["a", "DT"], ["null", "NN"], ["left", "VBD"], ["link", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["what", "WP"], ["we", "PRP"], ["can", "MD"], ["do", "VB"], ["is", "VBZ"], ["just", "RB"], ["return", "VB"], ["that", "DT"], ["node", "NN"], ["'s", "POS"], ["right", "JJ"], ["link", "NN"], ["then", "RB"], ["that", "IN"], ["old", "JJ"], ["node", "NN"], [",", ","], ["nobody", "NN"], ["'s", "POS"], ["pointing", "NN"], ["to", "TO"], ["it", "PRP"], [",", ","], ["so", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["available", "JJ"], ["for", "IN"], ["garbage", "NN"], ["collection", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["use", "VBP"], ["our", "PRP$"], ["usual", "JJ"], ["trick", "NN"], ["of", "IN"], ["returning", "VBG"], ["the", "DT"], ["link", "NN"], ["that", "IN"], ["we", "PRP"], ["went", "VBD"], ["down", "RB"], ["to", "TO"], ["update", "VB"], ["the", "DT"], ["other", "JJ"], ["links", "NNS"], ["after", "IN"], ["the", "DT"], ["recursive", "JJ"], ["calls", "NNS"], [".", "."], ["And", "CC"], ["also", "RB"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["update", "VB"], ["the", "DT"], ["counts", "NNS"], [",", ","], ["something", "NN"], ["happened", "VBD"], ["down", "RB"], ["below", "IN"], ["and", "CC"], ["we", "PRP"], ["used", "VBD"], ["that", "IN"], ["code", "NN"], ["to", "TO"], ["update", "VB"], ["the", "DT"], ["counts", "NNS"], [",", ","], ["in", "IN"], ["a", "DT"], ["co", "JJ"], ["nsistent", "JJ"], ["way", "NN"], [",", ","], ["so", "IN"], ["this", "DT"], ["code", "NN"], ["implements", "VBZ"], ["deleting", "VBG"], [",", ","], ["not", "RB"], ["too", "RB"], ["bad", "JJ"], ["at", "IN"], ["all", "DT"], [".", "."], ["If", "IN"], ["x", "JJ"], [".", "."], ["Left", "NNP"], ["null", "NN"], [",", ","], ["return", "VBP"], ["x", "RB"], ["right", "RB"], [".", "."], ["Otherwise", "RB"], ["x", "JJ"], ["left", "VBD"], ["=", "JJ"], ["delete", "JJ"], ["min", "NN"], ["x", "NN"], ["left", "VBD"], [".", "."], ["And", "CC"], ["then", "RB"], ["when", "WRB"], ["you", "PRP"], ["'re", "VBP"], ["done", "VBN"], ["with", "IN"], ["that", "DT"], [",", ","], ["it", "PRP"], ["fix", "VBD"], ["the", "DT"], ["count", "NN"], ["so", "RB"], ["maybe", "RB"], ["a", "DT"], ["node", "NN"], ["got", "VBD"], ["deleted", "VBN"], ["down", "IN"], ["there", "RB"], [",", ","], ["but", "CC"], ["always", "RB"], [",", ","], ["the", "DT"], ["invariant", "NN"], ["is", "VBZ"], ["that", "IN"], ["the", "DT"], ["count", "NN"], ["of", "IN"], ["the", "DT"], ["node", "NN"], ["is", "VBZ"], ["one", "CD"], ["+", "NN"], ["size", "NN"], ["of", "IN"], ["the", "DT"], ["left", "NN"], ["and", "CC"], ["right", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["return", "VB"], ["x", "NNP"], ["and", "CC"], ["fix", "VB"], ["the", "DT"], ["links", "NNS"], ["and", "CC"], ["the", "DT"], ["counts", "NNS"], ["on", "IN"], ["the", "DT"], ["way", "NN"], ["up", "RB"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["a", "DT"], ["fine", "JJ"], ["implementation", "NN"], ["for", "IN"], ["delete", "JJ"], ["min", "NN"], [",", ","], ["and", "CC"], ["it", "PRP"], ["also", "RB"], ["works", "VBZ"], ["for", "IN"], ["delete", "JJ"], ["max", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["basis", "NN"], ["for", "IN"], ["a", "DT"], ["general", "JJ"], ["method", "NN"], ["for", "IN"], ["deleting", "VBG"], ["nodes", "NNS"], ["from", "IN"], ["BSTs", "NNP"], ["known", "VBN"], ["as", "IN"], ["Hibberd", "NNP"], ["deletion", "NN"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["second", "JJ"], ["case", "NN"], [",", ","], ["the", "DT"], ["first", "JJ"], ["case", "NN"], ["for", "IN"], ["Hibberd", "NNP"], ["deletion", "NN"], ["is", "VBZ"], ["what", "WP"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["do", "VB"], ["to", "TO"], ["delete", "VB"], ["a", "DT"], [",", ","], ["a", "DT"], ["node", "NN"], ["with", "IN"], ["key", "JJ"], ["K", "NNP"], [",", ","], ["is", "VBZ"], ["we", "PRP"], ["search", "VBP"], ["for", "IN"], ["the", "DT"], ["node", "NN"], ["that", "WDT"], ["contains", "VBZ"], ["the", "DT"], ["key", "NN"], [",", ","], ["and", "CC"], ["the", "DT"], ["easiest", "JJS"], ["case", "NN"], ["is", "VBZ"], ["that", "IN"], ["node", "NN"], ["has", "VBZ"], ["no", "DT"], ["children", "NNS"], [".", "."], ["So", "RB"], ["to", "TO"], [",", ","], ["to", "TO"], ["delete", "VB"], ["a", "DT"], ["node", "NN"], ["that", "WDT"], ["has", "VBZ"], ["no", "DT"], ["children", "NNS"], ["just", "RB"], ["return", "VBP"], ["null", "JJ"], [".", "."], ["And", "CC"], ["then", "RB"], ["go", "VB"], ["back", "RB"], ["up", "RB"], ["to", "TO"], ["update", "VB"], ["the", "DT"], ["counts", "NNS"], ["as", "IN"], ["usual", "JJ"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["the", "DT"], ["easy", "JJ"], ["case", "NN"], [".", "."], ["The", "DT"], ["next", "JJ"], ["most", "RBS"], ["difficult", "JJ"], ["case", "NN"], ["is", "VBZ"], ["like", "IN"], ["the", "DT"], ["delete", "JJ"], ["min", "NN"], ["case", "NN"], ["we", "PRP"], ["find", "VBP"], ["a", "DT"], ["node", "JJ"], ["T", "NNP"], ["that", "IN"], ["contains", "VBZ"], ["our", "PRP$"], ["key", "NN"], [",", ","], ["so", "IN"], ["like", "IN"], ["deleting", "VBG"], ["R", "NNP"], ["in", "IN"], ["this", "DT"], ["tree", "NN"], [",", ","], ["it", "PRP"], ["only", "RB"], ["has", "VBZ"], ["one", "CD"], ["child", "NN"], [".", "."], ["Just", "NNP"], ["go", "VB"], ["ahead", "RB"], ["and", "CC"], ["return", "VB"], ["the", "DT"], ["link", "NN"], ["to", "TO"], ["that", "DT"], ["child", "NN"], ["and", "CC"], ["that", "DT"], ["updates", "VBZ"], ["the", "DT"], ["link", "NN"], ["and", "CC"], ["everything", "NN"], ["works", "NNS"], ["fine", "VBP"], ["and", "CC"], ["then", "RB"], ["the", "DT"], ["node", "NN"], ["that", "IN"], ["the", "DT"], ["leads", "NNS"], ["that", "WDT"], ["available", "JJ"], ["for", "IN"], ["garbage", "NN"], ["collection", "NN"], ["that", "IN"], ["nobody", "NN"], ["'s", "POS"], ["pointing", "NN"], ["to", "TO"], ["it", "PRP"], [".", "."], ["And", "CC"], ["then", "RB"], ["again", "RB"], ["update", "VB"], ["all", "PDT"], ["the", "DT"], ["accounts", "NNS"], ["after", "IN"], ["the", "DT"], ["recursive", "JJ"], ["calls", "NNS"], [".", "."], ["Zero", "NNP"], ["children", "NNS"], ["no", "DT"], ["problem", "NN"], ["one", "CD"], ["child", "NN"], ["no", "DT"], ["problem", "NN"], [".", "."], ["The", "DT"], ["problem", "NN"], ["is", "VBZ"], ["what", "WP"], ["happens", "VBZ"], ["when", "WRB"], ["there", "EX"], ["is", "VBZ"], ["two", "CD"], ["children", "NNS"], [".", "."], ["So", "RB"], ["say", "VBP"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["delete", "VB"], ["node", "JJ"], ["E", "NN"], ["in", "IN"], ["this", "DT"], ["tree", "NN"], [".", "."], ["We", "PRP"], ["have", "VBP"], ["only", "RB"], ["one", "CD"], ["link", "NN"], [",", ","], ["and", "CC"], ["we", "PRP"], ["can", "MD"], ["get", "VB"], ["rid", "JJ"], ["of", "IN"], ["the", "DT"], ["node", "NN"], ["but", "CC"], ["we", "PRP"], ["have", "VBP"], ["only", "RB"], ["one", "CD"], ["link", "NN"], ["pointing", "VBG"], ["to", "TO"], ["it", "PRP"], [".", "."], ["But", "CC"], ["we", "PRP"], ["have", "VBP"], ["two", "CD"], ["links", "NNS"], ["pointing", "VBG"], ["down", "RP"], ["from", "IN"], ["it", "PRP"], [".", "."], ["So", "IN"], ["what", "WP"], ["are", "VBP"], ["we", "PRP"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], ["with", "IN"], ["those", "DT"], ["two", "CD"], ["links", "NNS"], ["?", "."], ["Well", "RB"], ["the", "DT"], ["Hibbard", "NNP"], ["deletion", "NN"], ["mechanism", "NN"], ["which", "WDT"], ["is", "VBZ"], ["pretty", "JJ"], ["old", "JJ"], [".", "."], ["50", "CD"], ["years", "NNS"], ["ago", "RB"], [",", ","], ["it", "PRP"], ["was", "VBD"], ["proposed", "VBN"], [".", "."], ["Says", "VBZ"], [",", ","], ["go", "VB"], ["ahead", "RB"], ["and", "CC"], ["find", "VB"], ["the", "DT"], ["next", "JJ"], ["smallest", "NN"], ["node", "NN"], ["in", "IN"], ["the", "DT"], ["right", "JJ"], ["subtree", "NN"], ["of", "IN"], ["that", "DT"], ["tree", "NN"], [".", "."], ["So", "RB"], ["in", "IN"], ["the", "DT"], ["case", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["H", "NNP"], ["and", "CC"], ["what", "WP"], ["'s", "VBZ"], ["that", "DT"], ["node", "NN"], ["?", "."], ["Well", "NNP"], ["it", "PRP"], ["'s", "VBZ"], ["the", "DT"], ["minimum", "NN"], ["in", "IN"], ["T", "NNP"], ["'s", "POS"], ["right", "JJ"], ["sub", "NN"], ["tree", "NN"], [".", "."], ["And", "CC"], ["we", "PRP"], ["know", "VBP"], ["how", "WRB"], ["to", "TO"], ["delete", "VB"], ["the", "DT"], ["minimum", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["just", "RB"], ["find", "VBP"], ["that", "IN"], ["minimum", "JJ"], ["node", "NN"], ["and", "CC"], [",", ","], ["in", "IN"], ["this", "DT"], ["case", "NN"], ["it", "PRP"], ["'s", "VBZ"], ["H", "NNP"], [",", ","], ["and", "CC"], ["we", "PRP"], ["put", "VBP"], ["that", "DT"], ["node", "NN"], ["in", "IN"], ["T", "NNP"], ["spot", "NN"], ["and", "CC"], ["then", "RB"], ["delete", "VB"], ["the", "DT"], ["minimum", "NN"], [".", "."], ["So", "RB"], [",", ","], ["find", "VBP"], ["the", "DT"], ["H", "NNP"], ["that", "WDT"], ["'s", "VBZ"], ["the", "DT"], ["minimum", "NN"], [",", ","], ["hang", "NN"], ["on", "IN"], ["to", "TO"], ["it", "PRP"], [",", ","], ["and", "CC"], ["then", "RB"], ["delete", "VB"], ["the", "DT"], ["minimum", "JJ"], ["NT", "NNP"], ["sub", "NN"], ["tree", "NN"], ["and", "CC"], ["then", "RB"], [",", ","], ["so", "IN"], ["we", "PRP"], ["take", "VBP"], ["the", "DT"], ["E", "NNP"], [",", ","], ["replace", "VB"], ["it", "PRP"], ["with", "IN"], ["the", "DT"], ["H", "NNP"], [",", ","], ["delete", "VB"], ["the", "DT"], ["H", "NNP"], [",", ","], ["and", "CC"], ["then", "RB"], ["everything", "NN"], ["is", "VBZ"], ["fine", "JJ"], [".", "."], ["It", "PRP"], ["is", "VBZ"], ["still", "RB"], ["a", "DT"], ["BST", "NNP"], [".", "."], ["So", "IN"], ["we", "PRP"], [",", ","], ["essentially", "RB"], ["we", "PRP"], ["are", "VBP"], ["finding", "VBG"], ["a", "DT"], ["node", "NN"], ["that", "WDT"], ["has", "VBZ"], ["only", "RB"], ["one", "CD"], ["link", "NN"], [",", ","], ["deleting", "VBG"], ["that", "IN"], ["node", "NN"], [",", ","], ["and", "CC"], ["then", "RB"], ["replacing", "VBG"], ["the", "DT"], ["node", "NN"], ["that", "IN"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["delete", "VB"], ["with", "IN"], ["that", "DT"], ["one", "CD"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["Hibbard", "NNP"], ["deletion", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["asymmetric", "JJ"], [".", "."], ["Why", "WRB"], ["are", "VBP"], ["we", "PRP"], ["using", "VBG"], ["the", "DT"], ["successor", "NN"], ["and", "CC"], ["not", "RB"], ["the", "DT"], ["predecessor", "NN"], ["?", "."], ["No", "DT"], ["real", "JJ"], ["reason", "NN"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["really", "RB"], ["satisfactory", "JJ"], ["because", "IN"], ["of", "IN"], ["that", "DT"], [",", ","], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["come", "VB"], ["back", "RB"], ["to", "TO"], ["this", "DT"], ["but", "CC"], ["it", "PRP"], ["works", "VBZ"], [".", "."], ["So", "IN"], ["this", "DT"], ["is", "VBZ"], ["the", "DT"], ["code", "NN"], ["for", "IN"], ["Hibbard", "NNP"], ["deletion", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["search", "VBP"], ["for", "IN"], ["the", "DT"], ["key", "NN"], [".", "."], ["If", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["got", "VBD"], ["no", "DT"], ["right", "JJ"], ["child", "NN"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["fine", "JJ"], [".", "."], ["We", "PRP"], ["just", "RB"], ["return", "VB"], [",", ","], ["x", "VB"], ["out", "RP"], ["left", "VBN"], [",", ","], ["and", "CC"], ["that", "IN"], ["handles", "VBZ"], ["both", "DT"], ["cases", "NNS"], ["zero", "CD"], ["and", "CC"], ["one", "CD"], [".", "."], ["If", "IN"], ["it", "PRP"], ["does", "VBZ"], ["have", "VB"], ["a", "DT"], ["right", "JJ"], ["child", "NN"], [",", ","], ["then", "RB"], ["we", "PRP"], ["do", "VBP"], ["this", "DT"], [",", ","], ["find", "VB"], ["the", "DT"], ["minimum", "NN"], [",", ","], ["on", "IN"], ["the", "DT"], ["right", "NN"], [".", "."], ["Delete", "NNP"], ["min", "NN"], ["on", "IN"], ["the", "DT"], ["right", "NN"], ["and", "CC"], ["then", "RB"], ["fix", "VB"], ["the", "DT"], ["links", "NNS"], ["and", "CC"], ["then", "RB"], ["update", "VB"], ["our", "PRP$"], ["count", "NN"], ["that", "IN"], ["covers", "VBZ"], ["all", "DT"], ["cases", "NNS"], [".", "."], ["So", "NNP"], ["actually", "RB"], ["not", "RB"], ["that", "IN"], ["much", "JJ"], ["code", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["complicated", "VBN"], ["but", "CC"], ["not", "RB"], ["particularly", "RB"], ["more", "RBR"], ["complicated", "JJ"], ["than", "IN"], ["other", "JJ"], ["code", "NN"], ["we", "PRP"], ["have", "VBP"], ["seen", "VBN"], ["like", "IN"], ["rank", "NN"], ["and", "CC"], ["floor", "NN"], ["and", "CC"], ["ceiling", "NN"], ["and", "CC"], ["that", "IN"], ["implements", "NNS"], ["Hibbard", "NNP"], ["deletion", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["fully", "RB"], ["dynamic", "JJ"], ["symbol", "NN"], ["table", "NN"], ["where", "WRB"], ["we", "PRP"], ["can", "MD"], ["insert", "VB"], ["and", "CC"], ["delete", "VB"], [".", "."], ["The", "DT"], ["number", "NN"], ["of", "IN"], ["nodes", "NNS"], ["that", "IN"], ["we", "PRP"], ["have", "VBP"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], ["as", "IN"], ["always", "RB"], ["proportion", "NN"], ["to", "TO"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["key", "JJ"], ["value", "NN"], ["pairs", "NNS"], ["in", "IN"], ["the", "DT"], ["symbol", "NN"], ["table", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["problem", "NN"], ["is", "VBZ"], [",", ","], ["and", "CC"], ["this", "DT"], ["was", "VBD"], ["quite", "RB"], ["a", "DT"], ["surprise", "NN"], ["when", "WRB"], ["it", "PRP"], ["was", "VBD"], ["first", "RB"], ["discovered", "VBN"], ["actually", "RB"], ["many", "JJ"], ["years", "NNS"], ["after", "IN"], ["Hibbard", "NNP"], ["proposed", "VBD"], ["the", "DT"], ["algorithm", "NN"], ["is", "VBZ"], ["this", "DT"], ["lack", "NN"], ["of", "IN"], ["symmetry", "NN"], ["that", "WDT"], ["tends", "VBZ"], ["to", "TO"], ["lead", "VB"], ["to", "TO"], ["difficulties", "NNS"], [".", "."], ["And", "CC"], ["here", "RB"], ["we", "PRP"], ["are", "VBP"], ["just", "RB"], ["inserting", "VBG"], ["the", "DT"], ["leading", "VBG"], ["alternating", "NN"], ["insert", "NN"], ["and", "CC"], ["delete", "VB"], ["a", "DT"], ["random", "NN"], ["key", "NN"], [".", "."], ["So", "CC"], ["that", "IN"], ["maybe", "RB"], ["well", "RB"], ["models", "NNS"], ["a", "DT"], ["situation", "NN"], [",", ","], ["practical", "JJ"], ["situation", "NN"], [".", "."], ["And", "CC"], ["as", "IN"], ["you", "PRP"], ["watch", "VBP"], ["it", "PRP"], ["go", "VB"], ["for", "IN"], ["awhile", "RB"], [".", "."], ["You", "PRP"], ["can", "MD"], ["see", "VB"], ["that", "IN"], ["this", "DT"], ["thing", "NN"], ["about", "IN"], ["going", "VBG"], ["to", "TO"], ["the", "DT"], ["right", "NN"], ["and", "CC"], ["taking", "VBG"], ["the", "DT"], ["successor", "NN"], ["all", "PDT"], ["the", "DT"], ["time", "NN"], [".", "."], ["The", "DT"], ["tree", "NN"], ["'s", "POS"], ["becoming", "VBG"], ["much", "RB"], ["less", "RBR"], ["balanced", "JJ"], ["than", "IN"], ["it", "PRP"], ["was", "VBD"], [".", "."], ["And", "CC"], [",", ","], ["this", "DT"], ["seems", "VBZ"], ["to", "TO"], ["be", "VB"], ["a", "DT"], [",", ","], ["a", "DT"], ["problem", "NN"], [".", "."], ["We", "PRP"], ["ca", "MD"], ["n't", "RB"], ["be", "VB"], ["having", "VBG"], [",", ","], ["supposedly", "RB"], ["having", "VBG"], ["a", "DT"], ["dynamic", "JJ"], ["situation", "NN"], [",", ","], ["that", "WDT"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], [",", ","], ["allow", "VB"], ["support", "NN"], ["of", "IN"], ["lots", "NNS"], ["of", "IN"], ["different", "JJ"], ["inserts", "NNS"], ["and", "CC"], ["de", "VB"], ["letes", "NNS"], [".", "."], ["And", "CC"], ["in", "IN"], ["the", "DT"], ["end", "NN"], [",", ","], ["win", "VB"], ["up", "RP"], ["with", "IN"], ["a", "DT"], ["less", "RBR"], ["balanced", "JJ"], ["tree", "NN"], [".", "."], ["What", "WP"], ["'s", "VBZ"], ["worse", "JJR"], [",", ","], ["if", "IN"], ["you", "PRP"], [",", ","], ["so", "IN"], ["how", "WRB"], ["you", "PRP"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["fix", "VB"], ["it", "PRP"], ["?", "."], ["At", "IN"], ["the", "DT"], ["end", "NN"], ["researches", "VBZ"], ["show", "VBP"], ["that", "IN"], ["after", "IN"], [",", ","], ["sufficiently", "RB"], ["long", "JJ"], ["sequence", "NN"], ["of", "IN"], ["random", "NN"], ["inserts", "NNS"], ["and", "CC"], ["deletes", "NNS"], [",", ","], ["the", "DT"], ["height", "NN"], ["of", "IN"], ["the", "DT"], ["tree", "NN"], ["becomes", "VBZ"], ["square", "JJ"], ["root", "NN"], ["of", "IN"], ["N", "NNP"], ["not", "RB"], ["lg", "VBZ"], ["N.", "NNP"], ["Square", "NNP"], ["root", "NN"], ["of", "IN"], ["N", "NNP"], ["is", "VBZ"], ["usually", "RB"], ["bigger", "JJR"], ["than", "IN"], ["lg", "JJR"], ["N.", "NNP"], ["It", "PRP"], ["might", "MD"], ["make", "VB"], ["difference", "NN"], ["between", "IN"], ["acceptable", "JJ"], ["and", "CC"], ["unacceptable", "JJ"], ["performance", "NN"], ["in", "IN"], ["real", "JJ"], ["applications", "NNS"], [".", "."], ["Then", "RB"], ["what", "WP"], ["'s", "VBZ"], ["worse", "JJR"], ["is", "VBZ"], ["you", "PRP"], ["try", "VBP"], ["to", "TO"], ["fix", "VB"], ["it", "PRP"], ["by", "IN"], ["say", "VBP"], ["randomly", "RB"], ["choosing", "VBG"], ["between", "IN"], ["the", "DT"], ["left", "NN"], ["and", "CC"], ["the", "DT"], ["right", "NN"], [",", ","], ["that", "WDT"], ["does", "VBZ"], ["n't", "RB"], ["work", "VB"], [",", ","], ["it", "PRP"], ["still", "RB"], ["becomes", "VBZ"], ["square", "JJ"], ["root", "NN"], ["of", "IN"], ["N.", "NNP"], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["very", "RB"], ["long", "JJ"], ["standing", "VBG"], ["open", "JJ"], ["problem", "NN"], ["to", "TO"], ["find", "VB"], ["a", "DT"], ["natural", "JJ"], [",", ","], ["simple", "JJ"], [",", ","], ["efficient", "JJ"], ["delete", "NN"], ["for", "IN"], ["binary", "JJ"], ["search", "NN"], ["trees", "NNS"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["another", "DT"], ["one", "CD"], ["like", "IN"], ["merging", "VBG"], ["in", "IN"], ["place", "NN"], [",", ","], ["that", "IN"], ["you", "PRP"], ["think", "VBP"], ["there", "RB"], ["ought", "MD"], ["to", "TO"], ["be", "VB"], ["another", "DT"], ["easy", "JJ"], ["way", "NN"], ["to", "TO"], ["do", "VB"], ["it", "PRP"], [",", ","], ["but", "CC"], ["in", "IN"], ["50", "CD"], ["years", "NNS"], ["no", "DT"], ["one", "NN"], ["'s", "POS"], ["really", "RB"], ["discovered", "JJ"], ["one", "CD"], [".", "."], ["Now", "RB"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["something", "NN"], ["pretty", "RB"], ["close", "RB"], ["in", "IN"], ["the", "DT"], ["next", "JJ"], ["lecture", "NN"], [",", ","], ["but", "CC"], ["here", "RB"], ["'s", "VBZ"], ["the", "DT"], ["situation", "NN"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["left", "VBN"], ["with", "IN"], [".", "."], ["We", "PRP"], ["have", "VBP"], ["a", "DT"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], ["algorithm", "NN"], [",", ","], ["which", "WDT"], ["is", "VBZ"], ["fine", "JJ"], ["in", "IN"], ["that", "DT"], ["gives", "VBZ"], ["us", "PRP"], ["lg", "JJ"], ["N", "NNP"], ["performance", "NN"], ["for", "IN"], ["search", "NN"], ["and", "CC"], ["insert", "NN"], [",", ","], ["in", "IN"], ["a", "DT"], ["situation", "NN"], ["where", "WRB"], ["we", "PRP"], ["can", "MD"], ["think", "VB"], ["that", "IN"], ["these", "DT"], ["things", "NNS"], ["are", "VBP"], ["happening", "VBG"], ["randomly", "RB"], [".", "."], ["But", "CC"], ["we", "PRP"], ["'re", "VBP"], ["kind", "NN"], ["of", "IN"], ["stuck", "JJ"], ["if", "IN"], ["we", "PRP"], ["allowed", "VBD"], ["delete", "JJ"], [".", "."], ["In", "IN"], ["fact", "NN"], ["everything", "NN"], ["degenerates", "VBZ"], ["to", "TO"], ["square", "VB"], ["root", "NN"], ["of", "IN"], ["N", "NNP"], [",", ","], ["and", "CC"], ["we", "PRP"], ["also", "RB"], ["have", "VBP"], ["a", "DT"], ["problem", "NN"], ["with", "IN"], [",", ","], ["with", "IN"], ["the", "DT"], ["worst", "JJS"], ["case", "NN"], ["if", "IN"], ["the", "DT"], ["keys", "NNS"], ["happen", "VBP"], ["to", "TO"], ["have", "VB"], ["some", "DT"], ["order", "NN"], ["in", "IN"], ["them", "PRP"], ["our", "PRP$"], ["trees", "NNS"], ["are", "VBP"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["balanced", "VBN"], ["at", "IN"], ["all", "DT"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["make", "VB"], ["the", "DT"], ["difference", "NN"], ["between", "IN"], ["acceptable", "JJ"], ["and", "CC"], ["not", "RB"], ["acceptable", "JJ"], ["performance", "NN"], [".", "."], ["What", "WP"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["next", "JJ"], ["time", "NN"], [",", ","], ["called", "VBD"], ["a", "DT"], ["red", "JJ"], ["black", "JJ"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], [",", ","], ["will", "MD"], ["guarantee", "VB"], ["logarithmic", "JJ"], ["performance", "NN"], ["for", "IN"], ["all", "DT"], ["operations", "NNS"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["extremely", "RB"], ["significant", "JJ"], ["and", "CC"], ["much", "JJ"], ["better", "JJR"], ["then", "RB"], ["binary", "JJ"], ["search", "NN"], ["trees", "NNS"], ["but", "CC"], ["the", "DT"], ["delete", "JJ"], ["operation", "NN"], ["for", "IN"], ["binary", "JJ"], ["search", "NN"], ["trees", "NNS"], ["shows", "VBZ"], ["us", "PRP"], ["the", "DT"], ["kind", "NN"], ["of", "IN"], ["complexity", "NN"], ["that", "IN"], ["we", "PRP"], ["can", "MD"], ["encounter", "VB"], ["with", "IN"], ["working", "VBG"], ["with", "IN"], ["these", "DT"], ["kinds", "NNS"], ["of", "IN"], ["data", "NNS"], ["structures", "NNS"], [".", "."]], "title": "deletion in bsts", "text": "If our symbols table's really going to be dynamic, we need to be able to delete key valued pairs from the table. As we'll see, all symbol table implementations have, lead to complications when we try to do this operation. Binary search trace is our first example. So we need to fill in this one table. What's, what's the cost of deletion in a binary search tree? How are we going to really do that? Well let's take a look at a very lazy approach which we set up for in our basic conventions for simple tables. What we can do to remove a node with a give key is just mark it with a tombstone. Say, well, we'll leave the key in the tree to guide searches, but we won't, count it as being in the symbol table. And actually you can, make some progress with this kind of method. Leaving tombstone throughout the tree. And, make sure that you keep, as long as there aren't too many deletions, you can keep the search costs, and deletion and insert costs to be logarithmic. But it definitely becomes, inconvenient to manage large numbers of tombstones in highly dynamic situations with large numbers of keys and values. Eventually you're going to get an overload of memory and you're going to have to rebuild the thing or clean out the tombstones in some way so we need to look for a better way. This is a general method that people often use on all different types of implementations, but in modern systems it's rather unsatisfactory. Also got a simpler problem. What about deleting the minimum? Well actually, that's maybe not too difficult to delete the minimum in a binary search tree. Again, we just go to the left until we get a null left link. And then, what we can do is just return that node's right link then that old node, nobody's pointing to it, so it's available for garbage collection. And then we use our usual trick of returning the link that we went down to update the other links after the recursive calls. And also we have to update the counts, something happened down below and we used that code to update the counts, in a co nsistent way, so this code implements deleting, not too bad at all. If x. Left null, return x right. Otherwise x left = delete min x left. And then when you're done with that, it fix the count so maybe a node got deleted down there, but always, the invariant is that the count of the node is one + size of the left and right. And then return x and fix the links and the counts on the way up. That's a fine implementation for delete min, and it also works for delete max. And that's the basis for a general method for deleting nodes from BSTs known as Hibberd deletion. So, that's the second case, the first case for Hibberd deletion is what we want to do to delete a, a node with key K, is we search for the node that contains the key, and the easiest case is that node has no children. So to, to delete a node that has no children just return null. And then go back up to update the counts as usual, that's the easy case. The next most difficult case is like the delete min case we find a node T that contains our key, so like deleting R in this tree, it only has one child. Just go ahead and return the link to that child and that updates the link and everything works fine and then the node that the leads that available for garbage collection that nobody's pointing to it. And then again update all the accounts after the recursive calls. Zero children no problem one child no problem. The problem is what happens when there is two children. So say we want to delete node E in this tree. We have only one link, and we can get rid of the node but we have only one link pointing to it. But we have two links pointing down from it. So what are we going to do with those two links? Well the Hibbard deletion mechanism which is pretty old. 50 years ago, it was proposed. Says, go ahead and find the next smallest node in the right subtree of that tree. So in the case that's H and what's that node? Well it's the minimum in T's right sub tree. And we know how to delete the minimum. So we just find that minimum node and, in this case it's H, and we put that node in T spot and then delete the minimum. So, find the H that's the minimum, hang on to it, and then delete the minimum NT sub tree and then, so we take the E, replace it with the H, delete the H, and then everything is fine. It is still a BST. So we, essentially we are finding a node that has only one link, deleting that node, and then replacing the node that we need to delete with that one. That's Hibbard deletion. It's a little bit asymmetric. Why are we using the successor and not the predecessor? No real reason. And it's not really satisfactory because of that, and we'll come back to this but it works. So this is the code for Hibbard deletion. So we search for the key. If it's got no right child, we're fine. We just return, x out left, and that handles both cases zero and one. If it does have a right child, then we do this, find the minimum, on the right. Delete min on the right and then fix the links and then update our count that covers all cases. So actually not that much code, it's complicated but not particularly more complicated than other code we have seen like rank and floor and ceiling and that implements Hibbard deletion. So now we have a fully dynamic symbol table where we can insert and delete. The number of nodes that we have in the tree as always proportion to the number of key value pairs in the symbol table. And the problem is, and this was quite a surprise when it was first discovered actually many years after Hibbard proposed the algorithm is this lack of symmetry that tends to lead to difficulties. And here we are just inserting the leading alternating insert and delete a random key. So that maybe well models a situation, practical situation. And as you watch it go for awhile. You can see that this thing about going to the right and taking the successor all the time. The tree's becoming much less balanced than it was. And, this seems to be a, a problem. We can't be having, supposedly having a dynamic situation, that is going to, allow support of lots of different inserts and de letes. And in the end, win up with a less balanced tree. What's worse, if you, so how you are going to fix it? At the end researches show that after, sufficiently long sequence of random inserts and deletes, the height of the tree becomes square root of N not lg N. Square root of N is usually bigger than lg N. It might make difference between acceptable and unacceptable performance in real applications. Then what's worse is you try to fix it by say randomly choosing between the left and the right, that doesn't work, it still becomes square root of N. And that's a very long standing open problem to find a natural, simple, efficient delete for binary search trees. That's another one like merging in place, that you think there ought to be another easy way to do it, but in 50 years no one's really discovered one. Now we're going to look at something pretty close in the next lecture, but here's the situation that we're left with. We have a binary search tree algorithm, which is fine in that gives us lg N performance for search and insert, in a situation where we can think that these things are happening randomly. But we're kind of stuck if we allowed delete. In fact everything degenerates to square root of N, and we also have a problem with, with the worst case if the keys happen to have some order in them our trees are not going to be balanced at all. And that's going to make the difference between acceptable and not acceptable performance. What we're going to look at next time, called a red black binary search tree, will guarantee logarithmic performance for all operations. So that's extremely significant and much better then binary search trees but the delete operation for binary search trees shows us the kind of complexity that we can encounter with working with these kinds of data structures. ", "video_ID": 43, "course_id": 3}
{"category": ["balanced search trees"], "tagged": [["Welcome", "NNP"], ["back", "RB"], [",", ","], ["today", "NN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["talk", "VB"], ["about", "IN"], ["balance", "NN"], ["search", "NN"], ["trees", "NNS"], [",", ","], ["Which", "NNP"], ["will", "MD"], ["lead", "VB"], ["us", "PRP"], ["to", "TO"], ["an", "DT"], ["ultimate", "JJ"], ["symbol", "NN"], ["table", "JJ"], ["implementation", "NN"], ["that", "WDT"], ["can", "MD"], ["provide", "VB"], ["fast", "JJ"], ["performance", "NN"], ["for", "IN"], ["all", "PDT"], ["the", "DT"], ["simulative", "JJ"], ["options", "NNS"], ["we", "PRP"], ["'ve", "VBP"], ["looked", "VBN"], ["at", "IN"], [",", ","], ["guaranteed", "FW"], [".", "."], ["So", "RB"], ["here", "RB"], ["'s", "VBZ"], ["the", "DT"], ["review", "NN"], ["of", "IN"], ["where", "WRB"], ["we", "PRP"], ["were", "VBD"], ["with", "IN"], ["single", "JJ"], ["tables", "NNS"], [".", "."], ["We", "PRP"], ["took", "VBD"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["the", "DT"], ["last", "JJ"], ["time", "NN"], ["at", "IN"], ["the", "DT"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], [",", ","], ["Which", "NNP"], ["if", "IN"], ["things", "NNS"], ["are", "VBP"], ["well", "RB"], ["modeled", "VBN"], ["by", "IN"], ["random", "JJ"], ["exertions", "NNS"], [",", ","], ["have", "VBP"], ["a", "DT"], ["great", "JJ"], ["performance", "NN"], [".", "."], ["They", "PRP"], ["get", "VBP"], ["search", "JJ"], ["and", "CC"], ["insert", "NN"], ["on", "IN"], ["in", "IN"], ["time", "NN"], ["proportion", "NN"], ["for", "IN"], ["log", "JJ"], ["base", "NN"], ["two", "CD"], ["of", "IN"], ["N", "NNP"], ["and", "CC"], ["they", "PRP"], ["support", "VBP"], ["ordered", "JJ"], ["operations", "NNS"], [".", "."], ["But", "CC"], ["really", "RB"], ["our", "PRP$"], ["goal", "NN"], ["is", "VBZ"], ["to", "TO"], ["have", "VB"], ["these", "DT"], ["operations", "NNS"], ["be", "VB"], ["guaranteed", "VBN"], ["to", "TO"], ["take", "VB"], ["time", "NN"], ["proportional", "JJ"], ["to", "TO"], ["log", "VB"], ["N", "NNP"], [",", ","], ["Because", "IN"], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["have", "VB"], ["control", "NN"], ["over", "IN"], ["the", "DT"], ["order", "NN"], ["of", "IN"], ["operations", "NNS"], ["and", "CC"], ["they", "PRP"], ["may", "MD"], ["not", "RB"], ["be", "VB"], ["random", "VBN"], ["at", "IN"], ["all", "DT"], [".", "."], ["And", "CC"], ["in", "IN"], ["fact", "NN"], [",", ","], ["in", "IN"], ["many", "JJ"], ["real", "JJ"], ["applications", "NNS"], [",", ","], ["they", "PRP"], ["'re", "VBP"], ["not", "RB"], ["very", "RB"], ["random", "RB"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["what", "WP"], ["were", "VBD"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["now", "RB"], ["is", "VBZ"], ["try", "NN"], ["to", "TO"], ["find", "VB"], ["an", "DT"], ["implementation", "NN"], ["that", "WDT"], ["can", "MD"], ["guarantee", "VB"], ["to", "TO"], ["be", "VB"], ["fast", "VBN"], ["for", "IN"], ["all", "PDT"], ["the", "DT"], ["symbol", "NN"], ["table", "JJ"], ["operations", "NNS"], [".", "."], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["our", "PRP$"], ["challenge", "NN"], [".", "."], ["So", "RB"], ["what", "WP"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["talk", "VB"], ["about", "IN"], ["to", "TO"], ["do", "VB"], ["it", "PRP"], [",", ","], ["is", "VBZ"], ["an", "DT"], ["algorithm", "NN"], [",", ","], ["that", "WDT"], ["actually", "RB"], ["pretty", "RB"], ["old", "JJ"], ["algorithm", "NN"], ["called", "VBN"], ["2-3", "CD"], ["trees", "NNS"], [",", ","], ["and", "CC"], ["a", "DT"], ["particular", "JJ"], ["implementation", "NN"], ["that", "WDT"], ["requires", "VBZ"], ["very", "RB"], ["little", "JJ"], ["code", "NN"], [",", ","], ["called", "VBN"], ["left", "VBD"], ["leaning", "NN"], ["red", "JJ"], ["black", "JJ"], ["BSTs", "NNP"], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["'ll", "MD"], ["talk", "VB"], ["about", "IN"], ["a", "DT"], ["generalization", "NN"], ["called", "VBN"], ["B-trees", "NNP"], [".", "."], ["And", "CC"], ["these", "DT"], ["methods", "NNS"], ["are", "VBP"], ["all", "DT"], ["widely", "RB"], ["used", "VBN"], ["throughout", "IN"], ["our", "PRP$"], ["computational", "JJ"], ["infrastructure", "NN"], [".", "."], ["To", "TO"], ["start", "VB"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["talk", "VB"], ["about", "IN"], ["2-3", "JJ"], ["search", "NN"], ["trees", "NNS"], [",", ","], ["which", "WDT"], ["is", "VBZ"], ["a", "DT"], ["model", "NN"], ["that", "WDT"], ["underlies", "VBZ"], ["the", "DT"], ["concise", "NN"], ["and", "CC"], ["efficient", "JJ"], ["implementation", "NN"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["at", "IN"], [".", "."], ["So", "RB"], [",", ","], ["the", "DT"], ["2-3", "JJ"], ["tree", "NN"], ["is", "VBZ"], ["a", "DT"], ["way", "NN"], ["to", "TO"], ["generalize", "VB"], ["BSTs", "NNP"], ["to", "TO"], ["provide", "VB"], ["the", "DT"], ["flexibility", "NN"], ["that", "IN"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["guarantee", "VB"], ["fast", "JJ"], ["performance", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["idea", "NN"], ["is", "VBZ"], ["very", "RB"], ["simple", "JJ"], [",", ","], ["We", "PRP"], ["allow", "VBP"], ["one", "CD"], ["or", "CC"], ["two", "CD"], ["keys", "NNS"], ["per", "IN"], ["node", "NN"], [".", "."], ["That", "DT"], ["is", "VBZ"], [",", ","], ["we", "PRP"], ["allow", "VBP"], ["for", "IN"], ["the", "DT"], ["possibility", "NN"], ["of", "IN"], ["something", "NN"], ["called", "VBN"], ["a", "DT"], ["3-node", "JJ"], ["that", "WDT"], ["can", "MD"], ["hold", "VB"], ["two", "CD"], ["keys", "NNS"], [",", ","], ["But", "CC"], ["then", "RB"], ["it", "PRP"], ["has", "VBZ"], ["to", "TO"], ["have", "VB"], ["three", "CD"], ["children", "NNS"], [".", "."], ["In", "IN"], ["a", "DT"], ["regular", "JJ"], ["BST", "NNP"], ["node", "NN"], [",", ","], ["the", "DT"], ["2-node", "JJ"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["one", "CD"], ["link", "NN"], ["for", "IN"], ["the", "DT"], ["keys", "NNS"], ["that", "WDT"], ["are", "VBP"], ["less", "JJR"], ["than", "IN"], ["the", "DT"], ["key", "NN"], ["in", "IN"], ["the", "DT"], ["node", "NN"], [",", ","], ["and", "CC"], ["one", "CD"], ["link", "NN"], ["for", "IN"], ["the", "DT"], ["keys", "NNS"], ["that", "WDT"], ["are", "VBP"], ["greater", "JJR"], [".", "."], ["In", "IN"], ["a", "DT"], ["3-node", "JJ"], [",", ","], ["we", "PRP"], ["need", "VBP"], ["three", "CD"], ["links", "NNS"], [",", ","], ["one", "CD"], ["for", "IN"], ["less", "JJR"], [",", ","], ["one", "CD"], ["for", "IN"], ["between", "IN"], ["and", "CC"], ["one", "CD"], ["for", "IN"], ["greater", "JJR"], [".", "."], ["Another", "DT"], ["property", "NN"], ["of", "IN"], ["these", "DT"], ["2-3", "JJ"], ["trees", "NNS"], ["is", "VBZ"], ["that", "IN"], ["we", "PRP"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["perfect", "JJ"], ["balance", "NN"], [",", ","], ["That", "DT"], ["is", "VBZ"], ["every", "DT"], ["path", "NN"], ["from", "IN"], ["the", "DT"], ["route", "NN"], ["to", "TO"], ["a", "DT"], ["null", "JJ"], ["link", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["the", "DT"], ["same", "JJ"], ["link", "NN"], ["in", "IN"], ["the", "DT"], ["2-3", "JJ"], ["tree", "NN"], [".", "."], ["So", "RB"], [",", ","], ["as", "IN"], ["I", "PRP"], ["mentioned", "VBD"], [",", ","], ["the", "DT"], ["symmetric", "JJ"], ["order", "NN"], ["is", "VBZ"], ["part", "NN"], ["of", "IN"], ["the", "DT"], ["definition", "NN"], ["of", "IN"], ["a", "DT"], ["2-3", "JJ"], ["tree", "NN"], [".", "."], ["Every", "DT"], ["3-node", "NN"], ["has", "VBZ"], ["three", "CD"], ["links", "NNS"], ["and", "CC"], ["two", "CD"], ["keys", "NNS"], [".", "."], ["The", "DT"], ["left", "JJ"], ["link", "NN"], ["is", "VBZ"], ["for", "IN"], ["the", "DT"], ["keys", "NNS"], ["that", "WDT"], ["are", "VBP"], [",", ","], ["points", "NNS"], ["to", "TO"], ["a", "DT"], ["2-3", "JJ"], ["tree", "NN"], ["with", "IN"], ["the", "DT"], ["keys", "NNS"], ["that", "WDT"], ["are", "VBP"], ["smaller", "JJR"], ["than", "IN"], ["the", "DT"], ["smaller", "JJR"], ["of", "IN"], ["the", "DT"], ["two", "CD"], ["keys", "NNS"], ["in", "IN"], ["the", "DT"], ["3-node", "JJ"], [".", "."], ["The", "DT"], ["middle", "JJ"], ["link", "NN"], ["points", "NNS"], ["to", "TO"], ["a", "DT"], ["2-3", "JJ"], ["tree", "NN"], ["that", "WDT"], ["contains", "VBZ"], ["all", "PDT"], ["the", "DT"], ["keys", "NNS"], ["that", "WDT"], ["are", "VBP"], ["between", "IN"], ["the", "DT"], ["two", "CD"], ["keys", "NNS"], [".", "."], ["And", "CC"], ["the", "DT"], ["right", "JJ"], ["link", "NN"], ["points", "NNS"], ["to", "TO"], ["all", "DT"], [",", ","], ["2-3", "JJ"], ["tree", "NN"], ["containing", "VBG"], ["all", "PDT"], ["the", "DT"], ["keys", "NNS"], ["that", "WDT"], ["are", "VBP"], ["larger", "JJR"], ["than", "IN"], ["the", "DT"], ["larger", "JJR"], ["of", "IN"], ["the", "DT"], ["two", "CD"], ["keys", "NNS"], ["in", "IN"], ["the", "DT"], ["3-node", "JJ"], [".", "."], ["Okay", "NNP"], [",", ","], ["let", "VB"], ["'s", "POS"], ["take", "VB"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["a", "DT"], ["demo", "NN"], ["of", "IN"], ["searching", "VBG"], ["in", "IN"], ["a", "DT"], ["2-3", "JJ"], ["tree", "NN"], [".", "."], ["So", "RB"], ["say", "VBP"], ["we", "PRP"], ["have", "VBP"], ["this", "DT"], ["2-3", "JJ"], ["tree", "NN"], ["here", "RB"], ["and", "CC"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["search", "VB"], ["for", "IN"], ["whether", "IN"], ["or", "CC"], ["not", "RB"], ["H", "NNP"], ["is", "VBZ"], ["one", "CD"], ["of", "IN"], ["the", "DT"], ["keys", "NNS"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["start", "VBP"], ["at", "IN"], ["the", "DT"], ["root", "NN"], [",", ","], ["Compare", "NNP"], ["the", "DT"], ["search", "NN"], ["key", "NN"], ["against", "IN"], ["the", "DT"], ["key", "NN"], ["or", "CC"], ["keys", "NNS"], ["in", "IN"], ["the", "DT"], ["node", "NN"], [".", "."], ["And", "CC"], ["follow", "VB"], ["the", "DT"], ["link", "NN"], ["corresponding", "VBG"], ["to", "TO"], ["the", "DT"], ["interval", "NN"], ["that", "IN"], ["we", "PRP"], ["know", "VBP"], ["must", "MD"], ["contain", "VB"], ["the", "DT"], ["search", "NN"], ["key", "NN"], ["by", "IN"], ["definition", "NN"], ["of", "IN"], ["the", "DT"], ["tree", "NN"], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["recursively", "VBP"], ["continue", "VBP"], ["the", "DT"], ["search", "NN"], [".", "."], ["So", "RB"], [",", ","], ["if", "IN"], ["we", "PRP"], ["'re", "VBP"], ["looking", "VBG"], ["for", "IN"], ["H", "NNP"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["less", "JJR"], ["than", "IN"], ["M", "NNP"], [",", ","], ["so", "IN"], ["the", "DT"], ["only", "JJ"], ["place", "NN"], ["it", "PRP"], ["could", "MD"], ["be", "VB"], ["in", "IN"], ["this", "DT"], ["2-3", "JJ"], ["tree", "NN"], ["is", "VBZ"], ["in", "IN"], ["the", "DT"], ["2-3", "JJ"], ["tree", "NN"], ["on", "IN"], ["the", "DT"], ["left", "NN"], ["link", "NN"], [",", ","], ["So", "IN"], ["we", "PRP"], ["follow", "VBP"], ["the", "DT"], ["left", "NN"], ["link", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["we", "PRP"], ["compare", "VBP"], ["H", "NNP"], ["with", "IN"], ["E", "NNP"], ["and", "CC"], ["J", "NNP"], [",", ","], ["and", "CC"], ["in", "IN"], ["this", "DT"], ["case", "NN"], ["it", "PRP"], ["'s", "VBZ"], ["between", "IN"], [",", ","], ["so", "RB"], ["now", "RB"], ["we", "PRP"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["take", "VB"], ["the", "DT"], ["middle", "JJ"], ["link", "NN"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["the", "DT"], ["only", "JJ"], ["place", "NN"], ["that", "IN"], ["H", "NNP"], ["possibly", "RB"], ["could", "MD"], ["be", "VB"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["that", "WDT"], ["node", "RB"], [",", ","], ["one", "CD"], ["node", "NN"], ["2-3", "JJ"], ["tree", "NN"], ["contains", "NNS"], ["H", "NNP"], [",", ","], ["so", "IN"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["search", "NN"], ["hit", "NN"], [".", "."], ["Let", "VB"], ["'s", "POS"], ["take", "VB"], ["another", "DT"], ["example", "NN"], ["for", "IN"], ["unsuccessful", "JJ"], ["search", "NN"], [",", ","], ["a", "DT"], ["key", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["not", "RB"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], [".", "."], ["As", "IN"], ["usual", "JJ"], [",", ","], ["we", "PRP"], ["start", "VBP"], ["at", "IN"], ["the", "DT"], ["root", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["less", "JJR"], [",", ","], ["so", "IN"], ["we", "PRP"], ["go", "VBP"], ["left", "JJ"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["less", "JJR"], ["than", "IN"], ["both", "DT"], ["keys", "NNS"], [",", ","], ["So", "RB"], [",", ","], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], [",", ","], ["it", "PRP"], ["would", "MD"], ["have", "VB"], ["to", "TO"], ["be", "VB"], ["in", "IN"], ["the", "DT"], ["left", "NN"], ["link", "NN"], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["between", "IN"], ["those", "DT"], ["two", "CD"], ["keys", "NNS"], [".", "."], ["So", "RB"], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], [",", ","], ["it", "PRP"], ["would", "MD"], ["have", "VB"], ["to", "TO"], ["be", "VB"], ["on", "IN"], ["the", "DT"], ["middle", "JJ"], ["link", "NN"], [".", "."], ["And", "CC"], ["that", "IN"], ["link", "NN"], ["is", "VBZ"], ["null", "JJ"], [",", ","], ["so", "IN"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["search", "NN"], ["miss", "NN"], [".", "."], ["So", "IN"], ["the", "DT"], ["search", "NN"], ["is", "VBZ"], ["a", "DT"], ["natural", "JJ"], ["generalization", "NN"], ["of", "IN"], ["the", "DT"], ["search", "NN"], ["in", "IN"], [",", ","], ["binary", "JJ"], ["search", "NN"], ["trees", "NNS"], [".", "."], ["Now", "RB"], ["what", "WP"], ["about", "IN"], ["inserting", "VBG"], ["?", "."], ["Well", "UH"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["similar", "JJ"], ["type", "NN"], ["of", "IN"], ["strategy", "NN"], ["as", "IN"], ["with", "IN"], ["regular", "JJ"], ["binary", "JJ"], ["search", "NN"], ["trees", "NNS"], [",", ","], ["except", "IN"], ["that", "IN"], ["we", "PRP"], ["manipulate", "VBP"], ["the", "DT"], ["two", "CD"], ["and", "CC"], ["3-node", "NNS"], ["to", "TO"], ["keep", "VB"], ["perfect", "JJ"], ["balance", "NN"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], [".", "."], ["So", "IN"], ["the", "DT"], ["easy", "JJ"], ["case", "NN"], ["is", "VBZ"], ["if", "IN"], ["the", "DT"], ["key", "NN"], ["winds", "VBZ"], ["up", "RP"], ["in", "IN"], ["a", "DT"], ["2-node", "JJ"], ["at", "IN"], ["the", "DT"], ["bottom", "NN"], [",", ","], ["like", "IN"], ["this", "DT"], ["one", "NN"], [".", "."], ["Suppose", "NNP"], ["we", "PRP"], ["'re", "VBP"], ["inserting", "VBG"], ["K.", "NNP"], ["K", "NNP"], ["is", "VBZ"], ["less", "JJR"], ["than", "IN"], ["M", "NNP"], ["so", "IN"], ["we", "PRP"], ["go", "VBP"], ["left", "RB"], [".", "."], ["K", "NNP"], ["is", "VBZ"], ["greater", "JJR"], ["than", "IN"], ["both", "DT"], ["the", "DT"], ["keys", "NNS"], [",", ","], ["so", "IN"], ["we", "PRP"], ["go", "VBP"], ["right", "JJ"], [".", "."], ["K", "NNP"], ["is", "VBZ"], ["less", "JJR"], ["than", "IN"], ["L", "NNP"], [",", ","], ["so", "IN"], ["the", "DT"], ["search", "NN"], ["ends", "VBZ"], ["at", "IN"], ["the", "DT"], ["left", "JJ"], ["link", "NN"], ["of", "IN"], ["L.", "NNP"], ["And", "CC"], ["to", "TO"], ["perform", "VB"], ["an", "DT"], ["insertion", "NN"], ["all", "DT"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["replace", "VB"], ["that", "IN"], ["2-node", "JJ"], ["with", "IN"], ["a", "DT"], ["3-node", "JJ"], ["containing", "NN"], ["K.", "NNP"], ["Now", "RB"], [",", ","], ["K", "NNP"], ["is", "VBZ"], ["inserted", "VBN"], ["into", "IN"], ["the", "DT"], ["2-3", "JJ"], ["tree", "NN"], ["and", "CC"], ["it", "PRP"], ["satisfies", "VBZ"], ["all", "PDT"], ["the", "DT"], ["rules", "NNS"], [".", "."], ["Now", "RB"], ["if", "IN"], ["we", "PRP"], ["'re", "VBP"], ["inserting", "VBG"], ["into", "IN"], ["a", "DT"], ["3-node", "JJ"], ["at", "IN"], ["the", "DT"], ["bottom", "NN"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["do", "VB"], ["more", "JJR"], ["work", "NN"], [".", "."], ["And", "CC"], ["specifically", "RB"], [",", ","], ["the", "DT"], ["work", "NN"], ["we", "PRP"], ["do", "VBP"], ["is", "VBZ"], [",", ","], ["we", "PRP"], ["add", "VBP"], ["the", "DT"], ["key", "NN"], ["to", "TO"], ["a", "DT"], ["3-node", "JJ"], ["to", "TO"], ["create", "VB"], ["a", "DT"], ["temporary", "JJ"], ["4-node", "NN"], ["and", "CC"], ["then", "RB"], ["split", "VB"], ["up", "RP"], ["that", "DT"], ["four", "CD"], ["node", "NN"], ["and", "CC"], ["move", "VB"], ["it", "PRP"], ["'s", "VBZ"], ["middle", "JJ"], ["key", "NN"], ["into", "IN"], ["the", "DT"], ["parent", "NN"], [".", "."], ["So", "RB"], [",", ","], ["let", "VB"], ["'s", "POS"], ["see", "VB"], ["an", "DT"], ["example", "NN"], [".", "."], ["If", "IN"], ["we", "PRP"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["insert", "VB"], ["Z", "NNP"], ["into", "IN"], ["this", "DT"], ["tree", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["greater", "JJR"], ["than", "IN"], ["N", "NNP"], [",", ","], ["so", "IN"], ["we", "PRP"], ["go", "VBP"], ["to", "TO"], ["the", "DT"], ["right", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["greater", "JJR"], ["than", "IN"], ["R", "NNP"], [",", ","], ["so", "IN"], ["we", "PRP"], ["go", "VBP"], ["to", "TO"], ["the", "DT"], ["right", "NN"], [".", "."], ["And", "CC"], ["now", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["greater", "JJR"], ["than", "IN"], ["x", "NN"], [",", ","], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["null", "JJ"], ["link", "NN"], ["to", "TO"], ["the", "DT"], ["right", "NN"], ["of", "IN"], ["x", "NNP"], [",", ","], ["so", "IN"], ["the", "DT"], ["search", "NN"], ["ends", "VBZ"], ["there", "EX"], ["and", "CC"], ["are", "VBP"], [",", ","], ["what", "WP"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["insert", "VB"], ["Z", "NNP"], ["into", "IN"], ["that", "DT"], ["3-node", "JJ"], [".", "."], ["And", "CC"], ["the", "DT"], ["way", "NN"], ["we", "PRP"], ["do", "VBP"], ["it", "PRP"], ["is", "VBZ"], [",", ","], ["first", "RB"], ["make", "VB"], ["a", "DT"], ["temporary", "JJ"], ["4-node", "JJ"], ["that", "IN"], ["replaces", "VBZ"], ["that", "DT"], ["3-node", "JJ"], [".", "."], ["And", "CC"], ["then", "RB"], ["that", "DT"], ["'s", "VBZ"], ["not", "RB"], ["a", "DT"], ["2-3", "JJ"], ["tree", "NN"], ["cuz", "NN"], ["it", "PRP"], ["'s", "VBZ"], ["got", "VBD"], ["that", "IN"], ["one", "CD"], ["4-node", "NN"], ["with", "IN"], ["three", "CD"], ["keys", "NNS"], ["and", "CC"], ["four", "CD"], ["links", "NNS"], [".", "."], ["But", "CC"], ["what", "WP"], ["we", "PRP"], ["can", "MD"], ["do", "VB"], ["is", "VBZ"], ["split", "VB"], ["that", "IN"], ["4-node", "JJ"], ["and", "CC"], ["pass", "VBP"], ["the", "DT"], ["middle", "NN"], ["key", "VBD"], ["up", "RB"], ["to", "TO"], ["its", "PRP$"], ["parent", "NN"], [".", "."], ["So", "RB"], ["split", "JJ"], ["into", "IN"], ["two", "CD"], ["2-node", "JJ"], ["and", "CC"], ["pass", "VBP"], ["the", "DT"], ["middle", "JJ"], ["key", "NN"], ["to", "TO"], ["the", "DT"], ["parent", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["kind", "NN"], ["of", "IN"], ["a", "DT"], ["magical", "JJ"], ["operation", "NN"], ["and", "CC"], ["believe", "VB"], ["me", "PRP"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["easier", "JJR"], ["to", "TO"], ["get", "VB"], ["done", "VBN"], ["in", "IN"], ["the", "DT"], ["implementation", "NN"], ["than", "IN"], ["the", "DT"], ["graphics", "NNS"], [".", "."], ["But", "CC"], ["now", "RB"], ["you", "PRP"], ["can", "MD"], ["see", "VB"], ["that", "DT"], [",", ","], ["that", "DT"], ["local", "JJ"], ["transformation", "NN"], ["on", "IN"], ["the", "DT"], ["2-3", "JJ"], ["tree", "NN"], ["completes", "VBZ"], ["the", "DT"], ["insertion", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["if", "IN"], ["that", "DT"], ["parent", "NN"], ["were", "VBD"], ["a", "DT"], ["3-node", "JJ"], [",", ","], ["it", "PRP"], ["would", "MD"], ["become", "VB"], ["a", "DT"], ["temporary", "JJ"], ["4-node", "JJ"], ["and", "CC"], ["would", "MD"], ["continue", "VB"], ["the", "DT"], ["process", "NN"], ["moving", "VBG"], ["up", "RP"], ["the", "DT"], ["tree", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["a", "DT"], ["demo", "NN"], ["of", "IN"], ["search", "NN"], ["and", "CC"], ["insertion", "NN"], ["in", "IN"], ["a", "DT"], ["2-3", "JJ"], ["tree", "NN"], [".", "."], ["So", "RB"], [",", ","], ["let", "VB"], ["'s", "POS"], ["look", "VB"], ["at", "IN"], ["a", "DT"], ["double", "JJ"], ["split", "NN"], ["like", "IN"], ["that", "DT"], [".", "."], ["So", "RB"], [",", ","], ["say", "VBP"], ["we", "PRP"], ["'re", "VBP"], ["inserting", "VBG"], ["L", "NNP"], ["in", "IN"], [",", ","], ["into", "IN"], ["this", "DT"], ["tree", "NN"], [".", "."], ["So", "RB"], [",", ","], ["it", "PRP"], ["goes", "VBZ"], ["down", "RB"], ["to", "TO"], ["the", "DT"], ["middle", "NN"], [",", ","], ["and", "CC"], ["winds", "VBZ"], ["up", "RP"], ["needing", "VBG"], ["to", "TO"], ["be", "VB"], ["inserted", "VBN"], ["in", "IN"], ["the", "DT"], [",", ","], ["3-node", "JJ"], ["in", "IN"], ["the", "DT"], ["middle", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["convert", "VB"], ["that", "DT"], ["into", "IN"], ["a", "DT"], ["4-node", "JJ"], [".", "."], ["Now", "RB"], [",", ","], ["L", "NNP"], ["is", "VBZ"], ["the", "DT"], ["middle", "JJ"], ["key", "NN"], ["of", "IN"], ["that", "DT"], ["one", "CD"], [",", ","], ["So", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["split", "VB"], ["that", "DT"], ["4-node", "JJ"], ["into", "IN"], [",", ","], ["two", "CD"], ["2-nodes", "JJ"], ["and", "CC"], ["move", "VB"], ["L", "NNP"], ["to", "TO"], ["the", "DT"], ["parent", "NN"], [".", "."], ["The", "DT"], ["4-node", "JJ"], ["had", "VBD"], ["four", "CD"], ["links", "NNS"], [",", ","], ["and", "CC"], ["the", "DT"], ["two", "CD"], ["2-nodes", "NNS"], ["have", "VBP"], ["four", "CD"], ["lengths", "NNS"], [",", ","], ["so", "RB"], ["nothing", "NN"], ["has", "VBZ"], ["to", "TO"], ["be", "VB"], ["changed", "VBN"], ["below", "IN"], [".", "."], ["And", "CC"], ["then", "RB"], ["this", "DT"], ["insertion", "NN"], ["into", "IN"], ["the", "DT"], ["parent", "NN"], ["changed", "VBD"], ["it", "PRP"], ["from", "IN"], ["a", "DT"], ["two", "CD"], [",", ","], ["a", "DT"], ["3-node", "JJ"], ["into", "IN"], ["a", "DT"], ["4-node", "JJ"], ["essentially", "RB"], ["adding", "VBG"], ["a", "DT"], ["length", "NN"], ["cuz", "NN"], ["of", "IN"], ["the", "DT"], ["split", "NN"], ["with", "IN"], ["the", "DT"], ["two", "CD"], ["2-nodes", "JJ"], ["where", "WRB"], ["there", "EX"], ["was", "VBD"], ["only", "RB"], ["one", "CD"], ["3-node", "JJ"], ["before", "RB"], [".", "."], ["But", "CC"], ["now", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["not", "RB"], ["a", "DT"], ["2-3", "JJ"], ["tree", "NN"], [",", ","], ["so", "IN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["split", "VB"], ["again", "RB"], [".", "."], ["And", "CC"], ["in", "IN"], ["this", "DT"], ["case", "NN"], ["there", "EX"], ["is", "VBZ"], ["no", "DT"], ["paren", "NN"], [",", ","], ["so", "IN"], ["we", "PRP"], ["create", "VBP"], ["a", "DT"], ["new", "JJ"], ["one", "CD"], ["and", "CC"], ["the", "DT"], ["height", "NN"], ["of", "IN"], ["the", "DT"], ["tree", "NN"], ["increases", "NNS"], ["by", "IN"], ["one", "CD"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["the", "DT"], ["only", "JJ"], ["time", "NN"], ["the", "DT"], ["height", "NN"], ["of", "IN"], ["a", "DT"], ["2-3", "JJ"], ["tree", "NN"], ["changes", "NNS"], [",", ","], ["when", "WRB"], ["the", "DT"], ["roots", "NNS"], ["splits", "VBZ"], ["the", "DT"], ["height", "JJ"], ["introduces", "NNS"], ["increases", "NNS"], ["by", "IN"], ["one", "CD"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["demo", "NN"], ["of", "IN"], ["insertion", "NN"], ["into", "IN"], ["a", "DT"], ["3-node", "JJ"], ["at", "IN"], ["the", "DT"], ["bottom", "NN"], [",", ","], ["in", "IN"], ["a", "DT"], ["2-3", "JJ"], ["tree", "NN"], ["that", "WDT"], ["percolates", "VBZ"], ["all", "PDT"], ["the", "DT"], ["way", "NN"], ["to", "TO"], ["the", "DT"], ["top", "JJ"], [".", "."], ["Now", "RB"], ["let", "VBP"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["constructing", "VBG"], ["a", "DT"], ["2-3", "JJ"], ["tree", "NN"], ["from", "IN"], ["an", "DT"], ["initially", "RB"], ["empty", "JJ"], ["tree", "NN"], [".", "."], ["So", "RB"], ["if", "IN"], ["we", "PRP"], ["start", "VBP"], ["by", "IN"], ["just", "RB"], ["inserting", "VBG"], ["a", "DT"], ["key", "NN"], [",", ","], ["well", "UH"], [",", ","], ["that", "DT"], ["just", "RB"], ["creates", "VBZ"], ["a", "DT"], ["2-node", "JJ"], ["containing", "NN"], ["that", "IN"], ["key", "JJ"], [",", ","], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["legal", "JJ"], ["2-3", "JJ"], ["tree", "NN"], [",", ","], ["so", "IN"], ["we", "PRP"], ["'re", "VBP"], ["fine", "JJ"], [".", "."], ["Now", "RB"], [",", ","], ["inserting", "VBG"], ["E", "NNP"], ["into", "IN"], ["that", "DT"], ["well", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["B", "VB"], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], ["left", "NN"], ["of", "IN"], ["S", "NNP"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["a", "DT"], ["null", "JJ"], ["lin", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["convert", "VB"], ["that", "DT"], ["2-node", "JJ"], ["into", "IN"], ["a", "DT"], ["3-node", "JJ"], [".", "."], ["Okay", "NNP"], ["?", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["legal", "JJ"], ["of", "IN"], ["2-3", "JJ"], ["trees", "NNS"], [",", ","], ["So", "IN"], ["we", "PRP"], ["stop", "VBP"], ["inserting", "VBG"], ["A", "DT"], ["into", "IN"], ["that", "DT"], [".", "."], ["We", "PRP"], ["convert", "VBP"], ["that", "IN"], ["3-node", "JJ"], ["into", "IN"], ["a", "DT"], ["temporary", "JJ"], ["4-node", "JJ"], [",", ","], ["but", "CC"], ["then", "RB"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["split", "VB"], ["that", "DT"], ["4-node", "JJ"], ["moving", "VBG"], ["E", "NN"], ["to", "TO"], ["the", "DT"], ["parent", "NN"], ["and", "CC"], ["that", "DT"], ["creates", "VBZ"], ["a", "DT"], ["new", "JJ"], [",", ","], ["root", "JJ"], ["node", "NN"], ["and", "CC"], ["increases", "VBZ"], ["the", "DT"], ["size", "NN"], ["of", "IN"], ["the", "DT"], ["tree", "NN"], ["by", "IN"], ["one", "CD"], [",", ","], ["But", "CC"], ["now", "RB"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["legal", "JJ"], ["2-3", "JJ"], ["tree", "NN"], ["so", "IN"], ["we", "PRP"], ["stop", "VBP"], [".", "."], ["Insert", "NNP"], ["R", "NNP"], ["into", "IN"], ["that", "DT"], [",", ","], ["it", "PRP"], ["goes", "VBZ"], ["to", "TO"], ["the", "DT"], ["right", "NN"], ["of", "IN"], ["E.", "NNP"], ["Convert", "NNP"], ["into", "IN"], ["a", "DT"], ["3-node", "JJ"], [",", ","], ["Now", "RB"], ["insert", "JJ"], ["C", "NNP"], ["into", "IN"], ["that", "DT"], [".", "."], ["it", "PRP"], ["goes", "VBZ"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["of", "IN"], ["E", "NNP"], [",", ","], ["has", "VBZ"], ["to", "TO"], ["be", "VB"], ["joined", "VBN"], ["with", "IN"], ["A", "NNP"], ["into", "IN"], ["a", "DT"], ["new", "JJ"], ["3-node", "JJ"], [".", "."], ["Again", "NNP"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["a", "DT"], ["legal", "JJ"], ["2-3", "JJ"], ["tree", "NN"], ["and", "CC"], ["we", "PRP"], ["stop", "VBP"], [".", "."], ["Now", "RB"], ["we", "PRP"], ["insert", "VBP"], ["H", "NNP"], [",", ","], ["that", "IN"], ["kind", "NN"], ["of", "IN"], ["goes", "VBZ"], ["to", "TO"], ["the", "DT"], ["right", "NN"], ["of", "IN"], ["E.", "NNP"], ["That", "IN"], ["3-node", "JJ"], ["gets", "VBZ"], ["converted", "VBN"], ["into", "IN"], ["a", "DT"], ["4-node", "JJ"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["a", "DT"], ["temporary", "JJ"], ["4-node", "JJ"], ["and", "CC"], ["we", "PRP"], ["split", "VBP"], ["and", "CC"], ["move", "VBP"], ["R", "NNP"], ["to", "TO"], ["the", "DT"], ["parent", "NN"], [",", ","], ["Now", "RB"], ["that", "IN"], ["parent", "NN"], ["'s", "POS"], ["a", "DT"], ["legal", "JJ"], ["and", "CC"], ["there", "EX"], ["'s", "VBZ"], ["nothing", "NN"], ["more", "RBR"], ["to", "TO"], ["be", "VB"], ["done", "VBN"], [".", "."], ["We", "PRP"], [",", ","], ["have", "VBP"], ["a", "DT"], ["legal", "JJ"], ["three", "CD"], ["tree", "NN"], [",", ","], ["2-3", "JJ"], ["tree", "NN"], [".", "."], ["Insert", "NNP"], ["X", "NNP"], [",", ","], ["It", "PRP"], ["'s", "VBZ"], ["bigger", "JJR"], ["than", "IN"], ["R", "NNP"], [",", ","], ["Goes", "NNP"], ["to", "TO"], ["the", "DT"], ["right", "NN"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["a", "DT"], ["2-node", "JJ"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["room", "NN"], ["for", "IN"], ["the", "DT"], ["X.", "NNP"], ["Insert", "NNP"], ["P", "NNP"], [",", ","], ["That", "WDT"], ["goes", "VBZ"], ["between", "IN"], ["E", "NNP"], ["and", "CC"], ["R.", "NNP"], ["The", "DT"], ["2-node", "JJ"], ["containing", "NN"], ["H", "NNP"], [",", ","], ["Right", "NNP"], ["link", "NN"], ["is", "VBZ"], ["null", "JJ"], [",", ","], ["So", "IN"], ["we", "PRP"], ["convert", "VBP"], ["that", "IN"], ["2-node", "JJ"], ["into", "IN"], ["a", "DT"], ["3-node", "JJ"], ["and", "CC"], ["now", "RB"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["legal", "JJ"], ["2-3", "JJ"], ["tree", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["you", "PRP"], [",", ","], ["you", "PRP"], ["can", "MD"], ["see", "VB"], ["this", "DT"], ["next", "JJ"], ["insertion", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["cause", "VB"], ["some", "DT"], ["splitting", "NN"], ["wherever", "IN"], ["it", "PRP"], ["is", "VBZ"], [".", "."], ["So", "RB"], ["insert", "JJ"], ["L", "NNP"], [",", ","], ["That", "WDT"], ["'s", "VBZ"], ["between", "IN"], ["E", "NNP"], ["and", "CC"], ["R.", "NNP"], ["So", "NNP"], ["it", "PRP"], ["goes", "VBZ"], ["in", "IN"], ["the", "DT"], [",", ","], ["3-node", "JJ"], ["containing", "NN"], ["H", "NNP"], ["and", "CC"], ["P", "NNP"], ["and", "CC"], ["we", "PRP"], ["convert", "VBP"], ["that", "DT"], ["into", "IN"], ["a", "DT"], ["temporary", "JJ"], ["4-node", "JJ"], [".", "."], ["Split", "NN"], ["that", "IN"], ["4-node", "JJ"], [",", ","], ["moving", "VBG"], ["L", "NNP"], ["to", "TO"], ["the", "DT"], ["parent", "NN"], [".", "."], ["Now", "RB"], ["that", "IN"], ["parents", "NNS"], ["of", "IN"], ["4-node", "JJ"], ["and", "CC"], ["that", "WDT"], ["has", "VBZ"], ["to", "TO"], ["be", "VB"], ["split", "VBN"], [",", ","], ["And", "CC"], ["we", "PRP"], ["create", "VBP"], ["a", "DT"], ["new", "JJ"], ["root", "NN"], ["node", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["the", "DT"], ["height", "NN"], ["of", "IN"], ["the", "DT"], ["tree", "NN"], ["grows", "NNS"], ["by", "IN"], ["one", "CD"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["legal", "JJ"], ["2-3", "JJ"], ["tree", "NN"], [",", ","], ["so", "IN"], ["we", "PRP"], ["stop", "VBP"], [".", "."], ["So", "RB"], [",", ","], ["those", "DT"], ["local", "JJ"], ["transformations", "NNS"], [",", ","], ["converting", "VBG"], ["a", "DT"], ["2-node", "JJ"], ["to", "TO"], ["a", "DT"], ["3-node", "JJ"], ["or", "CC"], ["converting", "VBG"], ["a", "DT"], ["three", "CD"], ["to", "TO"], ["a", "DT"], ["four", "CD"], [",", ","], ["and", "CC"], ["then", "RB"], ["splitting", "NN"], ["and", "CC"], ["passing", "VBG"], ["a", "DT"], ["node", "NN"], ["up", "RP"], [".", "."], ["Those", "DT"], ["are", "VBP"], ["the", "DT"], [",", ","], ["only", "RB"], ["operations", "NNS"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["consider", "VB"], ["to", "TO"], ["get", "VB"], ["balance", "NN"], ["in", "IN"], ["our", "PRP$"], ["search", "NN"], ["trees", "NNS"], [".", "."], ["Alright", "NNP"], [".", "."], ["So", "RB"], ["as", "IN"], ["I", "PRP"], ["'ve", "VBP"], ["mentioned", "VBN"], ["and", "CC"], ["this", "DT"], ["diagram", "NN"], ["shows", "VBZ"], [",", ","], ["the", "DT"], ["splitting", "NN"], ["of", "IN"], ["4-node", "JJ"], ["and", "CC"], ["a", "DT"], ["2-3", "JJ"], ["tree", "NN"], ["is", "VBZ"], ["a", "DT"], ["local", "JJ"], ["transformation", "NN"], [".", "."], ["It", "PRP"], ["only", "RB"], ["involves", "VBZ"], ["changing", "VBG"], ["a", "DT"], ["constant", "JJ"], ["number", "NN"], ["of", "IN"], ["links", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["in", "IN"], ["this", "DT"], ["example", "NN"], [",", ","], ["it", "PRP"], ["shows", "VBZ"], ["the", "DT"], ["general", "JJ"], ["situation", "NN"], [",", ","], ["when", "WRB"], ["the", "DT"], ["4-node", "JJ"], ["to", "TO"], ["be", "VB"], ["split", "VBN"], ["is", "VBZ"], ["the", "DT"], ["middle", "JJ"], ["length", "NN"], [",", ","], ["But", "CC"], ["the", "DT"], ["same", "JJ"], ["is", "VBZ"], ["true", "JJ"], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["left", "NN"], ["or", "CC"], ["right", "NN"], [".", "."], ["And", "CC"], ["those", "DT"], ["six", "CD"], ["subtrees", "NNS"], ["drawn", "VBN"], ["could", "MD"], ["be", "VB"], ["huge", "JJ"], [".", "."], ["They", "PRP"], ["could", "MD"], ["contain", "VB"], ["millions", "NNS"], ["of", "IN"], ["keys", "NNS"], [",", ","], ["But", "CC"], ["it", "PRP"], ["does", "VBZ"], ["n't", "RB"], ["matter", "VB"], ["what", "WP"], ["they", "PRP"], ["contain", "VBP"], [".", "."], ["We", "PRP"], ["do", "VBP"], ["n't", "RB"], ["touch", "VB"], ["them", "PRP"], ["at", "IN"], ["all", "DT"], [",", ","], ["Nor", "CC"], ["do", "VBP"], ["we", "PRP"], ["touch", "VB"], ["anything", "NN"], ["above", "IN"], ["this", "DT"], ["node", "NN"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], ["until", "IN"], ["the", "DT"], ["split", "NN"], ["happens", "VBZ"], [".", "."], ["So", "IN"], ["the", "DT"], ["transformation", "NN"], ["that", "IN"], ["splits", "VBZ"], ["that", "DT"], ["b", "NN"], [",", ","], ["c", "NN"], [",", ","], ["d", "NN"], [",", ","], ["node", "NN"], ["and", "CC"], ["inserts", "VBZ"], ["the", "DT"], ["C", "NNP"], ["into", "IN"], ["the", "DT"], ["3-node", "JJ"], ["at", "IN"], ["the", "DT"], ["root", "NN"], [",", ","], ["just", "RB"], ["involves", "VBZ"], [",", ","], ["making", "VBG"], ["that", "IN"], ["3-node", "NNP"], ["into", "IN"], ["a", "DT"], ["temporary", "JJ"], ["4-node", "JJ"], [".", "."], ["And", "CC"], ["making", "VBG"], ["that", "DT"], [",", ","], ["4-node", "JJ"], ["into", "IN"], ["two", "CD"], ["2-nodes", "JJ"], ["and", "CC"], ["adjusting", "VBG"], ["the", "DT"], ["lengths", "NNS"], ["appropriately", "RB"], [".", "."], ["Just", "VB"], ["a", "DT"], ["constant", "JJ"], ["number", "NN"], ["of", "IN"], ["operations", "NNS"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["why", "WRB"], [",", ","], ["this", "DT"], ["operation", "NN"], [",", ","], ["is", "VBZ"], [",", ","], ["in", "IN"], ["general", "JJ"], [",", ","], ["efficient", "JJ"], [".", "."], ["so", "RB"], ["let", "VB"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["the", "DT"], ["just", "RB"], ["the", "DT"], ["global", "JJ"], ["properties", "NNS"], ["that", "IN"], ["these", "DT"], ["manipulations", "NNS"], ["preserve", "VBP"], [".", "."], ["The", "DT"], ["two", "CD"], ["things", "NNS"], ["that", "WDT"], ["are", "VBP"], ["critical", "JJ"], ["is", "VBZ"], ["that", "IN"], ["the", "DT"], [",", ","], ["in", "IN"], ["a", "DT"], [",", ","], ["in", "IN"], ["a", "DT"], ["2-3", "JJ"], ["tree", "NN"], [",", ","], ["we", "PRP"], ["always", "RB"], ["have", "VBP"], ["symmetric", "JJ"], ["order", "NN"], [".", "."], ["That", "DT"], ["is", "VBZ"], ["the", "DT"], ["word", "NN"], ["that", "IN"], ["we", "PRP"], ["defined", "VBD"], [",", ","], ["for", "IN"], ["2-nodes", "JJ"], ["and", "CC"], ["3-nodes", "NNS"], [",", ","], ["and", "CC"], ["we", "PRP"], ["also", "RB"], ["have", "VBP"], ["the", "DT"], ["perfect", "JJ"], ["balance", "NN"], [".", "."], ["The", "DT"], ["distance", "NN"], ["from", "IN"], ["the", "DT"], ["root", "NN"], ["to", "TO"], ["the", "DT"], ["bottom", "NN"], ["is", "VBZ"], ["always", "RB"], ["the", "DT"], ["same", "JJ"], [".", "."], ["And", "CC"], ["to", "TO"], ["prove", "VB"], ["that", "IN"], [",", ","], ["we", "PRP"], ["just", "RB"], ["need", "VB"], ["to", "TO"], ["show", "VB"], ["that", "IN"], ["each", "DT"], ["transformation", "NN"], ["maintains", "VBZ"], ["symmetric", "JJ"], ["order", "NN"], ["and", "CC"], ["perfect", "JJ"], ["balance", "NN"], [",", ","], ["and", "CC"], ["these", "DT"], ["are", "VBP"], ["all", "PDT"], ["the", "DT"], ["possible", "JJ"], ["transformations", "NNS"], ["that", "IN"], ["we", "PRP"], ["could", "MD"], ["do", "VB"], [".", "."], ["If", "IN"], ["we", "PRP"], ["split", "VBP"], ["the", "DT"], ["root", "NN"], [",", ","], ["then", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], [",", ","], ["what", "WP"], ["happens", "VBZ"], ["at", "IN"], ["the", "DT"], ["root", "NN"], [",", ","], ["and", "CC"], ["if", "IN"], ["there", "EX"], ["was", "VBD"], ["perfect", "JJ"], ["balance", "NN"], ["before", "IN"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["perfect", "JJ"], ["balance", "NN"], ["after", "IN"], [",", ","], ["with", "IN"], ["the", "DT"], ["height", "NN"], ["one", "CD"], ["bigger", "JJR"], [".", "."], ["If", "IN"], ["the", "DT"], ["parent", "NN"], ["was", "VBD"], ["a", "DT"], ["2-node", "JJ"], ["then", "RB"], ["the", "DT"], ["transformation", "NN"], ["is", "VBZ"], ["a", "DT"], ["local", "JJ"], ["transformation", "NN"], ["and", "CC"], ["if", "IN"], ["you", "PRP"], ["look", "VBP"], ["at", "IN"], ["where", "WRB"], ["the", "DT"], ["links", "NNS"], ["are", "VBP"], [",", ","], ["then", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["easy", "JJ"], ["to", "TO"], ["see", "VB"], ["by", "IN"], ["induction", "NN"], ["that", "IN"], ["if", "IN"], ["there", "EX"], ["was", "VBD"], ["perfect", "JJ"], ["balance", "NN"], ["before", "IN"], ["there", "EX"], ["'s", "POS"], ["perfect", "JJ"], ["balance", "NN"], ["afterward", "RB"], [",", ","], ["Because", "IN"], ["we", "PRP"], ["did", "VBD"], ["n't", "RB"], ["change", "VB"], ["anything", "NN"], ["about", "IN"], ["the", "DT"], ["perfect", "JJ"], ["balance", "NN"], ["in", "IN"], ["any", "DT"], ["of", "IN"], ["those", "DT"], ["subtrees", "NNS"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["true", "JJ"], ["in", "IN"], ["every", "DT"], ["case", "NN"], [".", "."], ["If", "IN"], ["the", "DT"], ["3-nodes", "NNS"], ["at", "IN"], ["the", "DT"], ["right", "NN"], ["and", "CC"], ["this", "DT"], ["one", "CD"], ["is", "VBZ"], ["one", "CD"], ["higher", "JJR"], ["and", "CC"], ["those", "DT"], ["four", "CD"], ["are", "VBP"], ["one", "CD"], ["lower", "JJR"], ["and", "CC"], ["afterwards", "NNS"], ["it", "PRP"], ["'s", "VBZ"], ["the", "DT"], ["same", "JJ"], [".", "."], ["If", "IN"], ["there", "EX"], ["was", "VBD"], ["perfect", "JJ"], ["balance", "NN"], ["before", "IN"], ["there", "EX"], ["'s", "POS"], ["perfect", "JJ"], ["balance", "NN"], ["afterwards", "NNS"], [",", ","], ["because", "IN"], ["we", "PRP"], ["did", "VBD"], ["n't", "RB"], ["change", "VB"], ["the", "DT"], ["height", "NN"], ["of", "IN"], ["any", "DT"], ["nodes", "NNS"], [".", "."], ["We", "PRP"], ["just", "RB"], ["moved", "VBD"], ["things", "NNS"], ["around", "IN"], ["locally", "RB"], ["within", "IN"], ["nodes", "NNS"], [".", "."], ["And", "CC"], ["this", "DT"], ["is", "VBZ"], ["when", "WRB"], ["this", "DT"], ["parent", "NN"], ["is", "VBZ"], ["a", "DT"], ["3-node", "JJ"], [",", ","], ["then", "RB"], ["there", "EX"], ["'s", "VBZ"], ["the", "DT"], ["tree", "NN"], ["cases", "NNS"], [",", ","], ["If", "IN"], ["we", "PRP"], ["split", "VBP"], ["up", "RP"], ["the", "DT"], ["last", "JJ"], ["split", "NN"], ["at", "IN"], ["the", "DT"], ["middle", "NN"], ["and", "CC"], ["split", "NN"], ["at", "IN"], ["the", "DT"], ["right", "NN"], [",", ","], ["And", "CC"], ["again", "RB"], [",", ","], ["changing", "VBG"], ["the", "DT"], ["four", "CD"], ["node", "NN"], ["to", "TO"], [",", ","], ["to", "TO"], ["a", "DT"], ["2-nodes", "JJ"], ["and", "CC"], ["adding", "VBG"], ["links", "NNS"], [".", "."], ["If", "IN"], ["there", "EX"], ["was", "VBD"], ["perfect", "JJ"], ["balance", "NN"], ["before", "IN"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["perfect", "JJ"], ["balance", "NN"], ["after", "IN"], [",", ","], ["because", "IN"], ["we", "PRP"], ["did", "VBD"], ["n't", "RB"], ["change", "VB"], ["the", "DT"], ["heights", "NNS"], ["of", "IN"], ["anything", "NN"], ["else", "RB"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], [".", "."], ["So", "IN"], ["our", "PRP$"], ["operations", "NNS"], ["maintain", "VBP"], ["symmetric", "JJ"], ["order", "NN"], ["and", "CC"], ["perfect", "JJ"], ["balance", "NN"], ["in", "IN"], ["a", "DT"], ["2-3", "JJ"], ["tree", "NN"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["give", "VB"], ["us", "PRP"], [",", ","], ["a", "DT"], ["very", "RB"], ["easy", "JJ"], ["way", "NN"], ["to", "TO"], ["describe", "VB"], ["a", "DT"], ["performance", "NN"], [".", "."], ["The", "DT"], ["call", "NN"], [",", ","], ["or", "CC"], ["operations", "NNS"], ["have", "VBP"], ["costs", "NNS"], ["that", "WDT"], ["'s", "VBZ"], ["proportional", "JJ"], ["to", "TO"], ["the", "DT"], ["path", "NN"], ["link", "NN"], ["from", "IN"], ["the", "DT"], [",", ","], ["height", "NN"], ["to", "TO"], ["the", "DT"], ["bottom", "NN"], [",", ","], ["and", "CC"], ["every", "DT"], ["path", "NN"], ["from", "IN"], ["the", "DT"], ["root", "NN"], ["to", "TO"], ["a", "DT"], ["null", "JJ"], ["link", "NN"], ["has", "VBZ"], ["the", "DT"], ["same", "JJ"], ["length", "NN"], [".", "."], ["How", "WRB"], ["long", "JJ"], ["can", "MD"], ["those", "DT"], ["paths", "NNS"], ["be", "VB"], ["?", "."], ["Well", "UH"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["hard", "JJ"], ["to", "TO"], ["see", "VB"], ["that", "IN"], ["the", "DT"], [",", ","], ["in", "IN"], ["the", "DT"], ["worst", "JJS"], ["case", "NN"], [",", ","], ["if", "IN"], ["they", "PRP"], ["'re", "VBP"], ["all", "DT"], ["2-nodes", "JJ"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["the", "DT"], ["longest", "JJS"], ["they", "PRP"], ["can", "MD"], ["be", "VB"], ["is", "VBZ"], ["log", "JJ"], ["base", "NN"], ["two", "CD"], ["of", "IN"], ["N.", "NNP"], ["Now", "RB"], [",", ","], ["and", "CC"], ["if", "IN"], ["they", "PRP"], ["'re", "VBP"], ["all", "DT"], ["3-nodes", "NNS"], [",", ","], ["it", "PRP"], ["would", "MD"], ["be", "VB"], ["log", "JJ"], ["base", "JJ"], ["three", "CD"], ["of", "IN"], ["N", "NNP"], [",", ","], ["which", "WDT"], ["is", "VBZ"], ["less", "RBR"], [",", ","], ["It", "PRP"], ["'s", "VBZ"], ["about", "IN"], ["0.63", "CD"], ["log", "JJ"], ["base", "NN"], ["two", "CD"], ["of", "IN"], ["N.", "NNP"], ["So", "NNP"], [",", ","], ["all", "PDT"], ["the", "DT"], ["paths", "NNS"], ["in", "IN"], ["a", "DT"], ["2-3", "JJ"], ["tree", "NN"], ["with", "IN"], ["N", "NNP"], ["nodes", "NNS"], ["have", "VBP"], ["to", "TO"], ["have", "VB"], ["length", "NN"], ["between", "IN"], ["those", "DT"], ["two", "CD"], ["bounds", "NNS"], ["and", "CC"], ["those", "DT"], ["are", "VBP"], ["pretty", "RB"], ["small", "JJ"], ["numbers", "NNS"], [".", "."], ["For", "IN"], ["a", "DT"], ["million", "CD"], ["nodes", "NNS"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["between", "IN"], ["twelve", "NN"], ["and", "CC"], ["twenty", "NN"], [".", "."], ["And", "CC"], [",", ","], ["if", "IN"], [",", ","], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["billion", "CD"], ["nodes", "NNS"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["between", "IN"], ["eighteen", "NN"], ["and", "CC"], ["30", "CD"], [".", "."], ["Those", "DT"], ["are", "VBP"], ["remarkably", "RB"], ["small", "JJ"], ["numbers", "NNS"], [",", ","], ["so", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["guaranteed", "VBN"], ["performance", "NN"], [",", ","], ["even", "RB"], ["for", "IN"], ["huge", "JJ"], ["databases", "NNS"], [",", ","], ["We", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["guarantee", "VB"], ["that", "IN"], ["we", "PRP"], ["can", "MD"], ["get", "VB"], ["search", "NN"], ["and", "CC"], ["insert", "VB"], ["them", "PRP"], ["with", "IN"], ["just", "RB"], ["eighteen", "VBN"], ["to", "TO"], ["30", "CD"], ["operations", "NNS"], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["quite", "RB"], ["remarkable", "JJ"], [",", ","], ["really", "RB"], [".", "."], ["So", "RB"], [",", ","], ["here", "RB"], ["'s", "VBZ"], ["what", "WP"], ["our", "PRP$"], ["table", "NN"], [",", ","], ["will", "MD"], ["look", "VB"], ["like", "IN"], [",", ","], ["when", "WRB"], ["we", "PRP"], ["finish", "VBP"], ["the", "DT"], ["implementation", "NN"], ["of", "IN"], ["2-3", "JJ"], ["trees", "NNS"], [".", "."], ["Every", "DT"], ["operation", "NN"], ["is", "VBZ"], ["guaranteed", "VBN"], ["to", "TO"], ["be", "VB"], ["a", "DT"], ["constant", "JJ"], ["times", "NNS"], ["log", "JJ"], ["n.", "RB"], ["Now", "RB"], [",", ","], ["the", "DT"], ["constant", "JJ"], ["depends", "VBZ"], ["on", "IN"], ["the", "DT"], ["implementation", "NN"], [",", ","], ["exactly", "RB"], ["what", "WP"], ["kind", "NN"], ["of", "IN"], ["manipulations", "NNS"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["do", "VB"], ["to", "TO"], ["convert", "VB"], [",", ","], ["3-nodes", "JJ"], ["to", "TO"], ["4-nodes", "JJ"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["But", "CC"], ["it", "PRP"], ["'s", "VBZ"], [",", ","], ["easy", "JJ"], ["to", "TO"], ["see", "VB"], ["from", "IN"], ["demo", "NN"], ["and", "CC"], ["from", "IN"], ["the", "DT"], ["diagrams", "NNS"], ["that", "IN"], ["those", "DT"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["constant", "JJ"], [",", ","], ["guaranteed", "JJ"], ["logarithmic", "JJ"], ["performance", "NN"], ["for", "IN"], ["all", "DT"], ["operations", "NNS"], [",", ","], ["which", "WDT"], ["is", "VBZ"], ["certainly", "RB"], ["what", "WP"], ["we", "PRP"], ["want", "VBP"], ["in", "IN"], ["a", "DT"], ["symbol", "NN"], ["table", "JJ"], ["implementation", "NN"], ["Now", "RB"], ["what", "WP"], ["about", "IN"], ["the", "DT"], ["implementation", "NN"], ["?", "."], ["Well", "UH"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["actually", "RB"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], ["talk", "VB"], ["about", "IN"], ["a", "DT"], ["direct", "JJ"], ["implementation", "NN"], ["of", "IN"], ["2-3", "JJ"], ["trees", "NNS"], [",", ","], ["because", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["kind", "NN"], ["of", "IN"], ["complicated", "VBN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["cumbersome", "JJ"], ["to", "TO"], ["maintain", "VB"], ["multiple", "JJ"], ["node", "JJ"], ["types", "NNS"], [".", "."], ["You", "PRP"], ["might", "MD"], ["need", "VB"], [",", ","], ["a", "DT"], ["multiple", "JJ"], ["compares", "VBZ"], ["to", "TO"], ["move", "VB"], ["down", "RP"], ["the", "DT"], ["tree", "NN"], [".", "."], ["If", "IN"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["two", "CD"], [",", ","], ["a", "DT"], ["3-node", "JJ"], [",", ","], ["it", "PRP"], ["takes", "VBZ"], ["more", "JJR"], ["compares", "NNS"], ["than", "IN"], ["a", "DT"], ["2-node", "JJ"], [",", ","], ["So", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["complicated", "VBN"], ["to", "TO"], ["analyze", "VB"], [".", "."], ["We", "PRP"], ["have", "VBP"], ["to", "TO"], ["take", "VB"], ["track", "NN"], [",", ","], ["keep", "VB"], ["track", "NN"], ["the", "DT"], ["links", "NNS"], ["as", "IN"], ["we", "PRP"], ["go", "VBP"], ["up", "RB"], ["and", "CC"], ["down", "IN"], ["the", "DT"], ["tree", "NN"], ["to", "TO"], ["take", "VB"], [",", ","], ["handle", "VB"], ["the", "DT"], ["splitting", "NN"], [",", ","], ["And", "CC"], ["there", "EX"], ["'s", "VBZ"], [",", ","], ["and", "CC"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["cases", "NNS"], [".", "."], ["I", "PRP"], ["drew", "VBD"], ["all", "PDT"], ["the", "DT"], ["cases", "NNS"], ["and", "CC"], [",", ","], ["and", "CC"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], [",", ","], ["whether", "IN"], ["you", "PRP"], ["'re", "VBP"], ["splitting", "VBG"], ["into", "IN"], ["the", "DT"], ["middle", "NN"], ["of", "IN"], ["a", "DT"], ["4-node", "JJ"], ["or", "CC"], ["the", "DT"], ["right", "NN"], ["of", "IN"], ["a", "DT"], ["2-node", "JJ"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["just", "RB"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["cases", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["you", "PRP"], ["could", "MD"], ["do", "VB"], ["it", "PRP"], ["but", "CC"], ["we", "PRP"], ["'re", "VBP"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], ["because", "IN"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["much", "RB"], ["easier", "JJR"], ["way", "NN"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["2-3", "JJ"], ["trees", "NNS"], [",", ","], ["A", "NNP"], [",", ","], ["a", "DT"], ["model", "NN"], ["for", "IN"], ["implementing", "VBG"], ["balanced", "JJ"], ["trees", "NNS"], ["in", "IN"], ["guaranteed", "JJ"], ["logarithmic", "JJ"], ["time", "NN"], [".", "."]], "title": "2 3 search trees", "text": "Welcome back, today we're going to talk about balance search trees, Which will lead us to an ultimate symbol table implementation that can provide fast performance for all the simulative options we've looked at, guaranteed. So here's the review of where we were with single tables. We took a look at the last time at the binary search tree, Which if things are well modeled by random exertions, have a great performance. They get search and insert on in time proportion for log base two of N and they support ordered operations. But really our goal is to have these operations be guaranteed to take time proportional to log N, Because we don't have control over the order of operations and they may not be random at all. And in fact, in many real applications, they're not very random. So that's what were going to look at now is try to find an implementation that can guarantee to be fast for all the symbol table operations. . That's our challenge. So what we're going to talk about to do it, is an algorithm, that actually pretty old algorithm called 2-3 trees, and a particular implementation that requires very little code, called left leaning red black BSTs and then we'll talk about a generalization called B-trees. And these methods are all widely used throughout our computational infrastructure. To start, we'll talk about 2-3 search trees, which is a model that underlies the concise and efficient implementation that we're going to look at. So, the 2-3 tree is a way to generalize BSTs to provide the flexibility that we need to guarantee fast performance. And the idea is very simple, We allow one or two keys per node. That is, we allow for the possibility of something called a 3-node that can hold two keys, But then it has to have three children. In a regular BST node, the 2-node, we have one link for the keys that are less than the key in the node, and one link for the keys that are greater. In a 3-node, we need three links, one for less, one for between and one for greater. Another property of these 2-3 trees is that we are going to have perfect balance, That is every path from the route to a null link is going to have the same link in the 2-3 tree. So, as I mentioned, the symmetric order is part of the definition of a 2-3 tree. Every 3-node has three links and two keys. The left link is for the keys that are, points to a 2-3 tree with the keys that are smaller than the smaller of the two keys in the 3-node. The middle link points to a 2-3 tree that contains all the keys that are between the two keys. And the right link points to all, 2-3 tree containing all the keys that are larger than the larger of the two keys in the 3-node. Okay, let's take a look at a demo of searching in a 2-3 tree. So say we have this 2-3 tree here and we want to search for whether or not H is one of the keys in the tree. So we start at the root, Compare the search key against the key or keys in the node. And follow the link corresponding to the interval that we know must contain the search key by definition of the tree and then we recursively continue the search. So, if we're looking for H, it's less than M, so the only place it could be in this 2-3 tree is in the 2-3 tree on the left link, So we follow the left link. Now, we compare H with E and J, and in this case it's between, so now we are going to take the middle link, that's the only place that H possibly could be. In this case, that node, one node 2-3 tree contains H, so that's a search hit. Let's take another example for unsuccessful search, a key that's not in the tree. As usual, we start at the root. It's less, so we go left. And it's less than both keys, So, if it's in the tree, it would have to be in the left link and it's between those two keys. So if it's in the tree, it would have to be on the middle link. And that link is null, so that's a search miss. So the search is a natural generalization of the search in, binary search trees. Now what about inserting? Well, it's a similar type of strategy as with regular binary search trees, except that we manipulate the two and 3-node to keep perfect balance in the tree. So the easy case is if the key winds up in a 2-node at the bottom, like this one. Suppose we're inserting K. K is less than M so we go left. K is greater than both the keys, so we go right. K is less than L, so the search ends at the left link of L. And to perform an insertion all we need to do is replace that 2-node with a 3-node containing K. Now, K is inserted into the 2-3 tree and it satisfies all the rules. Now if we're inserting into a 3-node at the bottom, we have to do more work. And specifically, the work we do is, we add the key to a 3-node to create a temporary 4-node and then split up that four node and move it's middle key into the parent. So, let's see an example. If we are going to insert Z into this tree, it's greater than N, so we go to the right. It's greater than R, so we go to the right. And now it's greater than x, and that's a null link to the right of x, so the search ends there and are, what we want to do is insert Z into that 3-node. And the way we do it is, first make a temporary 4-node that replaces that 3-node. And then that's not a 2-3 tree cuz it's got that one 4-node with three keys and four links. But what we can do is split that 4-node and pass the middle key up to its parent. So split into two 2-node and pass the middle key to the parent. That's kind of a magical operation and believe me, it's easier to get done in the implementation than the graphics. But now you can see that, that local transformation on the 2-3 tree completes the insertion. Now, if that parent were a 3-node, it would become a temporary 4-node and would continue the process moving up the tree. That's a demo of search and insertion in a 2-3 tree. So, let's look at a double split like that. So, say we're inserting L in, into this tree. So, it goes down to the middle, and winds up needing to be inserted in the, 3-node in the middle. So we're going to convert that into a 4-node. Now, L is the middle key of that one, So we're going to split that 4-node into, two 2-nodes and move L to the parent. The 4-node had four links, and the two 2-nodes have four lengths, so nothing has to be changed below. And then this insertion into the parent changed it from a two, a 3-node into a 4-node essentially adding a length cuz of the split with the two 2-nodes where there was only one 3-node before. But now, that's not a 2-3 tree, so we have to split again. And in this case there is no paren, so we create a new one and the height of the tree increases by one. That's the only time the height of a 2-3 tree changes, when the roots splits the height introduces increases by one. So, that's a demo of insertion into a 3-node at the bottom, in a 2-3 tree that percolates all the way to the top. Now let's look at constructing a 2-3 tree from an initially empty tree. So if we start by just inserting a key, well, that just creates a 2-node containing that key, and that's legal 2-3 tree, so we're fine. Now, inserting E into that well, it's going to B if it's in the tree left of S, that's a null lin. So we need to convert that 2-node into a 3-node. Okay? And that's the legal of 2-3 trees, So we stop inserting A into that. We convert that 3-node into a temporary 4-node, but then we need to split that 4-node moving E to the parent and that creates a new, root node and increases the size of the tree by one, But now that's a legal 2-3 tree so we stop. Insert R into that, it goes to the right of E. Convert into a 3-node, Now insert C into that. it goes to the left of E, has to be joined with A into a new 3-node. Again, that's a legal 2-3 tree and we stop. Now we insert H, that kind of goes to the right of E. That 3-node gets converted into a 4-node. That's a temporary 4-node and we split and move R to the parent, Now that parent's a legal and there's nothing more to be done. We, have a legal three tree, 2-3 tree. Insert X, It's bigger than R, Goes to the right. There's a 2-node, there's room for the X. Insert P, That goes between E and R. The 2-node containing H, Right link is null, So we convert that 2-node into a 3-node and now we have a legal 2-3 tree. Now, you, you can see this next insertion is going to cause some splitting wherever it is. So insert L, That's between E and R. So it goes in the, 3-node containing H and P and we convert that into a temporary 4-node. Split that 4-node, moving L to the parent. Now that parents of 4-node and that has to be split, And we create a new root node. And then the height of the tree grows by one. And that's a legal 2-3 tree, so we stop. So, those local transformations, converting a 2-node to a 3-node or converting a three to a four, and then splitting and passing a node up. Those are the, only operations we need to consider to get balance in our search trees. Alright. So as I've mentioned and this diagram shows, the splitting of 4-node and a 2-3 tree is a local transformation. It only involves changing a constant number of links. So, in this example, it shows the general situation, when the 4-node to be split is the middle length, But the same is true if it's a left or right. And those six subtrees drawn could be huge. They could contain millions of keys, But it doesn't matter what they contain. We don't touch them at all, Nor do we touch anything above this node in the tree until the split happens. So the transformation that splits that b, c, d, node and inserts the C into the 3-node at the root, just involves, making that 3-node into a temporary 4-node. And making that, 4-node into two 2-nodes and adjusting the lengths appropriately. Just a constant number of operations and that's why, this operation, is, in general, efficient. so let's look at the just the global properties that these manipulations preserve. The two things that are critical is that the, in a, in a 2-3 tree, we always have symmetric order. That is the word that we defined, for 2-nodes and 3-nodes, and we also have the perfect balance. The distance from the root to the bottom is always the same. And to prove that, we just need to show that each transformation maintains symmetric order and perfect balance, and these are all the possible transformations that we could do. If we split the root, then, that's the, what happens at the root, and if there was perfect balance before, there's perfect balance after, with the height one bigger. If the parent was a 2-node then the transformation is a local transformation and if you look at where the links are, then it's easy to see by induction that if there was perfect balance before there's perfect balance afterward, Because we didn't change anything about the perfect balance in any of those subtrees. And that's true in every case. If the 3-nodes at the right and this one is one higher and those four are one lower and afterwards it's the same. If there was perfect balance before there's perfect balance afterwards, because we didn't change the height of any nodes. We just moved things around locally within nodes. And this is when this parent is a 3-node, then there's the tree cases, If we split up the last split at the middle and split at the right, And again, changing the four node to, to a 2-nodes and adding links. If there was perfect balance before, there's perfect balance after, because we didn't change the heights of anything else in the tree. So our operations maintain symmetric order and perfect balance in a 2-3 tree. So, that's going to give us, a very easy way to describe a performance. The call, or operations have costs that's proportional to the path link from the, height to the bottom, and every path from the root to a null link has the same length. How long can those paths be? Well, it's not hard to see that the, in the worst case, if they're all 2-nodes, that's the longest they can be is log base two of N. Now, and if they're all 3-nodes, it would be log base three of N, which is less, It's about 0.63 log base two of N. So, all the paths in a 2-3 tree with N nodes have to have length between those two bounds and those are pretty small numbers. For a million nodes, that's between twelve and twenty. And, if, if it's a billion nodes, that's between eighteen and 30. Those are remarkably small numbers, so we're going to have guaranteed performance, even for huge databases, We're going to be able to guarantee that we can get search and insert them with just eighteen to 30 operations and it's quite remarkable, really. So, here's what our table, will look like, when we finish the implementation of 2-3 trees. Every operation is guaranteed to be a constant times log n. Now, the constant depends on the implementation, exactly what kind of manipulations we need to do to convert, 3-nodes to 4-nodes and so forth. But it's, easy to see from demo and from the diagrams that those are going to be constant, guaranteed logarithmic performance for all operations, which is certainly what we want in a symbol table implementation Now what about the implementation? Well, we're actually not going to talk about a direct implementation of 2-3 trees, because it's kind of complicated. It's cumbersome to maintain multiple node types. You might need, a multiple compares to move down the tree. If there's a two, a 3-node, it takes more compares than a 2-node, So, it's complicated to analyze. We have to take track, keep track the links as we go up and down the tree to take, handle the splitting, And there's, and there's a lot of cases. I drew all the cases and, and, there's a, whether you're splitting into the middle of a 4-node or the right of a 2-node, there's just a lot of cases. So, you could do it but we're not going to because there's a much easier way. So that's 2-3 trees, A, a model for implementing balanced trees in guaranteed logarithmic time. ", "video_ID": 44, "course_id": 3}
{"category": ["balanced search trees"], "tagged": [["Now", "RB"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["red", "JJ"], ["black", "JJ"], ["BSTs", "NNP"], ["which", "WDT"], ["is", "VBZ"], ["a", "DT"], ["simple", "JJ"], ["data", "NN"], ["structure", "NN"], ["that", "WDT"], ["allows", "VBZ"], ["us", "PRP"], ["to", "TO"], ["implement", "VB"], ["2-3", "JJ"], ["tree", "NN"], ["with", "IN"], ["very", "RB"], ["little", "JJ"], ["extra", "JJ"], ["code", "NN"], ["beyond", "IN"], ["the", "DT"], ["basic", "JJ"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], ["code", "NN"], [".", "."], ["So", "IN"], ["this", "DT"], ["is", "VBZ"], [",", ","], ["and", "CC"], ["actually", "RB"], ["the", "DT"], ["version", "NN"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], [",", ","], ["looking", "VBG"], ["at", "IN"], ["is", "VBZ"], ["called", "VBN"], ["left-leaning", "JJ"], ["red-black", "NN"], ["BSTs", "NNP"], [".", "."], ["On", "IN"], ["a", "DT"], ["personal", "JJ"], ["note", "NN"], [",", ","], ["I", "PRP"], ["wrote", "VBD"], ["a", "DT"], ["research", "NN"], ["paper", "NN"], ["on", "IN"], ["this", "DT"], ["topic", "NN"], ["in", "IN"], ["1979", "CD"], ["with", "IN"], ["Leo", "NNP"], ["Givas", "NNP"], ["and", "CC"], ["we", "PRP"], ["thought", "VBD"], ["we", "PRP"], ["pretty", "RB"], ["well", "RB"], ["understood", "IN"], ["these", "DT"], ["data", "NNS"], ["structures", "NNS"], ["at", "IN"], ["that", "DT"], ["time", "NN"], ["and", "CC"], ["people", "NNS"], ["around", "IN"], ["the", "DT"], ["world", "NN"], ["use", "VBP"], ["them", "PRP"], ["in", "IN"], ["implementing", "VBG"], ["various", "JJ"], ["different", "JJ"], ["systems", "NNS"], [".", "."], ["But", "CC"], ["just", "RB"], ["a", "DT"], ["few", "JJ"], ["years", "NNS"], ["ago", "RB"], ["for", "IN"], ["this", "DT"], ["course", "NN"], ["I", "PRP"], ["found", "VBD"], ["a", "DT"], ["much", "RB"], ["simpler", "JJR"], ["implementation", "NN"], ["of", "IN"], ["red-black", "NN"], ["trees", "NNS"], ["and", "CC"], ["this", "DT"], ["is", "VBZ"], ["just", "RB"], ["the", "DT"], ["a", "DT"], ["case", "NN"], ["study", "NN"], ["showing", "VBG"], ["that", "IN"], ["there", "EX"], ["are", "VBP"], ["simple", "JJ"], ["algorithms", "NNS"], ["still", "RB"], ["out", "IN"], ["there", "RB"], ["waiting", "VBG"], ["to", "TO"], ["be", "VB"], ["discovered", "VBN"], ["and", "CC"], ["this", "DT"], ["is", "VBZ"], ["one", "CD"], ["of", "IN"], ["them", "PRP"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["talk", "VB"], ["about", "IN"], [".", "."], ["So", "RB"], [",", ","], ["the", "DT"], ["idea", "NN"], ["is", "VBZ"], ["that", "IN"], ["we", "PRP"], ["are", "VBP"], [",", ","], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["represent", "VB"], ["every", "DT"], ["two", "CD"], [",", ","], ["three", "CD"], ["tree", "NN"], ["as", "IN"], ["a", "DT"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], [".", "."], ["And", "CC"], ["in", "IN"], ["order", "NN"], ["to", "TO"], ["get", "VB"], ["that", "IN"], ["done", "VBN"], [",", ","], ["we", "PRP"], ["just", "RB"], ["need", "VB"], ["a", "DT"], ["simple", "JJ"], ["representation", "NN"], ["for", "IN"], ["three", "CD"], ["notes", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["what", "WP"], ["we", "PRP"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["use", "VB"], ["internal", "JJ"], ["left-leaning", "JJ"], ["links", "NNS"], ["to", "TO"], ["glue", "VB"], ["the", "DT"], ["three", "CD"], ["nodes", "NNS"], ["together", "RB"], [".", "."], ["So", "RB"], [",", ","], ["the", "DT"], ["larger", "JJR"], ["of", "IN"], ["the", "DT"], ["two", "CD"], ["nodes", "NNS"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], ["node", "NN"], ["will", "MD"], ["always", "RB"], ["be", "VB"], ["the", "DT"], ["root", "NN"], ["of", "IN"], ["a", "DT"], ["little", "JJ"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], ["of", "IN"], ["size", "NN"], ["two", "CD"], ["for", "IN"], ["the", "DT"], ["three", "CD"], ["node", "NN"], ["and", "CC"], ["the", "DT"], ["link", "NN"], ["between", "IN"], ["the", "DT"], ["two", "CD"], ["nodes", "NNS"], [",", ","], ["the", "DT"], ["left", "NN"], ["link", "NN"], ["that", "WDT"], ["links", "VBZ"], ["the", "DT"], ["larger", "JJR"], ["key", "NN"], ["to", "TO"], ["the", "DT"], ["smaller", "JJR"], ["one", "CD"], ["we", "PRP"], ["'ll", "MD"], ["color", "VB"], ["red", "JJ"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["to", "TO"], ["distinguish", "VB"], ["those", "DT"], ["links", "NNS"], ["from", "IN"], ["the", "DT"], ["other", "JJ"], ["links", "NNS"], ["in", "IN"], ["the", "DT"], ["binary", "JJ"], ["tree", "NN"], ["so", "IN"], ["that", "IN"], ["we", "PRP"], ["can", "MD"], ["tell", "VB"], ["when", "WRB"], ["we", "PRP"], ["'re", "VBP"], ["inserting", "VBG"], ["things", "NNS"], ["which", "WDT"], ["nodes", "VBP"], ["belong", "IN"], ["to", "TO"], ["tree", "VB"], ["nodes", "NNS"], ["and", "CC"], ["which", "WDT"], ["ones", "NNS"], ["do", "VBP"], ["n't", "RB"], [".", "."], ["And", "CC"], ["you", "PRP"], ["can", "MD"], ["see", "VB"], ["from", "IN"], ["this", "DT"], ["transformation", "NN"], ["that", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["easy", "JJ"], ["to", "TO"], ["perform", "VB"], ["this", "DT"], [",", ","], ["see", "VB"], ["this", "DT"], ["correspondence", "NN"], ["the", "DT"], ["middle", "JJ"], ["link", "NN"], ["between", "IN"], ["A", "NNP"], ["and", "CC"], ["B", "NNP"], [",", ","], ["those", "DT"], ["are", "VBP"], ["the", "DT"], ["keys", "NNS"], ["that", "WDT"], ["are", "VBP"], ["less", "JJR"], ["than", "IN"], ["B", "NNP"], ["and", "CC"], ["larger", "JJR"], ["than", "IN"], ["A", "DT"], [".", "."], ["So", "RB"], [",", ","], ["that", "IN"], ["takes", "VBZ"], ["two", "CD"], ["comparisons", "NNS"], ["to", "TO"], ["get", "VB"], ["to", "TO"], ["them", "PRP"], ["the", "DT"], ["ones", "NNS"], ["that", "WDT"], ["are", "VBP"], ["less", "JJR"], ["than", "IN"], ["A", "NNP"], [",", ","], ["less", "JJR"], ["than", "IN"], [",", ","], ["less", "JJR"], ["than", "IN"], ["A", "NN"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["two", "CD"], ["comparisons", "NNS"], ["for", "IN"], ["that", "DT"], ["and", "CC"], ["the", "DT"], ["ones", "NNS"], ["that", "WDT"], ["are", "VBP"], ["greater", "JJR"], ["than", "IN"], ["B", "NNP"], ["are", "VBP"], ["the", "DT"], ["right", "JJ"], ["link", "NN"], ["of", "IN"], ["B", "NNP"], [".", "."], ["So", "NNP"], [",", ","], ["just", "RB"], ["following", "VBG"], ["those", "DT"], ["three", "CD"], ["cases", "NNS"], [",", ","], ["I", "PRP"], ["see", "VBP"], ["t", "JJ"], ["hat", "WP"], ["this", "DT"], ["correspondence", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["work", "VB"], [".", "."], ["So", "RB"], [",", ","], ["any", "DT"], ["2-3", "JJ"], ["tree", "NN"], ["corresponds", "NNS"], ["to", "TO"], ["a", "DT"], ["left", "JJ"], ["leaning", "JJ"], ["red-black", "NN"], ["BST", "NNP"], ["in", "IN"], ["this", "DT"], ["way", "NN"], [".", "."], ["Just", "NNP"], ["take", "VB"], ["the", "DT"], ["three", "CD"], ["nodes", "NNS"], ["and", "CC"], ["split", "VB"], ["them", "PRP"], ["into", "IN"], ["little", "JJ"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], ["of", "IN"], ["size", "NN"], ["two", "CD"], ["held", "VBN"], ["together", "RB"], ["by", "IN"], ["a", "DT"], ["red", "JJ"], ["link", "NN"], [".", "."], ["And", "CC"], ["correspondingly", "RB"], ["given", "VBN"], ["a", "DT"], ["red-black", "NN"], ["BST", "NNP"], ["then", "RB"], ["you", "PRP"], ["can", "MD"], ["get", "VB"], ["the", "DT"], ["2-3", "JJ"], ["tree", "NN"], ["if", "IN"], ["you", "PRP"], ["wanted", "VBD"], ["it", "PRP"], [".", "."], ["But", "CC"], ["just", "RB"], ["look", "NN"], ["at", "IN"], ["the", "DT"], ["properties", "NNS"], ["of", "IN"], ["looking", "VBG"], ["at", "IN"], ["the", "DT"], ["properties", "NNS"], ["over", "IN"], ["a", "DT"], ["left", "JJ"], ["leaning", "JJ"], ["red-black", "NN"], ["BST", "NNP"], [".", "."], ["You", "PRP"], ["know", "VBP"], [",", ","], ["with", "IN"], ["reference", "NN"], ["to", "TO"], ["what", "WP"], ["we", "PRP"], ["know", "VBP"], ["about", "IN"], ["2-3", "JJ"], ["trees", "NNS"], [".", "."], ["First", "NNP"], ["of", "IN"], ["all", "DT"], ["no", "DT"], ["node", "NN"], ["has", "VBZ"], ["two", "CD"], ["red", "JJ"], ["links", "NNS"], ["connected", "VBN"], ["to", "TO"], ["it", "PRP"], ["cuz", "VB"], ["the", "DT"], ["only", "JJ"], ["red", "JJ"], ["links", "NNS"], ["are", "VBP"], ["internal", "JJ"], ["to", "TO"], ["three", "CD"], ["nodes", "NNS"], [".", "."], ["And", "CC"], ["those", "DT"], ["have", "VBP"], ["to", "TO"], ["have", "VB"], ["ex", "NN"], [",", ","], ["external", "JJ"], ["links", "NNS"], ["or", "CC"], ["tree", "JJ"], ["links", "NNS"], ["connecting", "VBG"], ["them", "PRP"], ["to", "TO"], ["some", "DT"], ["other", "JJ"], ["node", "NN"], [".", "."], ["Every", "DT"], ["path", "NN"], ["from", "IN"], ["the", "DT"], ["root", "NN"], ["down", "RB"], ["to", "TO"], ["a", "DT"], ["null", "JJ"], ["link", "NN"], ["has", "VBZ"], ["the", "DT"], ["same", "JJ"], ["number", "NN"], ["of", "IN"], ["black", "JJ"], ["links", "NNS"], ["that", "WDT"], ["just", "RB"], ["follows", "VBZ"], ["directly", "RB"], ["from", "IN"], ["the", "DT"], ["corresponding", "JJ"], ["property", "NN"], ["for", "IN"], ["2-3", "JJ"], ["trees", "NNS"], [".", "."], ["A", "DT"], ["left-leaning", "JJ"], ["red-black", "NN"], ["BST", "NNP"], ["has", "VBZ"], ["perfect", "JJ"], ["black", "JJ"], ["balance", "NN"], [".", "."], ["And", "CC"], ["all", "PDT"], ["the", "DT"], ["red", "JJ"], ["links", "NNS"], ["lean", "JJ"], ["left", "VBD"], [".", "."], ["So", "NNP"], [",", ","], ["given", "VBN"], ["a", "DT"], ["BST", "NNP"], ["with", "IN"], ["some", "DT"], ["of", "IN"], ["the", "DT"], ["links", "NNS"], ["colored", "VBD"], ["red", "JJ"], ["that", "WDT"], ["has", "VBZ"], ["those", "DT"], ["properties", "NNS"], ["that", "WDT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["correspond", "VB"], ["to", "TO"], ["a", "DT"], ["2-3", "JJ"], ["tree", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["key", "JJ"], ["property", "NN"], ["is", "VBZ"], ["this", "DT"], ["one-to-one", "JJ"], ["correspondence", "NN"], ["between", "IN"], ["2-3", "JJ"], ["trees", "NNS"], ["and", "CC"], ["left-leaning", "JJ"], ["red-black", "NN"], ["trees", "NNS"], [".", "."], ["Given", "VB"], ["a", "DT"], ["2-3", "JJ"], ["tree", "NN"], [",", ","], ["we", "PRP"], ["saw", "VBD"], ["how", "WRB"], ["to", "TO"], ["do", "VB"], ["it", "PRP"], [".", "."], ["Given", "VB"], ["a", "DT"], [",", ","], ["a", "DT"], [",", ","], ["given", "VBN"], ["a", "DT"], ["red-black", "JJ"], ["tree", "NN"], [",", ","], ["we", "PRP"], ["just", "RB"], ["make", "VB"], ["the", "DT"], ["red", "JJ"], ["links", "NNS"], ["horizontal", "NN"], [",", ","], ["and", "CC"], ["merge", "VB"], ["the", "DT"], ["nodes", "NNS"], ["together", "RB"], ["to", "TO"], ["be", "VB"], ["three", "CD"], ["nodes", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["all", "DT"], ["of", "IN"], ["the", "DT"], ["operations", "NNS"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["for", "IN"], ["red-black", "NN"], ["trees", "NNS"], ["can", "MD"], ["be", "VB"], ["understood", "VBN"], ["in", "IN"], ["terms", "NNS"], ["of", "IN"], ["the", "DT"], ["corresponding", "JJ"], ["operations", "NNS"], ["on", "IN"], ["2-3", "JJ"], ["trees", "NNS"], [".", "."], ["Now", "RB"], ["the", "DT"], ["first", "JJ"], [",", ","], ["and", "CC"], ["really", "RB"], ["one", "CD"], ["of", "IN"], ["the", "DT"], ["most", "RBS"], ["critical", "JJ"], ["observations", "NNS"], [",", ","], ["is", "VBZ"], ["that", "IN"], ["search", "NN"], ["in", "IN"], ["a", "DT"], ["red-black", "JJ"], ["BST", "NNP"], ["is", "VBZ"], ["exactly", "RB"], ["the", "DT"], ["same", "JJ"], ["as", "IN"], ["for", "IN"], ["an", "DT"], ["elementary", "JJ"], ["BST", "NNP"], [",", ","], ["we", "PRP"], ["just", "RB"], ["ignore", "VBP"], ["the", "DT"], ["color", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["much", "JJ"], ["faster", "RBR"], ["because", "IN"], ["of", "IN"], ["better", "JJR"], ["balance", "NN"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], [",", ","], ["but", "CC"], ["in", "IN"], ["terms", "NNS"], ["of", "IN"], ["the", "DT"], ["code", "NN"], [",", ","], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["have", "VB"], ["to", "TO"], ["change", "VB"], ["the", "DT"], ["code", "NN"], ["at", "IN"], ["all", "DT"], [".", "."], ["Our", "PRP$"], ["regular", "JJ"], ["search", "NN"], ["code", "NN"], ["does", "VBZ"], ["n't", "RB"], ["examine", "VB"], ["the", "DT"], ["color", "NN"], ["of", "IN"], ["a", "DT"], ["link", "NN"], ["and", "CC"], ["so", "IN"], ["we", "PRP"], ["can", "MD"], ["just", "RB"], ["use", "VB"], ["it", "PRP"], ["exactly", "RB"], ["as", "IN"], ["is", "VBZ"], [".", "."], ["And", "CC"], ["in", "IN"], ["fact", "NN"], [",", ","], ["most", "JJS"], ["of", "IN"], ["the", "DT"], ["other", "JJ"], ["operations", "NNS"], ["that", "IN"], ["we", "PRP"], ["implemented", "VBD"], ["on", "IN"], ["BSTs", "NNP"], ["are", "VBP"], ["also", "RB"], ["identical", "JJ"], [".", "."], ["They", "PRP"], ["d", "VBP"], ["o", "VBP"], ["n't", "RB"], ["need", "VB"], ["the", "DT"], ["colors", "NNS"], [",", ","], ["but", "CC"], ["they", "PRP"], ["can", "MD"], ["all", "DT"], ["benefit", "VB"], ["from", "IN"], ["the", "DT"], ["fact", "NN"], ["that", "IN"], ["the", "DT"], ["trees", "NNS"], ["are", "VBP"], ["much", "JJ"], ["better", "RBR"], ["balanced", "VBN"], [".", "."], ["So", "IN"], ["this", "DT"], ["aspect", "NN"], ["of", "IN"], ["red-black", "NN"], ["BSTs", "NNP"], ["is", "VBZ"], ["an", "DT"], ["extremely", "RB"], ["nice", "JJ"], ["one", "CD"], ["because", "IN"], ["of", "IN"], ["the", "DT"], ["operations", "NNS"], ["that", "IN"], ["we", "PRP"], ["implemented", "VBD"], ["for", "IN"], ["regular", "JJ"], ["BSTs", "NNP"], ["that", "WDT"], ["involves", "VBZ"], ["some", "DT"], ["complicated", "JJ"], ["code", "NN"], ["for", "IN"], ["floor", "NN"], ["and", "CC"], ["ceiling", "NN"], ["and", "CC"], ["rank", "NN"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [",", ","], ["and", "CC"], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["have", "VB"], ["to", "TO"], ["change", "VB"], ["that", "DT"], ["code", "NN"], ["at", "IN"], ["all", "DT"], [".", "."], ["We", "PRP"], ["just", "RB"], ["during", "IN"], ["the", "DT"], ["insertion", "NN"], [",", ","], ["make", "VB"], ["sure", "JJ"], ["that", "IN"], ["we", "PRP"], [",", ","], ["we", "PRP"], ["[", "VBP"], ["cough", "JJ"], ["]", "NN"], ["maintain", "VBP"], ["the", "DT"], ["properties", "NNS"], ["the", "DT"], ["balance", "NN"], ["properties", "NNS"], ["and", "CC"], ["by", "IN"], ["doing", "VBG"], ["that", "IN"], [",", ","], ["we", "PRP"], ["wind", "VBP"], ["up", "RP"], ["with", "IN"], ["balance", "NN"], ["trees", "NNS"], ["and", "CC"], ["we", "PRP"], ["make", "VBP"], ["all", "PDT"], ["the", "DT"], ["operations", "NNS"], ["quick", "JJ"], ["and", "CC"], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["have", "VB"], ["to", "TO"], ["re-implement", "JJ"], [",", ","], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["have", "VB"], ["to", "TO"], ["change", "VB"], ["it", "PRP"], ["at", "IN"], ["all", "DT"], [".", "."], ["So", "NNP"], ["first", "JJ"], ["before", "IN"], ["we", "PRP"], ["get", "VBP"], ["to", "TO"], ["the", "DT"], ["code", "NN"], ["for", "IN"], ["insertion", "NN"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["the", "DT"], ["representation", "NN"], [".", "."], ["We", "PRP"], ["do", "VBP"], ["n't", "RB"], ["actually", "RB"], ["have", "VB"], ["explicit", "JJ"], ["representation", "NN"], ["of", "IN"], ["links", "NNS"], ["or", "CC"], ["links", "NNS"], ["in", "IN"], ["trees", "NNS"], ["or", "CC"], ["just", "RB"], ["references", "NNS"], ["to", "TO"], ["nodes", "NNS"], [".", "."], ["You", "PRP"], ["could", "MD"], ["implement", "VB"], ["this", "DT"], ["by", "IN"], ["building", "VBG"], ["explicit", "JJ"], ["links", "NNS"], ["but", "CC"], ["the", "DT"], ["an", "DT"], ["easier", "JJ"], ["thing", "NN"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["to", "TO"], ["know", "VB"], ["that", "DT"], ["every", "DT"], ["node", "NN"], ["is", "VBZ"], ["referenced", "VBN"], ["by", "IN"], ["just", "RB"], ["one", "CD"], ["link", "NN"], ["in", "IN"], ["a", "DT"], ["tree", "NN"], ["the", "DT"], ["one", "CD"], ["from", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["parent", "NN"], [".", "."], ["So", "RB"], [",", ","], ["you", "PRP"], ["can", "MD"], ["put", "VB"], ["the", "DT"], ["color", "NN"], ["of", "IN"], ["a", "DT"], ["link", "NN"], ["in", "IN"], ["the", "DT"], ["node", "NN"], ["that", "IN"], ["it", "PRP"], ["references", "VBZ"], [".", "."], ["So", "RB"], [",", ","], ["in", "IN"], ["this", "DT"], ["case", "NN"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["red", "JJ"], ["link", "NN"], ["connecting", "VBG"], ["E", "NNP"], ["and", "CC"], ["C.", "NNP"], ["What", "WP"], ["we", "PRP"], ["do", "VBP"], ["is", "VBZ"], ["put", "VB"], ["a", "DT"], ["bit", "NN"], [",", ","], ["a", "DT"], ["color", "NN"], ["bit", "NN"], ["in", "IN"], ["each", "DT"], ["in", "IN"], ["the", "DT"], ["node", "JJ"], ["class", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["if", "IN"], ["the", "DT"], ["link", "NN"], ["coming", "VBG"], ["into", "IN"], ["a", "DT"], ["node", "NN"], ["is", "VBZ"], ["red", "JJ"], ["we", "PRP"], ["set", "VBP"], ["that", "DT"], ["to", "TO"], ["true", "JJ"], [".", "."], ["So", "RB"], ["this", "DT"], ["simple", "JJ"], ["thing", "NN"], ["just", "RB"], ["tests", "NNS"], ["is", "VBZ"], ["a", "DT"], ["node", "JJ"], ["red", "JJ"], [".", "."], ["We", "PRP"], ["consider", "VBP"], ["all", "DT"], ["null", "NN"], ["nodes", "NNS"], ["to", "TO"], ["be", "VB"], ["black", "JJ"], ["null", "JJ"], ["links", "NNS"], ["to", "TO"], ["be", "VB"], ["black", "JJ"], [",", ","], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["have", "VB"], ["red", "JJ"], ["links", "NNS"], ["dangling", "VBG"], ["off", "RP"], [",", ","], ["that", "WDT"], ["would", "MD"], ["be", "VB"], ["incomplete", "JJ"], ["pre-nodes", "NNS"], [".", "."], ["And", "CC"], ["[", "JJ"], ["cough", "NN"], ["]", "NNP"], ["otherwise", "RB"], ["if", "IN"], ["the", "DT"], ["color", "NN"], ["'s", "POS"], ["red", "JJ"], [",", ","], ["we", "PRP"], ["return", "VBP"], ["true", "JJ"], ["otherwise", "RB"], ["return", "NN"], ["false", "JJ"], ["to", "TO"], ["test", "VB"], ["whether", "IN"], ["a", "DT"], ["node", "NN"], ["is", "VBZ"], ["red", "JJ"], [".", "."], ["So", "RB"], ["in", "IN"], ["this", "DT"], ["tree", "NN"], [",", ","], ["the", "DT"], ["color", "NN"], ["of", "IN"], ["h.left", "NN"], ["is", "VBZ"], ["red", "JJ"], [",", ","], ["the", "DT"], ["color", "NN"], ["of", "IN"], ["h.right", "NN"], ["is", "VBZ"], ["black", "JJ"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["way", "NN"], ["we", "PRP"], ["represent", "VBP"], ["colors", "NNS"], ["by", "IN"], ["putting", "VBG"], ["the", "DT"], [",", ","], ["a", "DT"], ["color", "NN"], ["bit", "NN"], ["in", "IN"], ["the", "DT"], ["node", "NN"], ["for", "IN"], ["the", "DT"], ["color", "NN"], ["of", "IN"], ["the", "DT"], ["length", "NN"], ["that", "WDT"], ["points", "VBZ"], ["to", "TO"], ["it", "PRP"], [".", "."], ["[", "JJ"], ["cough", "NN"], ["]", "NN"], ["Alright", "NNP"], [",", ","], ["so", "RB"], ["now", "RB"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["couple", "NN"], ["of", "IN"], ["elementary", "JJ"], ["operations", "NNS"], ["that", "IN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["perform", "VB"], ["on", "IN"], ["red-black", "NN"], ["trees", "NNS"], [",", ","], ["called", "VBN"], ["rotations", "NNS"], [".", "."], ["And", "CC"], ["the", "DT"], ["idea", "NN"], ["is", "VBZ"], ["that", "IN"], ["during", "IN"], ["the", "DT"], ["construction", "NN"], ["of", "IN"], ["a", "DT"], ["tree", "NN"], [",", ","], ["or", "CC"], ["during", "IN"], ["an", "DT"], ["insertion", "NN"], ["operation", "NN"], [",", ","], ["sometimes", "RB"], ["we", "PRP"], ["wind", "VBP"], ["up", "RP"], ["with", "IN"], ["red", "JJ"], ["links", "NNS"], ["that", "WDT"], ["are", "VBP"], ["leaning", "VBG"], ["in", "IN"], ["the", "DT"], ["wrong", "JJ"], ["direction", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], ["we", "PRP"], ["'ll", "MD"], ["need", "VB"], ["what", "WP"], ["'s", "VBZ"], ["called", "VBN"], ["a", "DT"], ["left", "NN"], ["rotation", "NN"], [",", ","], ["and", "CC"], ["the", "DT"], ["job", "NN"], ["of", "IN"], ["that", "DT"], ["operation", "NN"], ["is", "VBZ"], ["to", "TO"], ["take", "VB"], ["a", "DT"], [",", ","], ["a", "DT"], ["right", "JJ"], ["leaning", "NN"], ["red", "JJ"], ["link", "NN"], ["that", "WDT"], ["is", "VBZ"], ["there", "RB"], ["for", "IN"], ["whatever", "WDT"], ["reason", "NN"], ["and", "CC"], ["reorient", "NN"], ["it", "PRP"], ["to", "TO"], ["lean", "VB"], ["to", "TO"], ["the", "DT"], ["left", "NN"], [".", "."], ["[", "JJ"], ["cough", "NN"], ["]", "NNP"], ["so", "RB"], [",", ","], ["in", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["the", "DT"], ["right", "JJ"], ["link", "NN"], ["of", "IN"], ["E", "NNP"], ["points", "NNS"], ["to", "TO"], ["S", "NNP"], ["and", "CC"], ["S", "NNP"], ["is", "VBZ"], ["red", "VBN"], ["so", "IN"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["right-leaning", "JJ"], ["red", "JJ"], ["link", "NN"], ["and", "CC"], ["so", "RB"], ["now", "RB"], ["that", "IN"], ["'s", "VBZ"], ["the", "DT"], ["before", "NN"], ["and", "CC"], ["what", "WP"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["reorient", "JJ"], ["things", "NNS"], ["so", "RB"], ["that", "IN"], ["it", "PRP"], ["leans", "VBZ"], ["to", "TO"], ["the", "DT"], ["left", "NN"], [".", "."], ["And", "CC"], ["again", "RB"], [",", ","], ["that", "WDT"], ["has", "VBZ"], ["to", "TO"], ["be", "VB"], ["a", "DT"], ["local", "JJ"], ["operation", "NN"], ["that", "IN"], ["only", "RB"], ["changes", "VBZ"], ["a", "DT"], ["few", "JJ"], ["links", "NNS"], ["and", "CC"], ["just", "RB"], ["from", "IN"], ["the", "DT"], ["diagram", "NN"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["difficult", "JJ"], ["to", "TO"], ["see", "VB"], ["that", "IN"], ["this", "DT"], ["little", "JJ"], ["bit", "NN"], ["of", "IN"], ["code", "NN"], ["will", "MD"], ["do", "VB"], ["the", "DT"], ["job", "NN"], [".", "."], ["If", "IN"], ["we", "PRP"], ["start", "VBP"], ["with", "IN"], ["a", "DT"], ["right-leaning", "JJ"], ["red", "JJ"], ["link", "NN"], [".", "."], ["So", "RB"], [",", ","], ["first", "JJ"], ["thing", "NN"], ["we", "PRP"], ["do", "VBP"], ["is", "VBZ"], ["take", "VB"], ["the", "DT"], ["reference", "NN"], ["of", "IN"], ["h.right", "NN"], [",", ","], ["and", "CC"], ["save", "VB"], ["that", "DT"], ["in", "IN"], ["x", "NNP"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["node", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["the", "DT"], ["new", "JJ"], ["root", "NN"], ["of", "IN"], ["the", "DT"], ["three", "CD"], ["nodes", "NNS"], ["so", "RB"], ["to", "TO"], ["speak", "VB"], [".", "."], ["And", "CC"], [",", ","], ["and", "CC"], ["then", "RB"], [",", ","], ["x.left", "RB"], ["after", "IN"], ["the", "DT"], ["rotation", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["h.", "JJ"], ["And", "CC"], ["also", "RB"], ["whatever", "WDT"], ["color", "NN"], ["h", "NN"], ["was", "VBD"], [",", ","], ["well", "RB"], [",", ","], ["it", "PRP"], ["looks", "VBZ"], ["like", "IN"], ["it", "PRP"], ["should", "MD"], ["be", "VB"], ["black", "JJ"], [".", "."], ["But", "CC"], ["actually", "RB"], ["this", "DT"], ["situation", "NN"], ["is", "VBZ"], ["where", "WRB"], ["it", "PRP"], ["could", "MD"], ["be", "VB"], ["red", "VBN"], [".", "."], ["Then", "RB"], ["x", "EX"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["that", "DT"], ["color", "NN"], ["cuz", "VBD"], ["the", "DT"], ["link", "NN"], ["coming", "VBG"], ["into", "IN"], ["h", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["the", "DT"], ["link", "NN"], ["coming", "VBG"], ["into", "IN"], ["x", "NNP"], [".", "."], ["And", "CC"], ["then", "RB"], ["h", "NN"], ["'s", "POS"], ["color", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["black", "JJ"], ["afterwards", "NNS"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["we", "PRP"], ["return", "VBP"], ["x", "JJ"], ["to", "TO"], ["link", "VB"], ["further", "RBR"], ["up", "IN"], ["the", "DT"], ["tree", "NN"], ["which", "WDT"], ["happens", "VBZ"], ["during", "IN"], ["our", "PRP$"], ["standard", "JJ"], ["recursive", "NN"], ["insert", "NN"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["rotate", "NN"], ["left", "VBD"], ["operation", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["the", "DT"], ["property", "NN"], ["of", "IN"], ["this", "DT"], ["operation", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["very", "RB"], ["important", "JJ"], ["is", "VBZ"], ["it", "PRP"], ["maintains", "VBZ"], ["a", "DT"], ["symmetric", "JJ"], ["order", "NN"], [".", "."], ["The", "DT"], ["keys", "NN"], ["between", "IN"], ["E", "NNP"], ["and", "CC"], ["S", "NNP"], ["are", "VBP"], ["still", "RB"], ["there", "RB"], [".", "."], ["We", "PRP"], ["just", "RB"], ["changed", "VBD"], ["the", "DT"], ["way", "NN"], ["we", "PRP"], ["get", "VBP"], ["to", "TO"], ["them", "PRP"], [".", "."], ["And", "CC"], ["the", "DT"], ["keys", "NNS"], ["less", "JJR"], ["than", "IN"], ["E", "NN"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["And", "CC"], ["also", "RB"], ["we", "PRP"], ["maintain", "VBP"], ["perfect", "JJ"], ["black", "JJ"], ["balance", "NN"], ["because", "IN"], ["we", "PRP"], ["did", "VBD"], ["n't", "RB"], ["change", "VB"], ["the", "DT"], ["black", "JJ"], ["height", "NN"], [",", ","], ["height", "NN"], ["of", "IN"], ["anything", "NN"], ["by", "IN"], ["doing", "VBG"], ["this", "DT"], ["transformation", "NN"], [".", "."], ["All", "PDT"], ["those", "DT"], ["subtrees", "NNS"], [",", ","], ["those", "DT"], ["three", "CD"], ["subtrees", "NNS"], ["are", "VBP"], ["exactly", "RB"], ["the", "DT"], ["same", "JJ"], ["relative", "NN"], ["to", "TO"], ["the", "DT"], ["top", "JJ"], ["and", "CC"], ["bottom", "NN"], ["of", "IN"], ["the", "DT"], ["tree", "NN"], [",", ","], ["as", "IN"], ["they", "PRP"], ["were", "VBD"], ["before", "IN"], ["the", "DT"], ["rotation", "NN"], [".", "."], ["Now", "RB"], ["paradoxically", "RB"], ["and", "CC"], ["you", "PRP"], ["'ll", "MD"], ["see", "VB"], ["why", "WRB"], ["very", "RB"], ["soon", "RB"], ["it", "PRP"], ["also", "RB"], ["turns", "VBZ"], ["out", "RP"], ["that", "IN"], ["to", "TO"], ["get", "VB"], ["the", "DT"], ["insertion", "NN"], ["done", "VBN"], ["properly", "RB"], ["we", "PRP"], ["sometimes", "RB"], ["need", "VBP"], ["to", "TO"], ["take", "VB"], ["a", "DT"], ["left-leaning", "JJ"], ["red", "JJ"], ["link", "NN"], ["and", "CC"], ["temporarily", "RB"], ["make", "VB"], ["it", "PRP"], ["lean", "JJ"], ["right", "NN"], [".", "."], ["And", "CC"], ["later", "RBR"], ["on", "IN"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["get", "VB"], ["it", "PRP"], ["back", "RB"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["again", "RB"], [".", "."], ["But", "CC"], ["anyway", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["basic", "JJ"], ["operation", "NN"], ["that", "IN"], ["we", "PRP"], ["sometimes", "RB"], ["need", "VBP"], [".", "."], ["And", "CC"], ["so", "RB"], ["that", "DT"], ["'s", "VBZ"], ["just", "RB"], ["the", "DT"], ["symmetric", "JJ"], ["code", "NN"], ["to", "TO"], ["the", "DT"], ["code", "NN"], ["that", "IN"], ["we", "PRP"], ["just", "RB"], ["did", "VBD"], [".", "."], ["Now", "RB"], ["again", "RB"], [",", ","], ["now", "RB"], ["x", "VBZ"], ["is", "VBZ"], ["h.left", "VBN"], [".", "."], ["And", "CC"], ["h.left", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["x.right", "VBN"], ["after", "IN"], ["the", "DT"], ["rotation", "NN"], [".", "."], ["X", "NNP"], ["'s", "POS"], ["color", "NN"], ["is", "VBZ"], ["still", "RB"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["h", "PRP"], ["'s", "POS"], ["color", "NN"], [".", "."], ["And", "CC"], ["h", "NN"], ["'s", "POS"], ["color", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["red", "JJ"], [".", "."], ["And", "CC"], ["the", "DT"], ["right", "JJ"], ["rotation", "NN"], ["implements", "NNS"], ["this", "DT"], ["and", "CC"], ["again", "RB"], ["that", "DT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["maintain", "VB"], ["a", "DT"], [",", ","], ["a", "DT"], ["symmetric", "JJ"], ["order", "NN"], ["in", "IN"], ["perfect", "JJ"], ["black", "JJ"], ["balance", "NN"], ["we", "PRP"], ["change", "VBP"], ["the", "DT"], ["way", "NN"], ["the", "DT"], ["red", "JJ"], ["goes", "VBZ"], ["but", "CC"], ["we", "PRP"], ["did", "VBD"], ["n't", "RB"], ["change", "VB"], ["anything", "NN"], ["about", "IN"], ["the", "DT"], ["black", "JJ"], [".", "."], ["Okay", "NNP"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["a", "DT"], ["right", "JJ"], ["rotation", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["here", "RB"], ["'s", "VBZ"], ["the", "DT"], ["third", "JJ"], ["elementary", "JJ"], ["operation", "NN"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["perform", "VB"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["called", "VBN"], ["a", "DT"], ["color", "NN"], ["flip", "NN"], [".", "."], ["Sometimes", "RB"], ["during", "IN"], ["the", "DT"], ["insertion", "NN"], [",", ","], ["we", "PRP"], ["might", "MD"], ["wind", "VB"], ["up", "RP"], ["with", "IN"], ["a", "DT"], ["node", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["got", "VBD"], ["two", "CD"], ["red", "JJ"], ["links", "NNS"], ["coming", "VBG"], ["out", "IN"], ["of", "IN"], ["it", "PRP"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["corresponds", "NNS"], ["precisely", "RB"], ["to", "TO"], ["our", "PRP$"], ["temporary", "JJ"], ["four", "CD"], ["node", "NN"], ["when", "WRB"], ["we", "PRP"], ["'re", "VBP"], ["doing", "VBG"], ["2-3", "JJ"], ["trees", "NNS"], [".", "."], ["And", "CC"], ["what", "WP"], ["we", "PRP"], ["wanted", "VBD"], ["to", "TO"], ["do", "VB"], ["with", "IN"], ["the", "DT"], ["temporary", "JJ"], ["four", "CD"], ["node", "NN"], ["was", "VBD"], ["to", "TO"], ["split", "VB"], ["it", "PRP"], ["and", "CC"], ["pass", "VB"], ["the", "DT"], ["center", "NN"], ["node", "VBD"], ["up", "RB"], ["to", "TO"], ["the", "DT"], ["root", "NN"], [".", "."], ["Well", "UH"], [",", ","], ["you", "PRP"], ["can", "MD"], ["see", "VB"], ["from", "IN"], ["this", "DT"], ["structure", "NN"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["all", "DT"], ["set", "NN"], ["to", "TO"], ["do", "VB"], ["that", "IN"], ["all", "DT"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["do", "VB"], ["actually", "RB"], ["is", "VBZ"], ["not", "RB"], ["change", "JJ"], ["any", "DT"], ["links", "NNS"], [",", ","], ["just", "RB"], ["change", "NN"], ["all", "PDT"], ["the", "DT"], ["colors", "NNS"], [".", "."], ["And", "CC"], ["so", "RB"], [",", ","], ["that", "DT"], ["is", "VBZ"], [",", ","], ["we", "PRP"], ["change", "VBP"], ["the", "DT"], ["link", "NN"], ["from", "IN"], ["E", "NNP"], ["to", "TO"], ["A", "NNP"], ["and", "CC"], ["from", "IN"], ["E", "NNP"], ["to", "TO"], ["S", "VB"], ["to", "TO"], ["be", "VB"], ["black", "JJ"], [".", "."], ["That", "DT"], ["essentially", "RB"], ["splits", "VBZ"], ["the", "DT"], ["four", "CD"], ["node", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["insert", "VB"], ["the", "DT"], ["E", "NNP"], ["into", "IN"], ["its", "PRP$"], ["parent", "NN"], [".", "."], ["And", "CC"], ["we", "PRP"], ["just", "RB"], ["do", "VBP"], ["that", "DT"], ["by", "IN"], ["changing", "VBG"], ["its", "PRP$"], ["link", "NN"], ["to", "TO"], ["be", "VB"], ["red", "JJ"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["flipping", "VBG"], ["the", "DT"], ["colors", "NNS"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["way", "NN"], ["we", "PRP"], ["split", "VBD"], ["a", "DT"], ["temporary", "JJ"], ["four", "CD"], ["node", "NN"], ["in", "IN"], ["a", "DT"], ["left-linear", "JJ"], ["red-black", "NN"], ["tree", "NN"], [".", "."], ["And", "CC"], ["again", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["just", "RB"], ["flipping", "JJ"], ["colors", "NNS"], [".", "."], ["It", "PRP"], ["does", "VBZ"], ["n't", "RB"], ["change", "VB"], ["any", "DT"], ["links", "NNS"], ["so", "IN"], ["it", "PRP"], ["still", "RB"], [",", ","], ["of", "IN"], ["course", "NN"], [",", ","], ["maintains", "VBZ"], ["symmetric", "JJ"], ["order", "NN"], ["and", "CC"], ["perfect", "JJ"], ["black", "JJ"], ["balance", "NN"], [".", "."], ["So", "RB"], [",", ","], ["those", "DT"], ["are", "VBP"], ["the", "DT"], ["three", "CD"], ["basic", "JJ"], ["operations", "NNS"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["use", "VB"], [".", "."], ["Rotate", "NNP"], ["left", "VBD"], [",", ","], ["rotate", "VB"], ["right", "JJ"], ["and", "CC"], ["flip", "JJ"], ["colors", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["the", "DT"], ["basic", "JJ"], ["s", "NN"], ["trategy", "NN"], ["is", "VBZ"], [",", ","], ["with", "IN"], ["those", "DT"], ["operations", "NNS"], [",", ","], ["maintain", "VBP"], ["one-to-one", "JJ"], ["correspondence", "NN"], ["with", "IN"], ["2-3", "JJ"], ["trees", "NNS"], ["when", "WRB"], ["we", "PRP"], ["do", "VBP"], ["insertions", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["here", "RB"], ["'s", "VBZ"], ["an", "DT"], ["example", "NN"], [".", "."], ["If", "IN"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["insert", "VB"], ["C", "NNP"], ["into", "IN"], ["this", "DT"], ["red", "JJ"], ["black", "JJ"], ["tree", "NN"], ["which", "WDT"], ["is", "VBZ"], ["a", "DT"], ["representation", "NN"], ["of", "IN"], ["this", "DT"], ["2-3", "JJ"], ["tree", "NN"], [",", ","], ["then", "RB"], ["C", "NNP"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["less", "JJR"], ["than", "IN"], ["E", "NNP"], ["greater", "JJR"], ["than", "IN"], ["A", "DT"], [".", "."], ["So", "RB"], [",", ","], ["it", "PRP"], ["will", "MD"], ["get", "VB"], ["added", "VBN"], ["to", "TO"], [",", ","], ["as", "IN"], ["the", "DT"], ["right", "JJ"], ["link", "NN"], ["of", "IN"], ["A", "NNP"], ["and", "CC"], ["every", "DT"], ["time", "NN"], ["we", "PRP"], ["add", "VBP"], ["a", "DT"], ["node", "NN"], ["we", "PRP"], ["just", "RB"], ["create", "VB"], ["a", "DT"], ["red", "JJ"], ["link", "NN"], ["to", "TO"], ["its", "PRP$"], ["parents", "NNS"], ["and", "CC"], ["so", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["changing", "VBG"], ["the", "DT"], ["two", "CD"], ["node", "NN"], ["into", "IN"], ["a", "DT"], ["three", "CD"], ["node", "NN"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], ["it", "PRP"], ["'s", "VBZ"], ["three", "CD"], ["nodes", "IN"], ["that", "DT"], ["'s", "VBZ"], ["oriented", "VBN"], ["the", "DT"], ["wrong", "JJ"], ["way", "NN"], ["so", "IN"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["do", "VB"], ["a", "DT"], ["left", "NN"], ["rotate", "NN"], [".", "."], ["After", "IN"], ["we", "PRP"], ["do", "VBP"], ["the", "DT"], ["left", "NN"], ["rotate", "NN"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["legal", "JJ"], ["left-leaning", "JJ"], ["red-black", "NN"], ["tree", "NN"], [",", ","], ["and", "CC"], ["it", "PRP"], ["exactly", "RB"], ["corresponds", "VBZ"], ["to", "TO"], ["that", "DT"], ["2-3", "JJ"], ["tree", "NN"], [",", ","], ["so", "IN"], ["the", "DT"], ["insertion", "NN"], ["of", "IN"], ["C", "NNP"], ["gives", "VBZ"], ["us", "PRP"], ["exactly", "RB"], ["what", "WP"], ["we", "PRP"], ["would", "MD"], ["want", "VB"], [",", ","], ["that", "DT"], ["correspondence", "NN"], ["with", "IN"], ["the", "DT"], ["2-3", "JJ"], ["tree", "NN"], [".", "."], ["We", "PRP"], ["have", "VBP"], ["to", "TO"], ["work", "VB"], ["through", "IN"], ["other", "JJ"], ["cases", "NNS"], ["that", "WDT"], ["can", "MD"], ["arise", "VB"], ["but", "CC"], ["there", "EX"], ["'s", "VBZ"], ["not", "RB"], ["too", "RB"], ["many", "JJ"], ["so", "IN"], ["we", "PRP"], ["'ll", "MD"], ["work", "VB"], ["through", "IN"], ["and", "CC"], ["we", "PRP"], ["have", "VBP"], ["the", "DT"], ["basic", "JJ"], ["operations", "NNS"], [",", ","], ["left", "VBD"], ["rotate", "NN"], [",", ","], ["right", "JJ"], ["rotate", "NN"], [",", ","], ["and", "CC"], ["flip", "NN"], ["colors", "NNS"], [".", "."], ["Alright", "NNP"], [",", ","], ["so", "IN"], ["first", "JJ"], [",", ","], ["warm", "JJ"], ["up", "RP"], [",", ","], ["insert", "VB"], ["into", "IN"], ["a", "DT"], ["tree", "NN"], ["with", "IN"], ["exactly", "RB"], ["one", "CD"], ["node", "NN"], [".", "."], ["Well", "UH"], [",", ","], ["if", "IN"], ["it", "PRP"], ["goes", "VBZ"], ["on", "IN"], ["the", "DT"], ["left", "NN"], [",", ","], ["then", "RB"], ["we", "PRP"], ["just", "RB"], ["make", "VB"], ["a", "DT"], ["red", "JJ"], ["link", "NN"], ["and", "CC"], ["add", "VB"], ["it", "PRP"], ["on", "IN"], ["then", "RB"], ["we", "PRP"], ["'re", "VBP"], ["done", "VBN"], [".", "."], ["If", "IN"], ["it", "PRP"], ["goes", "VBZ"], ["on", "IN"], ["the", "DT"], ["right", "NN"], [",", ","], ["then", "RB"], ["we", "PRP"], ["attach", "VBP"], ["a", "DT"], ["new", "JJ"], ["node", "NN"], ["with", "IN"], ["the", "DT"], ["red", "JJ"], ["link", "NN"], ["on", "IN"], ["the", "DT"], ["right", "NN"], ["but", "CC"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["rotate", "VB"], ["it", "PRP"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["to", "TO"], ["make", "VB"], ["a", "DT"], ["legal", "JJ"], ["three", "CD"], ["node", "NN"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["inserting", "VBG"], ["to", "TO"], ["a", "DT"], ["tree", "NN"], ["with", "IN"], ["the", "DT"], ["one", "CD"], ["node", "NN"], ["and", "CC"], ["make", "VB"], ["it", "PRP"], ["a", "DT"], ["tree", "JJ"], ["with", "IN"], ["two", "CD"], ["nodes", "NNS"], [".", "."], ["And", "CC"], ["that", "IN"], ["one", "CD"], ["generalizes", "NN"], ["to", "TO"], ["help", "VB"], ["us", "PRP"], ["insert", "VB"], ["into", "IN"], ["a", "DT"], ["two", "CD"], ["node", "NN"], ["at", "IN"], ["the", "DT"], ["bottom", "NN"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["do", "VBP"], ["the", "DT"], ["standard", "NN"], ["BST", "NNP"], ["insert", "NN"], ["color", "NN"], ["the", "DT"], ["new", "JJ"], ["link", "NN"], ["red", "JJ"], ["and", "CC"], ["then", "RB"], ["if", "IN"], ["that", "DT"], ["[", "VBZ"], ["cough", "RB"], ["]", "JJ"], ["new", "JJ"], ["three", "CD"], ["node", "NN"], ["happens", "VBZ"], ["to", "TO"], ["lean", "VB"], ["right", "RB"], [",", ","], ["rotated", "VBD"], ["to", "TO"], ["the", "DT"], ["left", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["the", "DT"], ["case", "NN"], ["that", "IN"], ["we", "PRP"], ["just", "RB"], ["did", "VBD"], [".", "."], ["So", "RB"], ["now", "RB"], [",", ","], ["let", "VB"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["the", "DT"], ["second", "JJ"], ["warm-up", "NN"], [".", "."], ["So", "RB"], [",", ","], ["say", "VBP"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["just", "RB"], ["two", "CD"], ["nodes", "NNS"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], [",", ","], ["so", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["we", "PRP"], ["have", "VBP"], ["two", "CD"], ["nodes", "NNS"], ["and", "CC"], ["that", "DT"], ["means", "VBZ"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["single", "JJ"], ["three", "CD"], ["node", "NN"], [".", "."], ["Then", "RB"], ["there", "EX"], ["'s", "VBZ"], ["three", "CD"], ["cases", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["one", "CD"], ["is", "VBZ"], ["that", "IN"], ["the", "DT"], ["new", "JJ"], ["one", "CD"], ["is", "VBZ"], ["larger", "JJR"], ["than", "IN"], ["both", "DT"], ["of", "IN"], ["the", "DT"], ["keys", "NNS"], [".", "."], ["If", "IN"], ["that", "DT"], ["'s", "VBZ"], ["true", "JJ"], [",", ","], ["then", "RB"], ["we", "PRP"], ["attach", "VBP"], ["the", "DT"], ["new", "JJ"], ["node", "NN"], ["with", "IN"], ["the", "DT"], ["red", "JJ"], ["link", "NN"], ["as", "IN"], ["always", "RB"], [".", "."], ["And", "CC"], ["that", "DT"], ["gives", "VBZ"], ["us", "PRP"], ["a", "DT"], ["temporary", "JJ"], ["four", "CD"], ["node", "NN"], [".", "."], ["And", "CC"], ["what", "WP"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["split", "VB"], ["that", "IN"], ["four", "CD"], ["node", "NN"], ["and", "CC"], ["in", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["since", "IN"], ["we", "PRP"], ["are", "VBP"], ["at", "IN"], ["the", "DT"], ["root", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["all", "DT"], ["so", "RB"], ["that", "IN"], ["just", "RB"], ["flips", "VB"], ["the", "DT"], ["colors", "NNS"], [".", "."], ["Now", "RB"], [",", ","], ["the", "DT"], ["color", "NN"], ["of", "IN"], ["the", "DT"], ["root", "NN"], ["in", "IN"], ["our", "PRP$"], ["code", "NN"], ["will", "MD"], ["temporarily", "RB"], ["turn", "VB"], ["red", "JJ"], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["turn", "VBP"], ["it", "PRP"], ["black", "JJ"], ["again", "RB"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["inserting", "VBG"], ["into", "IN"], ["a", "DT"], ["tree", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["a", "DT"], ["single", "JJ"], ["three", "CD"], ["node", "IN"], ["a", "DT"], ["node", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["larger", "JJR"], ["than", "IN"], ["both", "DT"], ["of", "IN"], ["them", "PRP"], [",", ","], ["a", "DT"], ["key", "NN"], ["that", "WDT"], ["is", "VBZ"], ["larger", "JJR"], ["than", "IN"], ["both", "DT"], ["of", "IN"], ["them", "PRP"], ["and", "CC"], ["we", "PRP"], ["get", "VBP"], ["wind", "VB"], ["up", "RP"], ["with", "IN"], ["a", "DT"], ["four", "CD"], ["node", "NN"], [".", "."], ["Well", "UH"], [",", ","], ["let", "VB"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["the", "DT"], ["other", "JJ"], ["two", "CD"], ["cases", "NNS"], ["and", "CC"], ["these", "DT"], ["understanding", "JJ"], ["needs", "NNS"], ["is", "VBZ"], ["crucial", "JJ"], ["to", "TO"], ["understanding", "VBG"], ["the", "DT"], ["whole", "JJ"], ["algorithm", "NN"], [".", "."], ["Let", "VB"], ["'s", "POS"], ["say", "VB"], [",", ","], ["the", "DT"], ["new", "JJ"], ["key", "NN"], ["is", "VBZ"], ["smaller", "JJR"], ["than", "IN"], ["both", "DT"], ["of", "IN"], ["the", "DT"], ["keys", "NNS"], ["in", "IN"], ["our", "PRP$"], ["three", "CD"], ["node", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["we", "PRP"], ["attach", "VBP"], ["a", "DT"], ["new", "JJ"], ["link", "NN"], ["at", "IN"], ["the", "DT"], ["left", "NN"], ["of", "IN"], ["the", "DT"], ["smaller", "JJR"], ["node", "NN"], [".", "."], ["And", "CC"], ["now", "RB"], [",", ","], ["we", "PRP"], ["'ve", "VBP"], ["got", "VBN"], ["ta", "JJ"], ["find", "VBP"], ["BST", "NNP"], [".", "."], ["But", "CC"], ["it", "PRP"], ["has", "VBZ"], ["two", "CD"], ["red", "JJ"], ["links", "NNS"], ["in", "IN"], ["a", "DT"], ["row", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["something", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["not", "RB"], ["allowed", "VBN"], [".", "."], ["So", "RB"], [",", ","], ["what", "WP"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["rotate", "VB"], ["the", "DT"], ["top", "JJ"], ["link", "NN"], ["to", "TO"], ["the", "DT"], ["right", "NN"], [".", "."], ["So", "RB"], ["that", "IN"], ["puts", "VBZ"], ["B", "NNP"], ["at", "IN"], ["the", "DT"], ["root", "NN"], [".", "."], ["And", "CC"], ["now", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["got", "VBD"], ["two", "CD"], ["red", "JJ"], ["children", "NNS"], [".", "."], ["It", "PRP"], ["reduces", "VBZ"], ["to", "TO"], ["this", "DT"], ["case", "NN"], [".", "."], ["And", "CC"], ["we", "PRP"], ["flip", "VBP"], ["the", "DT"], ["colors", "NNS"], ["and", "CC"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["single", "JJ"], ["four", "CD"], ["node", "NN"], [".", "."], ["Sorry", "NNP"], ["a", "DT"], [",", ","], ["a", "DT"], ["red", "JJ"], ["black", "JJ"], [".", "."], ["A", "DT"], ["tree", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["got", "VBD"], ["three", "CD"], ["two-nodes", "NNS"], ["and", "CC"], ["no", "DT"], ["red", "JJ"], ["links", "NNS"], ["so", "RB"], ["same", "JJ"], ["situation", "NN"], ["as", "IN"], ["before", "RB"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["had", "VBD"], ["a", "DT"], ["single", "JJ"], ["temporary", "JJ"], ["four", "CD"], ["note", "NN"], ["and", "CC"], ["we", "PRP"], ["split", "VBD"], ["it", "PRP"], ["up", "RP"], ["into", "IN"], ["a", "DT"], ["two", "CD"], [",", ","], ["two", "CD"], ["note", "NN"], ["not", "RB"], ["connected", "VBN"], ["to", "TO"], ["a", "DT"], ["four", "CD"], ["note", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["so", "IN"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["case", "NN"], ["when", "WRB"], ["it", "PRP"], ["'s", "VBZ"], ["smaller", "JJR"], [".", "."], ["Now", "RB"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["the", "DT"], ["third", "JJ"], ["case", "NN"], [",", ","], ["which", "WDT"], ["is", "VBZ"], [",", ","], ["when", "WRB"], ["it", "PRP"], ["'s", "VBZ"], [",", ","], ["the", "DT"], ["new", "JJ"], ["node", "NN"], ["inserted", "VBN"], ["this", "DT"], ["in", "IN"], ["between", "IN"], ["and", "CC"], ["comes", "VBZ"], ["out", "RB"], ["of", "IN"], ["this", "DT"], ["link", "NN"], ["here", "RB"], [".", "."], ["Again", "NNP"], [",", ","], ["we", "PRP"], ["just", "RB"], ["had", "VBD"], ["a", "DT"], ["red", "JJ"], ["link", "NN"], ["and", "CC"], ["now", "RB"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["BST", "NNP"], ["with", "IN"], ["two", "CD"], ["red", "JJ"], ["links", "NNS"], ["along", "IN"], ["the", "DT"], ["path", "NN"], ["connected", "VBN"], ["to", "TO"], ["A", "DT"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["not", "RB"], ["allowed", "VBN"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["bit", "NN"], ["trickier", "JJR"], ["to", "TO"], ["affix", "VB"], ["the", "DT"], ["situation", "NN"], [",", ","], ["what", "WP"], ["we", "PRP"], ["do", "VBP"], ["is", "VBZ"], ["we", "PRP"], ["rotate", "VBP"], ["the", "DT"], ["bottom", "JJ"], ["link", "NN"], ["left", "VBD"], [".", "."], ["So", "NNP"], [",", ","], ["and", "CC"], ["that", "DT"], ["gives", "VBZ"], ["us", "PRP"], ["this", "DT"], ["and", "CC"], ["reduce", "VB"], ["it", "PRP"], ["to", "TO"], ["the", "DT"], ["other", "JJ"], ["situation", "NN"], ["that", "IN"], ["we", "PRP"], ["had", "VBD"], ["before", "IN"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["rotate", "VBP"], ["the", "DT"], ["top", "JJ"], ["link", "NN"], ["right", "NN"], ["and", "CC"], ["then", "RB"], [",", ","], ["we", "PRP"], ["flip", "VBP"], ["the", "DT"], ["colors", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["this", "DT"], ["one", "CD"], ["we", "PRP"], ["used", "VBD"], ["all", "DT"], ["three", "CD"], ["of", "IN"], ["our", "PRP$"], ["operations", "NNS"], [",", ","], ["rotate", "NN"], ["left", "VBD"], ["rotate", "JJ"], ["right", "NN"], ["and", "CC"], ["flip", "VB"], ["the", "DT"], ["colors", "NNS"], [".", "."], ["And", "CC"], ["that", "IN"], ["gets", "VBZ"], ["us", "PRP"], ["an", "DT"], ["insertion", "NN"], ["into", "IN"], ["a", "DT"], ["tree", "NN"], ["that", "WDT"], ["has", "VBZ"], ["from", "IN"], ["a", "DT"], ["tree", "NN"], ["that", "IN"], ["i", "VBZ"], ["s", "VBP"], ["a", "DT"], ["single", "JJ"], ["three", "CD"], ["node", "NN"], ["to", "TO"], ["a", "DT"], ["tree", "NN"], ["that", "WDT"], ["is", "VBZ"], ["three", "CD"], ["two", "CD"], ["nodes", "NNS"], ["that", "WDT"], ["is", "VBZ"], ["containing", "VBG"], ["three", "CD"], ["keys", "NNS"], [".", "."], ["So", "IN"], ["that", "DT"], ["sort", "NN"], ["of", "IN"], ["operation", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["work", "VB"], ["in", "IN"], ["a", "DT"], ["big", "JJ"], ["tree", "NN"], ["when", "WRB"], ["we", "PRP"], ["insert", "VBP"], ["into", "IN"], ["a", "DT"], ["new", "JJ"], ["three", "CD"], ["node", "NN"], ["at", "IN"], ["the", "DT"], ["bottom", "NN"], [".", "."], ["We", "PRP"], ["do", "VBP"], ["the", "DT"], ["standard", "NN"], ["BST", "NNP"], ["insert", "NN"], [",", ","], ["color", "NN"], ["the", "DT"], ["new", "JJ"], ["link", "NN"], ["red", "JJ"], [",", ","], ["and", "CC"], ["we", "PRP"], ["do", "VBP"], ["the", "DT"], ["rotations", "NNS"], ["that", "IN"], ["we", "PRP"], ["need", "VBP"], [",", ","], ["either", "DT"], ["one", "CD"], ["or", "CC"], ["two", "CD"], ["rotations", "NNS"], ["to", "TO"], ["balance", "VB"], ["the", "DT"], ["temporary", "JJ"], ["four", "CD"], ["node", "NN"], [",", ","], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["flip", "VBP"], ["colors", "NNS"], ["to", "TO"], ["pass", "VB"], ["the", "DT"], ["red", "JJ"], ["link", "NN"], ["up", "IN"], ["one", "CD"], ["level", "NN"], ["and", "CC"], ["then", "RB"], ["remind", "VB"], ["me", "PRP"], ["to", "TO"], ["rotate", "VB"], ["to", "TO"], ["that", "DT"], ["to", "TO"], ["make", "VB"], ["that", "DT"], ["one", "CD"], ["lean", "NN"], ["left", "VBD"], [".", "."], ["So", "NNP"], [",", ","], ["for", "IN"], ["example", "NN"], ["if", "IN"], ["we", "PRP"], ["insert", "VBP"], ["h", "RB"], ["in", "IN"], ["to", "TO"], ["this", "DT"], ["tree", "NN"], ["here", "RB"], [",", ","], ["it", "PRP"], ["comes", "VBZ"], ["off", "RB"], ["as", "IN"], ["the", "DT"], ["left", "JJ"], ["link", "NN"], ["of", "IN"], ["R", "NNP"], ["so", "IN"], ["that", "DT"], ["gives", "VBZ"], ["us", "PRP"], ["a", "DT"], ["temporary", "JJ"], ["four", "CD"], ["node", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["not", "RB"], ["balanced", "VBN"], ["so", "IN"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["rotate", "VB"], ["the", "DT"], ["link", "NN"], ["from", "IN"], ["S", "NNP"], ["to", "TO"], ["the", "DT"], ["right", "NN"], ["and", "CC"], ["that", "DT"], ["gives", "VBZ"], ["us", "PRP"], ["now", "RB"], ["temporary", "JJ"], ["four", "CD"], ["node", "NN"], ["that", "WDT"], ["is", "VBZ"], ["balanced", "VBN"], ["and", "CC"], ["again", "RB"], [",", ","], ["these", "DT"], ["are", "VBP"], ["all", "DT"], ["local", "JJ"], ["transformation", "NN"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["changing", "VBG"], ["the", "DT"], ["rest", "NN"], ["of", "IN"], ["the", "DT"], ["tree", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["we", "PRP"], ["flip", "VBP"], ["colors", "NNS"], ["and", "CC"], ["that", "DT"], ["gives", "VBZ"], ["us", "PRP"], ["a", "DT"], [",", ","], ["a", "DT"], ["good", "JJ"], ["red-black", "NN"], ["tree", "NN"], [",", ","], ["except", "IN"], ["that", "DT"], [",", ","], ["that", "IN"], ["one", "CD"], ["red", "JJ"], ["link", "NN"], ["that", "IN"], ["we", "PRP"], ["just", "RB"], ["is", "VBZ"], ["leaning", "VBG"], ["the", "DT"], ["wrong", "JJ"], ["way", "NN"], [".", "."], ["So", "RB"], [",", ","], ["now", "RB"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["rotate", "VB"], ["left", "NNS"], ["and", "CC"], ["then", "RB"], ["once", "RB"], ["we", "PRP"], ["'ve", "VBP"], ["done", "VBN"], ["that", "IN"], [",", ","], ["now", "RB"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["legal", "JJ"], ["left-leaning", "JJ"], ["red-black", "NN"], ["tree", "NN"], [".", "."], ["So", "RB"], ["[", "JJ"], ["cough", "NN"], ["]", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["a", "DT"], ["insertion", "NN"], ["into", "IN"], ["a", "DT"], ["three", "CD"], ["node", "NN"], ["at", "IN"], ["the", "DT"], ["bottom", "NN"], [".", "."], ["So", "RB"], [",", ","], ["here", "RB"], ["'s", "VBZ"], ["another", "DT"], ["one", "NN"], ["that", "WDT"], ["involves", "VBZ"], [",", ","], ["remember", "VB"], [",", ","], ["we", "PRP"], ["passed", "VBD"], ["that", "IN"], ["red", "JJ"], ["link", "NN"], ["up", "RB"], [".", "."], ["There", "EX"], ["might", "MD"], [",", ","], ["if", "IN"], ["that", "DT"], ["gets", "VBZ"], ["passed", "VBN"], ["up", "RP"], ["to", "TO"], ["a", "DT"], ["three", "CD"], ["node", "NN"], [",", ","], ["then", "RB"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["continue", "VB"], ["moving", "VBG"], ["up", "RP"], ["the", "DT"], ["tree", "NN"], ["and", "CC"], ["just", "RB"], ["treat", "VB"], ["it", "PRP"], ["in", "IN"], ["the", "DT"], ["same", "JJ"], ["way", "NN"], ["as", "IN"], ["we", "PRP"], ["just", "RB"], ["treated", "VBD"], ["inserting", "VBG"], ["at", "IN"], ["the", "DT"], ["bottom", "NN"], [".", "."], ["We", "PRP"], ["have", "VBP"], ["a", "DT"], ["new", "JJ"], ["red", "JJ"], ["link", "NN"], ["appearing", "VBG"], ["into", "IN"], ["some", "DT"], ["three", "CD"], ["node", "NN"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["the", "DT"], ["three", "CD"], ["cases", "NNS"], ["that", "WDT"], ["could", "MD"], ["happen", "VB"], ["and", "CC"], ["here", "RB"], ["'s", "VBZ"], ["an", "DT"], [",", ","], ["an", "DT"], ["a", "DT"], [",", ","], ["an", "DT"], ["example", "NN"], [".", "."], ["So", "RB"], [",", ","], ["say", "VBP"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["inserting", "VBG"], ["P", "NNP"], ["into", "IN"], ["this", "DT"], ["left-leaning", "JJ"], ["red", "JJ"], ["black", "JJ"], ["tree", "NN"], ["it", "PRP"], ["goes", "VBZ"], ["to", "TO"], ["the", "DT"], ["right", "JJ"], ["event", "NN"], ["so", "IN"], ["we", "PRP"], ["get", "VBP"], ["a", "DT"], ["temporary", "JJ"], ["four", "CD"], ["node", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["got", "VBD"], ["two", "CD"], ["red", "JJ"], ["links", "NNS"], ["both", "DT"], ["children", "NNS"], ["are", "VBP"], ["red", "VBN"], ["in", "IN"], ["that", "DT"], ["thing", "NN"], ["so", "IN"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["flip", "VB"], ["the", "DT"], ["colors", "NNS"], [".", "."], ["We", "PRP"], ["flipped", "VBD"], ["the", "DT"], ["colors", "NNS"], ["and", "CC"], ["now", "RB"], ["our", "PRP$"], ["temporary", "JJ"], ["4-node", "NN"], ["is", "VBZ"], ["up", "RP"], ["higher", "RBR"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], ["but", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["balanced", "VBN"], ["so", "IN"], ["we", "PRP"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["to", "TO"], ["do", "VB"], ["two", "CD"], ["rotations", "NNS"], ["to", "TO"], ["make", "VB"], ["that", "DT"], ["balanced", "VBD"], [".", "."], ["First", "NNP"], ["one", "CD"], ["is", "VBZ"], ["to", "TO"], ["make", "VB"], ["the", "DT"], ["bottom", "JJ"], ["link", "NN"], ["left-leaning", "NN"], ["and", "CC"], ["then", "RB"], ["the", "DT"], ["second", "JJ"], ["one", "NN"], ["is", "VBZ"], ["to", "TO"], ["make", "VB"], ["the", "DT"], ["top", "JJ"], ["link", "NN"], ["right-leaning", "NN"], ["so", "IN"], ["that", "IN"], ["we", "PRP"], ["can", "MD"], ["have", "VB"], ["the", "DT"], ["temporary", "JJ"], ["four", "CD"], ["node", "NN"], ["balance", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["the", "DT"], ["last", "JJ"], ["thing", "NN"], ["we", "PRP"], ["do", "VBP"], ["is", "VBZ"], ["flip", "VB"], ["the", "DT"], ["colors", "NNS"], ["and", "CC"], ["now", "RB"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["result", "NN"], ["of", "IN"], ["that", "DT"], ["insertion", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["bunch", "NN"], ["of", "IN"], ["transformations", "NNS"], ["but", "CC"], ["they", "PRP"], ["'re", "VBP"], ["all", "DT"], ["simple", "JJ"], ["using", "VBG"], ["our", "PRP$"], ["flip", "NN"], ["colors", "NNS"], ["or", "CC"], ["left", "VBD"], ["or", "CC"], ["right", "JJ"], ["rotation", "NN"], [".", "."], ["And", "CC"], ["[", "JJ"], ["cough", "NN"], ["]", "NN"], ["that", "WDT"], ["one", "CD"], ["happened", "VBD"], ["to", "TO"], ["be", "VB"], ["at", "IN"], ["the", "DT"], ["root", "NN"], [".", "."], ["If", "IN"], ["that", "DT"], ["red", "JJ"], ["link", "NN"], ["were", "VBD"], [",", ","], ["were", "VBD"], ["way", "NN"], ["down", "RB"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], ["and", "CC"], ["there", "EX"], ["were", "VBD"], ["another", "DT"], ["three", "CD"], ["node", "NN"], ["about", "IN"], ["it", "PRP"], [",", ","], ["we", "PRP"], ["might", "MD"], ["have", "VB"], ["to", "TO"], ["do", "VB"], ["it", "PRP"], ["again", "RB"], [".", "."], ["Again", "NNP"], [",", ","], ["exactly", "RB"], ["as", "IN"], ["what", "WP"], ["would", "MD"], ["happen", "VB"], ["in", "IN"], ["a", "DT"], ["2-3", "JJ"], ["tree", "NN"], [".", "."], ["So", "RB"], [",", ","], ["let", "VB"], ["'s", "POS"], ["do", "VB"], ["a", "DT"], ["demo", "NN"], ["of", "IN"], ["constructing", "VBG"], ["the", "DT"], ["red-black", "JJ"], ["BST", "NNP"], ["from", "IN"], ["our", "PRP$"], ["standard", "JJ"], ["set", "NN"], ["of", "IN"], ["keys", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["start", "VBP"], ["with", "IN"], ["a", "DT"], ["single", "JJ"], ["key", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["if", "IN"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["insert", "VB"], ["E", "NNP"], [",", ","], ["if", "IN"], ["it", "PRP"], ["goes", "VBZ"], ["to", "TO"], ["the", "DT"], ["left", "NN"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["fine", "JJ"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["a", "DT"], ["legal", "JJ"], ["left-leaning", "JJ"], ["red-black", "NN"], ["tree", "NN"], [".", "."], ["A", "DT"], ["would", "MD"], ["go", "VB"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["of", "IN"], ["E", "NNP"], ["two", "CD"], ["lefts", "NNS"], ["in", "IN"], ["a", "DT"], ["row", "NN"], ["so", "IN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["rotate", "VB"], ["that", "DT"], ["to", "TO"], ["right", "VB"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["flip", "VB"], ["the", "DT"], ["colors", "NNS"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["legal", "JJ"], ["red-black", "NN"], ["BST", "NNP"], [".", "."], ["So", "RB"], ["now", "RB"], [",", ","], ["if", "IN"], ["we", "PRP"], ["insert", "VBP"], ["R", "NNP"], ["into", "IN"], ["this", "DT"], ["one", "CD"], ["then", "RB"], ["it", "PRP"], ["goes", "VBZ"], ["on", "IN"], ["a", "DT"], ["red", "JJ"], ["link", "NN"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["of", "IN"], ["X", "NNP"], [",", ","], ["S", "NNP"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["fine", "JJ"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["red-black", "JJ"], ["BST", "NNP"], [".", "."], ["And", "CC"], ["now", "RB"], [",", ","], ["if", "IN"], ["we", "PRP"], ["insert", "VBP"], ["C", "NNP"], ["into", "IN"], ["this", "DT"], ["one", "CD"], [",", ","], ["it", "PRP"], ["goes", "VBZ"], ["less", "JJR"], ["than", "IN"], ["E", "NN"], [",", ","], ["greater", "JJR"], ["than", "IN"], ["A", "VBP"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["red", "JJ"], ["link", "NN"], ["connecting", "VBG"], ["A", "NNP"], ["and", "CC"], ["C", "NNP"], ["but", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["leaning", "VBG"], ["the", "DT"], ["wrong", "JJ"], ["way", "NN"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["do", "VB"], ["a", "DT"], ["left", "NN"], ["rotation", "NN"], [",", ","], ["legal-red", "JJ"], ["black", "JJ"], ["BST", "NNP"], [".", "."], ["And", "CC"], ["you", "PRP"], ["want", "VBP"], ["to", "TO"], ["insert", "VB"], ["h", "NN"], ["that", "WDT"], ["goes", "VBZ"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["of", "IN"], ["R", "NNP"], [",", ","], ["two", "CD"], ["reds", "NNS"], ["in", "IN"], ["a", "DT"], ["row", "NN"], [",", ","], ["rotate", "VB"], ["the", "DT"], ["top", "NN"], [".", "."], ["Rotate", "VB"], ["the", "DT"], ["top", "NN"], [",", ","], ["our", "PRP$"], ["temporary", "JJ"], ["four", "CD"], ["node", "NN"], ["is", "VBZ"], ["balanced", "VBN"], [",", ","], ["flip", "JJ"], ["colors", "NNS"], [".", "."], ["Now", "RB"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["three", "CD"], ["node", "NN"], [",", ","], ["but", "CC"], ["the", "DT"], ["red", "JJ"], ["link", "NN"], ["is", "VBZ"], ["leaning", "VBG"], ["right", "RB"], ["so", "RB"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["rotate", "VB"], [".", "."], ["And", "CC"], ["now", "RB"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["legal", "JJ"], ["red-block", "NN"], ["BST", "NNP"], [".", "."], ["Insert", "NNP"], ["x", "NNP"], ["into", "IN"], ["that", "DT"], ["one", "CD"], ["that", "WDT"], ["goes", "VBZ"], ["to", "TO"], ["the", "DT"], ["right", "NN"], ["of", "IN"], ["S", "NNP"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["leaning", "VBG"], ["the", "DT"], ["wrong", "JJ"], ["way", "NN"], [",", ","], ["rotate", "NN"], ["left", "VBD"], [".", "."], ["Insert", "NNP"], ["M", "NNP"], ["into", "IN"], ["this", "DT"], ["one", "CD"], [",", ","], ["goes", "VBZ"], ["to", "TO"], ["the", "DT"], ["right", "NN"], ["of", "IN"], ["h", "NN"], [",", ","], ["leaning", "VBG"], ["the", "DT"], ["wrong", "JJ"], ["way", "NN"], [",", ","], ["rotate", "NN"], ["left", "VBD"], [".", "."], ["Most", "JJS"], ["of", "IN"], ["the", "DT"], ["operations", "NNS"], ["are", "VBP"], ["simple", "JJ"], ["ones", "NNS"], ["like", "IN"], ["this", "DT"], ["happening", "VBG"], ["at", "IN"], ["the", "DT"], ["bottom", "NN"], [".", "."], ["Insert", "NNP"], ["P", "NNP"], [",", ","], ["that", "WDT"], ["goes", "VBZ"], ["to", "TO"], ["the", "DT"], ["right", "NN"], ["of", "IN"], ["M", "NNP"], ["that", "WDT"], ["makes", "VBZ"], ["M", "NNP"], ["a", "DT"], ["temporary", "JJ"], ["four", "CD"], ["node", "NN"], ["that", "WDT"], ["happens", "VBZ"], ["to", "TO"], ["be", "VB"], ["balanced", "VBN"], [",", ","], ["so", "RB"], ["flip", "VBZ"], ["the", "DT"], ["colors", "NNS"], [".", "."], ["Flip", "NNP"], ["the", "DT"], ["colors", "NNS"], [",", ","], ["now", "RB"], ["we", "PRP"], ["h", "VBP"], ["ave", "VB"], ["a", "DT"], ["temporary", "JJ"], ["four", "CD"], ["node", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["out", "IN"], ["of", "IN"], ["balance", "NN"], ["so", "IN"], ["we", "PRP"], ["need", "VBP"], ["a", "DT"], ["double", "JJ"], ["rotation", "NN"], [".", "."], ["First", "NNP"], ["rotate", "NN"], ["E", "NN"], ["to", "TO"], ["make", "VB"], ["that", "DT"], ["link", "NN"], ["point", "NN"], ["lean", "NN"], ["to", "TO"], ["the", "DT"], ["left", "NN"], [",", ","], ["then", "RB"], ["rotate", "VB"], ["R", "NNP"], ["to", "TO"], ["make", "VB"], ["the", "DT"], [",", ","], ["bring", "VB"], ["the", "DT"], ["temporary", "JJ"], ["four", "CD"], ["node", "NN"], ["into", "IN"], ["balance", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["flip", "VBD"], ["the", "DT"], ["colors", "NNS"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["legal", "JJ"], ["red-black", "NN"], ["BST", "NNP"], [".", "."], ["Insert", "NNP"], ["L", "NNP"], ["into", "IN"], ["that", "DT"], ["one", "CD"], [".", "."], ["It", "PRP"], ["goes", "VBZ"], ["to", "TO"], ["the", "DT"], ["right", "NN"], ["of", "IN"], ["H", "NNP"], [",", ","], ["leading", "VBG"], ["the", "DT"], ["wrong", "JJ"], ["way", "NN"], ["rotate", "NN"], ["left", "VBD"], [".", "."], ["[", "JJ"], ["cough", "NN"], ["]", "NN"], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["an", "DT"], ["example", "NN"], ["of", "IN"], ["building", "VBG"], ["a", "DT"], ["red-black", "JJ"], ["BST", "NN"], ["from", "IN"], ["our", "PRP$"], ["standard", "JJ"], ["set", "NN"], ["of", "IN"], ["keys", "NNS"], [".", "."], ["Now", "RB"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["ready", "JJ"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["the", "DT"], ["implementation", "NN"], ["for", "IN"], [",", ","], ["of", "IN"], ["the", "DT"], ["code", "NN"], ["for", "IN"], ["inserting", "VBG"], ["into", "IN"], ["a", "DT"], ["left-leaning", "JJ"], ["red-black", "NN"], ["tree", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["key", "NN"], ["to", "TO"], ["understanding", "VBG"], ["this", "DT"], ["code", "NN"], ["is", "VBZ"], ["to", "TO"], ["realize", "VB"], ["that", "IN"], ["the", "DT"], ["same", "JJ"], ["code", "NN"], [",", ","], ["code", "NN"], ["handles", "NNS"], ["all", "DT"], ["of", "IN"], ["the", "DT"], ["cases", "NNS"], [".", "."], ["And", "CC"], ["the", "DT"], ["way", "NN"], ["that", "IN"], ["it", "PRP"], ["works", "VBZ"], ["is", "VBZ"], ["we", "PRP"], ["are", "VBP"], ["always", "RB"], ["reducing", "VBG"], ["one", "CD"], ["case", "NN"], ["to", "TO"], ["another", "DT"], [".", "."], ["We", "PRP"], ["get", "VBP"], ["this", "DT"], ["most", "RBS"], ["complicated", "JJ"], ["case", "NN"], ["we", "PRP"], ["did", "VBD"], ["a", "DT"], ["left", "NN"], ["rotate", "NN"], ["on", "IN"], ["the", "DT"], ["bottom", "JJ"], ["node", "NN"], ["and", "CC"], ["that", "IN"], [",", ","], ["that", "WDT"], ["transformed", "VBD"], ["it", "PRP"], ["to", "TO"], ["this", "DT"], ["case", "NN"], ["where", "WRB"], ["they", "PRP"], ["'re", "VBP"], ["both", "DT"], ["leaning", "JJ"], ["left", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["did", "VBD"], ["a", "DT"], ["right", "NN"], ["rotate", "NN"], ["on", "IN"], ["the", "DT"], ["top", "JJ"], ["node", "NN"], [",", ","], ["and", "CC"], ["that", "IN"], ["transformed", "VBD"], ["to", "TO"], ["the", "DT"], ["case", "NN"], ["where", "WRB"], ["our", "PRP$"], ["temporary", "JJ"], ["four", "CD"], ["node", "NN"], ["is", "VBZ"], ["balanced", "VBN"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["flipped", "VBD"], ["colors", "NNS"], ["on", "IN"], ["that", "DT"], [".", "."], ["So", "RB"], [",", ","], ["for", "IN"], ["a", "DT"], ["particular", "JJ"], ["insertion", "NN"], [",", ","], ["we", "PRP"], ["can", "MD"], ["take", "VB"], ["advantage", "NN"], ["of", "IN"], ["this", "DT"], ["reduce", "VB"], ["one", "CD"], ["case", "NN"], ["to", "TO"], ["another", "DT"], ["by", "IN"], [",", ","], ["in", "IN"], [",", ","], ["in", "IN"], ["the", "DT"], ["way", "NN"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["moving", "VBG"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], [",", ","], ["not", "RB"], ["to", "TO"], ["get", "VB"], ["everything", "NN"], ["happen", "VB"], ["with", "IN"], ["just", "RB"], ["a", "DT"], [",", ","], ["a", "DT"], ["few", "JJ"], ["extra", "JJ"], ["lines", "NNS"], ["of", "IN"], ["code", "NN"], ["in", "IN"], ["our", "PRP$"], ["standard", "JJ"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], [".", "."], ["So", "RB"], [",", ","], ["in", "IN"], ["gray", "NN"], ["is", "VBZ"], ["our", "PRP$"], [",", ","], ["standard", "JJ"], ["insertion", "NN"], ["code", "NN"], ["for", "IN"], ["binary", "JJ"], ["search", "NN"], ["trees", "NNS"], [".", "."], ["And", "CC"], ["remember", "VB"], ["we", "PRP"], ["took", "VBD"], ["some", "DT"], ["pains", "NNS"], ["to", "TO"], ["think", "VB"], ["about", "IN"], ["the", "DT"], ["recursive", "JJ"], ["implementation", "NN"], ["where", "WRB"], ["when", "WRB"], ["we", "PRP"], ["go", "VBP"], ["down", "RP"], ["a", "DT"], ["link", "NN"], ["we", "PRP"], ["replace", "VB"], ["that", "IN"], ["link", "NN"], ["by", "IN"], ["whatever", "WP"], ["the", "DT"], ["recursive", "JJ"], ["routine", "NN"], ["gives", "VBZ"], ["us", "PRP"], ["back", "RB"], ["and", "CC"], ["that", "DT"], ["strategy", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["pay", "VB"], ["off", "RP"], ["in", "IN"], ["giving", "VBG"], ["us", "PRP"], ["a", "DT"], ["really", "RB"], ["simple", "JJ"], ["code", "NN"], [".", "."], ["[", "CC"], ["cough", "JJ"], ["]", "NN"], ["and", "CC"], ["because", "RB"], ["in", "IN"], ["this", "DT"], ["implementation", "NN"], ["for", "IN"], ["left-leaning", "JJ"], ["red-black", "JJ"], ["trees", "NNS"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["return", "VB"], ["the", "DT"], ["link", "NN"], ["whenever", "WRB"], ["we", "PRP"], ["'re", "VBP"], ["done", "VBN"], [",", ","], ["and", "CC"], ["then", "RB"], ["that", "WDT"], ["will", "MD"], ["get", "VB"], ["that", "IN"], ["link", "NN"], ["installed", "VBD"], ["up", "RP"], ["in", "IN"], ["the", "DT"], ["node", "NN"], ["above", "IN"], ["whether", "IN"], ["it", "PRP"], ["be", "VB"], ["left", "VBN"], ["or", "CC"], ["right", "JJ"], [".", "."], ["Typical", "JJ"], ["implementations", "NNS"], ["of", "IN"], ["red-black", "NN"], ["trees", "NNS"], ["that", "WDT"], ["do", "VBP"], ["not", "RB"], ["use", "VB"], ["this", "DT"], ["recursive", "JJ"], ["strategy", "NN"], ["wind", "NN"], ["u", "JJ"], ["p", "NN"], ["having", "VBG"], ["lots", "NNS"], ["of", "IN"], ["cases", "NNS"], ["depending", "VBG"], ["on", "IN"], ["whether", "IN"], ["left", "NN"], ["or", "CC"], ["right", "NN"], ["or", "CC"], ["double", "JJ"], ["rotate", "NN"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["or", "CC"], ["double", "JJ"], ["rotate", "NN"], ["to", "TO"], ["the", "DT"], ["right", "NN"], ["can", "MD"], ["be", "VB"], ["critical", "JJ"], ["of", "IN"], ["this", "DT"], ["code", "NN"], ["because", "IN"], ["my", "PRP$"], ["own", "JJ"], ["was", "VBD"], ["this", "DT"], ["way", "NN"], ["for", "IN"], ["the", "DT"], ["first", "JJ"], ["three", "CD"], ["editions", "NNS"], ["of", "IN"], ["the", "DT"], ["book", "NN"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["only", "RB"], ["in", "IN"], ["this", "DT"], ["edition", "NN"], ["that", "IN"], ["we", "PRP"], ["figured", "VBD"], ["out", "RP"], ["how", "WRB"], ["to", "TO"], ["make", "VB"], ["the", "DT"], ["code", "NN"], ["this", "DT"], ["simple", "NN"], [".", "."], ["Okay", "NNP"], [".", "."], ["So", "IN"], ["what", "WP"], ["are", "VBP"], ["the", "DT"], ["things", "NNS"], ["left", "VBD"], ["to", "TO"], ["be", "VB"], ["done", "VBN"], ["?", "."], ["Let", "NNP"], ["'s", "POS"], ["just", "RB"], ["check", "NN"], [".", "."], ["When", "WRB"], ["we", "PRP"], ["insert", "VBP"], ["a", "DT"], ["new", "JJ"], ["node", "NN"], ["all", "DT"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["create", "VB"], ["a", "DT"], ["new", "JJ"], ["node", "NN"], ["with", "IN"], ["the", "DT"], [",", ","], ["I", "PRP"], ["'ve", "VBP"], ["given", "VBN"], [",", ","], ["associating", "VBG"], ["the", "DT"], ["given", "VBN"], ["value", "NN"], ["with", "IN"], ["a", "DT"], ["given", "VBN"], ["key", "NN"], [",", ","], ["as", "IN"], ["before", "IN"], ["but", "CC"], ["now", "RB"], ["we", "PRP"], ["just", "RB"], ["make", "VBP"], ["that", "DT"], ["node", "NN"], ["red", "VBD"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["adding", "VBG"], ["a", "DT"], ["new", "JJ"], ["node", "NN"], ["with", "IN"], ["a", "DT"], ["red", "JJ"], ["link", "NN"], ["at", "IN"], ["the", "DT"], ["bottom", "JJ"], ["inserting", "NN"], ["that", "WDT"], ["into", "IN"], ["whatever", "WDT"], ["the", "DT"], ["two", "CD"], ["or", "CC"], ["three", "CD"], ["node", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["attached", "VBN"], ["to", "TO"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["do", "VBP"], ["the", "DT"], ["comparisons", "NNS"], ["as", "RB"], [",", ","], ["as", "IN"], ["before", "RB"], ["and", "CC"], ["that", "IN"], [",", ","], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["all", "DT"], ["fine", "JJ"], [".", "."], ["Now", "RB"], [",", ","], ["when", "WRB"], ["it", "PRP"], ["'s", "VBZ"], ["returned", "VBN"], ["then", "RB"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["point", "NN"], ["at", "IN"], ["which", "WDT"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["check", "VB"], ["whether", "IN"], ["the", "DT"], ["left", "NN"], [",", ","], ["the", "DT"], ["links", "NNS"], ["are", "VBP"], ["leaning", "VBG"], ["to", "TO"], ["the", "DT"], ["left", "VBN"], ["as", "IN"], ["they", "PRP"], ["are", "VBP"], ["suppose", "JJ"], ["to", "TO"], ["and", "CC"], ["whether", "IN"], ["or", "CC"], ["not", "RB"], ["there", "EX"], ["are", "VBP"], ["any", "DT"], ["double", "JJ"], ["links", "NNS"], ["or", "CC"], ["not", "RB"], [".", "."], ["So", "IN"], ["the", "DT"], ["first", "JJ"], ["thing", "NN"], ["is", "VBZ"], ["if", "IN"], [",", ","], ["if", "IN"], ["is", "VBZ"], ["red", "JJ"], ["h.right", "NN"], ["and", "CC"], ["not", "RB"], ["is", "VBZ"], ["red", "JJ"], ["h.left", "NN"], ["?", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["means", "VBZ"], ["H", "NNP"], ["is", "VBZ"], ["h.right", "VBN"], ["is", "VBZ"], ["red", "VBN"], ["so", "RB"], ["that", "IN"], ["means", "VBZ"], ["the", "DT"], ["right", "JJ"], ["link", "NN"], ["of", "IN"], ["H", "NNP"], ["is", "VBZ"], ["leaning", "VBG"], ["the", "DT"], ["wrong", "JJ"], ["way", "NN"], [".", "."], ["So", "RB"], [",", ","], ["H", "NNP"], ["is", "VBZ"], ["a", "DT"], ["three", "CD"], ["node", "NN"], ["leaning", "VBG"], ["the", "DT"], ["wrong", "JJ"], ["way", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["just", "RB"], ["rotate", "VB"], ["left", "VBD"], ["H.", "NNP"], ["So", "NNP"], [",", ","], ["whenever", "WRB"], ["we", "PRP"], ["find", "VBP"], ["a", "DT"], ["right", "JJ"], ["link", "NN"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["sitting", "VBG"], ["on", "IN"], ["a", "DT"], ["right", "JJ"], ["red", "JJ"], ["link", "NN"], ["we", "PRP"], ["just", "RB"], ["rotate", "VB"], ["it", "PRP"], ["left", "VBD"], ["and", "CC"], ["return", "VB"], ["that", "DT"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["would", "MD"], ["be", "VB"], ["in", "IN"], ["this", "DT"], ["case", "NN"], ["here", "RB"], [",", ","], ["we", "PRP"], ["'d", "MD"], ["rotate", "VB"], ["it", "PRP"], ["left", "VBD"], ["and", "CC"], ["reduce", "VB"], ["it", "PRP"], ["to", "TO"], ["that", "DT"], ["one", "CD"], [".", "."], ["[", "CC"], ["cough", "JJ"], ["]", "NN"], ["or", "CC"], ["in", "IN"], [",", ","], ["in", "IN"], ["you", "PRP"], ["know", "VBP"], [",", ","], ["in", "IN"], ["the", "DT"], ["case", "NN"], ["when", "WRB"], ["we", "PRP"], ["'re", "VBP"], ["just", "RB"], ["inserting", "VBG"], ["a", "DT"], ["new", "JJ"], ["node", "NN"], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["turns", "VBZ"], ["out", "RP"], ["to", "TO"], ["be", "VB"], ["the", "DT"], ["right", "JJ"], ["red", "JJ"], ["link", "NN"], ["attached", "VBN"], ["to", "TO"], ["a", "DT"], ["black", "JJ"], ["one", "CD"], [",", ","], ["if", "IN"], ["that", "DT"], ["handles", "VBZ"], ["that", "DT"], ["case", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["if", "IN"], ["h.left", "VBN"], ["is", "VBZ"], ["red", "JJ"], ["and", "CC"], ["h.left", "NN"], ["is", "VBZ"], ["also", "RB"], ["red", "JJ"], ["that", "IN"], ["'s", "VBZ"], ["this", "DT"], ["case", "NN"], ["here", "RB"], ["where", "WRB"], ["we", "PRP"], ["have", "VBP"], ["two", "CD"], ["left-leaning", "JJ"], ["red", "JJ"], ["links", "NNS"], [".", "."], ["And", "CC"], ["then", "RB"], ["in", "IN"], ["that", "DT"], ["case", "NN"], [",", ","], ["we", "PRP"], ["just", "RB"], ["rotate", "VB"], ["the", "DT"], ["top", "JJ"], ["one", "NN"], ["right", "NN"], ["and", "CC"], ["that", "IN"], ["brings", "VBZ"], ["us", "PRP"], ["to", "TO"], ["this", "DT"], ["one", "NN"], [".", "."], ["So", "RB"], [",", ","], ["notice", "NN"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["in", "IN"], ["this", "DT"], ["case", "NN"], ["we", "PRP"], ["do", "VBP"], ["this", "DT"], ["rotation", "NN"], ["first", "RB"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["on", "IN"], ["this", "DT"], ["node", "NN"], ["and", "CC"], ["then", "RB"], [",", ","], ["that", "IN"], ["returns", "NNS"], ["and", "CC"], ["we", "PRP"], ["come", "VBP"], ["up", "RB"], ["to", "TO"], ["deal", "VB"], ["with", "IN"], ["the", "DT"], ["situation", "NN"], ["on", "IN"], ["this", "DT"], ["node", "NN"], ["after", "IN"], ["the", "DT"], ["return", "NN"], [",", ","], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["do", "VBP"], ["that", "DT"], ["rotation", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["after", "IN"], ["that", "DT"], ["rotation", "NN"], [",", ","], ["or", "CC"], ["if", "IN"], ["there", "EX"], ["were", "VBD"], ["no", "DT"], ["rotations", "NNS"], ["at", "IN"], ["all", "DT"], [",", ","], ["if", "IN"], ["the", "DT"], ["insertion", "NN"], ["happened", "VBD"], ["over", "IN"], ["here", "RB"], ["then", "RB"], ["we", "PRP"], ["'d", "MD"], ["test", "VB"], ["and", "CC"], ["flip", "VB"], ["the", "DT"], ["colors", "NNS"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["little", "JJ"], ["mind", "NN"], ["bending", "NN"], ["at", "IN"], ["first", "JJ"], ["because", "IN"], ["of", "IN"], ["the", "DT"], ["recursive", "JJ"], ["structure", "NN"], ["but", "CC"], ["it", "PRP"], ["wo", "MD"], ["n't", "RB"], ["take", "VB"], ["you", "PRP"], ["long", "RB"], ["to", "TO"], ["convince", "VB"], ["yourself", "PRP"], ["that", "IN"], ["this", "DT"], ["little", "JJ"], ["bit", "NN"], ["of", "IN"], ["extra", "JJ"], ["code", "NN"], ["completes", "VBZ"], ["the", "DT"], ["implementation", "NN"], ["of", "IN"], ["left-leaning", "JJ"], ["red-black", "NN"], ["trees", "NNS"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["quite", "RB"], ["remarkable", "JJ"], [",", ","], ["actually", "RB"], [".", "."], ["So", "RB"], [",", ","], ["let", "VB"], ["'s", "POS"], ["look", "VB"], ["at", "IN"], ["a", "DT"], ["visualization", "NN"], [".", "."], ["Watching", "VBG"], ["the", "DT"], ["[", "NNP"], ["unknown", "JJ"], ["]", "NN"], [",", ","], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], ["balanced", "JJ"], ["tree", "NN"], ["getting", "VBG"], ["constructed", "VBN"], ["in", "IN"], ["the", "DT"], ["worst", "JJS"], ["case", "NN"], ["where", "WRB"], ["everything", "NN"], ["that", "WDT"], ["comes", "VBZ"], ["in", "IN"], ["is", "VBZ"], ["in", "IN"], ["ascending", "VBG"], ["order", "NN"], [".", "."], ["A", "DT"], ["regular", "JJ"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], ["will", "MD"], ["just", "RB"], ["be", "VB"], ["all", "DT"], ["strung", "NN"], ["out", "RP"], ["in", "IN"], ["a", "DT"], ["single", "JJ"], ["line", "NN"], ["and", "CC"], ["would", "MD"], ["n't", "RB"], ["have", "VB"], ["quadratic", "JJ"], ["time", "NN"], ["for", "IN"], ["this", "DT"], ["input", "NN"], ["but", "CC"], ["a", "DT"], ["left-leaning", "JJ"], ["red-black", "NN"], ["tree", "NN"], ["actually", "RB"], ["when", "WRB"], [",", ","], ["whenever", "WRB"], ["it", "PRP"], ["becomes", "VBZ"], ["a", "DT"], ["power", "NN"], ["of", "IN"], ["two", "CD"], ["is", "VBZ"], ["completely", "RB"], ["balanced", "VBN"], ["as", "IN"], ["you", "PRP"], ["can", "MD"], ["see", "VB"], ["from", "IN"], ["this", "DT"], ["example", "NN"], [".", "."], ["Even", "RB"], ["though", "IN"], ["they", "PRP"], ["came", "VBD"], ["in", "IN"], [",", ","], ["in", "IN"], ["ascending", "VBG"], ["order", "NN"], [",", ","], ["the", "DT"], ["tree", "NN"], ["winds", "VBZ"], ["up", "RP"], ["being", "VBG"], ["perfectly", "RB"], ["balanced", "VBN"], [".", "."], ["And", "CC"], ["what", "WP"], ["about", "IN"], ["descending", "VBG"], ["order", "NN"], [".", "."], ["Well", "UH"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["left", "VBN"], ["leaning", "NN"], ["and", "CC"], ["the", "DT"], ["process", "NN"], ["is", "VBZ"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["different", "JJ"], ["and", "CC"], ["sometimes", "VBZ"], ["the", "DT"], ["left", "JJ"], ["path", "NN"], ["can", "MD"], ["get", "VB"], ["long", "RB"], ["but", "CC"], ["not", "RB"], ["that", "IN"], ["long", "RB"], [".", "."], ["The", "DT"], ["worse", "JJR"], ["that", "WDT"], ["can", "MD"], ["happen", "VB"], ["is", "VBZ"], ["that", "IN"], ["it", "PRP"], ["alternates", "VBZ"], ["red", "JJ"], ["and", "CC"], ["black", "JJ"], [".", "."], ["And", "CC"], ["then", "RB"], ["after", "IN"], ["it", "PRP"], ["gets", "VBZ"], ["to", "TO"], ["that", "DT"], ["worse", "JJR"], ["case", "NN"], ["it", "PRP"], ["also", "RB"], ["winds", "VBZ"], ["up", "RP"], ["being", "VBG"], ["completely", "RB"], ["balanced", "VBN"], ["when", "WRB"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["power", "NN"], ["of", "IN"], ["two", "CD"], [".", "."], ["Interesting", "VBG"], ["to", "TO"], ["think", "VB"], ["just", "RB"], [",", ","], ["just", "RB"], ["about", "IN"], ["this", "DT"], ["case", "NN"], ["and", "CC"], ["to", "TO"], ["prove", "VB"], ["to", "TO"], ["yourself", "PRP"], ["that", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["always", "RB"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["perfectly", "RB"], ["balanced", "VBN"], ["when", "WRB"], ["it", "PRP"], ["'s", "VBZ"], ["descending", "VBG"], [".", "."], ["And", "CC"], ["this", "DT"], ["is", "VBZ"], ["just", "RB"], ["for", "IN"], ["random", "JJ"], ["insertions", "NNS"], [".", "."], ["The", "DT"], ["tree", "JJ"], ["stays", "NNS"], ["very", "RB"], ["balanced", "RB"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["guaranteed", "VBN"], ["that", "IN"], ["the", "DT"], ["longest", "JJS"], ["path", "NN"], ["which", "WDT"], ["is", "VBZ"], ["alternating", "VBG"], ["red", "JJ"], ["and", "CC"], ["black", "JJ"], ["can", "MD"], ["be", "VB"], ["no", "RB"], ["more", "JJR"], ["than", "IN"], ["twice", "RB"], ["as", "RB"], ["long", "RB"], ["as", "IN"], ["the", "DT"], ["shortest", "JJS"], ["path", "NN"], ["which", "WDT"], ["is", "VBZ"], ["all", "DT"], ["blacks", "NNS"], [".", "."], ["And", "CC"], ["so", "RB"], ["in", "IN"], ["this", "DT"], ["case", "NN"], ["the", "DT"], ["longest", "JJS"], ["path", "NN"], ["is", "VBZ"], ["ten", "VBN"], ["and", "CC"], ["the", "DT"], ["average", "JJ"], ["path", "NN"], ["is", "VBZ"], ["seven", "CD"], ["for", "IN"], ["255", "CD"], [".", "."], ["Very", "RB"], ["close", "RB"], ["to", "TO"], ["log", "VB"], ["based", "VBN"], ["two", "CD"], ["of", "IN"], ["N.", "NNP"], ["So", "NNP"], ["easy", "JJ"], ["to", "TO"], ["prove", "VB"], ["by", "IN"], ["correspondence", "NN"], ["with", "IN"], ["2-3", "JJ"], ["trees", "NNS"], ["that", "IN"], ["t", "NN"], ["he", "PRP"], ["height", "VBD"], ["is", "VBZ"], ["guaranteed", "VBN"], ["to", "TO"], ["be", "VB"], ["less", "JJR"], ["than", "IN"], ["two", "CD"], ["log", "JJ"], ["base", "NN"], ["two", "CD"], ["N.", "NNP"], ["Every", "NNP"], ["search", "NN"], ["in", "IN"], ["left-leaning", "JJ"], ["red", "JJ"], ["black", "JJ"], ["three", "CD"], ["is", "VBZ"], ["guaranteed", "VBN"], ["to", "TO"], ["take", "VB"], ["less", "JJR"], ["than", "IN"], ["two", "CD"], ["log", "JJ"], ["base", "NN"], ["two", "CD"], ["of", "IN"], ["N", "NNP"], ["cuz", "NN"], ["every", "DT"], ["path", "NN"], ["gets", "VBZ"], ["the", "DT"], ["same", "JJ"], ["number", "NN"], ["of", "IN"], ["black", "JJ"], ["links", "NNS"], ["so", "IN"], ["you", "PRP"], ["never", "RB"], ["have", "VBP"], ["two", "CD"], ["red", "JJ"], ["links", "NNS"], ["in", "IN"], ["a", "DT"], ["row", "NN"], [".", "."], ["[", "JJ"], ["cough", "NN"], ["]", "NN"], ["And", "CC"], ["actually", "RB"], [",", ","], ["in", "IN"], ["typical", "JJ"], ["applications", "NNS"], ["with", "IN"], ["any", "DT"], ["kind", "NN"], ["of", "IN"], ["randomness", "NN"], ["or", "CC"], ["even", "RB"], ["if", "IN"], ["there", "EX"], ["is", "VBZ"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["order", "NN"], ["its", "PRP$"], ["difficult", "JJ"], ["to", "TO"], ["find", "VB"], ["situations", "JJ"], ["orders", "NNS"], ["of", "IN"], ["keys", "NNS"], ["that", "WDT"], ["build", "VBP"], ["the", "DT"], ["trace", "NN"], ["of", "IN"], ["height", "NN"], ["is", "VBZ"], ["bigger", "JJR"], ["than", "IN"], ["actually", "RB"], ["one", "CD"], ["log", "NN"], ["N", "NNP"], ["in", "IN"], [",", ","], ["in", "IN"], ["a", "DT"], ["real", "JJ"], ["application", "NN"], [",", ","], ["its", "PRP$"], ["very", "RB"], ["close", "RB"], ["to", "TO"], ["fully", "RB"], ["balanced", "VB"], ["all", "PDT"], ["the", "DT"], ["time", "NN"], [".", "."], ["So", "RB"], [",", ","], ["that", "IN"], ["completes", "VBZ"], ["our", "PRP$"], ["summary", "NN"], ["for", "IN"], ["a", "DT"], ["symbol", "NN"], ["table", "JJ"], ["implementations", "NNS"], ["with", "IN"], ["red-black", "JJ"], ["BSTs", "NNP"], [".", "."], ["We", "PRP"], ["have", "VBP"], ["full", "JJ"], ["code", "NN"], ["it", "PRP"], ["'s", "VBZ"], ["the", "DT"], ["regular", "JJ"], ["BST", "NNP"], ["code", "NN"], ["with", "IN"], ["the", "DT"], ["couple", "NN"], ["of", "IN"], ["lines", "NNS"], ["adding", "VBG"], ["the", "DT"], ["calls", "NNS"], ["and", "CC"], ["the", "DT"], ["basic", "JJ"], ["operations", "NNS"], [".", "."], ["She", "PRP"], ["rotate", "VB"], ["right", "JJ"], [",", ","], ["rotate", "JJ"], ["left", "NN"], [".", "."], ["In", "IN"], ["color", "NN"], ["flip", "NN"], [",", ","], ["we", "PRP"], ["could", "MD"], ["guarantee", "VB"], ["logarithmic", "JJ"], ["performance", "NN"], ["not", "RB"], ["just", "RB"], ["research", "NN"], [",", ","], ["insert", "NN"], [",", ","], ["in", "IN"], ["delete", "JJ"], ["code", "NN"], [".", "."], ["Delete", "NNP"], ["code", "NN"], ["is", "VBZ"], ["a", "DT"], ["bit", "RB"], ["more", "RBR"], ["complicated", "JJ"], ["but", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["on", "IN"], ["the", "DT"], ["book", "NN"], ["side", "NN"], ["and", "CC"], ["in", "IN"], ["the", "DT"], ["book", "NN"], [".", "."], ["But", "CC"], ["also", "RB"], [",", ","], ["since", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["the", "DT"], ["compare-to", "JJ"], ["interface", "NN"], [",", ","], ["and", "CC"], ["since", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["binary", "JJ"], ["tree", "NN"], ["representation", "NN"], ["all", "PDT"], ["the", "DT"], ["other", "JJ"], ["comparable", "JJ"], ["operations", "NNS"], ["extended", "VBD"], ["operations", "NNS"], ["for", "IN"], ["ordered", "JJ"], ["symbol", "NN"], ["tables", "NNS"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["implemented", "VBN"], ["and", "CC"], ["take", "VB"], ["time", "NN"], ["proportional", "JJ"], ["to", "TO"], ["the", "DT"], ["log", "NN"], ["N.", "NNP"], ["A", "NNP"], ["lot", "NN"], ["of", "IN"], ["people", "NNS"], ["ask", "VBP"], ["why", "WRB"], ["use", "VBP"], ["the", "DT"], ["name", "NN"], ["red-black", "NN"], [".", "."], ["Well", "NNP"], ["we", "PRP"], ["invented", "VBD"], ["this", "DT"], ["data", "NN"], ["structure", "NN"], ["this", "DT"], ["way", "NN"], ["of", "IN"], ["looking", "VBG"], ["at", "IN"], ["balance", "NN"], ["trees", "NNS"], ["at", "IN"], [",", ","], ["at", "IN"], ["Xerox", "NNP"], ["PARC", "NNP"], ["which", "WDT"], ["was", "VBD"], ["the", "DT"], ["home", "NN"], ["of", "IN"], ["the", "DT"], ["personal", "JJ"], ["computer", "NN"], ["and", "CC"], ["many", "JJ"], ["other", "JJ"], ["innovations", "NNS"], ["that", "IN"], ["we", "PRP"], ["live", "VBP"], ["with", "IN"], ["today", "NN"], ["entering", "VBG"], ["graphic", "JJ"], ["user", "JJ"], ["interface", "NN"], ["and", "CC"], ["internet", "NN"], ["and", "CC"], ["object", "NN"], ["oriented", "VBN"], ["programmings", "NNS"], ["and", "CC"], ["many", "JJ"], ["other", "JJ"], ["things", "NNS"], [".", "."], ["But", "CC"], ["one", "CD"], ["of", "IN"], ["the", "DT"], ["things", "NNS"], ["that", "WDT"], ["was", "VBD"], ["invented", "VBN"], ["there", "RB"], [",", ","], ["was", "VBD"], ["the", "DT"], ["laser", "NN"], ["printing", "NN"], ["and", "CC"], ["we", "PRP"], ["were", "VBD"], ["very", "RB"], ["excited", "VBN"], ["to", "TO"], ["have", "VB"], ["nearby", "JJ"], ["color", "NN"], ["laser", "NN"], ["printer", "NN"], ["that", "WDT"], ["could", "MD"], ["print", "VB"], ["things", "NNS"], ["out", "RP"], ["in", "IN"], ["color", "NN"], ["and", "CC"], ["out", "IN"], ["of", "IN"], ["the", "DT"], ["colors", "NNS"], [",", ","], ["the", "DT"], ["red", "JJ"], ["looked", "VBD"], ["the", "DT"], ["best", "JJS"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["why", "WRB"], ["we", "PRP"], ["picked", "VBD"], ["the", "DT"], ["color", "NN"], ["red", "VBD"], ["to", "TO"], ["distinguish", "VB"], ["red", "JJ"], ["links", "NNS"], ["the", "DT"], ["types", "NNS"], ["of", "IN"], ["links", "NNS"], ["in", "IN"], ["three", "CD"], ["nodes", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["an", "DT"], ["answer", "NN"], ["to", "TO"], ["the", "DT"], ["question", "NN"], ["for", "IN"], ["people", "NNS"], ["t", "VBP"], ["hat", "WDT"], ["have", "VBP"], ["been", "VBN"], ["asking", "VBG"], [".", "."], ["Now", "RB"], [",", ","], ["here", "RB"], ["'s", "VBZ"], ["another", "DT"], ["war", "NN"], ["story", "NN"], ["about", "IN"], ["red-black", "JJ"], ["BSTs", "NNP"], [".", "."], ["As", "IN"], ["I", "PRP"], ["mentioned", "VBD"], ["they", "PRP"], ["'re", "VBP"], ["widely", "RB"], ["used", "VBN"], [".", "."], ["And", "CC"], ["there", "EX"], ["was", "VBD"], ["an", "DT"], ["example", "NN"], ["not", "RB"], ["that", "IN"], ["long", "RB"], ["ago", "RB"], [",", ","], ["where", "WRB"], ["a", "DT"], ["telephone", "NN"], ["company", "NN"], ["contracted", "VBD"], ["with", "IN"], ["a", "DT"], ["database", "NN"], ["provider", "NN"], ["to", "TO"], ["build", "VB"], ["a", "DT"], ["database", "NN"], ["that", "WDT"], ["could", "MD"], ["store", "VB"], ["customer", "NN"], ["information", "NN"], ["and", "CC"], ["the", "DT"], ["provider", "NN"], ["implemented", "VBD"], ["the", "DT"], ["database", "NN"], ["using", "VBG"], ["red-black", "JJ"], ["BSTs", "NNP"], ["for", "IN"], ["search", "NN"], ["and", "CC"], ["insert", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["our", "PRP$"], [",", ","], ["our", "PRP$"], ["original", "JJ"], ["paper", "NN"], ["on", "IN"], ["red", "JJ"], ["black", "JJ"], ["trees", "NNS"], ["was", "VBD"], ["the", "DT"], ["way", "NN"], ["the", "DT"], ["paper", "NN"], ["was", "VBD"], ["laid", "VBN"], ["out", "RP"], [",", ","], ["it", "PRP"], ["turned", "VBD"], ["out", "RP"], ["that", "IN"], ["the", "DT"], ["delete", "JJ"], ["implementation", "NN"], ["happened", "VBD"], ["to", "TO"], ["be", "VB"], ["placed", "VBN"], ["after", "IN"], ["all", "PDT"], ["the", "DT"], ["references", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["people", "NNS"], ["did", "VBD"], ["n't", "RB"], ["see", "VB"], ["the", "DT"], ["delete", "JJ"], ["implementation", "NN"], [".", "."], ["And", "CC"], ["also", "RB"], ["we", "PRP"], ["did", "VBD"], ["n't", "RB"], ["have", "VB"], ["the", "DT"], ["simple", "JJ"], ["left-leaning", "JJ"], ["representation", "NN"], [".", "."], ["So", "IN"], ["it", "PRP"], ["was", "VBD"], ["more", "RBR"], ["complicated", "JJ"], ["and", "CC"], ["involved", "VBN"], ["a", "DT"], ["lot", "NN"], ["more", "JJR"], ["cases", "NNS"], ["and", "CC"], ["so", "RB"], ["usually", "RB"], ["not", "RB"], ["all", "PDT"], ["the", "DT"], ["cases", "NNS"], ["were", "VBD"], ["put", "VBN"], ["in", "IN"], ["the", "DT"], ["text", "NN"], ["books", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["people", "NNS"], ["found", "VBD"], ["deletion", "NN"], ["more", "RBR"], ["difficult", "JJ"], [".", "."], ["In", "IN"], ["fact", "NN"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["what", "WP"], ["lead", "NN"], ["to", "TO"], ["[", "VB"], ["unknown", "JJ"], ["]", "NNP"], ["analyze", "VBZ"], ["the", "DT"], ["situation", "NN"], ["then", "RB"], ["come", "VBD"], ["up", "RP"], ["with", "IN"], ["a", "DT"], ["left-leaning", "JJ"], ["variant", "NN"], [".", "."], ["So", "RB"], [",", ","], ["what", "WP"], ["they", "PRP"], ["did", "VBD"], ["in", "IN"], ["this", "DT"], ["implementation", "NN"], ["was", "VBD"], ["they", "PRP"], ["just", "RB"], ["put", "VBD"], ["in", "IN"], ["regular", "JJ"], ["Hibbard", "NNP"], ["deletion", "NN"], ["in", "IN"], ["the", "DT"], ["binary", "JJ"], ["search", "NN"], ["in", "IN"], ["the", "DT"], ["red-black", "JJ"], ["BST", "NNP"], [".", "."], ["Not", "RB"], ["the", "DT"], ["deletion", "NN"], ["algorithm", "VBZ"], ["that", "DT"], ["'s", "VBZ"], ["guaranteed", "VBN"], ["to", "TO"], ["keep", "VB"], ["the", "DT"], ["constant", "JJ"], ["black", "JJ"], ["height", "NN"], ["all", "PDT"], ["the", "DT"], ["time", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], ["but", "CC"], [",", ","], ["but", "CC"], ["they", "PRP"], ["still", "RB"], ["thought", "VBD"], ["that", "IN"], ["it", "PRP"], ["should", "MD"], ["be", "VB"], ["balanced", "VBN"], ["and", "CC"], ["it", "PRP"], ["should", "MD"], ["n't", "RB"], ["matter", "VB"], ["much", "RB"], [".", "."], ["And", "CC"], ["they", "PRP"], ["had", "VBD"], ["a", "DT"], ["complex", "JJ"], ["error", "NN"], ["recovery", "NN"], ["process", "NN"], ["that", "IN"], [",", ","], ["that", "DT"], ["got", "VBD"], ["triggered", "VBN"], ["if", "IN"], ["the", "DT"], ["height", "NN"], ["limit", "NN"], ["got", "VBD"], ["too", "RB"], ["big", "JJ"], [".", "."], ["And", "CC"], ["they", "PRP"], ["rebuild", "VBP"], ["the", "DT"], ["whole", "JJ"], ["tree", "NN"], ["and", "CC"], [",", ","], ["and", "CC"], ["then", "RB"], ["because", "IN"], ["of", "IN"], ["the", "DT"], ["way", "NN"], ["they", "PRP"], ["did", "VBD"], ["this", "DT"], ["deletion", "NN"], [",", ","], ["well", "RB"], [",", ","], ["the", "DT"], ["end", "NN"], ["of", "IN"], ["the", "DT"], ["story", "NN"], ["was", "VBD"], ["that", "IN"], ["they", "PRP"], ["had", "VBD"], ["extended", "VBN"], ["the", "DT"], ["client", "NN"], ["had", "VBD"], ["extended", "VBN"], ["outage", "NN"], ["because", "IN"], ["the", "DT"], ["implementer", "NN"], ["did", "VBD"], ["n't", "RB"], ["use", "VB"], ["the", "DT"], ["full", "JJ"], ["algorithm", "NN"], [".", "."], ["And", "CC"], ["there", "EX"], ["was", "VBD"], ["a", "DT"], ["lawsuit", "NN"], ["and", "CC"], ["some", "DT"], ["legal", "JJ"], ["testimony", "NN"], ["and", "CC"], ["I", "PRP"], ["am", "VBP"], ["happy", "JJ"], ["to", "TO"], ["report", "VB"], ["that", "DT"], [",", ","], ["that", "IN"], ["it", "PRP"], ["was", "VBD"], ["clear", "JJ"], ["that", "IN"], ["Hibbard", "NNP"], ["deletion", "NN"], ["was", "VBD"], ["the", "DT"], ["problem", "NN"], ["once", "IN"], ["the", "DT"], ["expert", "NN"], ["analyzed", "VBD"], ["it", "PRP"], ["and", "CC"], ["the", "DT"], ["expert", "NN"], ["witness", "NN"], [",", ","], ["who", "WP"], ["'s", "VBZ"], ["a", "DT"], ["colleague", "NN"], ["of", "IN"], ["mine", "NN"], [",", ","], ["said", "VBD"], ["if", "IN"], ["implemented", "VBN"], ["properly", "RB"], [",", ","], ["the", "DT"], ["height", "NN"], ["of", "IN"], ["a", "DT"], ["red-black", "JJ"], ["BST", "NNP"], ["with", "IN"], ["N", "NNP"], ["keys", "NNS"], ["is", "VBZ"], ["at", "IN"], ["most", "JJS"], ["two", "CD"], ["log", "NN"], ["N.", "NNP"], ["And", "CC"], ["so", "RB"], ["that", "IN"], ["'s", "VBZ"], ["the", "DT"], ["st", "JJ"], ["ory", "NN"], ["of", "IN"], ["red-black", "JJ"], ["BST", "NNP"], ["'s", "POS"], ["guaranteed", "JJ"], ["logarithmic", "JJ"], ["performance", "NN"], ["for", "IN"], ["all", "DT"], ["symbol", "NN"], ["table", "JJ"], ["operations", "NNS"], [".", "."]], "title": "red black bsts", "text": "Now, we'll look at red black BSTs which is a simple data structure that allows us to implement 2-3 tree with very little extra code beyond the basic binary search tree code. So this is, and actually the version that we're going to, looking at is called left-leaning red-black BSTs. On a personal note, I wrote a research paper on this topic in 1979 with Leo Givas and we thought we pretty well understood these data structures at that time and people around the world use them in implementing various different systems. But just a few years ago for this course I found a much simpler implementation of red-black trees and this is just the a case study showing that there are simple algorithms still out there waiting to be discovered and this is one of them that we're going to talk about. So, the idea is that we are, are going to represent every two, three tree as a binary search tree. And in order to get that done, we just need a simple representation for three notes. So, what we are going to do is use internal left-leaning links to glue the three nodes together. So, the larger of the two nodes in the tree node will always be the root of a little binary search tree of size two for the three node and the link between the two nodes, the left link that links the larger key to the smaller one we'll color red. And that's to distinguish those links from the other links in the binary tree so that we can tell when we're inserting things which nodes belong to tree nodes and which ones don't. And you can see from this transformation that it's easy to perform this, see this correspondence the middle link between A and B, those are the keys that are less than B and larger than A. So, that takes two comparisons to get to them the ones that are less than A, less than, less than A, that's two comparisons for that and the ones that are greater than B are the right link of B. So, just following those three cases, I see t hat this correspondence is going to work. So, any 2-3 tree corresponds to a left leaning red-black BST in this way. Just take the three nodes and split them into little binary search tree of size two held together by a red link. And correspondingly given a red-black BST then you can get the 2-3 tree if you wanted it. But just look at the properties of looking at the properties over a left leaning red-black BST. You know, with reference to what we know about 2-3 trees. First of all no node has two red links connected to it cuz the only red links are internal to three nodes. And those have to have ex, external links or tree links connecting them to some other node. Every path from the root down to a null link has the same number of black links that just follows directly from the corresponding property for 2-3 trees. A left-leaning red-black BST has perfect black balance. And all the red links lean left. So, given a BST with some of the links colored red that has those properties that's going to correspond to a 2-3 tree. And that's a key property is this one-to-one correspondence between 2-3 trees and left-leaning red-black trees. Given a 2-3 tree, we saw how to do it. Given a, a, given a red-black tree, we just make the red links horizontal, and merge the nodes together to be three nodes. So, all of the operations that we're going to look at for red-black trees can be understood in terms of the corresponding operations on 2-3 trees. Now the first, and really one of the most critical observations, is that search in a red-black BST is exactly the same as for an elementary BST, we just ignore the color. Now, it's going to be much faster because of better balance in the tree, but in terms of the code, we don't have to change the code at all. Our regular search code doesn't examine the color of a link and so we can just use it exactly as is. And in fact, most of the other operations that we implemented on BSTs are also identical. They d on't need the colors, but they can all benefit from the fact that the trees are much better balanced. So this aspect of red-black BSTs is an extremely nice one because of the operations that we implemented for regular BSTs that involves some complicated code for floor and ceiling and rank and so forth, and we don't have to change that code at all. We just during the insertion, make sure that we, we [cough] maintain the properties the balance properties and by doing that, we wind up with balance trees and we make all the operations quick and we don't have to re-implement, we don't have to change it at all. So first before we get to the code for insertion, we have to look at the representation. We don't actually have explicit representation of links or links in trees or just references to nodes. You could implement this by building explicit links but the an easier thing to do is to know that every node is referenced by just one link in a tree the one from it's parent. So, you can put the color of a link in the node that it references. So, in this case we have a red link connecting E and C. What we do is put a bit, a color bit in each in the node class. And then, if the link coming into a node is red we set that to true. So this simple thing just tests is a node red. We consider all null nodes to be black null links to be black, we don't have red links dangling off, that would be incomplete pre-nodes. And [cough] otherwise if the color's red, we return true otherwise return false to test whether a node is red. So in this tree, the color of h.left is red, the color of h.right is black and so forth. So, that's the way we represent colors by putting the, a color bit in the node for the color of the length that points to it. [cough] Alright, so now, there's a couple of elementary operations that we have to perform on red-black trees, called rotations. And the idea is that during the construction of a tree, or during an insertion operation, sometimes we wind up with red links that are leaning in the wrong direction. And so we'll need what's called a left rotation, and the job of that operation is to take a, a right leaning red link that is there for whatever reason and reorient it to lean to the left. [cough] so, in this case, we have the right link of E points to S and S is red so that's a right-leaning red link and so now that's the before and what we want to do is reorient things so that it leans to the left. And again, that has to be a local operation that only changes a few links and just from the diagram it's not difficult to see that this little bit of code will do the job. If we start with a right-leaning red link. So, first thing we do is take the reference of h.right, and save that in x. So, that's the node that's going to be the new root of the three nodes so to speak. And, and then, x.left after the rotation is going to be h. And also whatever color h was, well, it looks like it should be black. But actually this situation is where it could be red. Then x is going to have that color cuz the link coming into h is going to be the link coming into x. And then h's color is going to be black afterwards. And then, we return x to link further up the tree which happens during our standard recursive insert. So, that's a rotate left operation. Now, the property of this operation that's very important is it maintains a symmetric order. The keys between E and S are still there. We just changed the way we get to them. And the keys less than E and so forth. And also we maintain perfect black balance because we didn't change the black height, height of anything by doing this transformation. All those subtrees, those three subtrees are exactly the same relative to the top and bottom of the tree, as they were before the rotation. Now paradoxically and you'll see why very soon it also turns out that to get the insertion done properly we sometimes need to take a left-leaning red link and temporarily make it lean right. And later on, we'll get it back to the left again. But anyway, that's a basic operation that we sometimes need. And so that's just the symmetric code to the code that we just did. Now again, now x is h.left. And h.left is going to be x.right after the rotation. X's color is still going to be h's color. And h's color is going to be red. And the right rotation implements this and again that's going to maintain a, a symmetric order in perfect black balance we change the way the red goes but we didn't change anything about the black. Okay, that's a right rotation. Now, here's the third elementary operation that we're going to perform. It's called a color flip. Sometimes during the insertion, we might wind up with a node that's got two red links coming out of it. That's corresponds precisely to our temporary four node when we're doing 2-3 trees. And what we wanted to do with the temporary four node was to split it and pass the center node up to the root. Well, you can see from this structure that we're all set to do that all we need to do actually is not change any links, just change all the colors. And so, that is, we change the link from E to A and from E to S to be black. That essentially splits the four node. And then, we want to insert the E into its parent. And we just do that by changing its link to be red. So, that's flipping the colors. And that's the way we split a temporary four node in a left-linear red-black tree. And again, that's just flipping colors. It doesn't change any links so it still, of course, maintains symmetric order and perfect black balance. So, those are the three basic operations we're going to use. Rotate left, rotate right and flip colors. So, the basic s trategy is, with those operations, maintain one-to-one correspondence with 2-3 trees when we do insertions. So, here's an example. If we want to insert C into this red black tree which is a representation of this 2-3 tree, then C is going to be less than E greater than A. So, it will get added to, as the right link of A and every time we add a node we just create a red link to its parents and so, that's changing the two node into a three node. In this case it's three nodes that's oriented the wrong way so we need to do a left rotate. After we do the left rotate, we have a legal left-leaning red-black tree, and it exactly corresponds to that 2-3 tree, so the insertion of C gives us exactly what we would want, that correspondence with the 2-3 tree. We have to work through other cases that can arise but there's not too many so we'll work through and we have the basic operations, left rotate, right rotate, and flip colors. Alright, so first, warm up, insert into a tree with exactly one node. Well, if it goes on the left, then we just make a red link and add it on then we're done. If it goes on the right, then we attach a new node with the red link on the right but we have to rotate it to the left to make a legal three node. So, that's inserting to a tree with the one node and make it a tree with two nodes. And that one generalizes to help us insert into a two node at the bottom. So, we do the standard BST insert color the new link red and then if that [cough] new three node happens to lean right, rotated to the left. That's the case that we just did. So now, let's look at the second warm-up. So, say, we have just two nodes in the tree, so it's we have two nodes and that means it's a single three node. Then there's three cases. So, one is that the new one is larger than both of the keys. If that's true, then we attach the new node with the red link as always. And that gives us a temporary four node. And what we want to do is split that four node and in this case, since we are at the root that's all so that just flips the colors. Now, the color of the root in our code will temporarily turn red and then we turn it black again. So, that's inserting into a tree that's a single three node a node that's larger than both of them, a key that is larger than both of them and we get wind up with a four node. Well, let's look at the other two cases and these understanding needs is crucial to understanding the whole algorithm. Let's say, the new key is smaller than both of the keys in our three node. Now, we attach a new link at the left of the smaller node. And now, we've gotta find BST. But it has two red links in a row. And that's something that's not allowed. So, what we're going to do is we're going to rotate the top link to the right. So that puts B at the root. And now, it's got two red children. It reduces to this case. And we flip the colors and we have a single four node. Sorry a, a red black. A tree that's got three two-nodes and no red links so same situation as before. So, we had a single temporary four note and we split it up into a two, two note not connected to a four note. And then, so that's the case when it's smaller. Now, we have to look at the third case, which is, when it's, the new node inserted this in between and comes out of this link here. Again, we just had a red link and now we have a BST with two red links along the path connected to A and that's not allowed. In this case it's a bit trickier to affix the situation, what we do is we rotate the bottom link left. So, and that gives us this and reduce it to the other situation that we had before. And then we rotate the top link right and then, we flip the colors. So, this one we used all three of our operations, rotate left rotate right and flip the colors. And that gets us an insertion into a tree that has from a tree that i s a single three node to a tree that is three two nodes that is containing three keys. So that sort of operation is going to work in a big tree when we insert into a new three node at the bottom. We do the standard BST insert, color the new link red, and we do the rotations that we need, either one or two rotations to balance the temporary four node, and then we flip colors to pass the red link up one level and then remind me to rotate to that to make that one lean left. So, for example if we insert h in to this tree here, it comes off as the left link of R so that gives us a temporary four node that's not balanced so we need to rotate the link from S to the right and that gives us now temporary four node that is balanced and again, these are all local transformation it's not changing the rest of the tree. Now, we flip colors and that gives us a, a good red-black tree, except that, that one red link that we just is leaning the wrong way. So, now we need to rotate left and then once we've done that, now we have a legal left-leaning red-black tree. So [cough] that's a insertion into a three node at the bottom. So, here's another one that involves, remember, we passed that red link up. There might, if that gets passed up to a three node, then we have to continue moving up the tree and just treat it in the same way as we just treated inserting at the bottom. We have a new red link appearing into some three node. There's the three cases that could happen and here's an, an a, an example. So, say, we're inserting P into this left-leaning red black tree it goes to the right event so we get a temporary four node that's got two red links both children are red in that thing so we want to flip the colors. We flipped the colors and now our temporary 4-node is up higher in the tree but it's not balanced so we are going to have to do two rotations to make that balanced. First one is to make the bottom link left-leaning and then the second one is to make the top link right-leaning so that we can have the temporary four node balance. And then the last thing we do is flip the colors and now that's the result of that insertion. It's a bunch of transformations but they're all simple using our flip colors or left or right rotation. And [cough] that one happened to be at the root. If that red link were, were way down in the tree and there were another three node about it, we might have to do it again. Again, exactly as what would happen in a 2-3 tree. So, let's do a demo of constructing the red-black BST from our standard set of keys. So, we start with a single key. Now, if we want to insert E, if it goes to the left, that's fine. That's a legal left-leaning red-black tree. A would go to the left of E two lefts in a row so we have to rotate that to right. And then we have to flip the colors. And that's a legal red-black BST. So now, if we insert R into this one then it goes on a red link to the left of X, S and that's fine, it's a red-black BST. And now, if we insert C into this one, it goes less than E, greater than A it's a red link connecting A and C but it's leaning the wrong way. So, we have to do a left rotation, legal-red black BST. And you want to insert h that goes to the left of R, two reds in a row, rotate the top. Rotate the top, our temporary four node is balanced, flip colors. Now, we have a three node, but the red link is leaning right so we have to rotate. And now, we have a legal red-block BST. Insert x into that one that goes to the right of S, it's leaning the wrong way, rotate left. Insert M into this one, goes to the right of h, leaning the wrong way, rotate left. Most of the operations are simple ones like this happening at the bottom. Insert P, that goes to the right of M that makes M a temporary four node that happens to be balanced, so flip the colors. Flip the colors, now we h ave a temporary four node that's out of balance so we need a double rotation. First rotate E to make that link point lean to the left, then rotate R to make the, bring the temporary four node into balance. And then, flip the colors and that's a legal red-black BST. Insert L into that one. It goes to the right of H, leading the wrong way rotate left. [cough] And that's an example of building a red-black BST from our standard set of keys. Now, we're ready to look at the implementation for, of the code for inserting into a left-leaning red-black tree. And the key to understanding this code is to realize that the same code, code handles all of the cases. And the way that it works is we are always reducing one case to another. We get this most complicated case we did a left rotate on the bottom node and that, that transformed it to this case where they're both leaning left. And then we did a right rotate on the top node, and that transformed to the case where our temporary four node is balanced. And then we flipped colors on that. So, for a particular insertion, we can take advantage of this reduce one case to another by, in, in the way that we're moving in the tree, not to get everything happen with just a, a few extra lines of code in our standard binary search tree. So, in gray is our, standard insertion code for binary search trees. And remember we took some pains to think about the recursive implementation where when we go down a link we replace that link by whatever the recursive routine gives us back and that strategy is going to pay off in giving us a really simple code. [cough] and because in this implementation for left-leaning red-black trees we're going to return the link whenever we're done, and then that will get that link installed up in the node above whether it be left or right. Typical implementations of red-black trees that do not use this recursive strategy wind u p having lots of cases depending on whether left or right or double rotate to the left or double rotate to the right can be critical of this code because my own was this way for the first three editions of the book. And it's only in this edition that we figured out how to make the code this simple. Okay. So what are the things left to be done? Let's just check. When we insert a new node all we want to do is create a new node with the, I've given, associating the given value with a given key, as before but now we just make that node red. So, that's adding a new node with a red link at the bottom inserting that into whatever the two or three node it's attached to. And then we do the comparisons as, as before and that, and that's all fine. Now, when it's returned then that's the point at which we're going to check whether the left, the links are leaning to the left as they are suppose to and whether or not there are any double links or not. So the first thing is if, if is red h.right and not is red h.left? So, that means H is h.right is red so that means the right link of H is leaning the wrong way. So, H is a three node leaning the wrong way. So we just rotate left H. So, whenever we find a right link, we're sitting on a right red link we just rotate it left and return that. So, that would be in this case here, we'd rotate it left and reduce it to that one. [cough] or in, in you know, in the case when we're just inserting a new node and it's turns out to be the right red link attached to a black one, if that handles that case. Now, if h.left is red and h.left is also red that's this case here where we have two left-leaning red links. And then in that case, we just rotate the top one right and that brings us to this one. So, notice, we're in this case we do this rotation first, we're on this node and then , that returns and we come up to deal with the situation on this node after the return, and then we do that rotation. And then after that rotation, or if there were no rotations at all, if the insertion happened over here then we'd test and flip the colors. It's a little mind bending at first because of the recursive structure but it won't take you long to convince yourself that this little bit of extra code completes the implementation of left-leaning red-black trees. It's quite remarkable, actually. So, let's look at a visualization. Watching the [unknown], this is a balanced tree getting constructed in the worst case where everything that comes in is in ascending order. A regular binary search tree will just be all strung out in a single line and wouldn't have quadratic time for this input but a left-leaning red-black tree actually when, whenever it becomes a power of two is completely balanced as you can see from this example. Even though they came in, in ascending order, the tree winds up being perfectly balanced. And what about descending order. Well, it's left leaning and the process is a little bit different and sometimes the left path can get long but not that long. The worse that can happen is that it alternates red and black. And then after it gets to that worse case it also winds up being completely balanced when we have a power of two. Interesting to think just, just about this case and to prove to yourself that it's always going to be perfectly balanced when it's descending. And this is just for random insertions. The tree stays very balanced. It's guaranteed that the longest path which is alternating red and black can be no more than twice as long as the shortest path which is all blacks. And so in this case the longest path is ten and the average path is seven for 255. Very close to log based two of N. So easy to prove by correspondence with 2-3 trees that t he height is guaranteed to be less than two log base two N. Every search in left-leaning red black three is guaranteed to take less than two log base two of N cuz every path gets the same number of black links so you never have two red links in a row. [cough] And actually, in typical applications with any kind of randomness or even if there is a lot of order its difficult to find situations orders of keys that build the trace of height is bigger than actually one log N in, in a real application, its very close to fully balanced all the time. So, that completes our summary for a symbol table implementations with red-black BSTs. We have full code it's the regular BST code with the couple of lines adding the calls and the basic operations. She rotate right, rotate left. In color flip, we could guarantee logarithmic performance not just research, insert, in delete code. Delete code is a bit more complicated but it's on the book side and in the book. But also, since it's the compare-to interface, and since it's a binary tree representation all the other comparable operations extended operations for ordered symbol tables are going to be implemented and take time proportional to the log N. A lot of people ask why use the name red-black. Well we invented this data structure this way of looking at balance trees at, at Xerox PARC which was the home of the personal computer and many other innovations that we live with today entering graphic user interface and internet and object oriented programmings and many other things. But one of the things that was invented there, was the laser printing and we were very excited to have nearby color laser printer that could print things out in color and out of the colors, the red looked the best. So, that's why we picked the color red to distinguish red links the types of links in three nodes. So, that's an answer to the question for people t hat have been asking. Now, here's another war story about red-black BSTs. As I mentioned they're widely used. And there was an example not that long ago, where a telephone company contracted with a database provider to build a database that could store customer information and the provider implemented the database using red-black BSTs for search and insert. Now, our, our original paper on red black trees was the way the paper was laid out, it turned out that the delete implementation happened to be placed after all the references. So, a lot of people didn't see the delete implementation. And also we didn't have the simple left-leaning representation. So it was more complicated and involved a lot more cases and so usually not all the cases were put in the text books. So, people found deletion more difficult. In fact, that's what lead to [unknown] analyze the situation then come up with a left-leaning variant. So, what they did in this implementation was they just put in regular Hibbard deletion in the binary search in the red-black BST. Not the deletion algorithm that's guaranteed to keep the constant black height all the time. And so but, but they still thought that it should be balanced and it shouldn't matter much. And they had a complex error recovery process that, that got triggered if the height limit got too big. And they rebuild the whole tree and, and then because of the way they did this deletion, well, the end of the story was that they had extended the client had extended outage because the implementer didn't use the full algorithm. And there was a lawsuit and some legal testimony and I am happy to report that, that it was clear that Hibbard deletion was the problem once the expert analyzed it and the expert witness, who's a colleague of mine, said if implemented properly, the height of a red-black BST with N keys is at most two log N. And so that's the st ory of red-black BST's guaranteed logarithmic performance for all symbol table operations. ", "video_ID": 45, "course_id": 3}
{"category": ["balanced search trees"], "tagged": [["Okay", "NNP"], [".", "."], ["We", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["finish", "VB"], ["up", "RP"], ["by", "IN"], ["talking", "VBG"], ["about", "IN"], ["some", "DT"], [",", ","], ["practical", "JJ"], ["applications", "NNS"], ["of", "IN"], ["red", "JJ"], ["black", "JJ"], ["trees", "NNS"], [".", "."], ["And", "CC"], ["in", "IN"], ["particular", "JJ"], [",", ","], ["B", "NNP"], ["trees", "NNS"], ["which", "WDT"], ["are", "VBP"], ["a", "DT"], ["general", "JJ"], [",", ","], ["general", "JJ"], ["version", "NN"], [".", "."], ["So", "IN"], ["the", "DT"], ["idea", "NN"], ["the", "DT"], ["sign", "NN"], ["behind", "IN"], ["bee", "NN"], ["trees", "NNS"], ["is", "VBZ"], ["that", "DT"], ["often", "RB"], [",", ","], ["the", "DT"], ["data", "NNS"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], [",", ","], ["trying", "VBG"], ["to", "TO"], ["store", "VB"], ["is", "VBZ"], [",", ","], ["is", "VBZ"], ["really", "RB"], ["huge", "JJ"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["a", "DT"], [",", ","], ["a", "DT"], ["large", "JJ"], ["amount", "NN"], ["of", "IN"], ["data", "NNS"], [".", "."], ["And", "CC"], ["we", "PRP"], ["'re", "VBP"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["a", "DT"], ["more", "RBR"], ["general", "JJ"], ["model", "NN"], ["for", "IN"], ["external", "JJ"], ["storage", "NN"], [".", "."], ["Where", "WRB"], [",", ","], ["we", "PRP"], ["work", "VBP"], ["with", "IN"], ["continuous", "JJ"], ["blocks", "NNS"], ["of", "IN"], ["data", "NNS"], ["that", "WDT"], ["are", "VBP"], ["big", "JJ"], [".", "."], ["Maybe", "RB"], ["four", "CD"], [",", ","], ["4k", "CD"], ["or", "CC"], ["bigger", "JJR"], [",", ","], ["or", "CC"], ["maybe", "RB"], ["even", "RB"], ["a", "DT"], ["whole", "JJ"], ["file", "NN"], [".", "."], ["And", "CC"], ["all", "DT"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["count", "VB"], ["is", "VBZ"], ["the", "DT"], ["first", "JJ"], ["time", "NN"], ["we", "PRP"], ["access", "NN"], ["a", "DT"], ["page", "NN"], [",", ","], ["because", "IN"], ["the", "DT"], ["main", "JJ"], ["cost", "NN"], ["is", "VBZ"], ["trying", "VBG"], ["to", "TO"], ["find", "VB"], ["where", "WRB"], ["the", "DT"], ["page", "NN"], ["is", "VBZ"], [".", "."], ["Once", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["read", "VBN"], ["in", "IN"], ["we", "PRP"], ["get", "VBP"], ["to", "TO"], ["read", "VB"], ["all", "DT"], ["of", "IN"], ["the", "DT"], ["page", "NN"], ["for", "IN"], ["free", "JJ"], ["pretty", "RB"], ["much", "JJ"], [".", "."], ["So", "IN"], ["the", "DT"], ["real", "JJ"], ["property", "NN"], ["of", "IN"], ["external", "JJ"], ["storage", "NN"], ["that", "IN"], ["not", "RB"], ["your", "PRP$"], ["local", "JJ"], ["memory", "NN"], [",", ","], ["is", "VBZ"], ["that", "IN"], ["the", "DT"], ["time", "NN"], ["required", "VBN"], ["to", "TO"], ["get", "VB"], ["to", "TO"], ["a", "DT"], ["page", "NN"], ["is", "VBZ"], ["way", "NN"], ["larger", "JJR"], ["than", "IN"], ["the", "DT"], ["time", "NN"], ["to", "TO"], ["access", "NN"], ["data", "NNS"], ["within", "IN"], ["a", "DT"], ["page", "NN"], [".", "."], ["So", "RB"], ["what", "WP"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["try", "VB"], ["to", "TO"], ["access", "NN"], ["data", "NNS"], ["that", "WDT"], ["'s", "VBZ"], ["out", "RP"], [",", ","], ["externally", "RB"], [",", ","], ["using", "VBG"], ["a", "DT"], ["minimum", "JJ"], ["number", "NN"], ["of", "IN"], ["probes", "NNS"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["a", "DT"], ["model", "NN"], ["of", "IN"], ["a", "DT"], ["file", "NN"], ["system", "NN"], ["that", "WDT"], ["is", "VBZ"], ["pretty", "RB"], ["workable", "JJ"], [".", "."], ["And", "CC"], ["so", "RB"], ["bee", "JJ"], ["trees", "NNS"], ["are", "VBP"], ["a", "DT"], ["generalization", "NN"], ["of", "IN"], [".", "."], ["Balance", "NNP"], ["trees", "NNS"], [",", ","], ["that", "WDT"], ["allow", "VBP"], ["for", "IN"], ["this", "DT"], [".", "."], ["The", "DT"], ["idea", "NN"], ["is", "VBZ"], ["to", "TO"], [",", ","], ["allow", "VB"], ["not", "RB"], ["just", "RB"], ["two", "CD"], ["or", "CC"], ["three", "CD"], [",", ","], ["keys", "FW"], ["per", "IN"], ["node", "NN"], [",", ","], ["but", "CC"], ["a", "DT"], ["large", "JJ"], ["number", "NN"], ["like", "IN"], ["the", "DT"], ["number", "NN"], ["that", "WDT"], ["can", "MD"], ["fit", "VB"], ["in", "IN"], ["a", "DT"], ["page", "NN"], [".", "."], ["So", "RB"], [",", ","], ["might", "MD"], ["be", "VB"], [",", ","], ["M", "NNP"], ["=", "NNP"], ["1000", "CD"], ["or", "CC"], ["M", "NNP"], ["=", "JJ"], ["4000", "CD"], [".", "."], ["And", "CC"], ["well", "RB"], [",", ","], ["we", "PRP"], ["'ve", "VBP"], ["got", "VBN"], ["ta", "NNS"], ["have", "VBP"], ["at", "IN"], ["least", "JJS"], [",", ","], ["two", "CD"], [",", ","], ["keys", "NNS"], ["at", "IN"], ["the", "DT"], ["root", "NN"], [".", "."], ["And", "CC"], [",", ","], ["and", "CC"], ["the", "DT"], ["only", "RB"], ["other", "JJ"], ["restriction", "NN"], ["is", "VBZ"], ["that", "IN"], [",", ","], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["want", "VB"], ["the", "DT"], ["nodes", "NNS"], ["to", "TO"], ["get", "VB"], ["too", "RB"], ["empty", "JJ"], [".", "."], ["So", "IN"], ["we", "PRP"], ["have", "VBP"], ["less", "JJR"], ["than", "IN"], ["M.", "NNP"], ["But", "CC"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["have", "VB"], ["at", "IN"], ["least", "JJS"], ["M", "NNP"], ["over", "IN"], ["two", "CD"], [".", "."], ["And", "CC"], ["as", "IN"], ["you", "PRP"], ["'ll", "MD"], ["see", "VB"], [",", ","], ["this", "DT"], ["is", "VBZ"], [",", ","], ["a", "DT"], ["generalization", "NN"], ["of", "IN"], [",", ","], ["two", "CD"], ["three", "CD"], ["trees", "NNS"], [".", "."], ["That", "DT"], ["allows", "VBZ"], ["us", "PRP"], ["to", "TO"], [",", ","], ["build", "VB"], ["balance", "NN"], ["trees", "NNS"], ["that", "IN"], [",", ","], ["are", "VBP"], ["very", "RB"], [",", ","], ["very", "RB"], ["shallow", "JJ"], [".", "."], ["Typically", "RB"], [",", ","], ["these", "DT"], ["are", "VBP"], ["set", "VBN"], ["up", "RP"], ["so", "IN"], ["that", "IN"], [",", ","], ["the", "DT"], [",", ","], ["all", "PDT"], ["the", "DT"], ["data", "NN"], ["is", "VBZ"], ["in", "IN"], ["the", "DT"], ["external", "JJ"], ["nodes", "NNS"], [".", "."], ["And", "CC"], ["so", "RB"], ["the", "DT"], ["external", "JJ"], ["nodes", "NNS"], ["have", "VBP"], ["no", "DT"], ["links", "NNS"], [",", ","], ["they", "PRP"], ["just", "RB"], ["have", "VBP"], ["keys", "NNS"], [".", "."], ["And", "CC"], ["their", "PRP$"], ["in", "IN"], [",", ","], ["kept", "VBD"], ["in", "IN"], ["sorted", "JJ"], ["order", "NN"], [".", "."], ["So", "RB"], [",", ","], ["for", "IN"], ["example", "NN"], [",", ","], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], ["external", "JJ"], [",", ","], ["this", "DT"], ["is", "VBZ"], ["M", "NNP"], ["=", "NNP"], ["six", "CD"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["an", "DT"], ["external", "JJ"], ["five", "CD"], ["node", "NN"], [".", "."], ["So", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["got", "VBD"], ["five", "CD"], ["keys", "NNS"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["got", "VBD"], [",", ","], ["room", "NN"], ["for", "IN"], ["one", "CD"], ["more", "JJR"], ["temporary", "JJ"], ["one", "CD"], [",", ","], ["And", "CC"], ["then", "RB"], ["what", "WP"], ["will", "MD"], ["happen", "VB"], ["is", "VBZ"], [",", ","], ["when", "WRB"], ["you", "PRP"], ["insert", "VBP"], ["into", "IN"], ["a", "DT"], ["full", "JJ"], ["node", "NN"], [",", ","], ["it", "PRP"], ["'ll", "MD"], ["split", "VB"], ["in", "IN"], ["the", "DT"], ["same", "JJ"], ["as", "IN"], ["before", "IN"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["'ll", "MD"], ["pass", "VB"], ["the", "DT"], ["s", "NN"], ["plit", "VBD"], ["up", "RP"], ["causing", "VBG"], ["a", "DT"], ["split", "NN"], ["up", "RP"], ["higher", "JJR"], ["so", "IN"], ["the", "DT"], ["red", "JJ"], ["keys", "NN"], ["in", "IN"], ["the", "DT"], ["internal", "JJ"], ["nodes", "NNS"], ["are", "VBP"], ["copies", "NNS"], ["of", "IN"], ["keys", "NNS"], ["down", "RP"], ["below", "IN"], ["that", "DT"], ["direct", "VBP"], ["the", "DT"], ["search", "NN"], [".", "."], ["And", "CC"], ["it", "PRP"], ["is", "VBZ"], ["that", "IN"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["little", "JJ"], ["extra", "JJ"], ["detail", "NN"], [".", "."], ["It", "PRP"], ["just", "RB"], ["makes", "VBZ"], ["the", "DT"], ["implementation", "NN"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["easier", "JJR"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["way", "NN"], ["it", "PRP"], ["'s", "VBZ"], ["usually", "RB"], ["done", "VBN"], [".", "."], ["So", "RB"], ["but", "CC"], ["for", "IN"], ["now", "RB"], ["the", "DT"], ["main", "JJ"], ["idea", "NN"], ["is", "VBZ"], ["that", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["like", "IN"], ["a", "DT"], ["233", "CD"], ["except", "IN"], ["that", "DT"], ["we", "PRP"], ["allow", "VBP"], ["way", "NN"], ["more", "JJR"], ["keys", "NNS"], ["per", "IN"], ["node", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["when", "WRB"], ["a", "DT"], ["node", "JJ"], ["gets", "VBZ"], ["filled", "VBN"], ["it", "PRP"], ["splits", "VBZ"], [".", "."], ["Into", "NNP"], ["two", "CD"], ["so", "IN"], ["a", "DT"], ["node", "NN"], ["is", "VBZ"], ["always", "RB"], ["between", "IN"], ["half", "JJ"], ["full", "JJ"], ["and", "CC"], ["full", "JJ"], [".", "."], ["So", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["in", "IN"], ["1000", "CD"], [",", ","], ["it", "PRP"], ["splits", "VBZ"], ["in", "IN"], ["two", "CD"], [".", "."], ["And", "CC"], ["then", "RB"], ["each", "DT"], ["side", "NN"], ["has", "VBZ"], ["500", "CD"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["can", "MD"], ["use", "VB"], [",", ","], ["that", "IN"], ["property", "NN"], ["of", "IN"], ["the", "DT"], ["trees", "NNS"], [",", ","], ["in", "IN"], ["the", "DT"], ["analysis", "NN"], ["to", "TO"], [",", ","], ["show", "VB"], ["that", "IN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["very", "RB"], ["many", "JJ"], ["probes", "NNS"], ["to", "TO"], ["get", "VB"], ["to", "TO"], ["any", "DT"], ["key", "NN"], [".", "."], ["So", "IN"], ["the", "DT"], [",", ","], ["search", "NN"], ["is", "VBZ"], [",", ","], ["you", "PRP"], ["know", "VBP"], [",", ","], ["just", "RB"], ["the", "DT"], ["same", "JJ"], ["as", "IN"], ["we", "PRP"], ["'ve", "VBP"], ["been", "VBN"], ["doing", "VBG"], [",", ","], ["just", "RB"], ["generalized", "VBN"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["a", "DT"], ["list", "NN"], ["of", "IN"], ["keys", "NNS"], ["at", "IN"], ["every", "DT"], ["internal", "JJ"], ["node", "NN"], ["and", "CC"], ["that", "IN"], ["key", "JJ"], [",", ","], ["tells", "NNS"], ["you", "PRP"], ["that", "IN"], [",", ","], ["then", "RB"], ["links", "VBZ"], ["for", "IN"], ["every", "DT"], ["key", "NN"], ["that", "WDT"], ["give", "VBP"], ["you", "PRP"], [",", ","], ["a", "DT"], ["place", "NN"], ["where", "WRB"], ["your", "PRP$"], ["key", "NN"], ["would", "MD"], ["have", "VB"], ["to", "TO"], ["be", "VB"], [".", "."], ["So", "RB"], [",", ","], ["this", "DT"], ["link", "NN"], ["is", "VBZ"], ["for", "IN"], ["all", "PDT"], ["the", "DT"], ["keys", "NNS"], ["in", "IN"], ["the", "DT"], ["B", "NNP"], ["tree", "NN"], ["that", "WDT"], ["are", "VBP"], ["between", "IN"], ["this", "DT"], ["key", "NN"], ["and", "CC"], ["the", "DT"], ["next", "JJ"], ["one", "CD"], ["and", "CC"], ["in", "IN"], ["every", "DT"], ["case", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["that", "DT"], ["way", "NN"], [".", "."], ["So", "RB"], ["if", "IN"], ["we", "PRP"], ["'re", "VBP"], ["looking", "VBG"], ["for", "IN"], ["E.", "NNP"], ["B", "NNP"], ["and", "CC"], ["this", "DT"], ["b", "NN"], ["tree", "NN"], ["would", "MD"], ["go", "VB"], ["down", "RP"], ["the", "DT"], ["left", "JJ"], ["link", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["looking", "VBG"], ["on", "IN"], ["the", "DT"], ["second", "JJ"], ["link", "NN"], ["cuz", "NN"], ["E", "NNP"], ["is", "VBZ"], ["between", "IN"], ["D", "NNP"], ["and", "CC"], ["H.", "NNP"], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["just", "RB"], ["the", "DT"], ["way", "NN"], ["it", "PRP"], ["organized", "VBD"], [".", "."], ["And", "CC"], ["then", "RB"], ["when", "WRB"], ["you", "PRP"], ["get", "VBP"], ["to", "TO"], ["an", "DT"], ["external", "JJ"], ["node", "NN"], ["you", "PRP"], ["just", "RB"], ["look", "VB"], ["for", "IN"], ["and", "CC"], ["so", "RB"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["the", "DT"], ["all", "DT"], ["searches", "NNS"], ["terminated", "VBN"], ["in", "IN"], ["external", "JJ"], ["node", "NN"], [",", ","], ["in", "IN"], ["other", "JJ"], ["words", "NNS"], ["that", "WDT"], ["'s", "VBZ"], ["just", "RB"], ["a", "DT"], ["generalization", "NN"], ["of", "IN"], ["what", "WP"], ["we", "PRP"], ["just", "RB"], ["did", "VBD"], [".", "."], ["And", "CC"], ["insertion", "NN"], [",", ","], ["works", "VBZ"], ["the", "DT"], ["same", "JJ"], ["way", "NN"], [",", ","], ["where", "WRB"], ["we", "PRP"], ["get", "VBP"], ["to", "TO"], ["the", "DT"], ["bottom", "NN"], [",", ","], ["and", "CC"], ["then", "RB"], [",", ","], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["split", "VBP"], [".", "."], ["So", "NNP"], ["let", "NN"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["just", "RB"], ["inserting", "VBG"], ["A", "DT"], ["into", "IN"], ["this", "DT"], ["B", "NNP"], ["tree", "NN"], [".", "."], ["It", "PRP"], ["comes", "VBZ"], ["into", "IN"], ["the", "DT"], ["node", "NN"], ["on", "IN"], ["the", "DT"], ["left", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["that", "DT"], ["makes", "VBZ"], ["that", "IN"], ["temporarily", "RB"], ["overful", "JJ"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["got", "VBD"], ["one", "CD"], ["too", "RB"], ["many", "JJ"], [".", "."], ["So", "IN"], ["we", "PRP"], ["split", "VBP"], ["it", "PRP"], ["into", "IN"], ["two", "CD"], ["nodes", "NNS"], [".", "."], ["And", "CC"], ["that", "IN"], ["causes", "VBZ"], ["us", "PRP"], ["to", "TO"], ["add", "VB"], ["a", "DT"], ["new", "JJ"], ["entry", "NN"], ["into", "IN"], ["this", "DT"], ["internal", "JJ"], [",", ","], ["node", "JJ"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["the", "DT"], ["C", "NNP"], [",", ","], ["which", "WDT"], ["is", "VBZ"], ["the", "DT"], ["smallest", "JJS"], ["one", "NN"], ["in", "IN"], ["this", "DT"], ["new", "JJ"], ["page", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["had", "VBD"], ["to", "TO"], ["be", "VB"], ["added", "VBN"], [".", "."], ["And", "CC"], ["we", "PRP"], ["can", "MD"], ["move", "VB"], ["all", "DT"], ["those", "DT"], ["over", "IN"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["plenty", "NN"], ["of", "IN"], ["time", "NN"], ["by", "IN"], ["the", "DT"], ["memory", "NN"], ["model", "NN"], [".", "."], ["We", "PRP"], ["'re", "VBP"], ["only", "RB"], ["counting", "VBG"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["times", "NNS"], ["we", "PRP"], ["access", "NN"], ["the", "DT"], ["pages", "NNS"], [".", "."], ["We", "PRP"], ["get", "VBP"], ["to", "TO"], ["move", "VB"], ["things", "NNS"], ["around", "IN"], ["for", "IN"], ["free", "JJ"], [".", "."], ["And", "CC"], ["you", "PRP"], ["could", "MD"], ["have", "VB"], ["some", "DT"], ["hybrid", "JJ"], ["struc", "NN"], ["ture", "NN"], ["where", "WRB"], ["you", "PRP"], ["use", "VBP"], ["something", "NN"], ["different", "JJ"], ["for", "IN"], ["the", "DT"], ["internal", "JJ"], ["model", "NN"], [".", "."], ["But", "CC"], ["usually", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["fine", "JJ"], ["just", "RB"], ["to", "TO"], ["do", "VB"], ["that", "DT"], [".", "."], ["Now", "RB"], ["that", "IN"], ["one", "CD"], ["becomes", "VBZ"], ["overfull", "NN"], [".", "."], ["So", "IN"], ["it", "PRP"], ["has", "VBZ"], ["to", "TO"], ["split", "VB"], ["and", "CC"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["create", "VB"], ["a", "DT"], ["new", "JJ"], ["route", "NN"], [",", ","], ["just", "RB"], ["in", "IN"], ["the", "DT"], ["same", "JJ"], ["way", "NN"], ["as", "IN"], ["we", "PRP"], ["'ve", "VBP"], ["been", "VBN"], ["doing", "VBG"], [".", "."], ["So", "RB"], ["without", "IN"], ["seeing", "VBG"], ["all", "PDT"], ["the", "DT"], ["details", "NNS"], ["yo", "CC"], ["can", "MD"], ["understand", "VB"], ["that", "IN"], ["the", "DT"], ["same", "JJ"], ["basic", "JJ"], ["idea", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["work", "VB"], ["in", "IN"], ["this", "DT"], ["situation", "NN"], ["where", "WRB"], ["we", "PRP"], ["'re", "VBP"], ["dealing", "VBG"], ["with", "IN"], ["much", "JJ"], [",", ","], ["much", "RB"], ["more", "JJR"], ["memory", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], ["the", "DT"], ["end", "NN"], ["result", "NN"], ["is", "VBZ"], ["that", "IN"], ["a", "DT"], ["search", "NN"], ["or", "CC"], ["an", "DT"], ["insertion", "NN"], ["in", "IN"], ["a", "DT"], ["B-tree", "NNP"], ["in", "IN"], ["a", "DT"], ["order", "NN"], ["m", "NN"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["where", "WRB"], ["we", "PRP"], ["'re", "VBP"], ["putting", "VBG"], ["M", "NNP"], ["keys", "NNS"], ["per", "IN"], ["page", "NN"], [",", ","], ["requires", "VBZ"], ["between", "IN"], ["log", "JJ"], ["base", "NN"], ["M", "NNP"], ["-", ":"], ["1N", "CD"], ["and", "CC"], ["log", "NN"], [".", "."], ["Base", "NNP"], ["M", "NNP"], ["over", "IN"], ["two", "CD"], ["M", "NNP"], ["probes", "NNS"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["a", "DT"], ["really", "RB"], ["small", "JJ"], ["number", "NN"], [",", ","], ["so", "RB"], ["say", "JJ"], ["M", "NNP"], ["is", "VBZ"], ["a", "DT"], ["1000", "CD"], [",", ","], ["log", "VBZ"], ["base", "NN"], ["M", "NNP"], ["over", "IN"], ["two", "CD"], ["is", "VBZ"], [",", ","], ["is", "VBZ"], ["log", "JJ"], ["base", "NN"], ["500", "CD"], [".", "."], ["So", "RB"], ["what", "WP"], ["power", "NN"], ["do", "VBP"], ["you", "PRP"], ["have", "VB"], ["to", "TO"], ["raise", "VB"], ["500", "CD"], ["to", "TO"], ["get", "VB"], ["bigger", "JJR"], ["than", "IN"], ["N", "NNP"], ["?", "."], ["In", "IN"], ["practice", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["like", "IN"], ["four", "CD"], ["or", "CC"], ["five", "CD"], [".", "."], ["And", "CC"], ["we", "PRP"], ["can", "MD"], ["keep", "VB"], ["the", "DT"], ["root", "NN"], ["page", "NN"], ["in", "IN"], ["memory", "NN"], ["so", "IN"], ["that", "IN"], ["it", "PRP"], ["means", "VBZ"], [",", ","], ["for", "IN"], ["any", "DT"], ["conceivable", "JJ"], ["application", "NN"], [",", ","], ["you", "PRP"], ["can", "MD"], ["get", "VB"], ["to", "TO"], ["any", "DT"], ["piece", "NN"], ["of", "IN"], ["data", "NNS"], [".", "."], ["Even", "RB"], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["trillions", "NNS"], ["of", "IN"], [",", ","], ["of", "IN"], ["pieces", "NNS"], ["of", "IN"], ["data", "NNS"], ["in", "IN"], ["this", "DT"], ["huge", "JJ"], [",", ","], ["huge", "JJ"], ["file", "NN"], [".", "."], ["You", "PRP"], ["can", "MD"], ["get", "VB"], ["to", "TO"], ["any", "DT"], ["one", "NN"], ["with", "IN"], ["only", "JJ"], ["five", "CD"], ["or", "CC"], ["six", "CD"], ["probes", "NNS"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["quite", "RB"], ["amazing", "JJ"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["really", "RB"], ["an", "DT"], ["astounding", "VBG"], ["example", "NN"], ["of", "IN"], ["algorithmic", "JJ"], ["technology", "NN"], [".", "."], ["Doing", "VBG"], ["something", "NN"], ["that", "IN"], [",", ","], ["you", "PRP"], ["would", "MD"], ["n't", "RB"], ["really", "RB"], [",", ","], ["necessarily", "RB"], ["think", "VBP"], ["that", "IN"], ["you", "PRP"], ["could", "MD"], ["do", "VB"], ["so", "RB"], ["easily", "RB"], [".", "."], ["Maintain", "VB"], ["a", "DT"], ["dynamic", "JJ"], ["search", "NN"], ["symbol", "NN"], ["table", "NN"], ["with", "IN"], ["trillions", "NNS"], ["of", "IN"], ["keys", "NNS"], [",", ","], ["so", "IN"], ["that", "IN"], ["you", "PRP"], ["can", "MD"], ["get", "VB"], ["to", "TO"], ["any", "DT"], ["key", "JJ"], ["just", "RB"], ["by", "IN"], ["looking", "VBG"], ["five", "CD"], ["or", "CC"], ["six", "CD"], ["places", "NNS"], ["but", "CC"], ["that", "DT"], ["'s", "VBZ"], ["what", "WP"], ["B-trees", "NNP"], ["provide", "NN"], ["for", "IN"], ["us", "PRP"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["a", "DT"], ["simulation", "NN"], ["that", "WDT"], ["shows", "VBZ"], ["a", "DT"], [",", ","], ["a", "DT"], ["growing", "VBG"], ["B-tree", "NNP"], ["so", "RB"], ["when", "WRB"], ["a", "DT"], ["page", "NN"], [",", ","], ["at", "IN"], ["the", "DT"], ["top", "JJ"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["just", "RB"], ["one", "CD"], ["page", "NN"], ["that", "WDT"], ["fills", "VBZ"], ["up", "RP"], [".", "."], ["When", "WRB"], ["it", "PRP"], ["fills", "VBZ"], ["up", "RP"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["red", "JJ"], [",", ","], ["and", "CC"], ["that", "IN"], ["splits", "VBZ"], ["into", "IN"], ["two", "CD"], ["half", "NN"], ["pages", "NNS"], ["and", "CC"], ["then", "RB"], ["keys", "VB"], ["get", "NN"], ["added", "VBN"], ["on", "IN"], ["one", "CD"], ["side", "NN"], ["or", "CC"], ["the", "DT"], ["other", "JJ"], ["so", "RB"], ["each", "DT"], [".", "."], ["Lying", "VBG"], ["in", "IN"], ["this", "DT"], ["table", "NN"], ["some", "DT"], ["pages", "NNS"], ["getting", "VBG"], ["a", "DT"], ["new", "JJ"], ["key", "NN"], ["and", "CC"], ["eventually", "RB"], ["one", "CD"], ["of", "IN"], ["them", "PRP"], ["fills", "VBZ"], ["up", "RP"], ["and", "CC"], ["splits", "NNS"], [".", "."], ["Now", "RB"], ["we", "PRP"], ["have", "VBP"], ["three", "CD"], ["pages", "NNS"], ["and", "CC"], ["we", "PRP"], ["keep", "VBP"], ["going", "VBG"], ["eventually", "RB"], ["one", "CD"], ["of", "IN"], ["them", "PRP"], ["fills", "VBZ"], ["up", "RP"], ["and", "CC"], ["splits", "NNS"], [".", "."], ["Now", "RB"], ["we", "PRP"], ["have", "VBP"], ["four", "CD"], ["pages", "NNS"], ["and", "CC"], ["now", "RB"], ["this", "DT"], ["time", "NN"], ["the", "DT"], ["first", "JJ"], ["one", "NN"], ["fills", "VBZ"], ["up", "RP"], ["and", "CC"], ["splits", "NNS"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["So", "IN"], ["the", "DT"], ["black", "JJ"], ["is", "VBZ"], ["the", "DT"], ["occupied", "JJ"], ["part", "NN"], ["of", "IN"], ["the", "DT"], ["page", "NN"], [".", "."], ["The", "DT"], ["white", "JJ"], ["is", "VBZ"], ["the", "DT"], ["unoccupied", "JJ"], ["part", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["full", "JJ"], ["page", "NN"], ["about", "IN"], ["to", "TO"], ["split", "VB"], ["then", "RB"], ["right", "RB"], ["below", "IN"], ["there", "EX"], ["'s", "VBZ"], ["two", "CD"], ["pages", "NNS"], [".", "."], ["S", "NNP"], ["o", "IN"], ["this", "DT"], ["shows", "VBZ"], ["the", "DT"], ["process", "NN"], ["of", "IN"], ["building", "VBG"], ["a", "DT"], ["large", "JJ"], ["B-tree", "NNP"], [".", "."], ["And", "CC"], ["that", "DT"], ["and", "CC"], ["you", "PRP"], ["can", "MD"], ["see", "VB"], ["the", "DT"], ["amount", "NN"], ["of", "IN"], ["black", "JJ"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["kind", "NN"], ["of", "IN"], ["half", "NN"], ["empty", "JJ"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["little", "RB"], ["more", "JJR"], ["than", "IN"], ["half", "NN"], ["empty", "JJ"], ["usually", "RB"], ["now", "RB"], [",", ","], ["as", "IN"], ["this", "DT"], ["shows", "VBZ"], [".", "."], ["And", "CC"], [",", ","], ["and", "CC"], ["people", "NNS"], ["have", "VBP"], ["variants", "NNS"], ["of", "IN"], ["these", "DT"], ["algorithms", "NNS"], ["that", "WDT"], ["keep", "VBP"], ["it", "PRP"], ["more", "RBR"], [",", ","], ["much", "RB"], ["more", "JJR"], ["than", "IN"], ["half", "NN"], ["empty", "JJ"], ["if", "IN"], ["that", "DT"], ["kind", "NN"], ["of", "IN"], ["space", "NN"], ["is", "VBZ"], ["a", "DT"], [",", ","], ["is", "VBZ"], ["a", "DT"], ["consideration", "NN"], [".", "."], ["So", "RB"], [",", ","], ["as", "IN"], ["I", "PRP"], ["'ve", "VBP"], ["mentioned", "VBN"], [",", ","], ["red", "JJ"], ["black", "JJ"], ["trees", "NNS"], ["and", "CC"], ["B-trees", "NNS"], ["are", "VBP"], ["widely", "RB"], ["used", "VBN"], ["as", "IN"], ["system", "NN"], ["symbol", "NN"], ["tables", "NNS"], [".", "."], ["The", "DT"], ["Java", "NNP"], ["implementation", "NN"], ["of", "IN"], ["tree", "JJ"], ["map", "NN"], ["and", "CC"], ["tree", "NN"], ["set", "NN"], ["is", "VBZ"], ["red", "JJ"], ["black", "JJ"], ["trees", "NNS"], [",", ","], ["C++", "NNP"], [",", ","], ["the", "DT"], ["standard", "JJ"], ["template", "NN"], ["library", "JJ"], ["uses", "NNS"], [",", ","], ["red", "JJ"], ["black", "JJ"], ["trees", "NNS"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["also", "RB"], [",", ","], ["used", "VBD"], ["in", "IN"], ["the", "DT"], [",", ","], ["Linux", "NNP"], ["kernel", "NNP"], [",", ","], ["and", "CC"], ["in", "IN"], ["many", "JJ"], ["other", "JJ"], ["systems", "NNS"], [".", "."], ["B-trees", "NNS"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["many", "JJ"], ["different", "JJ"], ["variants", "NNS"], ["that", "IN"], [",", ","], ["give", "VB"], ["different", "JJ"], ["characteristics", "NNS"], ["of", "IN"], [",", ","], ["space", "NN"], ["usage", "NN"], ["and", "CC"], ["other", "JJ"], ["characteristics", "NNS"], [".", "."], ["In", "IN"], ["most", "JJS"], ["databases", "NNS"], [",", ","], ["nowadays", "NNS"], ["that", "IN"], [",", ","], ["that", "IN"], ["you", "PRP"], ["might", "MD"], ["use", "VB"], [".", "."], ["Sql", "NNP"], ["or", "CC"], ["Oracles", "NNP"], ["database", "NN"], ["and", "CC"], ["others", "NNS"], [",", ","], ["are", "VBP"], ["based", "VBN"], ["on", "IN"], [",", ","], ["some", "DT"], ["variant", "NN"], ["of", "IN"], ["B-trees", "NNP"], ["because", "IN"], ["they", "PRP"], ["'re", "VBP"], ["so", "RB"], [",", ","], ["so", "RB"], ["effective", "JJ"], [".", "."], ["But", "CC"], ["you", "PRP"], ["really", "RB"], ["know", "VBP"], ["that", "IN"], ["your", "PRP$"], ["data", "NNS"], ["structure", "NN"], ["and", "CC"], ["algorithm", "NN"], ["is", "VBZ"], ["used", "VBN"], ["by", "IN"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["people", "NNS"], ["when", "WRB"], ["it", "PRP"], ["appears", "VBZ"], ["in", "IN"], ["the", "DT"], ["popular", "JJ"], ["culture", "NN"], [".", "."], ["My", "PRP$"], ["friend", "NN"], ["Philippe", "NNP"], ["Flajolet", "NNP"], ["who", "WP"], ["recently", "RB"], ["died", "VBD"], ["was", "VBD"], ["a", "DT"], ["famous", "JJ"], ["French", "JJ"], ["mathematician", "JJ"], ["send", "VB"], ["me", "PRP"], ["an", "DT"], ["e-mail", "JJ"], ["late", "JJ"], ["one", "CD"], ["night", "NN"], [".", "."], ["He", "PRP"], ["was", "VBD"], ["quite", "RB"], ["excited", "JJ"], ["because", "IN"], ["he", "PRP"], ["was", "VBD"], ["watching", "VBG"], ["a", "DT"], ["re-run", "NN"], ["on", "IN"], [",", ","], ["of", "IN"], ["an", "DT"], ["English", "NNP"], ["actually", "RB"], ["Canadian", "JJ"], ["TV", "NN"], ["show", "NN"], ["on", "IN"], ["French", "JJ"], ["TV", "NN"], [".", "."], ["I", "PRP"], ["did", "VBD"], ["n't", "RB"], ["know", "VB"], ["he", "PRP"], ["spend", "VB"], ["his", "PRP$"], ["time", "NN"], ["doing", "VBG"], ["that", "DT"], ["But", "CC"], ["he", "PRP"], ["was", "VBD"], ["very", "RB"], ["excited", "JJ"], ["because", "IN"], ["he", "PRP"], ["saw", "VBD"], ["this", "DT"], ["clip", "NN"], [".", "."], [">", "CC"], [">", "VBD"], ["It", "PRP"], ["was", "VBD"], ["the", "DT"], ["red", "JJ"], ["door", "NN"], ["again", "RB"], [".", "."], [">", "VB"], [">", "JJ"], ["I", "PRP"], ["thought", "VBD"], ["the", "DT"], ["red", "JJ"], ["door", "NN"], ["was", "VBD"], ["the", "DT"], ["storage", "NN"], ["container", "NN"], [".", "."], [">", "JJ"], [">", "NN"], ["But", "CC"], ["it", "PRP"], ["was", "VBD"], ["n't", "RB"], ["red", "JJ"], ["anymore", "RB"], [",", ","], ["it", "PRP"], ["was", "VBD"], ["black", "JJ"], [".", "."], [">", "JJ"], [">", "NNP"], ["So", "NNP"], ["red", "JJ"], ["turning", "NN"], ["to", "TO"], ["black", "JJ"], ["means", "VBZ"], ["what", "WP"], ["?", "."], [">", "JJ"], [">", "NNP"], ["Budget", "NNP"], ["deficits", "NNS"], [",", ","], ["red", "JJ"], ["ink", "NN"], [",", ","], ["black", "JJ"], ["ink", "NN"], [".", "."], [">", "CC"], [">", "IN"], ["It", "PRP"], ["could", "MD"], ["be", "VB"], ["from", "IN"], ["a", "DT"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], [".", "."], ["The", "DT"], ["red", "JJ"], ["black", "JJ"], ["tree", "NN"], ["tracks", "NNS"], ["every", "DT"], ["simple", "JJ"], ["path", "NN"], ["from", "IN"], ["a", "DT"], ["node", "NN"], ["to", "TO"], ["a", "DT"], ["descendant", "JJ"], ["leaf", "NN"], ["that", "WDT"], ["has", "VBZ"], ["the", "DT"], ["same", "JJ"], ["number", "NN"], ["of", "IN"], ["black", "JJ"], ["nodes", "NNS"], [".", "."], [">", "JJ"], [">", "NN"], ["Does", "NNP"], ["that", "IN"], ["help", "VB"], ["you", "PRP"], ["with", "IN"], ["the", "DT"], ["ladies", "NNS"], ["?", "."], [">", "JJ"], [">", "NNP"], ["So", "NNP"], ["not", "RB"], ["only", "RB"], ["is", "VBZ"], ["there", "RB"], ["some", "DT"], ["excitement", "NN"], ["in", "IN"], ["that", "DT"], ["dialogue", "NN"], ["but", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["also", "RB"], ["technically", "RB"], ["correct", "JJ"], ["which", "WDT"], ["you", "PRP"], ["do", "VBP"], ["n't", "RB"], ["often", "RB"], ["find", "VB"], ["with", "IN"], ["math", "NN"], ["in", "IN"], ["popular", "JJ"], ["culture", "NN"], ["of", "IN"], ["computer", "NN"], ["science", "NN"], [".", "."], ["A", "DT"], ["red", "JJ"], ["black", "JJ"], ["tree", "NN"], ["tracks", "NNS"], ["every", "DT"], ["simple", "JJ"], ["path", "NN"], ["from", "IN"], ["a", "DT"], ["node", "NN"], ["to", "TO"], ["a", "DT"], ["descendant", "JJ"], ["leaf", "NN"], ["with", "IN"], ["the", "DT"], ["same", "JJ"], ["number", "NN"], ["of", "IN"], ["black", "JJ"], ["nodes", "NNS"], ["they", "PRP"], ["got", "VBD"], ["that", "IN"], ["rig", "NN"], ["ht", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["also", "RB"], ["true", "JJ"], ["of", "IN"], ["B-trees", "NNP"], ["and", "CC"], ["both", "DT"], ["of", "IN"], ["these", "DT"], ["methods", "NNS"], ["are", "VBP"], ["very", "RB"], ["effective", "JJ"], ["and", "CC"], ["widely", "RB"], ["use", "NN"], [".", "."]], "title": "b trees optional", "text": "Okay. We're going to finish up by talking about some, practical applications of red black trees. And in particular, B trees which are a general, general version. So the idea the sign behind bee trees is that often, the data that we're, trying to store is, is really huge. There's a, a large amount of data. And we're, we're going to look at a more general model for external storage. Where, we work with continuous blocks of data that are big. Maybe four, 4k or bigger, or maybe even a whole file. And all we want to count is the first time we access a page, because the main cost is trying to find where the page is. Once it's read in we get to read all of the page for free pretty much. So the real property of external storage that not your local memory, is that the time required to get to a page is way larger than the time to access data within a page. So what we want to do is try to access data that's out, externally, using a minimum number of probes. That's a model of a file system that is pretty workable. And so bee trees are a generalization of. Balance trees, that allow for this. The idea is to, allow not just two or three, keys per node, but a large number like the number that can fit in a page. So, might be, M = 1000 or M = 4000. And well, we've gotta have at least, two, keys at the root. And, and the only other restriction is that, we don't want the nodes to get too empty. So we have less than M. But we want to have at least M over two. And as you'll see, this is, a generalization of, two three trees. That allows us to, build balance trees that, are very, very shallow. Typically, these are set up so that, the, all the data is in the external nodes. And so the external nodes have no links, they just have keys. And their in, kept in sorted order. So, for example, this is a external, this is M = six. This is an external five node. So it's got five keys. It's got, room for one more temporary one, And then what will happen is, when you insert into a full node, it'll split in the same as before. And then we'll pass the s plit up causing a split up higher so the red keys in the internal nodes are copies of keys down below that direct the search. And it is that, that's a little extra detail. It just makes the implementation a little bit easier and that's the way it's usually done. So but for now the main idea is that it's like a 233 except that we allow way more keys per node. And then when a node gets filled it splits. Into two so a node is always between half full and full. So it's in 1000, it splits in two. And then each side has 500. And then we can use, that property of the trees, in the analysis to, show that, it's not going to be very many probes to get to any key. So the, search is, you know, just the same as we've been doing, just generalized. There's a list of keys at every internal node and that key, tells you that, then links for every key that give you, a place where your key would have to be. So, this link is for all the keys in the B tree that are between this key and the next one and in every case, it's that way. So if we're looking for E. B and this b tree would go down the left link. And then looking on the second link cuz E is between D and H. And that's just the way it organized. And then when you get to an external node you just look for and so that's a, that's the all searches terminated in external node, in other words that's just a generalization of what we just did. And insertion, works the same way, where we get to the bottom, and then, and then we split. So let's look at just inserting A into this B tree. It comes into the node on the left. And then that makes that temporarily overful. It's got one too many. So we split it into two nodes. And that causes us to add a new entry into this internal, node. In this case, it's the C, which is the smallest one in this new page. And that had to be added. And we can move all those over. There's plenty of time by the memory model. We're only counting the number of times we access the pages. We get to move things around for free. And you could have some hybrid struc ture where you use something different for the internal model. But usually it's fine just to do that. Now that one becomes overfull. So it has to split and we have to create a new route, just in the same way as we've been doing. So without seeing all the details yo can understand that the same basic idea is going to work in this situation where we're dealing with much, much more memory. And so the end result is that a search or an insertion in a B-tree in a order m, that's where we're putting M keys per page, requires between log base M - 1N and log. Base M over two M probes and that's going to be a really small number, so say M is a 1000, log base M over two is, is log base 500. So what power do you have to raise 500 to get bigger than N? In practice that's going to be like four or five. And we can keep the root page in memory so that it means, for any conceivable application, you can get to any piece of data. Even if it's trillions of, of pieces of data in this huge, huge file. You can get to any one with only five or six probes. That's quite amazing. It's really an astounding example of algorithmic technology. Doing something that, you wouldn't really, necessarily think that you could do so easily. Maintain a dynamic search symbol table with trillions of keys, so that you can get to any key just by looking five or six places but that's what B-trees provide for us. This is a simulation that shows a, a growing B-tree so when a page, at the top, there's just one page that fills up. When it fills up, it's red, and that splits into two half pages and then keys get added on one side or the other so each. Lying in this table some pages getting a new key and eventually one of them fills up and splits. Now we have three pages and we keep going eventually one of them fills up and splits. Now we have four pages and now this time the first one fills up and splits and so forth. So the black is the occupied part of the page. The white is the unoccupied part. And the full page about to split then right below there's two pages. S o this shows the process of building a large B-tree. And that and you can see the amount of black. It's kind of half empty. It's a little more than half empty usually now, as this shows. And, and people have variants of these algorithms that keep it more, much more than half empty if that kind of space is a, is a consideration. So, as I've mentioned, red black trees and B-trees are widely used as system symbol tables. The Java implementation of tree map and tree set is red black trees, C++, the standard template library uses, red black trees. And it's also, used in the, Linux kernel, and in many other systems. B-trees, there's many different variants that, give different characteristics of, space usage and other characteristics. In most databases, nowadays that, that you might use. Sql or Oracles database and others, are based on, some variant of B-trees because they're so, so effective. But you really know that your data structure and algorithm is used by a lot of people when it appears in the popular culture. My friend Philippe Flajolet who recently died was a famous French mathematician send me an e-mail late one night. He was quite excited because he was watching a re-run on, of an English actually Canadian TV show on French TV. I didn't know he spend his time doing that But he was very excited because he saw this clip. >> It was the red door again. >> I thought the red door was the storage container. >> But it wasn't red anymore, it was black. >> So red turning to black means what? >> Budget deficits, red ink, black ink. >> It could be from a binary search tree. The red black tree tracks every simple path from a node to a descendant leaf that has the same number of black nodes. >> Does that help you with the ladies? >> So not only is there some excitement in that dialogue but it's also technically correct which you don't often find with math in popular culture of computer science. A red black tree tracks every simple path from a node to a descendant leaf with the same number of black nodes they got that rig ht. And that's also true of B-trees and both of these methods are very effective and widely use. ", "video_ID": 46, "course_id": 3}
{"category": ["geometric applications of bsts"], "tagged": [["Welcome", "NNP"], ["back", "RB"], [".", "."], ["Today", "NN"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["gon", "JJ"], ["na", "TO"], ["take", "VB"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["a", "DT"], ["number", "NN"], ["of", "IN"], ["interesting", "JJ"], ["applications", "NNS"], ["of", "IN"], ["symbol", "NN"], ["tables", "NNS"], ["and", "CC"], ["the", "DT"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], ["data", "NNS"], ["structure", "NN"], ["to", "TO"], ["address", "VB"], ["problems", "NNS"], ["with", "IN"], ["processing", "VBG"], ["geometric", "JJ"], ["data", "NNS"], [".", "."], ["So", "NNP"], ["let", "NN"], ["'s", "POS"], ["take", "VB"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["it", "PRP"], [".", "."], ["The", "DT"], ["idea", "NN"], ["is", "VBZ"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["gon", "VBG"], ["na", "TO"], ["be", "VB"], ["talking", "VBG"], ["about", "IN"], ["geometric", "JJ"], ["objects", "NNS"], [",", ","], ["not", "RB"], ["simple", "JJ"], ["keys", "NNS"], ["like", "IN"], ["strings", "NNS"], ["and", "CC"], ["numbers", "NNS"], [".", "."], ["So", "RB"], ["here", "RB"], ["'s", "VBZ"], ["an", "DT"], ["example", "NN"], [".", "."], ["So", "CC"], ["say", "VB"], ["your", "PRP$"], ["geometric", "JJ"], ["objects", "NNS"], ["are", "VBP"], ["points", "NNS"], ["in", "IN"], ["the", "DT"], ["plane", "NN"], ["and", "CC"], ["you", "PRP"], ["specify", "VBP"], ["a", "DT"], ["rectangle", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["oriented", "VBN"], ["with", "IN"], ["the", "DT"], ["horizontal/vertical", "JJ"], ["axes", "NNS"], [".", "."], ["And", "CC"], ["you", "PRP"], ["might", "MD"], ["wan", "VB"], ["na", "JJ"], ["ask", "NN"], [",", ","], ["which", "WDT"], ["points", "NNS"], ["are", "VBP"], ["inside", "IN"], ["the", "DT"], ["rectangle", "NN"], ["or", "CC"], ["how", "WRB"], ["many", "JJ"], ["points", "NNS"], ["are", "VBP"], ["inside", "IN"], ["the", "DT"], ["rectangle", "NN"], ["?", "."], ["Or", "CC"], ["maybe", "RB"], ["what", "WP"], ["you", "PRP"], ["are", "VBP"], ["processing", "VBG"], ["is", "VBZ"], ["rectangles", "NNS"], [".", "."], ["You", "PRP"], ["have", "VBP"], ["a", "DT"], ["set", "NN"], ["of", "IN"], ["rectangles", "NNS"], [",", ","], ["and", "CC"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["know", "VB"], ["which", "WDT"], ["of", "IN"], ["these", "DT"], ["rectangles", "NNS"], ["intersect", "VBP"], ["?", "."], ["Or", "CC"], ["how", "WRB"], ["many", "JJ"], ["rectangles", "NNS"], ["intersections", "NNS"], ["are", "VBP"], ["there", "RB"], ["?", "."], ["These", "DT"], ["are", "VBP"], ["interesting", "VBG"], ["problems", "NNS"], ["that", "WDT"], ["have", "VBP"], ["lots", "NNS"], ["and", "CC"], ["lots", "NNS"], ["of", "IN"], ["applications", "NNS"], [",", ","], ["from", "IN"], ["computerated", "VBN"], ["design", "NN"], [",", ","], ["to", "TO"], ["games", "NNS"], ["and", "CC"], ["movies", "NNS"], ["and", "CC"], ["also", "RB"], ["in", "IN"], ["abstractions", "NNS"], ["such", "JJ"], ["as", "IN"], ["data", "NNS"], ["bases", "NNS"], ["and", "CC"], ["other", "JJ"], ["situations", "NNS"], ["where", "WRB"], ["you", "PRP"], ["might", "MD"], ["have", "VB"], ["multiple", "JJ"], ["keys", "NNS"], ["or", "CC"], ["multiple", "JJ"], ["dimensions", "NNS"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["very", "RB"], ["interesting", "JJ"], ["extension", "NN"], ["of", "IN"], ["the", "DT"], ["ideas", "NNS"], ["that", "IN"], ["we", "PRP"], ["'ve", "VBP"], ["looked", "VBN"], ["at", "IN"], ["for", "IN"], ["symbol", "NN"], ["tables", "NNS"], ["for", "IN"], ["all", "DT"], ["sorts", "NNS"], ["of", "IN"], ["familiar", "JJ"], ["applications", "NNS"], [".", "."], ["And", "CC"], [",", ","], ["surprisingly", "RB"], ["binary", "JJ"], ["search", "NN"], ["trees", "NNS"], ["and", "CC"], ["these", "DT"], ["associated", "VBN"], ["algorithms", "NN"], ["that", "IN"], ["we", "PRP"], ["'ve", "VBP"], ["looked", "VBN"], ["at", "IN"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["provide", "VB"], ["very", "RB"], ["efficient", "JJ"], ["solutions", "NNS"], ["to", "TO"], ["a", "DT"], ["number", "NN"], ["of", "IN"], ["important", "JJ"], ["problems", "NNS"], ["in", "IN"], ["this", "DT"], ["area", "NN"], [".", "."], ["And", "CC"], ["really", "RB"], ["have", "VB"], ["enabled", "VBN"], ["a", "DT"], ["new", "JJ"], ["developments", "NNS"], ["and", "CC"], ["new", "JJ"], ["technology", "NN"], ["in", "IN"], ["all", "DT"], ["of", "IN"], ["these", "DT"], ["kinds", "NNS"], ["of", "IN"], ["applications", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["to", "TO"], ["get", "VB"], ["started", "VBN"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["a", "DT"], ["simple", "NN"], ["problem", "NN"], ["called", "VBN"], ["one-dimensional", "JJ"], ["range", "NN"], ["search", "NN"], [".", "."], ["And", "CC"], ["it", "PRP"], ["really", "RB"], ["forms", "VBZ"], ["the", "DT"], ["basis", "NN"], ["for", "IN"], ["what", "WP"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["of", "IN"], ["an", "DT"], ["extension", "NN"], ["of", "IN"], ["the", "DT"], ["ordered", "JJ"], ["symbol", "NN"], ["table", "NN"], ["API", "NNP"], ["that", "IN"], ["we", "PRP"], ["gave", "VBD"], ["before", "RB"], ["and", "CC"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["operations", "NNS"], ["range-search", "JJ"], ["and", "CC"], ["range-count", "NN"], [".", "."], ["So", "RB"], [",", ","], ["a", "DT"], ["one-dimensional", "JJ"], ["just", "RB"], ["means", "VBZ"], ["we", "PRP"], ["have", "VBP"], ["one", "CD"], ["key", "NN"], [",", ","], ["so", "IN"], ["we", "PRP"], ["'ll", "MD"], ["insert", "VB"], ["a", "DT"], ["key", "JJ"], ["value", "NN"], ["pairs", "NNS"], ["before", "IN"], ["and", "CC"], ["what", "WP"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["search", "VB"], ["for", "IN"], ["a", "DT"], ["key", "NN"], [",", ","], ["and", "CC"], ["a", "DT"], ["value", "NN"], ["associated", "VBN"], ["with", "IN"], ["it", "PRP"], [",", ","], ["want", "VBP"], ["to", "TO"], ["b", "VB"], ["e", "NN"], ["able", "JJ"], ["to", "TO"], ["delete", "VB"], [".", "."], ["But", "CC"], ["then", "RB"], ["we", "PRP"], ["want", "VBP"], ["these", "DT"], ["operations", "NNS"], ["range-search", "NN"], ["and", "CC"], ["range-count", "NN"], [".", "."], ["So", "RB"], [",", ","], ["find", "VBP"], ["all", "PDT"], ["the", "DT"], ["keys", "NNS"], ["that", "WDT"], ["are", "VBP"], ["between", "IN"], ["two", "CD"], ["given", "VBN"], ["keys", "NNS"], [",", ","], ["or", "CC"], ["give", "VB"], ["how", "WRB"], ["many", "JJ"], ["keys", "NNS"], ["are", "VBP"], ["there", "RB"], ["between", "IN"], ["two", "CD"], ["given", "VBN"], ["keys", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["for", "IN"], ["this", "DT"], ["example", "NN"], ["at", "IN"], ["right", "NN"], ["we", "PRP"], ["have", "VBP"], ["insert", "VBN"], ["a", "DT"], ["number", "NN"], ["of", "IN"], ["keys", "NNS"], ["and", "CC"], [",", ","], ["and", "CC"], ["we", "PRP"], ["'re", "VBP"], ["just", "RB"], ["showing", "VBG"], ["them", "PRP"], ["in", "IN"], ["sorted", "VBN"], ["order", "NN"], [".", "."], ["But", "CC"], ["then", "RB"], [",", ","], ["you", "PRP"], ["might", "MD"], ["say", "VB"], [",", ","], ["well", "RB"], [",", ","], ["how", "WRB"], ["many", "JJ"], ["keys", "NNS"], ["are", "VBP"], ["there", "RB"], ["that", "IN"], ["are", "VBP"], ["between", "IN"], ["g", "NNS"], ["and", "CC"], ["k", "VB"], ["?", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["just", "RB"], ["two", "CD"], [".", "."], ["And", "CC"], ["then", "RB"], ["the", "DT"], ["client", "NN"], ["might", "MD"], ["say", "VB"], [",", ","], ["well", "RB"], [",", ","], ["what", "WP"], ["are", "VBP"], ["those", "DT"], ["keys", "NNS"], ["and", "CC"], ["you", "PRP"], ["want", "VBP"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["return", "VB"], ["them", "PRP"], [".", "."], ["And", "CC"], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], ["very", "RB"], ["common", "JJ"], ["operation", "NN"], [",", ","], ["say", "VBP"], [",", ","], ["in", "IN"], ["databases", "NNS"], [".", "."], ["You", "PRP"], ["want", "VBP"], ["to", "TO"], ["return", "VB"], ["how", "WRB"], ["many", "JJ"], ["taxpayers", "NNS"], ["have", "VBP"], ["salaries", "NNS"], ["between", "IN"], ["one", "CD"], ["million", "CD"], ["and", "CC"], ["ten", "CD"], ["million", "CD"], ["and", "CC"], ["then", "RB"], ["which", "WDT"], ["ones", "NNS"], ["are", "VBP"], ["they", "PRP"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["So", "RB"], [",", ","], ["range", "NN"], ["searching", "NN"], ["is", "VBZ"], ["a", "DT"], ["very", "RB"], ["important", "JJ"], ["fundamental", "JJ"], ["operation", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["in", "IN"], ["geometric", "JJ"], ["interpretation", "NN"], [",", ","], ["we", "PRP"], ["just", "RB"], ["think", "VBP"], ["that", "IN"], ["the", "DT"], ["keys", "NNS"], ["as", "IN"], ["points", "NNS"], ["on", "IN"], ["a", "DT"], ["line", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], [",", ","], ["the", "DT"], ["key", "NN"], ["values", "NNS"], ["well", "RB"], [",", ","], ["are", "VBP"], ["just", "RB"], ["specified", "VBN"], ["as", "IN"], ["points", "NNS"], ["on", "IN"], ["a", "DT"], ["line", "NN"], [".", "."], ["We", "PRP"], ["might", "MD"], ["convert", "VB"], ["the", "DT"], ["letters", "NNS"], ["to", "TO"], ["numbers", "NNS"], [",", ","], ["or", "CC"], ["we", "PRP"], ["might", "MD"], [",", ","], ["keys", "VB"], ["might", "MD"], ["be", "VB"], ["numbers", "NNS"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["what", "WP"], ["we", "PRP"], ["'re", "VBP"], ["looking", "VBG"], ["for", "IN"], ["is", "VBZ"], ["to", "TO"], ["find", "VB"], ["or", "CC"], ["count", "VB"], ["the", "DT"], ["points", "NNS"], ["in", "IN"], ["a", "DT"], ["given", "VBN"], ["interval", "NN"], ["in", "IN"], ["one", "CD"], ["dimension", "NN"], [".", "."], ["So", "CC"], ["how", "WRB"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["ti", "JJ"], ["implement", "NN"], ["that", "IN"], ["?", "."], ["Well", "NNP"], ["this", "DT"], ["is", "VBZ"], ["the", "DT"], ["basic", "JJ"], ["problem", "NN"], ["that", "WDT"], ["is", "VBZ"], ["very", "RB"], ["similar", "JJ"], ["to", "TO"], ["our", "PRP$"], ["symbol", "NN"], ["table", "NN"], ["problem", "NN"], [".", "."], ["We", "PRP"], ["might", "MD"], ["consider", "VB"], ["keeping", "VBG"], ["the", "DT"], ["things", "NNS"], ["in", "IN"], ["an", "DT"], ["unordered", "JJ"], ["array", "NN"], [".", "."], ["Just", "NNP"], ["put", "VBD"], ["them", "PRP"], ["in", "IN"], ["an", "DT"], ["array", "NN"], [",", ","], ["and", "CC"], ["then", "RB"], [",", ","], ["well", "RB"], [",", ","], ["insertion", "NN"], ["is", "VBZ"], [",", ","], ["is", "VBZ"], ["fast", "RB"], [".", "."], ["We", "PRP"], ["just", "RB"], ["add", "VB"], ["it", "PRP"], ["to", "TO"], ["the", "DT"], ["end", "NN"], ["of", "IN"], ["the", "DT"], ["array", "NN"], [".", "."], ["We", "PRP"], ["might", "MD"], ["have", "VB"], ["to", "TO"], ["use", "VB"], ["resizing", "VBG"], ["to", "TO"], ["make", "VB"], ["the", "DT"], ["array", "NN"], ["grow", "NN"], [".", "."], ["But", "CC"], ["this", "DT"], ["is", "VBZ"], ["unattractive", "JJ"], ["because", "IN"], ["for", "IN"], ["large", "JJ"], ["numbers", "NNS"], ["of", "IN"], ["keys", "NNS"], [",", ","], ["in", "IN"], ["order", "NN"], ["to", "TO"], ["count", "VB"], ["the", "DT"], ["keys", "NNS"], ["that", "WDT"], ["fall", "VBP"], ["within", "IN"], ["a", "DT"], ["given", "VBN"], ["range", "NN"], [",", ","], ["you", "PRP"], ["have", "VBP"], ["to", "TO"], ["go", "VB"], ["through", "IN"], ["all", "PDT"], ["the", "DT"], ["keys", "NNS"], ["and", "CC"], ["test", "NN"], ["whether", "IN"], ["they", "PRP"], ["'re", "VBP"], ["in", "IN"], ["the", "DT"], ["range", "NN"], ["or", "CC"], ["not", "RB"], ["and", "CC"], ["to", "TO"], ["return", "VB"], ["them", "PRP"], ["the", "DT"], ["same", "JJ"], ["way", "NN"], [".", "."], ["So", "RB"], ["take", "JJ"], ["linear", "JJ"], ["time", "NN"], ["for", "IN"], ["large", "JJ"], ["number", "NN"], ["of", "IN"], ["keys", "NNS"], [".", "."], ["If", "IN"], ["you", "PRP"], ["keep", "VBP"], ["the", "DT"], ["things", "NNS"], ["in", "IN"], ["order", "NN"], ["like", "IN"], ["in", "IN"], ["a", "DT"], ["binary", "JJ"], ["search", "NN"], ["situation", "NN"], ["then", "RB"], ["to", "TO"], ["insert", "VB"], ["in", "IN"], ["order", "NN"], ["to", "TO"], ["keep", "VB"], ["it", "PRP"], ["in", "IN"], ["order", "NN"], ["in", "IN"], ["an", "DT"], ["array", "NN"], [",", ","], ["you", "PRP"], ["might", "MD"], ["need", "VB"], ["to", "TO"], ["move", "VB"], ["the", "DT"], ["larger", "JJR"], ["ones", "NNS"], ["over", "IN"], ["one", "CD"], ["pos", "NN"], ["ition", "NN"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], ["or", "CC"], ["elementary", "JJ"], ["implementation", "NN"], ["of", "IN"], ["binary", "JJ"], ["search", "NN"], ["when", "WRB"], ["we", "PRP"], ["did", "VBD"], ["symbol", "NN"], ["tables", "NNS"], ["did", "VBD"], ["this", "DT"], [".", "."], ["So", "RB"], [",", ","], ["the", "DT"], ["insertion", "NN"], ["time", "NN"], ["might", "MD"], ["be", "VB"], ["linear", "JJ"], [",", ","], ["but", "CC"], ["then", "RB"], ["you", "PRP"], ["can", "MD"], ["use", "VB"], ["binary", "JJ"], ["search", "NN"], [",", ","], ["to", "TO"], ["look", "VB"], ["for", "IN"], ["the", "DT"], ["two", "CD"], ["endpoints", "NNS"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["only", "RB"], ["going", "VBG"], ["to", "TO"], ["take", "VB"], ["time", "NN"], ["proportional", "JJ"], ["to", "TO"], ["log", "VB"], ["in", "IN"], [".", "."], ["And", "CC"], ["then", "RB"], ["from", "IN"], ["that", "IN"], [",", ","], ["you", "PRP"], ["can", "MD"], ["figure", "VB"], ["out", "RP"], ["how", "WRB"], ["many", "JJ"], ["keys", "NNS"], ["there", "EX"], ["are", "VBP"], ["or", "CC"], ["return", "VB"], ["them", "PRP"], ["all", "DT"], ["between", "IN"], ["the", "DT"], ["index", "NN"], [",", ","], ["the", "DT"], ["lowest", "JJS"], ["one", "NN"], ["in", "IN"], ["the", "DT"], ["range", "NN"], [",", ","], ["index", "NN"], ["the", "DT"], ["highest", "JJS"], ["one", "NN"], ["in", "IN"], ["the", "DT"], ["range", "NN"], [".", "."], ["So", "NNP"], [",", ","], ["those", "DT"], ["elementary", "JJ"], ["implementations", "NNS"], ["are", "VBP"], ["no", "DT"], ["acceptable", "JJ"], ["for", "IN"], ["a", "DT"], ["large", "JJ"], ["numbers", "NNS"], ["of", "IN"], ["keys", "NNS"], ["cuz", "VBP"], ["they", "PRP"], ["have", "VBP"], ["the", "DT"], ["linear", "JJ"], ["time", "NN"], ["operation", "NN"], [".", "."], ["So", "RB"], [",", ","], ["what", "WP"], ["we", "PRP"], ["really", "RB"], ["want", "VBP"], ["is", "VBZ"], ["to", "TO"], ["have", "VB"], ["time", "NN"], ["proportional", "JJ"], ["to", "TO"], ["log", "VB"], ["in", "IN"], [".", "."], ["For", "IN"], ["insert", "NN"], ["and", "CC"], [",", ","], ["and", "CC"], ["for", "IN"], ["counting", "NN"], [".", "."], ["For", "IN"], ["range", "NN"], ["search", "NN"], [",", ","], ["of", "IN"], ["course", "NN"], [",", ","], ["we", "PRP"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["touch", "VB"], ["every", "DT"], ["key", "NN"], ["that", "IN"], ["we", "PRP"], ["return", "VBP"], [",", ","], ["so", "IN"], ["the", "DT"], ["running", "JJ"], ["time", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["proportional", "JJ"], ["to", "TO"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["keys", "NNS"], ["that", "WDT"], ["match", "VBP"], [".", "."], ["But", "CC"], ["anyway", "RB"], [",", ","], ["those", "DT"], ["are", "VBP"], ["reasonable", "JJ"], ["goals", "NNS"], [".", "."], ["And", "CC"], ["they", "PRP"], ["'re", "VBP"], ["easy", "JJ"], ["to", "TO"], ["achieve", "VB"], [".", "."], ["So", "NNP"], ["[", "JJ"], ["cough", "NN"], ["]", "NNP"], ["so", "RB"], [",", ","], ["for", "IN"], ["example", "NN"], ["what", "WP"], ["about", "IN"], ["one-dimensional", "JJ"], ["range", "NN"], ["counting", "NN"], ["?", "."], ["Well", "UH"], [",", ","], ["what", "WP"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["just", "RB"], ["keep", "VB"], ["the", "DT"], ["keys", "NNS"], ["in", "IN"], ["a", "DT"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], ["and", "CC"], ["we", "PRP"], ["looked", "VBD"], ["at", "IN"], ["the", "DT"], ["implementation", "NN"], ["of", "IN"], ["the", "DT"], ["rank", "NN"], ["function", "NN"], ["for", "IN"], ["binary", "JJ"], ["search", "NN"], ["trees", "NNS"], ["where", "WRB"], ["for", "IN"], ["every", "DT"], ["key", "NN"], [",", ","], ["we", "PRP"], ["can", "MD"], ["compute", "VB"], ["how", "WRB"], ["many", "JJ"], ["keys", "NNS"], ["are", "VBP"], ["there", "RB"], ["that", "IN"], ["are", "VBP"], ["strictly", "RB"], ["less", "JJR"], ["than", "IN"], ["that", "DT"], ["key", "NN"], [".", "."], ["So", "RB"], ["in", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["the", "DT"], ["rank", "NN"], ["of", "IN"], ["e", "NN"], ["is", "VBZ"], ["two", "CD"], ["and", "CC"], ["h", "NN"], ["is", "VBZ"], ["three", "CD"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["So", "RB"], [",", ","], ["in", "IN"], ["a", "DT"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], [",", ","], ["those", "DT"], ["rank", "JJ"], ["numbers", "NNS"], ["go", "VBP"], ["in", "IN"], ["an", "DT"], ["increasing", "VBG"], ["order", "NN"], ["as", "IN"], ["we", "PRP"], ["do", "VBP"], ["in", "IN"], ["an", "DT"], ["ordered", "JJ"], ["traversal", "NN"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["easy", "JJ"], ["to", "TO"], ["compute", "VB"], [".", "."], ["You", "PRP"], ["need", "VBP"], ["to", "TO"], ["keep", "VB"], ["that", "IN"], ["rank", "NN"], ["tree", "NN"], ["as", "IN"], ["a", "DT"], ["field", "NN"], [",", ","], ["or", "CC"], ["keep", "VB"], ["a", "DT"], ["field", "NN"], ["which", "WDT"], ["has", "VBZ"], ["the", "DT"], ["size", "NN"], ["of", "IN"], ["the", "DT"], ["tree", "NN"], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["easy", "JJ"], ["to", "TO"], ["complete", "VB"], ["the", "DT"], ["rank", "NN"], ["from", "IN"], ["that", "DT"], [".", "."], ["So", "NNP"], ["how", "WRB"], ["many", "JJ"], ["keys", "NNS"], ["between", "IN"], [",", ","], ["say", "VBP"], ["e", "NN"], ["and", "CC"], ["s", "NN"], ["?", "."], ["Well", "NNP"], ["one", "CD"], [",", ","], ["two", "CD"], [",", ","], ["three", "CD"], [",", ","], ["four", "CD"], [",", ","], ["five", "CD"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["actually", "RB"], ["just", "RB"], ["the", "DT"], ["difference", "NN"], ["between", "IN"], ["the", "DT"], ["ranks", "NNS"], ["plus", "CC"], ["one", "CD"], ["if", "IN"], ["the", "DT"], ["high", "JJ"], ["[", "NNP"], ["cough", "NN"], ["]", "NN"], ["entry", "NN"], ["in", "IN"], ["the", "DT"], ["range", "NN"], ["query", "NN"], ["is", "VBZ"], ["in", "IN"], ["the", "DT"], ["table", "NN"], ["and", "CC"], ["not", "RB"], ["+one", "VB"], ["over", "IN"], [".", "."], ["So", "RB"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["the", "DT"], ["same", "JJ"], ["number", "NN"], ["of", "IN"], ["keys", "NNS"], ["between", "IN"], ["e", "NN"], ["and", "CC"], ["s", "NN"], ["as", "IN"], ["there", "EX"], ["are", "VBP"], ["between", "IN"], ["e", "NNS"], ["and", "CC"], ["t", "JJ"], ["five", "CD"], [".", "."], ["Between", "CC"], ["f", "JJ"], ["and", "CC"], ["t", "NN"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["only", "RB"], ["f", "JJ"], ["our", "PRP$"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], [",", ","], ["a", "DT"], ["really", "RB"], ["1d", "CD"], ["range", "NN"], ["count", "NN"], ["is", "VBZ"], ["a", "DT"], ["very", "RB"], ["easy", "JJ"], ["computation", "NN"], ["to", "TO"], ["perform", "VB"], ["in", "IN"], [",", ","], ["in", "IN"], ["log", "JJ"], ["time", "NN"], ["with", "IN"], ["a", "DT"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], [".", "."], ["The", "DT"], ["[", "JJ"], ["cough", "NN"], ["]", "NNP"], ["number", "NN"], ["of", "IN"], ["nodes", "NNS"], ["examined", "VBN"], ["when", "WRB"], ["we", "PRP"], ["do", "VBP"], ["a", "DT"], ["search", "NN"], ["is", "VBZ"], ["the", "DT"], ["length", "NN"], ["of", "IN"], ["the", "DT"], ["search", "NN"], ["path", "NN"], ["to", "TO"], ["low", "JJ"], ["plus", "CC"], ["the", "DT"], ["length", "NN"], ["of", "IN"], ["the", "DT"], ["search", "NN"], ["path", "NN"], ["to", "TO"], ["high", "VB"], ["to", "TO"], ["[", "VB"], ["cough", "JJ"], ["]", "NN"], ["find", "VBP"], ["their", "PRP$"], ["ranks", "NNS"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["time", "NN"], ["proportional", "JJ"], ["to", "TO"], ["log", "VB"], ["N.", "NNP"], ["[", "NNP"], ["cough", "NN"], ["]", "NN"], [".", "."], ["So", "RB"], ["and", "CC"], ["a", "DT"], ["range", "NN"], ["search", "NN"], [".", "."], ["Well", "RB"], [",", ","], ["we", "PRP"], ["just", "RB"], ["do", "VBP"], ["a", "DT"], ["recursive", "JJ"], ["search", "NN"], ["and", "CC"], ["to", "TO"], ["find", "VB"], ["all", "PDT"], ["the", "DT"], ["keys", "NNS"], ["between", "IN"], ["low", "JJ"], ["and", "CC"], ["high", "JJ"], ["you", "PRP"], ["look", "VBP"], ["in", "IN"], ["the", "DT"], ["left", "NN"], ["subtree", "JJ"], ["if", "IN"], ["any", "DT"], ["of", "IN"], ["them", "PRP"], ["could", "MD"], ["fall", "VB"], ["in", "IN"], ["the", "DT"], ["range", "NN"], [".", "."], ["You", "PRP"], ["look", "VBP"], ["at", "IN"], ["the", "DT"], ["current", "JJ"], ["node", "NN"], ["and", "CC"], ["you", "PRP"], ["look", "VBP"], ["at", "IN"], ["the", "DT"], ["right", "JJ"], ["subtree", "NN"], [",", ","], ["if", "IN"], ["any", "DT"], ["of", "IN"], ["them", "PRP"], ["could", "MD"], ["fall", "VB"], ["in", "IN"], ["the", "DT"], ["range", "NN"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["easy", "JJ"], ["to", "TO"], ["tell", "VB"], ["whether", "IN"], ["any", "DT"], ["of", "IN"], ["them", "PRP"], ["could", "MD"], ["fall", "VB"], ["in", "IN"], ["the", "DT"], ["range", "NN"], ["by", "IN"], ["just", "RB"], ["checking", "VBG"], ["whether", "IN"], ["they", "PRP"], ["'re", "VBP"], ["range", "JJ"], ["overlaps", "IN"], ["the", "DT"], ["root", "NN"], ["or", "CC"], ["not", "RB"], [".", "."], ["So", "RB"], [",", ","], ["if", "IN"], ["we", "PRP"], ["are", "VBP"], ["looking", "VBG"], ["for", "IN"], ["all", "PDT"], ["the", "DT"], ["keys", "NNS"], ["between", "IN"], ["f", "NN"], ["and", "CC"], ["t", "NN"], ["then", "RB"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["both", "DT"], ["the", "DT"], ["subtrees", "NNS"], ["of", "IN"], ["the", "DT"], ["root", "NN"], ["s.", "NN"], ["But", "CC"], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["the", "DT"], ["left", "JJ"], ["subtree", "NN"], ["of", "IN"], ["e", "NN"], ["because", "IN"], ["all", "DT"], ["of", "IN"], ["those", "DT"], ["are", "VBP"], ["less", "JJR"], ["than", "IN"], ["e", "NN"], ["and", "CC"], ["therefore", "NN"], ["are", "VBP"], ["less", "JJR"], ["than", "IN"], ["f.", "NN"], ["So", "NNP"], [",", ","], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["have", "VB"], ["to", "TO"], ["have", "VB"], ["to", "TO"], ["look", "VB"], ["there", "RB"], [".", "."], ["But", "CC"], ["otherwise", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["simple", "JJ"], ["modification", "NN"], ["of", "IN"], ["recursive", "JJ"], ["tree", "JJ"], ["search", "NN"], ["to", "TO"], ["find", "VB"], ["all", "PDT"], ["the", "DT"], ["keys", "NNS"], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["easy", "JJ"], ["to", "TO"], ["see", "VB"], ["the", "DT"], ["running", "JJ"], ["time", "NN"], ["to", "TO"], ["that", "DT"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["proportional", "JJ"], ["to", "TO"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["keys", "NNS"], ["returned", "VBN"], ["plus", "CC"], ["log", "JJ"], ["N.", "NNP"], ["So", "NNP"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["one", "CD"], ["dimensional", "JJ"], ["range", "NN"], ["search", "NN"], ["using", "VBG"], ["binary", "JJ"], ["search", "NN"], ["trees", "NNS"], [".", "."]], "title": "1d range search", "text": "Welcome back. Today, we're gonna take a look at a number of interesting applications of symbol tables and the binary search tree data structure to address problems with processing geometric data. So let's take a look at it. The idea is that we're gonna be talking about geometric objects, not simple keys like strings and numbers. So here's an example. So say your geometric objects are points in the plane and you specify a rectangle that's oriented with the horizontal/vertical axes. And you might wanna ask, which points are inside the rectangle or how many points are inside the rectangle? Or maybe what you are processing is rectangles. You have a set of rectangles, and we want to know which of these rectangles intersect? Or how many rectangles intersections are there? These are interesting problems that have lots and lots of applications, from computerated design, to games and movies and also in abstractions such as data bases and other situations where you might have multiple keys or multiple dimensions. And it's a very interesting extension of the ideas that we've looked at for symbol tables for all sorts of familiar applications. And, surprisingly binary search trees and these associated algorithms that we've looked at are going to provide very efficient solutions to a number of important problems in this area. And really have enabled a new developments and new technology in all of these kinds of applications. So, to get started, we're going to look at a simple problem called one-dimensional range search. And it really forms the basis for what we're going to do. It's a little bit of an extension of the ordered symbol table API that we gave before and we're going to have operations range-search and range-count. So, a one-dimensional just means we have one key, so we'll insert a key value pairs before and what we want to do is to be able to search for a key, and a value associated with it, want to b e able to delete. But then we want these operations range-search and range-count. So, find all the keys that are between two given keys, or give how many keys are there between two given keys. So, for this example at right we have insert a number of keys and, and we're just showing them in sorted order. But then, you might say, well, how many keys are there that are between g and k? In this case, there's just two. And then the client might say, well, what are those keys and you want to be able to return them. And this is a very common operation, say, in databases. You want to return how many taxpayers have salaries between one million and ten million and then which ones are they and so forth. So, range searching is a very important fundamental operation. Now, in geometric interpretation, we just think that the keys as points on a line. And so, the key values well, are just specified as points on a line. We might convert the letters to numbers, or we might, keys might be numbers. And then, what we're looking for is to find or count the points in a given interval in one dimension. So how we're going ti implement that? Well this is the basic problem that is very similar to our symbol table problem. We might consider keeping the things in an unordered array. Just put them in an array, and then, well, insertion is, is fast. We just add it to the end of the array. We might have to use resizing to make the array grow. But this is unattractive because for large numbers of keys, in order to count the keys that fall within a given range, you have to go through all the keys and test whether they're in the range or not and to return them the same way. So take linear time for large number of keys. If you keep the things in order like in a binary search situation then to insert in order to keep it in order in an array, you might need to move the larger ones over one pos ition and so forth or elementary implementation of binary search when we did symbol tables did this. So, the insertion time might be linear, but then you can use binary search, to look for the two endpoints, that's only going to take time proportional to log in. And then from that, you can figure out how many keys there are or return them all between the index, the lowest one in the range, index the highest one in the range. So, those elementary implementations are no acceptable for a large numbers of keys cuz they have the linear time operation. So, what we really want is to have time proportional to log in. For insert and, and for counting. For range search, of course, we, we have to touch every key that we return, so the running time is going to be proportional to the number of keys that match. But anyway, those are reasonable goals. And they're easy to achieve. So [cough] so, for example what about one-dimensional range counting? Well, what we're going to do is just keep the keys in a binary search tree and we looked at the implementation of the rank function for binary search trees where for every key, we can compute how many keys are there that are strictly less than that key. So in this case, the rank of e is two and h is three and so forth. So, in a binary search tree, those rank numbers go in an increasing order as we do in an ordered traversal and that's easy to compute. You need to keep that rank tree as a field, or keep a field which has the size of the tree and it's easy to complete the rank from that. So how many keys between, say e and s? Well one, two, three, four, five. It's actually just the difference between the ranks plus one if the high [cough] entry in the range query is in the table and not +one over. So, there's the same number of keys between e and s as there are between e and t five. Between f and t, there's only f our. So, that's a, a really 1d range count is a very easy computation to perform in, in log time with a binary search tree. The [cough] number of nodes examined when we do a search is the length of the search path to low plus the length of the search path to high to [cough] find their ranks and that's going to be time proportional to log N. [cough]. So and a range search. Well, we just do a recursive search and to find all the keys between low and high you look in the left subtree if any of them could fall in the range. You look at the current node and you look at the right subtree, if any of them could fall in the range. And it's easy to tell whether any of them could fall in the range by just checking whether they're range overlaps the root or not. So, if we are looking for all the keys between f and t then we have to look at both the subtrees of the root s. But we don't to look at the left subtree of e because all of those are less than e and therefore are less than f. So, we don't have to have to look there. But otherwise, it's a simple modification of recursive tree search to find all the keys and it's easy to see the running time to that is going to be proportional to the number of keys returned plus log N. So, that's one dimensional range search using binary search trees. ", "video_ID": 47, "course_id": 3}
{"category": ["geometric applications of bsts"], "tagged": [["So", "RB"], ["now", "RB"], ["let", "VBP"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["a", "DT"], ["basic", "JJ"], ["geometric", "JJ"], ["data", "NNS"], ["processing", "NN"], ["problem", "NN"], ["of", "IN"], ["determining", "VBG"], ["intersections", "NNS"], ["among", "IN"], ["a", "DT"], ["set", "NN"], ["of", "IN"], ["line", "NN"], ["segments", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["called", "VBN"], ["the", "DT"], ["orthogonal", "JJ"], ["line", "NN"], ["segment", "NN"], [",", ","], ["segment", "NN"], ["intersection", "NN"], ["search", "NN"], ["where", "WRB"], ["the", "DT"], ["lines", "NNS"], ["segments", "NNS"], ["or", "CC"], ["constrained", "VBN"], ["to", "TO"], ["be", "VB"], ["either", "CC"], ["horizontal", "JJ"], ["or", "CC"], ["vertical", "JJ"], [".", "."], ["And", "CC"], ["so", "RB"], [",", ","], ["suppose", "VBP"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["large", "JJ"], ["number", "NN"], ["of", "IN"], ["such", "JJ"], ["line", "NN"], ["segments", "NNS"], ["and", "CC"], ["what", "WP"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["to", "TO"], ["find", "VB"], ["all", "DT"], ["places", "NNS"], ["where", "WRB"], ["they", "PRP"], ["intersect", "VBP"], [".", "."], ["And", "CC"], ["as", "IN"], ["we", "PRP"], ["'ll", "MD"], ["see", "VB"], ["this", "DT"], ["extends", "VBZ"], ["to", "TO"], ["a", "DT"], ["practical", "JJ"], ["problem", "NN"], ["in", "IN"], ["a", "DT"], ["number", "NN"], ["of", "IN"], ["situations", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["in", "IN"], ["this", "DT"], ["case", "NN"], ["there", "EX"], ["'s", "VBZ"], ["four", "CD"], ["places", "NNS"], ["where", "WRB"], ["these", "DT"], ["lines", "NNS"], ["intersect", "VBP"], [".", "."], ["So", "RB"], [",", ","], ["how", "WRB"], ["are", "VBP"], ["we", "PRP"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["determine", "VB"], ["these", "DT"], ["intersections", "NNS"], ["efficiently", "RB"], ["?", "."], ["Now", "RB"], [",", ","], ["the", "DT"], ["natural", "JJ"], ["algorithm", "NN"], [",", ","], ["or", "CC"], ["the", "DT"], ["naive", "JJ"], ["brute-force", "NN"], ["algorithm", "NN"], [",", ","], ["is", "VBZ"], ["quadratic", "JJ"], ["in", "IN"], ["time", "NN"], [".", "."], ["So", "CC"], ["that", "DT"], ["is", "VBZ"], [",", ","], ["for", "IN"], ["every", "DT"], ["line", "NN"], ["segment", "NN"], [",", ","], ["you", "PRP"], ["check", "VBP"], ["whether", "IN"], ["it", "PRP"], ["intersects", "VBZ"], ["with", "IN"], ["every", "DT"], ["other", "JJ"], ["line", "NN"], ["segment", "NN"], [".", "."], ["And", "CC"], ["again", "RB"], [",", ","], ["as", "IN"], ["we", "PRP"], ["know", "VBP"], [",", ","], ["such", "JJ"], ["an", "DT"], ["algorithm", "NN"], ["is", "VBZ"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["practical", "JJ"], [",", ","], ["for", "IN"], ["huge", "JJ"], ["numbers", "NNS"], ["of", "IN"], ["line", "NN"], ["segments", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["just", "RB"], [",", ","], ["to", "TO"], ["simplify", "VB"], ["our", "PRP$"], ["code", "NN"], ["in", "IN"], ["the", "DT"], ["slides", "NNS"], ["in", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["off", "RP"], [",", ","], ["off", "RB"], ["from", "IN"], ["the", "DT"], ["case", "NN"], ["for", "IN"], ["geometric", "JJ"], ["data", "NNS"], ["processing", "NN"], [".", "."], ["We", "PRP"], ["do", "VBP"], ["n't", "RB"], ["have", "VB"], ["to", "TO"], ["worry", "VB"], ["about", "IN"], ["degeneracies", "NNS"], ["where", "WRB"], ["lots", "NNS"], ["of", "IN"], ["things", "NNS"], ["have", "VBP"], ["the", "DT"], ["same", "JJ"], ["x", "NNP"], ["or", "CC"], ["y", "JJ"], ["coordinate", "NN"], [".", "."], ["And", "CC"], ["just", "RB"], ["to", "TO"], ["simplify", "VB"], ["the", "DT"], ["code", "NN"], ["and", "CC"], ["to", "TO"], ["get", "VB"], ["it", "PRP"], ["the", "DT"], ["main", "JJ"], ["principles", "NNS"], ["of", "IN"], ["the", "DT"], ["algorithms", "NN"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["assume", "VB"], ["that", "IN"], ["all", "PDT"], ["the", "DT"], ["coordinates", "NNS"], ["that", "IN"], ["we", "PRP"], ["have", "VBP"], ["are", "VBP"], ["distinct", "JJ"], ["that", "IN"], ["we", "PRP"], ["'ve", "VBP"], ["preprocessed", "VBN"], ["in", "IN"], ["some", "DT"], ["way", "NN"], ["to", "TO"], ["remove", "VB"], ["the", "DT"], ["ones", "NNS"], ["that", "WDT"], ["touch", "VBP"], ["without", "IN"], ["intersecting", "VBG"], [".", "."], ["So", "IN"], ["the", "DT"], ["method", "NN"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["is", "VBZ"], ["a", "DT"], ["so", "RB"], ["called", "JJ"], ["Sweep", "NNP"], ["Line", "NNP"], ["algorithm", "NN"], ["and", "CC"], ["the", "DT"], ["idea", "NN"], ["is", "VBZ"], ["to", "TO"], ["think", "VB"], ["of", "IN"], ["vertical", "JJ"], ["line", "NN"], ["that", "IN"], ["sweeps", "VBZ"], ["left", "VBD"], ["to", "TO"], ["right", "VB"], ["through", "IN"], ["the", "DT"], ["data", "NNS"], [".", "."], ["In", "IN"], ["to", "TO"], [".", "."], ["Consider", "VB"], ["it", "PRP"], ["as", "IN"], ["a", "DT"], ["every", "DT"], ["time", "NN"], ["it", "PRP"], ["hits", "VBZ"], ["some", "DT"], ["line", "NN"], ["segment", "NN"], ["as", "IN"], ["an", "DT"], ["event", "NN"], ["where", "WRB"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["do", "VB"], ["something", "NN"], [".", "."], ["So", "RB"], ["sweeping", "JJ"], ["from", "IN"], ["left", "VBN"], ["to", "TO"], ["right", "JJ"], ["means", "VBZ"], ["we", "PRP"], ["consider", "VBP"], ["each", "DT"], ["x", "NN"], ["coordinate", "NN"], ["as", "IN"], ["an", "DT"], ["event", "NN"], [".", "."], ["So", "IN"], ["first", "JJ"], ["thing", "NN"], ["is", "VBZ"], ["if", "IN"], ["we", "PRP"], ["hit", "VBP"], ["a", "DT"], ["horizontal", "JJ"], ["line", "NN"], ["segment", "NN"], [".", "."], ["Well", "NNP"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["hit", "VB"], ["the", "DT"], ["left", "NN"], ["endpoint", "NN"], ["first", "RB"], [",", ","], ["and", "CC"], ["so", "RB"], ["what", "WP"], ["we", "PRP"], ["'ll", "MD"], ["do", "VB"], ["when", "WRB"], ["we", "PRP"], ["hit", "VBD"], ["the", "DT"], ["left", "NN"], [",", ","], ["endpoint", "NN"], ["is", "VBZ"], [",", ","], ["insert", "NN"], [",", ","], ["the", "DT"], ["y", "JJ"], ["coordinate", "NN"], ["of", "IN"], ["that", "DT"], ["line", "NN"], ["into", "IN"], ["a", "DT"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["keep", "VB"], ["track", "NN"], ["of", "IN"], ["y", "NN"], ["coordinates", "NNS"], ["in", "IN"], ["a", "DT"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["what", "WP"], ["'s", "VBZ"], ["happening", "VBG"], ["over", "RP"], ["in", "IN"], ["the", "DT"], ["right", "NN"], ["there", "RB"], [".", "."], ["So", "RB"], ["now", "RB"], ["again", "RB"], [",", ","], ["sweep", "NN"], ["from", "IN"], ["left", "VBN"], ["to", "TO"], ["right", "VB"], [".", "."], ["What", "WP"], ["'s", "VBZ"], ["the", "DT"], ["next", "JJ"], ["smallest", "NN"], ["x", "NN"], ["coordinate", "NN"], ["?", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], ["it", "PRP"], ["'s", "VBZ"], ["the", "DT"], ["line", "NN"], ["number", "NN"], ["one", "CD"], ["there", "RB"], [",", ","], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["remember", "VB"], ["its", "PRP$"], ["y", "NN"], ["coordinate", "NN"], ["in", "IN"], ["a", "DT"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["two", "CD"], ["and", "CC"], ["three", "CD"], [".", "."], ["So", "CC"], ["those", "DT"], ["that", "WDT"], ["'s", "VBZ"], ["one", "CD"], ["kind", "NN"], ["of", "IN"], ["event", "NN"], ["that", "WDT"], ["can", "MD"], ["happen", "VB"], ["as", "IN"], ["we", "PRP"], ["sweep", "VBP"], ["from", "IN"], ["left", "VBN"], ["to", "TO"], ["right", "VB"], [".", "."], ["Another", "DT"], ["kind", "NN"], ["of", "IN"], ["event", "NN"], ["is", "VBZ"], ["that", "IN"], ["we", "PRP"], ["hit", "VBD"], ["the", "DT"], ["right", "JJ"], ["endpoint", "NN"], ["of", "IN"], ["a", "DT"], ["horizontal", "JJ"], ["line", "NN"], ["segment", "NN"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], ["we", "PRP"], ["hit", "VBD"], ["the", "DT"], ["right", "JJ"], ["endpoint", "NN"], ["of", "IN"], ["line", "NN"], ["segment", "NN"], ["two", "CD"], [".", "."], ["So", "RB"], [",", ","], ["at", "IN"], ["that", "DT"], ["point", "VBP"], ["the", "DT"], ["right", "JJ"], ["point", "NN"], ["of", "IN"], ["a", "DT"], ["horizontal", "JJ"], ["line", "NN"], ["segment", "NN"], ["we", "PRP"], ["just", "RB"], ["remove", "VB"], ["it", "PRP"], ["because", "IN"], ["we", "PRP"], ["'ve", "VBP"], ["processed", "VBN"], ["that", "IN"], ["line", "NN"], ["completely", "RB"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], ["we", "PRP"], ["did", "VBD"], ["n't", "RB"], ["find", "VB"], ["any", "DT"], ["intersections", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["left", "VBD"], ["endpoint", "NN"], ["insert", "VB"], ["the", "DT"], ["y", "NN"], ["coordinate", "NN"], ["into", "IN"], ["a", "DT"], ["BST", "NNP"], [",", ","], ["right", "JJ"], ["endpoint", "NN"], ["remove", "VB"], ["that", "WDT"], ["ycoordinate", "NN"], ["from", "IN"], ["the", "DT"], ["BST", "NNP"], [".", "."], ["So", "RB"], [",", ","], ["the", "DT"], ["BST", "NNP"], ["contains", "VBZ"], ["the", "DT"], ["y", "NN"], ["coordinates", "NNS"], ["of", "IN"], ["all", "PDT"], ["the", "DT"], ["horizontal", "JJ"], ["lines", "NNS"], ["that", "WDT"], ["currently", "RB"], ["might", "MD"], ["involve", "VB"], ["an", "DT"], ["intersection", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["the", "DT"], ["third", "JJ"], ["kind", "NN"], ["of", "IN"], ["event", "NN"], ["is", "VBZ"], ["what", "WP"], ["happens", "VBZ"], ["when", "WRB"], ["we", "PRP"], ["hit", "VBD"], ["a", "DT"], ["vertical", "JJ"], ["line", "NN"], ["segment", "NN"], ["?", "."], ["Well", "UH"], [",", ","], ["in", "IN"], ["that", "DT"], ["case", "NN"], ["all", "DT"], ["we", "PRP"], ["want", "VBP"], [",", ","], ["need", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["just", "RB"], ["do", "VB"], ["a", "DT"], ["range", "NN"], ["search", "NN"], [",", ","], ["for", "IN"], ["the", "DT"], ["interval", "NN"], ["of", "IN"], ["y", "JJ"], ["end", "NN"], ["points", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["any", "DT"], ["point", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["inside", "IN"], ["that", "DT"], ["interval", "NN"], [",", ","], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["represent", "VB"], ["a", "DT"], ["horizontal", "JJ"], ["line", "NN"], ["segment", "NN"], ["that", "WDT"], ["is", "VBZ"], ["an", "DT"], ["intersection", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["the", "DT"], ["basic", "JJ"], ["idea", "NN"], ["behind", "IN"], ["the", "DT"], ["sweep", "JJ"], ["line", "NN"], ["algorithm", "NN"], [",", ","], ["to", "TO"], ["find", "VB"], ["intersections", "NNS"], ["in", "IN"], ["sets", "NNS"], ["of", "IN"], ["horizontal", "NN"], ["and", "CC"], ["vertical", "JJ"], ["lines", "NNS"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["actually", "RB"], ["a", "DT"], ["very", "RB"], ["simple", "JJ"], ["algorithm", "NN"], [",", ","], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["very", "RB"], ["easy", "JJ"], ["to", "TO"], ["see", "VB"], ["that", "IN"], ["the", "DT"], ["running", "JJ"], ["time", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["proportional", "JJ"], ["to", "TO"], ["N", "NNP"], ["log", "NN"], ["N", "NNP"], ["plus", "CC"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["intersections", "NNS"], ["returned", "VBN"], [".", "."], ["Where", "WRB"], ["there", "EX"], ["'s", "VBZ"], ["N", "NNP"], ["horizontal", "JJ"], ["vertical", "JJ"], ["line", "NN"], ["segments", "NNS"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], [",", ","], ["and", "CC"], ["a", "DT"], ["couple", "NN"], ["of", "IN"], ["ways", "NNS"], ["to", "TO"], ["implement", "VB"], ["it", "PRP"], [",", ","], ["one", "CD"], ["thing", "NN"], ["is", "VBZ"], ["you", "PRP"], ["could", "MD"], ["sort", "VB"], ["according", "VBG"], ["to", "TO"], ["the", "DT"], ["x", "NN"], ["coordinates", "VBZ"], [",", ","], ["or", "CC"], ["you", "PRP"], ["could", "MD"], ["just", "RB"], ["put", "VB"], ["them", "PRP"], ["all", "DT"], ["on", "IN"], ["a", "DT"], ["priority", "NN"], ["queue", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["so", "RB"], [",", ","], ["so", "IN"], ["that", "DT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["take", "VB"], ["N", "NNP"], ["log", "NN"], ["N", "NNP"], ["for", "IN"], ["every", "DT"], ["one", "CD"], ["of", "IN"], ["the", "DT"], ["lines", "NNS"], ["to", "TO"], ["process", "VB"], ["them", "PRP"], ["all", "DT"], ["either", "CC"], ["N", "NNP"], ["to", "TO"], ["build", "VB"], ["the", "DT"], ["priorit", "NN"], ["y", "NN"], ["queue", "NN"], ["and", "CC"], ["then", "RB"], ["log", "VB"], ["N", "NNP"], ["to", "TO"], ["take", "VB"], ["the", "DT"], ["smallest", "JJS"], ["off", "IN"], ["each", "DT"], ["time", "NN"], [",", ","], ["or", "CC"], ["N", "NNP"], ["log", "VBP"], ["N", "NNP"], ["for", "IN"], ["the", "DT"], ["sort", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["putting", "VBG"], ["the", "DT"], ["y", "NN"], ["coordinates", "VBZ"], ["into", "IN"], [",", ","], ["into", "IN"], ["a", "DT"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], ["is", "VBZ"], [",", ","], ["again", "RB"], [",", ","], ["N", "NNP"], ["log", "NN"], ["N.", "NNP"], ["And", "CC"], ["same", "JJ"], ["for", "IN"], ["deleting", "VBG"], [".", "."], ["Each", "DT"], ["point", "NN"], ["has", "VBZ"], ["to", "TO"], ["be", "VB"], ["inserted", "VBN"], [",", ","], ["deleted", "VBN"], [".", "."], ["It", "PRP"], ["could", "MD"], ["be", "VB"], ["as", "RB"], ["many", "JJ"], ["as", "IN"], ["N", "NNP"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], ["for", "IN"], ["each", "DT"], ["one", "CD"], [".", "."], ["So", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["total", "NN"], ["of", "IN"], ["N", "NNP"], ["log", "NN"], ["N.", "NNP"], ["And", "CC"], ["then", "RB"], ["the", "DT"], [",", ","], ["range", "NN"], ["search", "NN"], [",", ","], ["in", "IN"], ["the", "DT"], ["binary", "JJ"], ["tree", "NN"], [",", ","], ["for", "IN"], ["each", "DT"], [",", ","], ["each", "DT"], ["one", "CD"], ["of", "IN"], ["the", "DT"], ["range", "NN"], ["searches", "NNS"], [".", "."], ["It", "PRP"], ["might", "MD"], ["take", "VB"], [",", ","], ["log", "FW"], ["N", "NNP"], [",", ","], ["it", "PRP"], ["might", "MD"], ["be", "VB"], ["as", "RB"], ["many", "JJ"], ["as", "IN"], ["N.", "NNP"], ["And", "CC"], ["then", "RB"], ["there", "EX"], ["'s", "VBZ"], [",", ","], ["plus", "CC"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["points", "NNS"], ["return", "VBP"], [".", "."], ["So", "RB"], [",", ","], ["That", "DT"], ["'s", "VBZ"], ["a", "DT"], [",", ","], ["quick", "JJ"], ["sketch", "NN"], ["of", "IN"], ["the", "DT"], ["proof", "NN"], ["of", "IN"], ["this", "DT"], ["proposition", "NN"], [".", "."], ["And", "CC"], ["with", "IN"], ["that", "DT"], ["1D", "CD"], ["range", "NN"], ["search", "NN"], [",", ","], ["implementation", "NN"], [",", ","], ["we", "PRP"], ["get", "VBP"], ["an", "DT"], ["efficient", "JJ"], ["N", "NNP"], ["log", "NN"], ["N", "NNP"], [",", ","], ["2D", "CD"], ["orthogonal", "JJ"], [",", ","], ["orthogonal", "JJ"], ["line", "NN"], ["segment", "NN"], [",", ","], ["intersection", "NN"]], "title": "line segment intersection", "text": "So now let's look at a basic geometric data processing problem of determining intersections among a set of line segments. So, it's called the orthogonal line segment, segment intersection search where the lines segments or constrained to be either horizontal or vertical. And so, suppose we have a large number of such line segments and what we want to be able to do is to find all places where they intersect. And as we'll see this extends to a practical problem in a number of situations. So, in this case there's four places where these lines intersect. So, how are we going to be able to determine these intersections efficiently? Now, the natural algorithm, or the naive brute-force algorithm, is quadratic in time. So that is, for every line segment, you check whether it intersects with every other line segment. And again, as we know, such an algorithm is not going to be practical, for huge numbers of line segments. So, just, to simplify our code in the slides in it's off, off from the case for geometric data processing. We don't have to worry about degeneracies where lots of things have the same x or y coordinate. And just to simplify the code and to get it the main principles of the algorithms, we're going to assume that all the coordinates that we have are distinct that we've preprocessed in some way to remove the ones that touch without intersecting. So the method that we're going to look at is a so called Sweep Line algorithm and the idea is to think of vertical line that sweeps left to right through the data. In to. Consider it as a every time it hits some line segment as an event where we have to do something. So sweeping from left to right means we consider each x coordinate as an event. So first thing is if we hit a horizontal line segment. Well we're going to hit the left endpoint first, and so what we'll do when we hit the left, endpoint is, insert, the y coordinate of that line into a binary search tree. So, we're going to keep track of y coordinates in a binary search tree. So that's what's happening over in the right there. So now again, sweep from left to right. What's the next smallest x coordinate? In this case it's the line number one there, and we'll remember its y coordinate in a binary search tree. And then two and three. So those that's one kind of event that can happen as we sweep from left to right. Another kind of event is that we hit the right endpoint of a horizontal line segment. In this case we hit the right endpoint of line segment two. So, at that point the right point of a horizontal line segment we just remove it because we've processed that line completely. In this case we didn't find any intersections. So, left endpoint insert the y coordinate into a BST, right endpoint remove that ycoordinate from the BST. So, the BST contains the y coordinates of all the horizontal lines that currently might involve an intersection. And then the third kind of event is what happens when we hit a vertical line segment? Well, in that case all we want, need to do is just do a range search, for the interval of y end points. So, any point that's inside that interval, is going to represent a horizontal line segment that is an intersection. That's the basic idea behind the sweep line algorithm, to find intersections in sets of horizontal and vertical lines. And it's actually a very simple algorithm, and it's very easy to see that the running time is going to be proportional to N log N plus the number of intersections returned. Where there's N horizontal vertical line segments. And it's, and a couple of ways to implement it, one thing is you could sort according to the x coordinates, or you could just put them all on a priority queue. And then, so, so that's going to take N log N for every one of the lines to process them all either N to build the priorit y queue and then log N to take the smallest off each time, or N log N for the sort. And then putting the y coordinates into, into a binary search tree is, again, N log N. And same for deleting. Each point has to be inserted, deleted. It could be as many as N in the tree for each one. So it's a total of N log N. And then the, range search, in the binary tree, for each, each one of the range searches. It might take, log N, it might be as many as N. And then there's, plus the number of points return. So, That's a, quick sketch of the proof of this proposition. And with that 1D range search, implementation, we get an efficient N log N, 2D orthogonal, orthogonal line segment, intersection ", "video_ID": 48, "course_id": 3}
{"category": ["geometric applications of bsts"], "tagged": [["Now", "RB"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["KD", "NNP"], ["trees", "NNS"], [",", ","], ["which", "WDT"], ["is", "VBZ"], ["an", "DT"], ["extension", "NN"], ["of", "IN"], ["BSTs", "NNP"], ["that", "WDT"], ["allow", "VBP"], ["us", "PRP"], ["to", "TO"], ["do", "VB"], ["efficient", "JJ"], ["processing", "NN"], ["of", "IN"], ["sets", "NNS"], ["of", "IN"], ["points", "NNS"], ["in", "IN"], ["space", "NN"], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["very", "RB"], ["flexible", "JJ"], ["and", "CC"], ["very", "RB"], ["useful", "JJ"], ["in", "IN"], ["lots", "NNS"], ["of", "IN"], ["applications", "NNS"], [".", "."], ["So", "RB"], ["now", "RB"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["extend", "VB"], ["the", "DT"], ["API", "NNP"], ["to", "TO"], ["talk", "VB"], ["about", "IN"], ["two", "CD"], ["dimensional", "JJ"], ["keys", "NNS"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["just", "RB"], [",", ","], ["you", "PRP"], ["can", "MD"], ["think", "VB"], ["of", "IN"], ["two", "CD"], ["dimensional", "JJ"], ["keys", "NNS"], ["as", "IN"], [",", ","], ["points", "NNS"], ["in", "IN"], ["the", "DT"], ["two", "CD"], ["dimensional", "JJ"], ["geometric", "JJ"], ["space", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["talk", "VB"], ["about", "IN"], ["insertion", "NN"], [",", ","], ["and", "CC"], ["search", "NN"], [".", "."], ["We", "PRP"], ["wo", "MD"], ["n't", "RB"], ["talk", "VB"], ["about", "IN"], ["deletion", "NN"], ["and", "CC"], ["then", "RB"], ["range", "VB"], ["search", "NN"], ["and", "CC"], ["range", "NN"], ["count", "NN"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["insert", "VB"], ["and", "CC"], ["delete", "VB"], [",", ","], ["points", "NNS"], [".", "."], ["You", "PRP"], ["can", "MD"], ["think", "VB"], ["of", "IN"], ["a", "DT"], ["two", "CD"], ["dimensional", "JJ"], ["key", "NN"], ["as", "IN"], ["a", "DT"], ["point", "NN"], ["in", "IN"], ["two", "CD"], ["dimensional", "JJ"], ["space", "NN"], [".", "."], ["And", "CC"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["find", "VB"], ["all", "DT"], ["keys", "NNS"], ["that", "WDT"], ["lie", "VBP"], ["within", "IN"], ["a", "DT"], ["two", "CD"], ["dimensional", "JJ"], ["range", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["a", "DT"], ["rectangle", "NN"], [".", "."], ["As", "IN"], ["I", "PRP"], ["mentioned", "VBD"], ["at", "IN"], ["the", "DT"], ["beginning", "NN"], ["or", "CC"], ["count", "VB"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["keys", "NNS"], ["that", "WDT"], ["lie", "VBP"], ["in", "IN"], ["a", "DT"], ["two", "CD"], ["dimensional", "JJ"], ["range", "NN"], [".", "."], ["So", "RB"], ["again", "RB"], [",", ","], ["the", "DT"], ["geometric", "JJ"], ["interpretation", "NN"], ["is", "VBZ"], ["the", "DT"], ["keys", "NNS"], ["or", "CC"], ["points", "NNS"], ["in", "IN"], ["the", "DT"], ["plane", "NN"], [".", "."], ["And", "CC"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], [",", ","], ["a", "DT"], [",", ","], ["a", "DT"], ["range", "NN"], [",", ","], ["2D", "CD"], ["range", "NN"], ["is", "VBZ"], ["a", "DT"], [",", ","], ["a", "DT"], ["rectangle", "NN"], [",", ","], ["or", "CC"], ["is", "VBZ"], ["oriented", "VBN"], [",", ","], ["to", "TO"], ["align", "VB"], ["with", "IN"], ["the", "DT"], ["horizontal", "NN"], [",", ","], ["vertical", "JJ"], ["axes", "NNS"], [".", "."], ["And", "CC"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["find", "VB"], ["or", "CC"], ["count", "VB"], ["the", "DT"], ["points", "NNS"], ["in", "IN"], ["a", "DT"], ["given", "VBN"], ["rectangle", "NN"], [".", "."], ["In", "IN"], ["this", "DT"], ["one", "NN"], ["has", "VBZ"], ["many", "JJ"], [",", ","], ["many", "JJ"], ["applications", "NNS"], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["talk", "VB"], ["about", "IN"], ["some", "DT"], ["of", "IN"], ["them", "PRP"], ["later", "RB"], ["on", "IN"], [".", "."], ["And", "CC"], ["even", "RB"], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["points", "NNS"], ["in", "IN"], ["the", "DT"], ["plane", "NN"], [",", ","], ["just", "RB"], ["databases", "NNS"], ["you", "PRP"], ["might", "MD"], ["ask", "VB"], ["for", "IN"], ["all", "PDT"], ["the", "DT"], ["people", "NNS"], ["with", "IN"], ["incomes", "NNS"], ["between", "IN"], ["1,000,000", "CD"], ["and", "CC"], ["10,000,000", "CD"], ["who", "WP"], ["are", "VBP"], ["between", "IN"], ["40", "CD"], ["and", "CC"], ["50", "CD"], ["years", "NNS"], ["of", "IN"], ["age", "NN"], [".", "."], ["And", "CC"], ["this", "DT"], ["kind", "NN"], ["of", "IN"], ["algorithm", "NN"], ["and", "CC"], ["data", "NN"], ["structure", "NN"], ["would", "MD"], ["be", "VB"], ["useful", "JJ"], ["for", "IN"], ["that", "DT"], ["kind", "NN"], ["of", "IN"], ["situation", "NN"], ["too", "RB"], [".", "."], ["So", "IN"], ["how", "WRB"], ["are", "VBP"], ["we", "PRP"], ["going", "VBG"], ["to", "TO"], ["solve", "VB"], ["this", "DT"], ["problem", "NN"], [",", ","], ["implement", "NN"], ["this", "DT"], ["API", "NNP"], ["?", "."], ["We", "PRP"], ["build", "VBP"], ["a", "DT"], ["data", "NN"], ["structure", "NN"], ["containing", "VBG"], ["points", "NNS"], ["that", "WDT"], ["can", "MD"], ["efficiently", "RB"], ["support", "VB"], ["range", "NN"], ["searching", "NN"], ["and", "CC"], ["range", "NN"], ["counting", "NN"], [".", "."], ["Well", "NNP"], ["one", "CD"], ["easy", "JJ"], ["way", "NN"], ["to", "TO"], ["do", "VB"], ["it", "PRP"], ["is", "VBZ"], ["to", "TO"], ["just", "RB"], ["think", "VB"], ["about", "IN"], ["dividing", "VBG"], ["space", "NN"], ["into", "IN"], ["a", "DT"], ["grid", "NN"], ["of", "IN"], ["squares", "NNS"], [".", "."], ["So", "IN"], ["we", "PRP"], ["'ll", "MD"], ["pick", "VB"], ["a", "DT"], ["parameter", "NN"], ["M", "NNP"], ["and", "CC"], ["divide", "VB"], ["space", "NN"], ["into", "IN"], ["an", "DT"], ["M", "NNP"], ["by", "IN"], ["M", "NNP"], ["grid", "NN"], ["of", "IN"], ["squares", "NNS"], ["and", "CC"], ["then", "RB"], ["process", "VB"], ["all", "PDT"], ["the", "DT"], ["points", "NNS"], ["and", "CC"], ["make", "VB"], ["a", "DT"], ["list", "NN"], ["of", "IN"], ["points", "NNS"], ["that", "WDT"], ["are", "VBP"], ["contained", "VBN"], ["in", "IN"], ["each", "DT"], ["square", "NN"], [".", "."], ["We", "PRP"], ["can", "MD"], ["use", "VB"], ["a", "DT"], ["two", "CD"], ["dimensional", "JJ"], ["array", "NN"], ["to", "TO"], ["directly", "RB"], ["index", "NN"], [",", ","], ["relevant", "JJ"], ["squares", "NNS"], [".", "."], ["And", "CC"], ["for", "IN"], ["insert", "NN"], [",", ","], ["you", "PRP"], ["just", "RB"], [",", ","], ["take", "VBP"], ["X", "NN"], [",", ","], ["Y", "NNP"], [".", "."], ["Figure", "NN"], ["out", "RP"], ["which", "WDT"], ["square", "VBP"], ["it", "PRP"], ["belongs", "VBZ"], ["to", "TO"], [".", "."], ["Simply", "NNP"], ["divide", "JJ"], ["by", "IN"], [",", ","], ["both", "DT"], ["coor", "JJ"], ["dinates", "NNS"], ["by", "IN"], ["N", "NNP"], [",", ","], ["and", "CC"], ["look", "VB"], ["into", "IN"], ["the", "DT"], ["two", "CD"], ["dimensional", "JJ"], ["array", "NN"], [".", "."], ["And", "CC"], ["just", "RB"], ["add", "VB"], ["the", "DT"], ["point", "NN"], ["to", "TO"], ["the", "DT"], ["list", "NN"], ["for", "IN"], ["the", "DT"], ["corresponding", "JJ"], ["square", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["range", "VB"], ["searches", "NNS"], [",", ","], ["only", "RB"], ["find", "VB"], ["the", "DT"], ["squares", "NNS"], ["that", "WDT"], ["intersect", "VBP"], ["the", "DT"], ["query", "NN"], [",", ","], ["and", "CC"], ["process", "VB"], ["the", "DT"], ["points", "NNS"], [",", ","], ["in", "IN"], ["that", "DT"], ["square", "NN"], [".", "."], ["And", "CC"], ["depending", "VBG"], ["on", "IN"], ["the", "DT"], ["value", "NN"], ["of", "IN"], ["the", "DT"], ["parameter", "NN"], ["M", "NNP"], [",", ","], ["you", "PRP"], ["have", "VBP"], ["a", "DT"], ["space/time", "JJ"], ["tradeoff", "NN"], [".", "."], ["The", "DT"], ["amount", "NN"], ["of", "IN"], ["space", "NN"], ["required", "VBN"], ["is", "VBZ"], ["M^2", "NNP"], ["for", "IN"], ["the", "DT"], ["grid", "JJ"], ["+", "NN"], ["N.", "NNP"], ["You", "PRP"], ["have", "VBP"], ["to", "TO"], ["have", "VB"], ["a", "DT"], ["linked", "VBN"], ["list", "NN"], ["element", "NN"], [",", ","], ["or", "CC"], ["whatever", "WDT"], ["for", "IN"], ["each", "DT"], ["point", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["the", "DT"], ["time", "NN"], [",", ","], ["though", "RB"], [",", ","], ["gets", "VBZ"], ["divided", "VBN"], ["by", "IN"], ["M^2", "NNP"], [".", "."], ["Your", "PRP$"], ["number", "NN"], ["of", "IN"], ["points", "NNS"], ["and", "CC"], ["were", "VBD"], ["spread", "VBN"], ["out", "RP"], ["over", "IN"], ["the", "DT"], ["N", "NNP"], ["squared", "VBD"], [",", ","], ["different", "JJ"], ["squares", "NNS"], [".", "."], ["And", "CC"], ["so", "RB"], ["on", "IN"], ["average", "NN"], ["you", "PRP"], ["examine", "VBP"], ["N", "NNP"], ["over", "IN"], ["M^2", "NNP"], ["points", "NNS"], ["per", "IN"], ["square", "NN"], [".", "."], ["So", "IN"], ["you", "PRP"], ["do", "VBP"], ["n't", "RB"], ["want", "VB"], ["to", "TO"], ["make", "VB"], ["M", "NNP"], ["too", "RB"], ["big", "JJ"], ["that", "WDT"], ["would", "MD"], ["be", "VB"], ["too", "RB"], ["much", "JJ"], ["space", "NN"], [",", ","], ["you", "PRP"], ["do", "VBP"], ["n't", "RB"], ["want", "VB"], ["to", "TO"], ["make", "VB"], ["M", "NNP"], ["too", "RB"], ["small", "JJ"], ["that", "WDT"], ["would", "MD"], ["be", "VB"], ["too", "RB"], ["much", "JJ"], ["time", "NN"], [".", "."], ["So", "RB"], ["what", "WP"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["choose", "VB"], ["is", "VBZ"], ["the", "DT"], ["square", "JJ"], ["size", "NN"], ["that", "WDT"], ["would", "MD"], ["best", "VB"], ["balance", "NN"], ["these", "DT"], ["two", "CD"], ["needs", "NNS"], ["and", "CC"], ["then", "RB"], ["it", "PRP"], ["is", "VBZ"], ["easy", "JJ"], ["to", "TO"], ["see", "VB"], ["that", "IN"], ["what", "WP"], ["you", "PRP"], ["should", "MD"], ["choose", "VB"], ["is", "VBZ"], ["M", "NNP"], ["to", "TO"], ["be", "VB"], ["about", "IN"], ["n", "JJ"], ["square", "JJ"], ["root", "NN"], ["of", "IN"], ["N.", "NNP"], ["So", "NNP"], ["then", "RB"], ["your", "PRP$"], ["space", "NN"], ["is", "VBZ"], ["within", "IN"], ["a", "DT"], ["constant", "JJ"], ["factor", "NN"], ["of", "IN"], ["N", "NNP"], ["and", "CC"], ["your", "PRP$"], ["time", "NN"], ["is", "VBZ"], ["constant", "JJ"], [".", "."], ["So", "RB"], ["if", "IN"], ["the", "DT"], ["points", "NNS"], ["are", "VBP"], ["randomly", "RB"], ["distributed", "VBN"], [",", ","], ["then", "RB"], ["this", "DT"], ["is", "VBZ"], ["ideal", "JJ"], [".", "."], ["It", "PRP"], ["takes", "VBZ"], ["us", "PRP"], [",", ","], ["linear", "JJ"], ["time", "NN"], ["to", "TO"], ["initialize", "VB"], ["the", "DT"], ["data", "NN"], ["structure", "NN"], [".", "."], ["And", "CC"], ["to", "TO"], ["insert", "VB"], ["and", "CC"], ["search", "VB"], [",", ","], ["it", "PRP"], ["take", "VB"], ["constant", "JJ"], ["time", "NN"], ["per", "IN"], ["point", "NN"], ["in", "IN"], ["the", "DT"], ["range", "NN"], [".", "."], ["And", "CC"], ["this", "DT"], ["is", "VBZ"], ["absolutely", "RB"], ["a", "DT"], ["fine", "JJ"], ["method", "NN"], ["that", "IN"], [",", ","], ["is", "VBZ"], ["not", "RB"], ["that", "IN"], ["difficult", "JJ"], ["to", "TO"], ["implement", "VB"], [",", ","], ["in", "IN"], ["the", "DT"], ["case", "NN"], ["that", "IN"], ["the", "DT"], ["points", "NNS"], ["are", "VBP"], ["evenly", "RB"], ["distributed", "VBN"], [".", "."], ["Unfortunately", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["usually", "RB"], ["the", "DT"], ["case", "NN"], ["that", "IN"], [",", ","], ["in", "IN"], ["geometric", "JJ"], ["data", "NNS"], [",", ","], ["that", "IN"], ["the", "DT"], ["points", "NNS"], ["are", "VBP"], ["not", "RB"], ["evenly", "RB"], ["distributed", "VBN"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["a", "DT"], ["well", "RB"], ["known", "VBN"], ["phenomenon", "NN"], ["known", "VBN"], ["as", "IN"], ["clustering", "NN"], ["that", "WDT"], ["says", "VBZ"], ["that", "IN"], [",", ","], ["the", "DT"], [",", ","], ["the", "DT"], ["points", "NNS"], ["are", "VBP"], ["n't", "RB"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["evenly", "RB"], ["distributed", "VBN"], ["all", "DT"], ["over", "IN"], ["the", "DT"], ["whole", "JJ"], ["thing", "NN"], [".", "."], ["In", "IN"], ["the", "DT"], ["case", "NN"], ["of", "IN"], ["the", "DT"], [",", ","], ["the", "DT"], ["grid", "JJ"], ["implementation", "NN"], [",", ","], ["they", "PRP"], ["might", "MD"], ["all", "DT"], ["fall", "VB"], ["on", "IN"], ["the", "DT"], ["same", "JJ"], ["square", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], [",", ","], ["the", "DT"], ["average", "JJ"], ["list", "NN"], ["length", "NN"], ["is", "VBZ"], ["short", "JJ"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["like", "IN"], ["what", "WP"], ["we", "PRP"], ["encountered", "VBD"], ["with", "IN"], ["hashing", "NN"], [".", "."], ["If", "IN"], ["you", "PRP"], ["take", "VBP"], [",", ","], ["all", "PDT"], ["the", "DT"], ["points", "NNS"], ["in", "IN"], ["one", "CD"], ["square", "NN"], [",", ","], ["and", "CC"], ["zero", "CD"], ["and", "CC"], ["all", "PDT"], ["the", "DT"], ["rest", "NN"], ["of", "IN"], ["them", "PRP"], [".", "."], ["Your", "PRP$"], ["average", "NN"], ["is", "VBZ"], ["still", "RB"], [",", ","], ["N", "NNP"], ["over", "IN"], ["M", "NNP"], ["squared", "VBD"], [".", "."], ["But", "CC"], [".", "."], ["They", "PRP"], ["are", "VBP"], ["all", "DT"], ["in", "IN"], ["that", "DT"], ["long", "JJ"], ["list", "NN"], ["and", "CC"], ["you", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["a", "DT"], ["slow", "JJ"], ["algorithm", "NN"], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], [",", ","], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["based", "VBN"], ["on", "IN"], ["this", "DT"], [".", "."], ["So", "IN"], ["we", "PRP"], ["need", "VBP"], ["a", "DT"], ["data", "NN"], ["structure", "NN"], ["that", "IN"], ["more", "RBR"], ["gracefully", "RB"], ["adapts", "VBZ"], ["to", "TO"], ["the", "DT"], ["distribution", "NN"], ["of", "IN"], ["the", "DT"], ["data", "NN"], [".", "."], ["And", "CC"], ["again", "RB"], ["it", "PRP"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["well", "RB"], ["known", "VBN"], ["that", "IN"], ["most", "JJS"], ["geometric", "JJ"], ["data", "NN"], ["has", "VBZ"], ["this", "DT"], ["kind", "NN"], ["of", "IN"], ["problem", "NN"], [".", "."], ["So", "RB"], ["for", "IN"], ["example", "NN"], ["here", "RB"], ["'s", "VBZ"], ["some", "DT"], ["data", "NNS"], ["which", "WDT"], ["cities", "NNS"], ["in", "IN"], ["the", "DT"], ["US", "NNP"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["got", "VBD"], ["13,000", "CD"], ["points", "NNS"], [",", ","], ["but", "CC"], ["if", "IN"], ["you", "PRP"], ["try", "VBP"], ["to", "TO"], ["use", "VB"], ["the", "DT"], ["grid", "JJ"], ["implementation", "NN"], ["for", "IN"], ["this", "DT"], [",", ","], ["you", "PRP"], ["'d", "MD"], ["find", "VB"], ["that", "IN"], ["half", "PDT"], ["the", "DT"], ["squares", "NNS"], ["would", "MD"], ["be", "VB"], ["empty", "JJ"], [".", "."], ["And", "CC"], ["half", "PDT"], ["the", "DT"], ["points", "NNS"], ["are", "VBP"], ["in", "IN"], ["just", "RB"], ["ten", "JJ"], ["percent", "NN"], ["of", "IN"], ["the", "DT"], ["squares", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["the", "DT"], ["clustering", "NN"], ["in", "IN"], ["the", "DT"], ["data", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["make", "VB"], ["the", "DT"], ["implementation", "NN"], ["inefficient", "NN"], [".", "."], ["We", "PRP"], ["need", "VBP"], ["to", "TO"], ["adapt", "VB"], ["to", "TO"], ["the", "DT"], ["data", "NN"], [".", "."], ["And", "CC"], ["this", "DT"], ["is", "VBZ"], ["very", "RB"], [",", ","], ["very", "RB"], ["typical", "JJ"], [",", ","], ["in", "IN"], ["geometric", "JJ"], ["data", "NNS"], [".", "."], ["Particularly", "NNP"], [",", ","], ["in", "IN"], ["higher", "JJR"], ["dimensional", "JJ"], ["data", "NNS"], [",", ","], ["as", "IN"], ["we", "PRP"], ["'ll", "MD"], ["see", "VB"], ["in", "IN"], ["a", "DT"], ["minute", "NN"], [".", "."], ["So", "RB"], [",", ","], ["people", "NNS"], ["have", "VBP"], ["developed", "VBN"], ["all", "DT"], ["different", "JJ"], ["kinds", "NNS"], ["of", "IN"], [",", ","], ["methods", "NNS"], ["for", "IN"], [",", ","], ["adapting", "VBG"], ["in", "IN"], ["this", "DT"], ["way", "NN"], [".", "."], ["And", "CC"], ["what", "WP"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["is", "VBZ"], ["one", "CD"], ["of", "IN"], ["the", "DT"], ["most", "RBS"], ["widely", "RB"], ["used", "VBN"], [".", "."], ["Which", "NNP"], ["is", "VBZ"], ["basically", "RB"], ["to", "TO"], ["use", "VB"], ["a", "DT"], ["tree", "NN"], ["to", "TO"], ["represent", "VB"], ["a", "DT"], ["recursive", "JJ"], ["subdivision", "NN"], ["of", "IN"], ["the", "DT"], ["plane", "NN"], [",", ","], ["of", "IN"], ["two", "CD"], ["dimensional", "JJ"], ["space", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["recursive", "JJ"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["based", "VBN"], ["on", "IN"], ["the", "DT"], ["points", "NNS"], ["the", "DT"], ["way", "NN"], ["in", "IN"], ["which", "WDT"], ["we", "PRP"], ["divide", "VBP"], ["into", "IN"], ["half", "JJ"], ["planes", "NNS"], [".", "."], ["And", "CC"], ["its", "PRP$"], ["one", "CD"], ["of", "IN"], ["many", "JJ"], ["different", "JJ"], ["algorithms", "NNS"], ["that", "IN"], [",", ","], ["have", "VBP"], ["been", "VBN"], [",", ","], ["studied", "VBN"], ["for", "IN"], ["this", "DT"], [",", ","], ["but", "CC"], ["again", "RB"], ["its", "PRP$"], ["a", "DT"], ["simple", "JJ"], ["one", "CD"], ["and", "CC"], ["widely", "RB"], ["used", "VBN"], [".", "."], ["So", "RB"], [",", ","], ["for", "IN"], ["example", "NN"], ["if", "IN"], ["you", "PRP"], ["played", "VBP"], ["the", "DT"], ["game", "NN"], ["Doom", "NNP"], ["or", "CC"], ["use", "VB"], ["the", "DT"], ["flight", "NN"], ["simulator", "NN"], [",", ","], ["that", "IN"], [",", ","], ["these", "DT"], ["types", "NNS"], ["of", "IN"], ["graphical", "JJ"], ["simulations", "NNS"], ["and", "CC"], ["animations", "NNS"], ["are", "VBP"], ["made", "VBN"], ["possible", "JJ"], ["only", "RB"], ["through", "IN"], ["the", "DT"], ["use", "NN"], ["of", "IN"], ["space", "NN"], ["partitioning", "NN"], ["trees", "NNS"], [",", ","], ["like", "IN"], ["2d", "CD"], ["trees", "NNS"], ["and", "CC"], ["quad", "NN"], ["trees", "NNS"], ["and", "CC"], ["also", "RB"], ["in", "IN"], ["all", "DT"], ["different", "JJ"], ["types", "NNS"], ["of", "IN"], ["scientific", "JJ"], ["data", "NNS"], ["processing", "VBG"], ["these", "DT"], ["things", "NNS"], ["are", "VBP"], ["extremely", "RB"], ["important", "JJ"], ["whenever", "NN"], ["you", "PRP"], ["'re", "VBP"], ["processing", "VBG"], [".", "."], ["Geometric", "NNP"], ["data", "NN"], [",", ","], ["doing", "VBG"], ["some", "DT"], ["kind", "NN"], ["of", "IN"], ["geometric", "JJ"], ["search", "NN"], [".", "."], ["Where", "WRB"], ["is", "VBZ"], ["the", "DT"], ["closest", "JJS"], ["thing", "NN"], ["?", "."], ["How", "WRB"], ["am", "VBP"], ["I", "PRP"], ["going", "VBG"], ["to", "TO"], ["find", "VB"], ["the", "DT"], ["closest", "JJS"], ["thing", "NN"], ["efficiently", "RB"], ["?", "."], ["What", "WP"], ["things", "NNS"], ["are", "VBP"], ["nearby", "RB"], [",", ","], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], ["?", "."], ["So", "RB"], [",", ","], ["rest", "NN"], ["assured", "VBN"], [",", ","], ["these", "DT"], ["types", "NNS"], ["of", "IN"], ["algorithms", "NN"], [",", ","], ["lie", "NN"], ["at", "IN"], ["the", "DT"], ["heart", "NN"], ["of", "IN"], [",", ","], ["any", "DT"], ["program", "NN"], ["that", "IN"], ["you", "PRP"], ["use", "VBP"], ["that", "IN"], [",", ","], ["is", "VBZ"], ["involving", "VBG"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["geometric", "JJ"], ["data", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["those", "DT"], ["are", "VBP"], ["just", "RB"], [",", ","], ["two", "CD"], ["examples", "NNS"], [".", "."], ["So", "NNP"], ["let", "NN"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["how", "WRB"], ["it", "PRP"], ["looks", "VBZ"], ["now", "RB"], [".", "."], ["So", "RB"], [",", ","], ["a", "DT"], ["2D", "CD"], ["tree", "NN"], [",", ","], ["is", "VBZ"], [",", ","], ["again", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["a", "DT"], ["data", "NN"], ["structure", "NN"], ["based", "VBN"], ["on", "IN"], ["a", "DT"], ["bunch", "NN"], ["of", "IN"], ["points", "NNS"], ["that", "WDT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["facilitate", "VB"], [",", ","], ["efficient", "JJ"], ["data", "NNS"], ["processing", "NN"], ["of", "IN"], ["these", "DT"], ["points", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["just", "RB"], ["as", "IN"], ["we", "PRP"], ["do", "VBP"], ["for", "IN"], [",", ","], ["symbol", "NN"], ["tables", "NNS"], [",", ","], ["where", "WRB"], ["we", "PRP"], ["take", "VBP"], [",", ","], ["keys", "NNS"], [".", "."], ["Now", "RB"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["ta", "VB"], ["ke", "NN"], ["points", "NNS"], [",", ","], ["and", "CC"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["build", "VB"], ["a", "DT"], ["data", "NN"], ["structure", "NN"], ["based", "VBN"], ["on", "IN"], ["these", "DT"], ["points", "NNS"], [".", "."], ["And", "CC"], ["the", "DT"], ["idea", "NN"], ["is", "VBZ"], ["to", "TO"], [",", ","], ["build", "VB"], ["a", "DT"], ["tree", "NN"], ["that", "WDT"], ["corresponds", "VBZ"], ["to", "TO"], ["recursively", "RB"], ["partitioning", "VBG"], ["the", "DT"], ["plane", "NN"], [".", "."], ["So", "RB"], ["arbitrarily", "RB"], ["our", "PRP$"], ["first", "JJ"], ["point", "NN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["divide", "VB"], ["the", "DT"], ["plane", "NN"], ["into", "IN"], ["two", "CD"], ["parts", "NNS"], ["based", "VBN"], ["on", "IN"], ["a", "DT"], ["vertical", "JJ"], ["line", "NN"], ["through", "IN"], ["that", "DT"], ["point", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], [",", ","], ["in", "IN"], ["the", "DT"], ["tree", "NN"], ["on", "IN"], ["the", "DT"], ["right", "NN"], ["there", "RB"], [",", ","], ["all", "PDT"], ["the", "DT"], ["points", "NNS"], ["that", "WDT"], ["fall", "VBP"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["of", "IN"], ["the", "DT"], ["first", "JJ"], ["point", "NN"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["on", "IN"], ["the", "DT"], ["left", "NN"], [",", ","], ["and", "CC"], ["all", "PDT"], ["the", "DT"], ["points", "NNS"], ["that", "WDT"], ["fall", "VBP"], ["to", "TO"], ["the", "DT"], ["right", "NN"], [".", "."], ["That", "IN"], ["first", "JJ"], ["point", "NN"], [",", ","], ["you", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["on", "IN"], ["the", "DT"], ["right", "NN"], [".", "."], ["But", "CC"], ["then", "RB"], ["we", "PRP"], ["get", "VBP"], ["to", "TO"], ["the", "DT"], ["next", "JJ"], ["point", "NN"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["switch", "VB"], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["partition", "VB"], ["on", "IN"], ["a", "DT"], ["horizontal", "JJ"], ["line", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], [",", ","], ["our", "PRP$"], ["second", "JJ"], ["point", "NN"], [",", ","], ["in", "IN"], ["the", "DT"], ["tree", "NN"], [",", ","], ["the", "DT"], ["left", "JJ"], ["sub-tree", "JJ"], ["corresponds", "NNS"], ["to", "TO"], ["everybody", "VB"], ["below", "IN"], ["that", "DT"], ["horizontal", "JJ"], ["line", "NN"], [",", ","], ["and", "CC"], ["the", "DT"], ["right", "JJ"], ["sub-tree", "JJ"], ["corresponds", "NNS"], ["to", "TO"], ["everybody", "VB"], ["above", "IN"], ["it", "PRP"], [".", "."], ["Similar", "JJ"], ["if", "IN"], ["our", "PRP$"], ["third", "JJ"], ["point", "NN"], ["comes", "VBZ"], ["on", "IN"], ["the", "DT"], ["left", "NN"], ["again", "RB"], ["we", "PRP"], ["'ll", "MD"], ["partition", "VB"], ["according", "VBG"], ["to", "TO"], ["the", "DT"], ["horizontal", "JJ"], ["line", "NN"], ["through", "IN"], ["that", "DT"], ["point", "NN"], ["on", "IN"], ["the", "DT"], ["left", "NN"], [".", "."], ["So", "RB"], ["if", "IN"], ["we", "PRP"], ["go", "VBP"], ["left", "RB"], ["and", "CC"], ["then", "RB"], ["left", "VBD"], ["that", "DT"], ["means", "VBZ"], ["all", "PDT"], ["the", "DT"], ["points", "NNS"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["of", "IN"], ["one", "CD"], ["and", "CC"], ["above", "IN"], ["three", "CD"], [",", ","], ["so", "IN"], ["the", "DT"], ["square", "NN"], ["in", "IN"], ["the", "DT"], ["upper", "JJ"], ["left", "NN"], ["is", "VBZ"], ["represented", "VBN"], [".", "."], ["By", "IN"], [",", ","], ["that", "WDT"], ["node", "VBZ"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], [".", "."], ["And", "CC"], [",", ","], ["again", "RB"], [".", "."], ["Now", "RB"], [",", ","], ["when", "WRB"], ["we", "PRP"], ["go", "VBP"], ["one", "CD"], ["level", "NN"], ["below", "IN"], [",", ","], ["we", "PRP"], ["switch", "VBP"], ["again", "RB"], ["to", "TO"], ["vertical", "JJ"], [".", "."], ["Alternate", "NNP"], ["between", "IN"], ["horizontal", "NN"], ["and", "CC"], ["vertical", "JJ"], ["partitioning", "NN"], [",", ","], ["of", "IN"], ["the", "DT"], ["plane", "NN"], [".", "."], ["So", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["regular", "JJ"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], [".", "."], ["But", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["got", "VBD"], ["this", "DT"], ["interpretation", "NN"], ["based", "VBN"], ["on", "IN"], ["the", "DT"], ["geometric", "JJ"], ["data", "NN"], [",", ","], ["where", "WRB"], ["we", "PRP"], ["switch", "VBP"], ["which", "WDT"], ["key", "NN"], ["we", "PRP"], ["use", "VBP"], ["for", "IN"], [",", ","], ["the", "DT"], ["comparison", "NN"], [",", ","], ["the", "DT"], ["X", "NNP"], ["coordinate", "NN"], ["or", "CC"], ["the", "DT"], ["Y", "NNP"], ["coordinate", "NN"], [",", ","], ["at", "IN"], ["each", "DT"], ["level", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["corresponds", "VBZ"], ["to", "TO"], ["this", "DT"], ["partitioning", "NN"], ["of", "IN"], ["the", "DT"], ["plane", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], ["five", "CD"], ["comes", "VBZ"], ["in", "IN"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["of", "IN"], ["four", "CD"], ["because", "IN"], ["it", "PRP"], ["was", "VBD"], ["partitioned", "VBN"], ["at", "IN"], ["a", "DT"], ["vertical", "JJ"], ["and", "CC"], ["five", "CD"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["partion", "VB"], ["on", "IN"], ["a", "DT"], ["horizontal", "NN"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["simple", "JJ"], [",", ","], ["and", "CC"], ["completely", "RB"], ["well", "RB"], ["defined", "JJ"], ["partion", "NN"], ["of", "IN"], ["the", "DT"], ["plane", "NN"], ["corresponding", "VBG"], ["to", "TO"], ["a", "DT"], ["binary", "JJ"], ["tree", "NN"], [".", "."], ["Now", "RB"], ["the", "DT"], ["ninth", "JJ"], ["point", "NN"], ["well", "VBP"], ["it", "PRP"], ["'s", "VBZ"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["of", "IN"], ["eight", "CD"], [",", ","], ["above", "IN"], ["to", "TO"], ["and", "CC"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["of", "IN"], ["eight", "CD"], ["and", "CC"], ["then", "RB"], ["corresponds", "VBZ"], ["to", "TO"], ["horizontal", "VB"], ["partitioning", "NN"], [",", ","], ["tenth", "JJ"], ["point", "NN"], ["is", "VBZ"], ["to", "TO"], ["the", "DT"], ["right", "NN"], ["of", "IN"], ["one", "CD"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["below", "IN"], ["two", "CD"], ["and", "CC"], ["we", "PRP"], ["go", "VBP"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["to", "TO"], ["the", "DT"], ["right", "NN"], ["of", "IN"], ["seven", "CD"], ["so", "IN"], ["we", "PRP"], ["go", "VBP"], ["to", "TO"], ["the", "DT"], ["right", "NN"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["way", "NN"], ["to", "TO"], ["build", "VB"], ["a", "DT"], ["Binary", "NNP"], ["tree", "NN"], ["corresponding", "VBG"], ["to", "TO"], ["a", "DT"], ["partitioning", "NN"], ["of", "IN"], ["the", "DT"], ["pla", "NN"], ["ne", "NN"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["really", "RB"], ["the", "DT"], ["same", "JJ"], ["as", "IN"], ["the", "DT"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["just", "RB"], ["that", "IN"], ["we", "PRP"], ["alternate", "VBP"], ["which", "WDT"], ["coordinate", "VBP"], ["we", "PRP"], ["use", "VBP"], ["as", "IN"], ["the", "DT"], ["key", "NN"], [".", "."], ["At", "IN"], ["the", "DT"], ["even", "RB"], ["levels", "NNS"], [",", ","], ["we", "PRP"], ["think", "VBP"], ["of", "IN"], ["a", "DT"], ["vertical", "JJ"], ["line", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["left", "JJ"], ["subtree", "NN"], ["is", "VBZ"], ["all", "PDT"], ["the", "DT"], ["points", "NNS"], ["to", "TO"], ["the", "DT"], ["left", "NN"], [",", ","], ["and", "CC"], ["the", "DT"], ["right", "JJ"], ["subtree", "NN"], ["is", "VBZ"], ["all", "PDT"], ["the", "DT"], ["points", "NNS"], ["to", "TO"], ["the", "DT"], ["right", "NN"], [".", "."], ["On", "IN"], ["odd", "JJ"], ["levels", "NNS"], [",", ","], ["we", "PRP"], ["use", "VBP"], ["a", "DT"], ["horizontal", "JJ"], ["line", "NN"], [",", ","], ["in", "IN"], ["the", "DT"], ["left", "NN"], ["subtrees", "VBZ"], ["all", "DT"], ["points", "NNS"], ["below", "IN"], [".", "."], ["In", "IN"], ["the", "DT"], ["right", "NN"], ["subtrees", "NNS"], [",", ","], ["all", "DT"], ["points", "NNS"], ["above", "IN"], [".", "."], ["And", "CC"], ["the", "DT"], [",", ","], ["and", "CC"], ["the", "DT"], ["code", "NN"], ["for", "IN"], ["this", "DT"], ["is", "VBZ"], [",", ","], ["you", "PRP"], ["know", "VBP"], [",", ","], ["the", "DT"], ["same", "JJ"], ["as", "IN"], ["for", "IN"], ["binary", "JJ"], ["search", "NN"], ["trees", "NNS"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["simply", "RB"], [",", ","], ["which", "WDT"], [",", ","], ["coordinate", "NN"], ["we", "PRP"], ["use", "VBP"], ["for", "IN"], ["the", "DT"], ["comparison", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["the", "DT"], ["only", "JJ"], ["difference", "NN"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["2D", "CD"], ["tree", "JJ"], ["implementation", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], ["what", "WP"], ["about", "IN"], ["solving", "VBG"], ["a", "DT"], ["problem", "NN"], ["like", "IN"], ["this", "DT"], ["rain", "NN"], ["search", "NN"], ["problem", "NN"], ["for", "IN"], ["a", "DT"], ["2D", "CD"], ["tree", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["query", "NN"], ["like", "IN"], ["this", "DT"], ["green", "JJ"], ["rectangle", "NN"], ["and", "CC"], ["what", "WP"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["find", "VB"], ["is", "VBZ"], ["all", "PDT"], ["the", "DT"], ["points", "NNS"], ["in", "IN"], ["the", "DT"], ["data", "NN"], ["structure", "NN"], ["that", "WDT"], ["fall", "NN"], ["within", "IN"], ["that", "DT"], ["rectangle", "NN"], [".", "."], ["Well", "RB"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["use", "VB"], [",", ","], ["the", "DT"], ["2D", "CD"], ["tree", "NN"], ["represents", "VBZ"], ["our", "PRP$"], ["points", "NNS"], ["and", "CC"], ["we", "PRP"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["use", "VB"], ["the", "DT"], ["structure", "NN"], ["and", "CC"], ["definition", "NN"], ["of", "IN"], ["that", "DT"], ["tree", "NN"], [",", ","], ["to", "TO"], ["go", "VB"], ["ahead", "RB"], ["and", "CC"], ["help", "VB"], ["us", "PRP"], ["find", "VB"], ["the", "DT"], ["points", "NNS"], ["that", "WDT"], ["are", "VBP"], ["in", "IN"], ["the", "DT"], ["rectangle", "NN"], [".", "."], ["If", "IN"], [",", ","], ["if", "IN"], ["the", "DT"], ["root", "NN"], ["node", "NN"], ["lies", "VBZ"], ["in", "IN"], ["the", "DT"], ["rectangle", "NN"], ["then", "RB"], ["we", "PRP"], ["'re", "VBP"], ["done", "VBN"], [".", "."], ["We", "PRP"], ["can", "MD"], ["return", "VB"], ["that", "DT"], [",", ","], ["that", "DT"], ["point", "NN"], ["but", "CC"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["look", "VB"], ["on", "IN"], ["both", "DT"], ["sides", "NNS"], ["to", "TO"], ["look", "VB"], ["for", "IN"], ["more", "JJR"], [",", ","], ["but", "CC"], ["if", "IN"], ["the", "DT"], ["rectangle", "NN"], ["lies", "VBZ"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["of", "IN"], ["the", "DT"], ["root", "NN"], ["node", "NN"], ["then", "RB"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["the", "DT"], ["left", "NN"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["So", "NNP"], ["let", "NN"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["how", "WRB"], ["this", "DT"], ["works", "VBZ"], ["in", "IN"], ["the", "DT"], ["demo", "NN"], [".", "."], ["All", "DT"], ["right", "JJ"], [",", ","], ["so", "RB"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["try", "VB"], ["to", "TO"], ["find", "VB"], ["all", "PDT"], ["the", "DT"], ["points", "NNS"], ["that", "WDT"], ["are", "VBP"], ["contained", "VBN"], ["in", "IN"], ["that", "DT"], ["green", "JJ"], ["query", "NN"], ["rectangle", "NN"], [".", "."], ["So", "RB"], ["first", "JJ"], ["thing", "NN"], ["is", "VBZ"], [",", ","], ["to", "TO"], ["check", "VB"], ["if", "IN"], ["our", "PRP$"], ["rectangle", "NN"], ["contains", "VBZ"], ["the", "DT"], ["node", "NN"], ["of", "IN"], ["the", "DT"], ["root", "NN"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], ["it", "PRP"], ["does", "VBZ"], ["n't", "RB"], [".", "."], ["So", "RB"], ["since", "IN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["of", "IN"], ["the", "DT"], ["splitting", "JJ"], ["line", "NN"], ["of", "IN"], ["the", "DT"], ["root", "NN"], ["we", "PRP"], ["only", "RB"], ["have", "VBP"], ["to", "TO"], ["search", "VB"], ["in", "IN"], ["the", "DT"], ["left", "JJ"], ["sub-tree", "JJ"], [".", "."], ["Now", "RB"], [",", ","], ["we", "PRP"], ["search", "VBP"], ["the", "DT"], ["left", "JJ"], ["sub-tree", "JJ"], ["and", "CC"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["check", "VB"], ["if", "IN"], ["it", "PRP"], ["contains.3", "VBZ"], [".", "."], ["It", "PRP"], ["does", "VBZ"], ["not", "RB"], ["contain.3", "VB"], [",", ","], ["but", "CC"], ["now", "RB"], ["which", "WDT"], [",", ","], ["sub-trees", "NNS"], ["do", "VBP"], ["we", "PRP"], ["search", "VB"], ["?", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["now", "RB"], ["the", "DT"], ["rectangle", "NN"], ["intersects", "VBZ"], ["a", "DT"], ["splitting", "NN"], ["line", "NN"], [",", ","], ["so", "IN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["search", "VB"], ["both", "DT"], ["subtrees", "NNS"], [",", ","], ["both", "DT"], ["above", "IN"], ["and", "CC"], ["below", "IN"], [".", "."], ["So", "NNP"], [",", ","], ["first", "RB"], ["we", "PRP"], ["search", "VBP"], ["the", "DT"], ["left", "NN"], ["subtree", "VBP"], ["that", "WDT"], ["'s", "VBZ"], ["the", "DT"], ["one", "CD"], ["below", "NN"], ["does", "VBZ"], ["it", "PRP"], ["contain", "VB"], [".4", "NNP"], ["?", "."], ["No", "UH"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["to", "TO"], ["the", "DT"], ["left", "VBN"], ["so", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["to", "TO"], ["search", "VB"], ["the", "DT"], ["left", "JJ"], ["sub-tree", "NN"], ["of", "IN"], [".4", "NNP"], [".", "."], ["And", "CC"], ["so", "RB"], ["we", "PRP"], ["search", "VBP"], ["the", "DT"], ["left", "JJ"], ["sub-tree", "JJ"], ["and", "CC"], ["we", "PRP"], ["check", "VBP"], ["if", "IN"], ["it", "PRP"], ["contains", "VBZ"], ["point", "JJ"], ["five", "CD"], ["and", "CC"], ["it", "PRP"], ["does", "VBZ"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["the", "DT"], ["one", "NN"], ["that", "IN"], ["we", "PRP"], ["return", "VBP"], [".", "."], ["It", "PRP"], [",", ","], ["it", "PRP"], ["also", "RB"], ["intersects", "VBZ"], ["the", "DT"], ["splitting", "NN"], ["lines", "NNS"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["search", "VB"], ["both", "DT"], ["the", "DT"], ["sub-trees", "NNS"], [",", ","], ["in", "IN"], ["this", "DT"], ["case", "NN"], ["they", "PRP"], ["'re", "VBP"], ["both", "DT"], ["empty", "JJ"], [".", "."], ["So", "IN"], ["we", "PRP"], ["'re", "VBP"], ["done", "VBN"], ["with", "IN"], ["that", "DT"], ["but", "CC"], ["now", "RB"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["go", "VB"], ["back", "RB"], ["and", "CC"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["search", "VB"], ["the", "DT"], ["other", "JJ"], ["sub-tree", "JJ"], ["of", "IN"], ["point", "NN"], ["three", "CD"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["above", "NN"], [",", ","], ["so", "RB"], ["now", "RB"], ["we", "PRP"], ["check", "VBP"], ["this", "DT"], [".6", "NN"], ["in", "IN"], ["the", "DT"], ["rectangle", "NN"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["still", "RB"], ["a", "DT"], ["left", "JJ"], ["sway", "NN"], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["to", "TO"], ["search", "VB"], ["the", "DT"], ["left", "NN"], ["sub", "NN"], ["tree", "VBP"], ["a", "DT"], [".6", "NN"], ["and", "CC"], ["that", "IN"], ["one", "CD"], ["'s", "POS"], ["empty", "JJ"], ["and", "CC"], ["now", "RB"], ["we", "PRP"], ["return", "VBP"], ["and", "CC"], ["we", "PRP"], ["'re", "VBP"], ["done", "VBN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["always", "RB"], ["go", "VB"], ["down", "RP"], ["just", "RB"], ["one", "CD"], ["branch", "NN"], ["if", "IN"], ["our", "PRP$"], ["splitting", "VBG"], ["line", "NN"], ["hits", "VBZ"], ["a", "DT"], ["rectangle", "NN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["go", "VB"], ["down", "RP"], ["both", "DT"], ["branches", "NNS"], ["but", "CC"], ["still", "RB"], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], ["very", "RB"], ["efficient", "JJ"], ["algorithm", "NN"], [",", ","], ["particularly", "RB"], ["think", "VBP"], ["about", "IN"], ["the", "DT"], ["rectangle", "NN"], ["being", "VBG"], ["small", "JJ"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["not", "RB"], ["that", "IN"], ["different", "JJ"], ["than", "IN"], ["a", "DT"], ["regular", "JJ"], ["search", "NN"], ["in", "IN"], ["a", "DT"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], [".", "."], ["Alright", "NNP"], [".", "."], ["So", "RB"], ["what", "WP"], ["about", "IN"], ["the", "DT"], ["analysis", "NN"], ["of", "IN"], ["how", "WRB"], ["long", "JJ"], ["is", "VBZ"], ["this", "DT"], ["going", "VBG"], ["to", "TO"], ["take", "VB"], ["?", "."], ["Well", "RB"], ["again", "RB"], [",", ","], ["a", "DT"], ["typical", "JJ"], ["case", "NN"], [".", "."], ["A", "DT"], ["rectangle", "NN"], ["'s", "POS"], ["small", "JJ"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["only", "RB"], ["going", "VBG"], ["to", "TO"], ["examine", "VB"], [",", ","], ["really", "RB"], [",", ","], ["a", "DT"], ["path", "NN"], ["of", "IN"], ["the", "DT"], ["three", "CD"], [",", ","], ["maybe", "RB"], ["a", "DT"], ["couple", "NN"], ["of", "IN"], ["other", "JJ"], ["nodes", "NNS"], ["along", "IN"], ["the", "DT"], ["path", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["running", "JJ"], ["time", "NN"], ["will", "MD"], ["be", "VB"], ["proportional", "JJ"], ["to", "TO"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["points", "NNS"], ["returned", "VBN"], ["plus", "CC"], ["lg", "JJ"], ["N.", "NNP"], ["With", "IN"], ["geometric", "JJ"], ["data", "NNS"], ["the", "DT"], ["worst", "JJS"], ["case", "NN"], ["can", "MD"], ["be", "VB"], ["bad", "JJ"], [".", "."], ["So", "RB"], [",", ","], ["like", "IN"], ["all", "PDT"], ["the", "DT"], ["points", "NNS"], ["could", "MD"], ["be", "VB"], ["arranged", "VBN"], ["in", "IN"], ["a", "DT"], ["circle", "NN"], [".", "."], ["All", "DT"], [",", ","], ["all", "DT"], ["different", "JJ"], ["types", "NNS"], ["of", "IN"], ["problems", "NNS"], ["that", "WDT"], ["might", "MD"], ["occur", "VB"], ["in", "IN"], [",", ","], ["with", "IN"], ["some", "DT"], ["difficulties", "NNS"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["possible", "JJ"], ["to", "TO"], ["prove", "VB"], [",", ","], ["that", "IN"], ["even", "RB"], ["if", "IN"], ["the", "DT"], ["tree", "NN"], ["is", "VBZ"], ["balanced", "VBN"], [",", ","], ["you", "PRP"], ["can", "MD"], ["get", "VB"], ["a", "DT"], ["worst", "JJS"], ["case", "NN"], ["proportional", "JJ"], ["to", "TO"], ["square", "VB"], ["root", "NN"], ["of", "IN"], ["that", "DT"], [".", "."], ["So", "RB"], ["analysis", "NN"], ["of", "IN"], ["2D", "CD"], ["trees", "NNS"], ["that", "IN"], ["the", "DT"], ["under", "IN"], ["scope", "NN"], [".", "."], ["But", "CC"], [",", ","], ["for", "IN"], ["many", "JJ"], ["practical", "JJ"], ["applications", "NNS"], ["they", "PRP"], ["are", "VBP"], ["easily", "RB"], ["implement", "JJ"], ["and", "CC"], ["worth", "JJ"], ["using", "VBG"], [".", "."], ["Let", "NNP"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["another", "DT"], ["using", "VBG"], ["2D", "CD"], ["trees", "NNS"], ["to", "TO"], ["solve", "VB"], ["another", "DT"], ["problem", "NN"], [",", ","], ["a", "DT"], ["so", "RB"], ["called", "JJ"], ["nearest", "JJS"], ["neighbor", "NN"], ["search", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], [",", ","], ["instead", "RB"], ["of", "IN"], ["a", "DT"], ["rectangle", "NN"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["query", "NN"], ["point", "NN"], [".", "."], ["And", "CC"], ["our", "PRP$"], ["goal", "NN"], ["is", "VBZ"], ["to", "TO"], ["find", "VB"], ["the", "DT"], ["closest", "JJS"], ["point", "NN"], ["to", "TO"], ["that", "DT"], ["point", "NN"], [".", "."], ["So", "RB"], ["in", "IN"], ["this", "DT"], ["case", "NN"], ["our", "PRP$"], ["query", "NN"], ["point", "NN"], ["is", "VBZ"], [",", ","], ["over", "IN"], ["here", "RB"], ["in", "IN"], ["green", "JJ"], [".", "."], ["And", "CC"], ["our", "PRP$"], ["algorithm", "NN"], ["'s", "POS"], ["going", "VBG"], ["to", "TO"], ["want", "VB"], ["to", "TO"], ["return", "VB"], ["to", "TO"], ["0.5", "CD"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["the", "DT"], ["closest", "JJS"], ["one", "CD"], ["to", "TO"], ["the", "DT"], ["query", "NN"], ["point", "NN"], [".", "."], ["So", "NNP"], ["let", "NN"], ["'s", "POS"], ["see", "VB"], ["how", "WRB"], ["that", "DT"], ["looks", "VBZ"], ["in", "IN"], ["a", "DT"], ["demo", "NN"], [".", "."], ["So", "RB"], ["again", "RB"], [",", ","], ["we", "PRP"], ["start", "VBP"], ["at", "IN"], ["the", "DT"], ["root", "NN"], [".", "."], ["And", "CC"], ["wh", "NN"], ["at", "IN"], ["do", "VBP"], ["we", "PRP"], ["want", "VB"], ["to", "TO"], ["do", "VB"], ["?", "."], ["Well", "NNP"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["check", "VB"], [".", "."], ["And", "CC"], ["I", "PRP"], [",", ","], ["whenever", "WRB"], ["we", "PRP"], ["'re", "VBP"], ["at", "IN"], ["a", "DT"], ["node", "NN"], [",", ","], ["it", "PRP"], ["represents", "VBZ"], ["a", "DT"], ["point", "NN"], ["so", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["check", "VB"], ["that", "DT"], ["point", "NN"], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["compute", "VB"], ["the", "DT"], ["distance", "NN"], ["from", "IN"], ["that", "DT"], ["point", "NN"], ["to", "TO"], ["our", "PRP$"], ["query", "NN"], ["point", "NN"], [".", "."], ["And", "CC"], [",", ","], ["if", "IN"], ["that", "DT"], ["distance", "NN"], ["is", "VBZ"], ["less", "JJR"], ["than", "IN"], ["the", "DT"], ["best", "JJS"], ["found", "NN"], ["so", "RB"], ["far", "RB"], [",", ","], ["then", "RB"], ["we", "PRP"], ["'ll", "MD"], ["keep", "VB"], ["that", "IN"], ["as", "IN"], ["the", "DT"], ["champion", "NN"], [".", "."], ["So", "IN"], ["the", "DT"], ["first", "JJ"], ["point", "NN"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["the", "DT"], ["closest", "JJS"], ["we", "PRP"], ["'ve", "VBP"], ["found", "VBN"], ["so", "RB"], ["far", "RB"], ["to", "TO"], ["the", "DT"], ["query", "NN"], ["point", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["'ll", "MD"], ["say", "VB"], [",", ","], ["number", "NN"], ["one", "CD"], ["is", "VBZ"], ["the", "DT"], ["distance", "NN"], [".", "."], ["And", "CC"], ["we", "PRP"], ["'ll", "MD"], ["only", "RB"], ["worry", "VB"], ["about", "IN"], ["the", "DT"], ["possibility", "NN"], ["of", "IN"], ["finding", "VBG"], ["something", "NN"], ["closer", "RBR"], [",", ","], ["than", "IN"], ["that", "DT"], [".", "."], ["And", "CC"], ["so", "RB"], ["just", "RB"], ["using", "VBG"], ["that", "IN"], ["distance", "NN"], ["we", "PRP"], ["recursively", "RB"], ["search", "VBP"], [",", ","], ["any", "DT"], ["part", "NN"], ["of", "IN"], ["the", "DT"], ["tree", "NN"], ["that", "WDT"], ["could", "MD"], ["contain", "VB"], ["a", "DT"], ["closer", "JJR"], ["point", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], ["that", "IN"], ["'s", "VBZ"], ["well", "RB"], ["it", "PRP"], ["continued", "VBD"], ["to", "TO"], ["do", "VB"], ["so", "RB"], ["in", "IN"], ["this", "DT"], ["case", "NN"], ["the", "DT"], ["query", "NN"], ["point", "NN"], ["is", "VBZ"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["of", "IN"], ["the", "DT"], ["splitting", "NN"], ["line", "NN"], ["and", "CC"], ["will", "MD"], ["always", "RB"], ["go", "VB"], ["towards", "IN"], ["the", "DT"], ["query", "NN"], ["point", "NN"], ["first", "RB"], ["and", "CC"], ["so", "RB"], ["in", "IN"], ["this", "DT"], ["case", "NN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["search", "VB"], ["both", "DT"], ["to", "TO"], ["see", "VB"], ["if", "IN"], ["there", "EX"], ["might", "MD"], ["possibly", "RB"], ["be", "VB"], ["a", "DT"], ["closer", "JJR"], ["point", "NN"], ["than", "IN"], ["one", "CD"], ["over", "WDT"], ["on", "IN"], ["the", "DT"], ["right", "NN"], ["if", "IN"], ["you", "PRP"], ["come", "VBP"], ["like", "IN"], ["straight", "JJ"], ["across", "IN"], [",", ","], ["there", "EX"], ["might", "MD"], ["be", "VB"], ["a", "DT"], ["closer", "JJR"], ["point", "NN"], [".", "."], ["We", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["both", "DT"], ["as", "RB"], ["far", "RB"], ["as", "IN"], ["we", "PRP"], ["know", "VBP"], ["now", "RB"], ["but", "CC"], ["we", "PRP"], ["'ll", "MD"], ["go", "VB"], ["towards", "NNS"], [".", "."], ["The", "DT"], ["query", "NN"], ["point", "NN"], ["and", "CC"], ["see", "VB"], ["if", "IN"], ["we", "PRP"], ["can", "MD"], ["find", "VB"], ["something", "NN"], ["closer", "RB"], [".", "."], ["So", "RB"], ["in", "IN"], ["that", "DT"], ["case", "NN"], ["now", "RB"], ["we", "PRP"], ["go", "VBP"], ["to", "TO"], [".3", "VB"], [".", "."], ["Compute", "VB"], ["the", "DT"], ["distance", "NN"], ["of", "IN"], ["that", "DT"], ["point", "NN"], ["to", "TO"], ["the", "DT"], ["query", "NN"], ["point", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["closer", "JJR"], ["so", "IN"], ["we", "PRP"], ["update", "VBP"], ["three", "CD"], ["to", "TO"], ["be", "VB"], ["our", "PRP$"], ["new", "JJ"], ["champion", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], ["we", "PRP"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["in", "IN"], ["parts", "NNS"], ["of", "IN"], ["the", "DT"], ["tree", "NN"], ["that", "WDT"], ["could", "MD"], ["give", "VB"], ["us", "PRP"], ["a", "DT"], ["point", "NN"], ["that", "WDT"], ["is", "VBZ"], ["closer", "JJR"], ["to", "TO"], ["our", "PRP$"], ["query", "NN"], ["point", "NN"], ["then", "RB"], ["three", "CD"], [".", "."], ["So", "CC"], ["already", "RB"], ["that", "DT"], ["would", "MD"], ["mean", "VB"], ["when", "WRB"], ["we", "PRP"], ["search", "VBP"], ["the", "DT"], ["point", "NN"], ["one", "CD"], ["we", "PRP"], ["wont", "VBP"], ["search", "VBP"], ["the", "DT"], ["right", "JJ"], ["sub", "NN"], ["tree", "NN"], ["because", "IN"], ["there", "EX"], ["could", "MD"], ["be", "VB"], ["no", "DT"], ["point", "NN"], ["on", "IN"], ["the", "DT"], ["right", "JJ"], ["sub-tree", "JJ"], ["right", "NN"], ["of", "IN"], ["the", "DT"], ["splitting", "NN"], ["line", "NN"], [".", "."], ["So", "CC"], ["lets", "VBZ"], ["closer", "JJR"], ["to", "TO"], ["query", "VB"], ["point", "NN"], ["than", "IN"], ["three", "CD"], ["and", "CC"], ["so", "RB"], ["that", "IN"], ["idea", "NN"], ["getting", "VBG"], ["closer", "JJR"], ["and", "CC"], ["closer", "RBR"], ["to", "TO"], ["the", "DT"], ["query", "NN"], ["point", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["cut", "VB"], ["out", "RP"], ["different", "JJ"], ["parts", "NNS"], ["of", "IN"], ["the", "DT"], ["tree", "NN"], ["as", "IN"], ["we", "PRP"], ["process", "VBP"], ["so", "RB"], [",", ","], ["but", "CC"], ["anyway", "RB"], ["starting", "VBG"], ["at", "IN"], ["point", "NN"], ["three", "CD"], ["as", "IN"], ["far", "RB"], ["as", "IN"], ["we", "PRP"], ["know", "VBP"], ["that", "IN"], ["we", "PRP"], ["may", "MD"], ["have", "VB"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["both", "DT"], ["sub", "JJ"], ["trees", "NNS"], [",", ","], ["so", "RB"], ["sometimes", "RB"], ["when", "WRB"], ["we", "PRP"], ["look", "VBP"], ["at", "IN"], ["both", "DT"], ["sub-trees", "NNS"], ["but", "CC"], ["as", "IN"], ["we", "PRP"], ["get", "VBP"], ["closer", "RBR"], ["and", "CC"], ["closer", "RBR"], ["we", "PRP"], ["only", "RB"], ["look", "VBP"], ["at", "IN"], ["one", "CD"], ["so", "RB"], ["lets", "JJ"], ["look", "VBP"], ["at", "IN"], ["point", "NN"], ["three", "CD"], ["now", "RB"], [".", "."], ["So", "RB"], [",", ","], ["again", "RB"], [",", ","], ["go", "VB"], ["towards", "IN"], ["the", "DT"], ["query", "NN"], ["point", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["'ll", "MD"], [",", ","], ["go", "VB"], ["to", "TO"], ["the", "DT"], ["top", "JJ"], ["first", "JJ"], [",", ","], ["and", "CC"], ["that", "IN"], ["takes", "VBZ"], ["us", "PRP"], ["to", "TO"], ["six", "CD"], [".", "."], ["Six", "NNP"], ["is", "VBZ"], ["not", "RB"], ["any", "DT"], ["closer", "JJR"], ["than", "IN"], ["three", "CD"], ["was", "VBD"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["not", "RB"], ["going", "VBG"], ["to", "TO"], [",", ","], ["update", "VB"], ["our", "PRP$"], ["champion", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], ["we", "PRP"], ["'ll", "MD"], ["search", "VB"], ["6", "CD"], ["'s", "POS"], ["left", "VBN"], ["sub-tree", "JJ"], ["which", "WDT"], ["is", "VBZ"], ["empty", "JJ"], ["which", "WDT"], ["is", "VBZ"], ["right", "JJ"], ["sub-tree", "JJ"], ["and", "CC"], ["the", "DT"], ["nearest", "JJS"], ["neighbor", "NN"], ["ca", "MD"], ["n't", "RB"], [",", ","], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["have", "VB"], ["to", "TO"], ["go", "VB"], ["down", "RP"], ["the", "DT"], ["right", "JJ"], ["sub-tree", "NN"], ["of", "IN"], ["six", "CD"], ["because", "IN"], ["you", "PRP"], ["ca", "MD"], ["n't", "RB"], ["have", "VB"], ["a", "DT"], ["point", "NN"], ["in", "IN"], ["that", "DT"], ["rectangle", "VBP"], ["that", "DT"], ["'s", "VBZ"], ["closer", "JJR"], ["to", "TO"], ["the", "DT"], ["query", "NN"], ["point", "NN"], ["than", "IN"], ["three", "CD"], [".", "."], ["So", "RB"], ["now", "RB"], ["we", "PRP"], ["can", "MD"], ["return", "VB"], ["from", "IN"], ["that", "DT"], [",", ","], ["And", "CC"], ["now", "RB"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["the", "DT"], ["bottom", "JJ"], ["sub", "NN"], ["tree", "NN"], ["associated", "VBN"], ["with", "IN"], ["three", "CD"], [".", "."], ["And", "CC"], ["so", "RB"], ["that", "IN"], ["takes", "VBZ"], ["us", "PRP"], ["to", "TO"], ["four", "CD"], [",", ","], ["And", "CC"], ["that", "IN"], ["one", "CD"], ["is", "VBZ"], [",", ","], ["not", "RB"], ["closer", "RBR"], [".", "."], ["So", "IN"], ["we", "PRP"], ["still", "RB"], ["have", "VBP"], ["three", "CD"], ["as", "IN"], ["our", "PRP$"], ["current", "JJ"], ["champion", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["search", "VB"], ["the", "DT"], ["left", "JJ"], ["subtree", "NN"], ["of", "IN"], ["four", "CD"], ["first", "JJ"], ["because", "IN"], ["that", "DT"], ["query", "NN"], ["point", "NN"], ["is", "VBZ"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["of", "IN"], ["that", "DT"], ["splitting", "VBG"], ["line", "NN"], [".", "."], ["And", "CC"], ["that", "IN"], ["takes", "VBZ"], ["us", "PRP"], ["to", "TO"], ["five", "CD"], ["and", "CC"], ["five", "CD"], ["is", "VBZ"], ["our", "PRP$"], ["new", "JJ"], ["champion", "NN"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["closest", "JJS"], ["point", "NN"], ["that", "IN"], ["we", "PRP"], ["know", "VBP"], ["about", "IN"], [".", "."], ["Could", "VB"], ["there", "RB"], ["be", "VB"], ["a", "DT"], ["node", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["closer", "JJR"], ["to", "TO"], ["five", "CD"], [",", ","], ["to", "TO"], ["our", "PRP$"], ["right", "JJ"], ["query", "NN"], ["point", "NN"], ["than", "IN"], ["five", "CD"], ["in", "IN"], ["the", "DT"], ["right", "JJ"], ["subtree", "NN"], ["of", "IN"], ["four", "CD"], ["?", "."], ["Oh", "UH"], [".", "."], ["We", "PRP"], ["have", "VBP"], ["to", "TO"], ["go", "VB"], ["above", "RB"], [".", "."], ["Sorry", "NNP"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["the", "DT"], ["top", "JJ"], ["sub-tree", "NN"], ["associated", "VBN"], ["with", "IN"], ["five", "CD"], [",", ","], ["and", "CC"], ["we", "PRP"], ["find", "VBP"], ["that", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["empty", "JJ"], [".", "."], ["And", "CC"], ["now", "RB"], ["we", "PRP"], ["'re", "VBP"], ["back", "RB"], ["at", "IN"], ["four", "CD"], [".", "."], ["Do", "VBP"], ["we", "PRP"], ["have", "VB"], ["to", "TO"], ["search", "VB"], ["the", "DT"], ["right", "JJ"], ["sub-tree", "NN"], ["of", "IN"], ["four", "CD"], ["?", "."], ["No", "UH"], [",", ","], ["because", "IN"], ["there", "EX"], ["ca", "MD"], ["n't", "RB"], ["be", "VB"], ["a", "DT"], ["closer", "JJR"], ["point", "NN"], [",", ","], ["than", "IN"], ["five", "CD"], ["in", "IN"], ["the", "DT"], ["right", "JJ"], ["sub-tree", "NN"], ["of", "IN"], ["four", "CD"], [".", "."], ["So", "IN"], ["we", "PRP"], ["'re", "VBP"], ["done", "VBN"], ["with", "IN"], ["four", "CD"], [",", ","], ["and", "CC"], ["we", "PRP"], ["return", "VBP"], ["to", "TO"], [",", ","], ["come", "VB"], ["to", "TO"], ["three", "CD"], [",", ","], ["and", "CC"], ["now", "RB"], ["we", "PRP"], ["search", "VBP"], ["the", "DT"], [",", ","], ["suppose", "VB"], ["to", "TO"], ["search", "VB"], ["and", "CC"], ["return", "VB"], ["from", "IN"], ["there", "EX"], ["we", "PRP"], ["are", "VBP"], ["now", "RB"], ["at", "IN"], ["one", "CD"], [",", ","], ["suppose", "VBP"], ["to", "TO"], ["search", "VB"], ["the", "DT"], ["right", "JJ"], ["subtree", "NN"], ["one", "CD"], ["next", "JJ"], ["but", "CC"], ["we", "PRP"], ["can", "MD"], ["term", "NN"], ["that", "WDT"], ["nearest", "JJS"], ["neighbor", "NN"], ["could", "MD"], ["n't", "RB"], ["be", "VB"], ["in", "IN"], ["there", "RB"], [".", "."], ["So", "RB"], [",", ","], ["then", "RB"], ["we", "PRP"], ["are", "VBP"], ["done", "VBN"], ["and", "CC"], ["we", "PRP"], ["found", "VBD"], ["that", "IN"], ["the", "DT"], ["nearest", "JJS"], ["neighbor", "NN"], [",", ","], ["is", "VBZ"], ["five", "CD"], [".", "."], ["And", "CC"], ["this", "DT"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], [",", ","], ["very", "RB"], ["efficient", "JJ"], ["because", "IN"], ["as", "IN"], ["we", "PRP"], ["get", "VBP"], ["closer", "RBR"], ["and", "CC"], ["closer", "RBR"], [",", ","], ["the", "DT"], ["query", "NN"], ["point", "NN"], [",", ","], ["we", "PRP"], ["are", "VBP"], ["cutting", "VBG"], ["out", "RP"], ["all", "PDT"], ["the", "DT"], ["subtrees", "NNS"], ["that", "WDT"], ["are", "VBP"], ["away", "RB"], [",", ","], ["and", "CC"], ["again", "RB"], ["in", "IN"], ["practice", "NN"], [",", ","], ["the", "DT"], ["running", "JJ"], ["time", "NN"], ["of", "IN"], ["this", "DT"], ["algorithm", "NN"], [",", ","], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["close", "RB"], ["to", "TO"], ["logarithmic", "VB"], [".", "."], ["So", "RB"], ["in", "IN"], [",", ","], ["in", "IN"], ["typical", "JJ"], ["cases", "NNS"], ["that", "IN"], ["the", "DT"], ["running", "JJ"], ["time", "NN"], ["of", "IN"], ["nearest", "JJS"], ["neighbor", "NN"], ["search", "NN"], ["in", "IN"], ["a", "DT"], ["2D", "CD"], ["tree", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["proportion", "NN"], ["to", "TO"], ["logarithmic", "VB"], [".", "."], ["It", "PRP"], ["is", "VBZ"], ["possible", "JJ"], ["to", "TO"], ["concoct", "VB"], ["cases", "NNS"], ["where", "WRB"], ["you", "PRP"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["to", "TO"], ["examine", "VB"], ["all", "PDT"], ["the", "DT"], ["points", "NNS"], ["for", "IN"], ["example", "NN"], ["if", "IN"], ["they", "PRP"], ["'re", "VBP"], ["all", "DT"], ["arranged", "VBN"], ["in", "IN"], ["a", "DT"], ["circle", "NN"], ["and", "CC"], ["your", "PRP$"], ["query", "NN"], ["points", "NNS"], ["to", "TO"], ["the", "DT"], ["center", "NN"], ["or", "CC"], ["something", "NN"], ["of", "IN"], ["that", "DT"], ["sort", "NN"], [".", "."], ["But", "CC"], ["for", "IN"], ["typical", "JJ"], ["data", "NNS"], ["it", "PRP"], ["'s", "VBZ"], ["very", "RB"], ["efficient", "JJ"], [".", "."], ["Now", "RB"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["an", "DT"], ["application", "NN"], ["where", "WRB"], ["we", "PRP"], ["simulate", "VBP"], ["a", "DT"], ["phenomenon", "NN"], ["in", "IN"], ["nature", "NN"], [".", "."], ["And", "CC"], ["this", "DT"], ["is", "VBZ"], ["what", "WDT"], ["kind", "NN"], ["of", "IN"], ["patterns", "NNS"], ["do", "VBP"], ["things", "NNS"], ["like", "IN"], ["starlings", "NNS"], ["and", "CC"], ["geese", "JJ"], ["or", "CC"], ["cranes", "NNS"], ["or", "CC"], [",", ","], ["or", "CC"], ["fish", "NN"], ["or", "CC"], ["fireflies", "NNS"], ["?", "."], ["How", "WRB"], ["do", "VBP"], ["they", "PRP"], ["flock", "VB"], ["together", "RB"], [".", "."], ["And", "CC"], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["a", "DT"], ["simulation", "NN"], ["that", "WDT"], ["corresponds", "VBZ"], ["to", "TO"], ["that", "DT"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["when", "WRB"], ["the", "DT"], ["moment", "NN"], ["is", "VBZ"], ["right", "JJ"], [",", ","], ["they", "PRP"], ["behave", "VBP"], ["in", "IN"], ["a", "DT"], ["way", "NN"], [",", ","], ["that", "WDT"], ["should", "MD"], ["be", "VB"], ["impossible", "JJ"], [".", "."], ["[", "JJ"], ["music", "NN"], ["]", "NN"], ["And", "CC"], ["it", "PRP"], ["happens", "VBZ"], ["everyday", "JJ"], [",", ","], ["right", "RB"], ["through", "IN"], ["the", "DT"], ["winter", "NN"], [".", "."], ["Just", "VB"], ["a", "DT"], ["couple", "NN"], ["of", "IN"], ["miles", "NNS"], ["from", "IN"], ["my", "PRP$"], ["doorstep", "NN"], [".", "."], ["Help", "NNP"], ["you", "PRP"], ["desire", "VBP"], [".", "."], [">", "JJ"], [">", "NN"], ["So", "NNP"], ["to", "TO"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["simple", "JJ"], ["model", "NN"], ["developed", "VBN"], ["by", "IN"], ["Craig", "NNP"], ["Reynolds", "NNP"], ["awhile", "NN"], ["ago", "RB"], ["for", "IN"], ["simulating", "VBG"], ["this", "DT"], ["situation", "NN"], ["called", "VBD"], ["the", "DT"], ["boid", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["idea", "NN"], ["is", "VBZ"], ["to", "TO"], ["use", "VB"], ["three", "CD"], ["simple", "NN"], ["rules", "NNS"], ["to", "TO"], ["you", "PRP"], ["get", "VB"], ["something", "NN"], ["very", "RB"], ["close", "RB"], ["to", "TO"], ["this", "DT"], ["complex", "JJ"], ["flocking", "NN"], ["behavior", "NN"], [".", "."], ["So", "RB"], [",", ","], ["you", "PRP"], ["have", "VBP"], ["col", "VBN"], [",", ","], ["collision", "NN"], ["avoidance", "NN"], ["where", "WRB"], ["you", "PRP"], ["always", "RB"], ["try", "VB"], ["to", "TO"], ["point", "VB"], ["away", "RP"], ["from", "IN"], ["the", "DT"], ["K", "NNP"], ["nearest", "JJS"], ["boids", "NNS"], [".", "."], ["You", "PRP"], ["have", "VBP"], ["centering", "VBG"], ["where", "WRB"], ["you", "PRP"], ["try", "VB"], ["to", "TO"], ["point", "VB"], ["near", "IN"], ["the", "DT"], ["center", "NN"], ["of", "IN"], ["mass", "NN"], ["of", "IN"], ["the", "DT"], ["K", "NNP"], ["nearest", "JJS"], ["boids", "NNS"], [",", ","], ["and", "CC"], ["velocity", "NN"], ["matching", "NN"], ["where", "WRB"], ["you", "PRP"], ["update", "VB"], ["your", "PRP$"], [".", "."], ["Philosophy", "NN"], ["to", "TO"], ["the", "DT"], ["average", "NN"], ["of", "IN"], ["the", "DT"], ["k", "NN"], ["nearest", "JJS"], ["boids", "NNS"], [".", "."], ["And", "CC"], ["that", "IN"], ["algorithm", "VBP"], ["works", "NNS"], ["like", "IN"], ["this", "DT"], [".", "."], ["So", "CC"], ["as", "IN"], ["that", "DT"], ["example", "NN"], ["shows", "VBZ"], [",", ","], ["2D", "CD"], ["trees", "NNS"], ["are", "VBP"], ["extremely", "RB"], ["effective", "JJ"], ["in", "IN"], ["quickly", "RB"], ["processing", "VBG"], ["huge", "JJ"], ["amounts", "NNS"], ["of", "IN"], ["geometric", "JJ"], ["data", "NNS"], [",", ","], ["and", "CC"], ["what", "WP"], ["'s", "VBZ"], ["more", "JJR"], [",", ","], ["it", "PRP"], ["expands", "VBZ"], ["to", "TO"], ["more", "RBR"], ["dimensions", "NNS"], [".", "."], ["With", "IN"], ["a", "DT"], ["very", "RB"], ["simple", "JJ"], ["modification", "NN"], ["we", "PRP"], ["can", "MD"], ["take", "VB"], ["it", "PRP"], ["to", "TO"], ["D", "NNP"], ["tree", "NN"], ["and", "CC"], ["created", "VBN"], ["data", "NNS"], ["structure", "NN"], ["known", "VBN"], ["as", "IN"], ["a", "DT"], ["KD", "NNP"], ["tree", "NN"], [",", ","], ["which", "WDT"], ["even", "RB"], ["works", "VBZ"], ["for", "IN"], ["K", "NNP"], ["dimensions", "NNS"], ["and", "CC"], ["the", "DT"], ["idea", "NN"], ["is", "VBZ"], ["even", "RB"], ["if", "IN"], ["there", "EX"], ["is", "VBZ"], ["K", "NNP"], ["dimension", "NN"], [",", ","], ["what", "WP"], ["we", "PRP"], ["will", "MD"], ["do", "VB"], ["is", "VBZ"], ["recursively", "RB"], ["partition", "JJ"], ["one", "CD"], ["dimension", "NN"], ["at", "IN"], ["a", "DT"], ["time", "NN"], [",", ","], ["so", "IN"], ["that", "DT"], ["'s", "VBZ"], ["called", "VBN"], ["a", "DT"], ["KD", "NNP"], ["tree", "NN"], ["and", "CC"], ["we", "PRP"], ["use", "VBP"], ["the", "DT"], ["same", "JJ"], ["ideas", "NNS"], ["for", "IN"], ["two", "CD"], ["D", "NNP"], ["trees", "NNS"], [",", ","], ["but", "CC"], ["instead", "RB"], ["of", "IN"], ["cycling", "VBG"], ["through", "IN"], ["just", "RB"], ["horizontal", "JJ"], ["vertical", "JJ"], [",", ","], ["we", "PRP"], ["cycled", "VBD"], ["through", "RP"], [",", ","], ["however", "RB"], ["many", "JJ"], ["dimensions", "NNS"], ["there", "EX"], ["are", "VBP"], [",", ","], ["so", "IN"], ["its", "PRP$"], ["where", "WRB"], ["in", "IN"], ["three", "CD"], ["space", "NN"], [",", ","], ["we", "PRP"], ["use", "VBP"], ["a", "DT"], ["plane", "NN"], ["and", "CC"], ["do", "VB"], ["above", "RB"], ["and", "CC"], ["below", "IN"], ["and", "CC"], ["then", "RB"], ["simply", "RB"], ["cycle", "NN"], ["through", "IN"], ["the", "DT"], ["dimensions", "NNS"], [".", "."], ["At", "IN"], ["level", "NN"], ["I", "PRP"], [",", ","], ["we", "PRP"], ["put", "VBP"], ["on", "IN"], ["the", "DT"], ["left", "JJ"], ["points", "NNS"], ["whose", "WP$"], ["I-th", "JJ"], ["coordinates", "NNS"], ["are", "VBP"], ["less", "JJR"], ["than", "IN"], ["P", "NNP"], ["and", "CC"], ["on", "IN"], ["the", "DT"], ["right", "NN"], [",", ","], ["we", "PRP"], ["put", "VBD"], ["the", "DT"], ["points", "NNS"], ["to", "TO"], ["whose", "WP$"], ["I-th", "JJ"], ["coordinates", "NNS"], ["are", "VBP"], ["greater", "JJR"], ["than", "IN"], ["P", "NNP"], ["and", "CC"], ["at", "IN"], ["level", "NN"], ["in", "IN"], ["cycle", "NN"], ["three", "CD"], ["of", "IN"], ["the", "DT"], ["dimensions", "NNS"], ["at", "IN"], ["the", "DT"], ["level", "NN"], ["I", "PRP"], ["might", "MD"], ["k", "VB"], ["we", "PRP"], ["just", "RB"], ["use", "VBP"], ["that", "DT"], ["dimension", "NN"], ["of", "IN"], ["the", "DT"], ["point", "NN"], ["to", "TO"], ["do", "VB"], ["the", "DT"], ["comparison", "NN"], [".", "."], ["The", "DT"], ["implementation", "NN"], ["is", "VBZ"], ["simple", "JJ"], [",", ","], ["ex", "JJ"], ["cept", "NN"], ["for", "IN"], ["the", "DT"], ["comparison", "NN"], [".", "."], ["And", "CC"], ["we", "PRP"], ["get", "VBP"], ["the", "DT"], ["same", "JJ"], ["kind", "NN"], ["of", "IN"], ["partitioning", "VBG"], ["for", "IN"], ["three", "CD"], ["dimensional", "JJ"], ["data", "NNS"], [",", ","], ["so", "IN"], ["we", "PRP"], ["could", "MD"], ["do", "VB"], ["boids", "NNS"], ["in", "IN"], ["three", "CD"], ["dimensions", "NNS"], ["or", "CC"], ["for", "IN"], ["databases", "NNS"], ["with", "IN"], ["large", "JJ"], ["number", "NN"], ["of", "IN"], ["dimensions", "NNS"], [".", "."], ["You", "PRP"], ["could", "MD"], ["do", "VB"], ["even", "RB"], ["much", "VB"], ["higher", "JJR"], ["dimensional", "JJ"], ["data", "NNS"], [".", "."], ["And", "CC"], ["find", "VB"], ["nearest", "JJ"], ["neighbors", "NNS"], ["and", "CC"], ["do", "VBP"], ["range", "VB"], ["searching", "VBG"], ["extremely", "RB"], ["efficiently", "RB"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["very", "RB"], ["efficient", "JJ"], ["and", "CC"], ["simple", "JJ"], ["data", "NNS"], ["structure", "NN"], ["for", "IN"], ["processing", "VBG"], ["K", "NNP"], ["dimensional", "JJ"], ["data", "NNS"], ["that", "WDT"], ["'s", "VBZ"], ["very", "RB"], ["widely", "RB"], ["used", "VBN"], ["and", "CC"], ["the", "DT"], ["whole", "JJ"], ["idea", "NN"], ["is", "VBZ"], ["that", "IN"], ["data", "NN"], ["clusters", "NNS"], [",", ","], ["particularly", "RB"], [",", ","], ["in", "IN"], ["high", "JJ"], ["dimensions", "NNS"], [".", "."], ["And", "CC"], ["also", "RB"], ["one", "CD"], ["point", "NN"], ["to", "TO"], ["make", "VB"], ["for", "IN"], ["this", "DT"], ["class", "NN"], ["is", "VBZ"], ["that", "IN"], [",", ","], ["this", "DT"], ["algorithm", "NN"], ["was", "VBD"], ["discovered", "VBN"], ["by", "IN"], ["an", "DT"], ["undergraduate", "NN"], ["in", "IN"], ["an", "DT"], ["algorithms", "JJ"], ["class", "NN"], [",", ","], ["so", "IN"], ["that", "DT"], ["'s", "VBZ"], [",", ","], ["John", "NNP"], ["Bentley", "NNP"], [",", ","], ["who", "WP"], ["discovered", "VBD"], ["this", "DT"], ["while", "IN"], ["an", "DT"], ["undergraduate", "NN"], ["at", "IN"], ["Stanford", "NNP"], [".", "."], ["And", "CC"], [",", ","], ["so", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["simple", "JJ"], ["idea", "NN"], ["that", "IN"], [",", ","], ["but", "CC"], [",", ","], ["experts", "NNS"], ["scientists", "NNS"], ["where", "WRB"], ["struggling", "VBG"], ["with", "IN"], [",", ","], ["dealing", "VBG"], ["with", "IN"], ["huge", "JJ"], ["amounts", "NNS"], ["of", "IN"], ["geometric", "JJ"], ["data", "NNS"], [",", ","], ["and", "CC"], [",", ","], ["Bentley", "NNP"], ["found", "VBD"], ["this", "DT"], ["way", "NN"], [",", ","], ["to", "TO"], ["process", "VB"], ["it", "PRP"], ["efficiently", "RB"], ["that", "DT"], ["'s", "VBZ"], ["been", "VBN"], ["widely", "RB"], ["used", "VBN"], ["ever", "RB"], ["since", "IN"], [".", "."], ["And", "CC"], ["in", "IN"], [",", ","], ["in", "IN"], ["particular", "JJ"], ["just", "RB"], ["as", "IN"], ["another", "DT"], ["example", "NN"], ["consider", "VBP"], ["the", "DT"], ["idea", "NN"], ["of", "IN"], ["N", "NNP"], ["body", "NN"], ["simulation", "NN"], ["which", "WDT"], ["is", "VBZ"], ["a", "DT"], ["classic", "JJ"], ["problem", "NN"], ["in", "IN"], ["physics", "NNS"], [".", "."], ["Where", "WRB"], ["you", "PRP"], ["'ve", "VBP"], ["got", "VBN"], ["N", "NNP"], ["particles", "NNS"], ["mutually", "RB"], ["affected", "VBN"], ["by", "IN"], ["gravity", "NN"], ["and", "CC"], ["basically", "RB"], ["the", "DT"], ["computation", "NN"], ["is", "VBZ"], ["based", "VBN"], ["on", "IN"], ["computing", "VBG"], ["the", "DT"], ["interacting", "NN"], ["force", "NN"], ["for", "IN"], ["each", "DT"], ["pair", "NN"], ["of", "IN"], ["particles", "NNS"], [".", "."], ["And", "CC"], ["so", "RB"], ["then", "RB"], ["there", "EX"], ["'d", "MD"], ["be", "VB"], ["mutual", "JJ"], ["gravitational", "JJ"], ["pull", "NN"], [".", "."], ["[", "CC"], ["inaudible", "JJ"], ["]", "NN"], ["and", "CC"], ["this", "DT"], ["is", "VBZ"], ["what", "WP"], ["happens", "VBZ"], ["with", "IN"], ["a", "DT"], ["large", "JJ"], ["number", "NN"], ["of", "IN"], ["particles", "NNS"], ["in", "IN"], ["a", "DT"], ["certain", "JJ"], ["simulation", "NN"], ["and", "CC"], ["people", "NNS"], ["understand", "VBP"], ["properties", "NNS"], ["in", "IN"], ["the", "DT"], ["universe", "NN"], ["by", "IN"], ["coming", "VBG"], ["up", "RP"], ["with", "IN"], [",", ","], ["doing", "VBG"], ["these", "DT"], ["kinds", "NNS"], ["of", "IN"], ["calculations", "NNS"], ["and", "CC"], ["comparing", "VBG"], ["against", "IN"], ["what", "WP"], ["'s", "VBZ"], ["observed", "VBN"], ["in", "IN"], ["space", "NN"], [".", "."], ["Now", "RB"], ["but", "CC"], ["the", "DT"], ["thing", "NN"], ["is", "VBZ"], ["for", "IN"], ["each", "DT"], ["pair", "NN"], ["of", "IN"], ["particles", "NNS"], [",", ","], ["so", "RB"], ["if", "IN"], ["you", "PRP"], ["have", "VBP"], ["M", "VBN"], ["particles", "NNS"], ["and", "CC"], ["you", "PRP"], ["have", "VBP"], ["to", "TO"], ["do", "VB"], ["it", "PRP"], ["for", "IN"], ["each", "DT"], ["pair", "NN"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["M^2", "NNP"], ["so", "IN"], ["the", "DT"], ["progress", "NN"], ["of", "IN"], ["scientific", "JJ"], ["investigation", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["affected", "VBN"], ["by", "IN"], ["how", "WRB"], ["quickly", "RB"], [",", ","], ["you", "PRP"], ["can", "MD"], ["do", "VB"], ["this", "DT"], ["calculation", "NN"], ["for", "IN"], ["a", "DT"], ["large", "JJ"], ["number", "NN"], ["of", "IN"], ["particles", "NNS"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["particles", "NNS"], ["out", "RP"], ["in", "IN"], ["the", "DT"], ["universe", "NN"], [".", "."], ["And", "CC"], [",", ","], ["you", "PRP"], ["ca", "MD"], ["n't", "RB"], ["do", "VB"], ["a", "DT"], ["quadratic", "JJ"], ["calculation", "NN"], ["for", "IN"], ["large", "JJ"], ["N.", "NNP"], ["So", "NNP"], [",", ","], ["another", "DT"], [",", ","], ["undergraduate", "NN"], ["in", "IN"], ["an", "DT"], ["algorithms", "JJ"], ["class", "NN"], ["discovered", "VBD"], [",", ","], ["this", "DT"], ["idea", "NN"], [",", ","], ["for", "IN"], ["N", "NNP"], ["body", "NN"], ["simulation", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], [",", ","], ["Andrew", "NNP"], ["Appel", "NNP"], [".", "."], ["And", "CC"], ["his", "PRP$"], ["idea", "NN"], ["was", "VBD"], ["that", "IN"], ["if", "IN"], ["some", "DT"], ["part", "NN"], [".", "."], ["Particle", "NNP"], ["is", "VBZ"], ["way", "NN"], ["away", "RB"], ["from", "IN"], ["som", "JJ"], ["e", "NN"], ["cluster", "NN"], ["of", "IN"], ["particles", "NNS"], [",", ","], ["we", "PRP"], ["can", "MD"], ["treat", "VB"], ["that", "DT"], ["cluster", "NN"], ["as", "IN"], ["a", "DT"], ["single", "JJ"], ["aggregate", "NN"], ["particle", "NN"], [".", "."], ["And", "CC"], ["not", "RB"], ["do", "VB"], ["the", "DT"], ["individual", "NN"], ["force", "NN"], ["calculation", "NN"], ["between", "IN"], ["our", "PRP$"], ["particle", "NN"], ["and", "CC"], ["every", "DT"], ["one", "CD"], ["of", "IN"], ["those", "DT"], ["in", "IN"], ["the", "DT"], ["aggregate", "NN"], [".", "."], ["But", "CC"], ["use", "VBP"], ["the", "DT"], ["center", "NN"], ["of", "IN"], ["mass", "NN"], [".", "."], ["And", "CC"], ["you", "PRP"], ["get", "VBP"], ["a", "DT"], ["very", "RB"], ["accurate", "JJ"], ["approximation", "NN"], ["to", "TO"], ["the", "DT"], ["N", "NNP"], ["body", "NN"], ["doing", "VBG"], ["that", "DT"], [".", "."], ["And", "CC"], ["the", "DT"], ["algorithm", "NN"], ["that", "IN"], ["he", "PRP"], ["used", "VBD"], ["is", "VBZ"], ["based", "VBN"], ["on", "IN"], ["3D", "CD"], ["trees", "NNS"], [".", "."], ["With", "IN"], ["the", "DT"], ["N", "NNP"], ["particles", "NNS"], ["as", "IN"], ["nodes", "NNS"], ["and", "CC"], ["storing", "VBG"], ["the", "DT"], ["center", "NN"], ["of", "IN"], ["a", "DT"], ["mass", "NN"], ["of", "IN"], ["a", "DT"], ["sub-tree", "JJ"], ["in", "IN"], ["each", "DT"], ["node", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["to", "TO"], ["compute", "VB"], ["the", "DT"], ["total", "JJ"], ["force", "NN"], [",", ","], ["traversing", "VBG"], ["the", "DT"], ["tree", "NN"], ["of", "IN"], ["all", "PDT"], ["the", "DT"], ["information", "NN"], ["that", "IN"], ["you", "PRP"], ["need", "VBP"], [",", ","], ["to", "TO"], [",", ","], ["complete", "VB"], ["the", "DT"], ["N", "NNP"], ["body", "NN"], ["calculation", "NN"], [".", "."], ["But", "CC"], ["in", "IN"], ["time", "NN"], [",", ","], ["much", "RB"], ["closer", "RBR"], ["to", "TO"], ["N", "NNP"], ["lg", "NN"], ["N", "NNP"], ["than", "IN"], ["to", "TO"], ["N^2", "NNP"], [".", "."], ["And", "CC"], ["that", "IN"], [",", ","], ["idea", "NN"], ["that", "IN"], [",", ","], ["you", "PRP"], ["did", "VBD"], ["n't", "RB"], ["need", "VB"], ["to", "TO"], ["take", "VB"], ["time", "NN"], ["proportional", "JJ"], ["to", "TO"], ["N^2", "NNP"], ["but", "CC"], ["with", "IN"], ["a", "DT"], [",", ","], ["a", "DT"], ["geometric", "JJ"], ["algorithm", "NN"], [",", ","], ["like", "IN"], ["a", "DT"], ["3D", "CD"], ["tree", "NN"], [",", ","], ["you", "PRP"], ["could", "MD"], ["get", "VB"], ["the", "DT"], ["time", "NN"], ["to", "TO"], ["N", "NNP"], ["lg", "NN"], ["N.", "NNP"], ["That", "WDT"], ["enabled", "VBD"], [",", ","], ["all", "DT"], ["sorts", "NNS"], ["of", "IN"], ["new", "JJ"], ["scientific", "JJ"], ["investigation", "NN"], ["in", "IN"], ["this", "DT"], ["example", "NN"], ["of", "IN"], ["the", "DT"], ["use", "NN"], ["of", "IN"], ["algorithms", "NN"], ["to", "TO"], ["enable", "VB"], ["new", "JJ"]], "title": "kd trees", "text": "Now we're going to look at KD trees, which is an extension of BSTs that allow us to do efficient processing of sets of points in space and it's very flexible and very useful in lots of applications. So now we're going to extend the API to talk about two dimensional keys. So that's just, you can think of two dimensional keys as, points in the two dimensional geometric space. So we're going to talk about insertion, and search. We won't talk about deletion and then range search and range count. So, we want to be able to insert and delete, points. You can think of a two dimensional key as a point in two dimensional space. And we want to be able to find all keys that lie within a two dimensional range. That's a rectangle. As I mentioned at the beginning or count the number of keys that lie in a two dimensional range. So again, the geometric interpretation is the keys or points in the plane. And we have a, a, a range, 2D range is a, a rectangle, or is oriented, to align with the horizontal, vertical axes. And we want to be able to find or count the points in a given rectangle. In this one has many, many applications and we'll talk about some of them later on. And even if it's not points in the plane, just databases you might ask for all the people with incomes between 1,000,000 and 10,000,000 who are between 40 and 50 years of age. And this kind of algorithm and data structure would be useful for that kind of situation too. So how are we going to solve this problem, implement this API? We build a data structure containing points that can efficiently support range searching and range counting. Well one easy way to do it is to just think about dividing space into a grid of squares. So we'll pick a parameter M and divide space into an M by M grid of squares and then process all the points and make a list of points that are contained in each square. We can use a two dimensional array to directly index, relevant squares. And for insert, you just, take X, Y. Figure out which square it belongs to. Simply divide by, both coor dinates by N, and look into the two dimensional array. And just add the point to the list for the corresponding square. And then range searches, only find the squares that intersect the query, and process the points, in that square. And depending on the value of the parameter M, you have a space/time tradeoff. The amount of space required is M^2 for the grid + N. You have to have a linked list element, or whatever for each point. And then the time, though, gets divided by M^2. Your number of points and were spread out over the N squared, different squares. And so on average you examine N over M^2 points per square. So you don't want to make M too big that would be too much space, you don't want to make M too small that would be too much time. So what we want to choose is the square size that would best balance these two needs and then it is easy to see that what you should choose is M to be about n square root of N. So then your space is within a constant factor of N and your time is constant. So if the points are randomly distributed, then this is ideal. It takes us, linear time to initialize the data structure. And to insert and search, it take constant time per point in the range. And this is absolutely a fine method that, is not that difficult to implement, in the case that the points are evenly distributed. Unfortunately, it's usually the case that, in geometric data, that the points are not evenly distributed. There's a well known phenomenon known as clustering that says that, the, the points aren't going to be evenly distributed all over the whole thing. In the case of the, the grid implementation, they might all fall on the same square. And so, the average list length is short. This is like what we encountered with hashing. If you take, all the points in one square, and zero and all the rest of them. Your average is still, N over M squared. But. They are all in that long list and you're going to have a slow algorithm if it's, if it's based on this. So we need a data structure that more gracefully adapts to the distribution of the data. And again it, it's well known that most geometric data has this kind of problem. So for example here's some data which cities in the US. It's got 13,000 points, but if you try to use the grid implementation for this, you'd find that half the squares would be empty. And half the points are in just ten percent of the squares. So, the clustering in the data is going to make the implementation inefficient. We need to adapt to the data. And this is very, very typical, in geometric data. Particularly, in higher dimensional data, as we'll see in a minute. So, people have developed all different kinds of, methods for, adapting in this way. And what we're going to look at is one of the most widely used. Which is basically to use a tree to represent a recursive subdivision of the plane, of two dimensional space. It's going to be recursive. It's going to be based on the points the way in which we divide into half planes. And its one of many different algorithms that, have been, studied for this, but again its a simple one and widely used. So, for example if you played the game Doom or use the flight simulator, that, these types of graphical simulations and animations are made possible only through the use of space partitioning trees, like 2d trees and quad trees and also in all different types of scientific data processing these things are extremely important whenever you're processing. Geometric data, doing some kind of geometric search. Where is the closest thing? How am I going to find the closest thing efficiently? What things are nearby, and so forth? So, rest assured, these types of algorithms, lie at the heart of, any program that you use that, is involving a lot of geometric data. So, those are just, two examples. So let's look at how it looks now. So, a 2D tree, is, again, it's going to be a data structure based on a bunch of points that's going to facilitate, efficient data processing of these points. So, just as we do for, symbol tables, where we take, keys. Now we're going to ta ke points, and we're going to build a data structure based on these points. And the idea is to, build a tree that corresponds to recursively partitioning the plane. So arbitrarily our first point we're going to divide the plane into two parts based on a vertical line through that point. So now, in the tree on the right there, all the points that fall to the left of the first point are going to be on the left, and all the points that fall to the right. That first point, you're going to be on the right. But then we get to the next point, we'll switch and we'll partition on a horizontal line. So now, our second point, in the tree, the left sub-tree corresponds to everybody below that horizontal line, and the right sub-tree corresponds to everybody above it. Similar if our third point comes on the left again we'll partition according to the horizontal line through that point on the left. So if we go left and then left that means all the points to the left of one and above three, so the square in the upper left is represented. By, that node in the tree. And, again. Now, when we go one level below, we switch again to vertical. Alternate between horizontal and vertical partitioning, of the plane. So it's a regular binary search tree. But it's got this interpretation based on the geometric data, where we switch which key we use for, the comparison, the X coordinate or the Y coordinate, at each level. And that corresponds to this partitioning of the plane. So now five comes in, that's to the left of four because it was partitioned at a vertical and five's going to partion on a horizontal. This is simple, and completely well defined partion of the plane corresponding to a binary tree. Now the ninth point well it's to the left of eight, above to and to the left of eight and then corresponds to horizontal partitioning, tenth point is to the right of one, it's below two and we go to the left and it's to the right of seven so we go to the right. So that's a way to build a Binary tree corresponding to a partitioning of the pla ne. And it's really the same as the binary search tree. It's just that we alternate which coordinate we use as the key. At the even levels, we think of a vertical line. And the left subtree is all the points to the left, and the right subtree is all the points to the right. On odd levels, we use a horizontal line, in the left subtrees all points below. In the right subtrees, all points above. And the, and the code for this is, you know, the same as for binary search trees. It's simply, which, coordinate we use for the comparison. That's the only difference. So that's 2D tree implementation. So now what about solving a problem like this rain search problem for a 2D tree. So now we have a query like this green rectangle and what we want to find is all the points in the data structure that fall within that rectangle. Well, we're going to use, the 2D tree represents our points and we are going to use the structure and definition of that tree, to go ahead and help us find the points that are in the rectangle. If, if the root node lies in the rectangle then we're done. We can return that, that point but we have to look on both sides to look for more, but if the rectangle lies to the left of the root node then we have to look at the left and so forth. So let's look at how this works in the demo. All right, so, we're going to try to find all the points that are contained in that green query rectangle. So first thing is, to check if our rectangle contains the node of the root. In this case it doesn't. So since, it's to the left of the splitting line of the root we only have to search in the left sub-tree. Now, we search the left sub-tree and we're going to check if it contains.3. It does not contain.3, but now which, sub-trees do we search? In this case, now the rectangle intersects a splitting line, so we have to search both subtrees, both above and below. So, first we search the left subtree that's the one below does it contain .4? No. It's to the left so we're going to have to search the left sub-tree of .4. And so we search the left sub-tree and we check if it contains point five and it does, that's the one that we return. It, it also intersects the splitting lines, we have to search both the sub-trees, in this case they're both empty. So we're done with that but now we have to go back and we have to search the other sub-tree of point three and that's the above, so now we check this .6 in the rectangle. In this case, it's not. And it's still a left sway if it's to search the left sub tree a .6 and that one's empty and now we return and we're done. So we don't always go down just one branch if our splitting line hits a rectangle we have to go down both branches but still this is a very efficient algorithm, particularly think about the rectangle being small, it's going to be not that different than a regular search in a binary search tree. Alright. So what about the analysis of how long is this going to take? Well again, a typical case. A rectangle's small that we're only going to examine, really, a path of the three, maybe a couple of other nodes along the path. And the running time will be proportional to the number of points returned plus lg N. With geometric data the worst case can be bad. So, like all the points could be arranged in a circle. All, all different types of problems that might occur in, with some difficulties. It's possible to prove, that even if the tree is balanced, you can get a worst case proportional to square root of that. So analysis of 2D trees that the under scope. But, for many practical applications they are easily implement and worth using. Let's look at another using 2D trees to solve another problem, a so called nearest neighbor search. So now, instead of a rectangle, we have a query point. And our goal is to find the closest point to that point. So in this case our query point is, over here in green. And our algorithm's going to want to return to 0.5. That's the closest one to the query point. So let's see how that looks in a demo. So again, we start at the root. And wh at do we want to do? Well, we're going to check. And I, whenever we're at a node, it represents a point so we're going to check that point and we'll compute the distance from that point to our query point. And, if that distance is less than the best found so far, then we'll keep that as the champion. So the first point, that's the closest we've found so far to the query point. So we'll say, number one is the distance. And we'll only worry about the possibility of finding something closer, than that. And so just using that distance we recursively search, any part of the tree that could contain a closer point. And so that's well it continued to do so in this case the query point is to the left of the splitting line and will always go towards the query point first and so in this case we have to search both to see if there might possibly be a closer point than one over on the right if you come like straight across, there might be a closer point. We're going to have a look at both as far as we know now but we'll go towards. The query point and see if we can find something closer. So in that case now we go to .3. Compute the distance of that point to the query point. It's closer so we update three to be our new champion. So now we are going to look in parts of the tree that could give us a point that is closer to our query point then three. So already that would mean when we search the point one we wont search the right sub tree because there could be no point on the right sub-tree right of the splitting line. So lets closer to query point than three and so that idea getting closer and closer to the query point is going to cut out different parts of the tree as we process so, but anyway starting at point three as far as we know that we may have to look at both sub trees, so sometimes when we look at both sub-trees but as we get closer and closer we only look at one so lets look at point three now. So, again, go towards the query point. So we'll, go to the top first, and that takes us to six. Six is not any closer than three was. So that's not going to, update our champion. And so we'll search 6's left sub-tree which is empty which is right sub-tree and the nearest neighbor can't, we don't have to go down the right sub-tree of six because you can't have a point in that rectangle that's closer to the query point than three. So now we can return from that, And now we have to look at the bottom sub tree associated with three. And so that takes us to four, And that one is, not closer. So we still have three as our current champion. So now, we'll search the left subtree of four first because that query point is to the left of that splitting line. And that takes us to five and five is our new champion. So that's the closest point that we know about. Could there be a node that's closer to five, to our right query point than five in the right subtree of four? Oh. We have to go above. Sorry to look at the top sub-tree associated with five, and we find that it's empty. And now we're back at four. Do we have to search the right sub-tree of four? No, because there can't be a closer point, than five in the right sub-tree of four. So we're done with four, and we return to, come to three, and now we search the, suppose to search and return from there we are now at one, suppose to search the right subtree one next but we can term that nearest neighbor couldn't be in there. So, then we are done and we found that the nearest neighbor, is five. And this is going to be, very efficient because as we get closer and closer, the query point, we are cutting out all the subtrees that are away, and again in practice, the running time of this algorithm, is going to be close to logarithmic. So in, in typical cases that the running time of nearest neighbor search in a 2D tree is going to be proportion to logarithmic. It is possible to concoct cases where you are going to have to examine all the points for example if they're all arranged in a circle and your query points to the center or something of that sort. But for typical data it's very efficient. Now we're going to look at an application where we simulate a phenomenon in nature. And this is what kind of patterns do things like starlings and geese or cranes or, or fish or fireflies? How do they flock together. And we'll look at a simulation that corresponds to that. And then, when the moment is right, they behave in a way, that should be impossible. [music] And it happens everyday, right through the winter. Just a couple of miles from my doorstep. Help you desire. >> So to, there's a simple model developed by Craig Reynolds awhile ago for simulating this situation called the boid. And the idea is to use three simple rules to you get something very close to this complex flocking behavior. So, you have col, collision avoidance where you always try to point away from the K nearest boids. You have centering where you try to point near the center of mass of the K nearest boids, and velocity matching where you update your. Philosophy to the average of the k nearest boids. And that algorithm works like this. So as that example shows, 2D trees are extremely effective in quickly processing huge amounts of geometric data, and what's more, it expands to more dimensions. With a very simple modification we can take it to D tree and created data structure known as a KD tree, which even works for K dimensions and the idea is even if there is K dimension, what we will do is recursively partition one dimension at a time, so that's called a KD tree and we use the same ideas for two D trees, but instead of cycling through just horizontal vertical, we cycled through, however many dimensions there are, so its where in three space, we use a plane and do above and below and then simply cycle through the dimensions. At level I, we put on the left points whose I-th coordinates are less than P and on the right, we put the points to whose I-th coordinates are greater than P and at level in cycle three of the dimensions at the level I might k we just use that dimension of the point to do the comparison. The implementation is simple, ex cept for the comparison. And we get the same kind of partitioning for three dimensional data, so we could do boids in three dimensions or for databases with large number of dimensions. You could do even much higher dimensional data. And find nearest neighbors and do range searching extremely efficiently. It's a very efficient and simple data structure for processing K dimensional data that's very widely used and the whole idea is that data clusters, particularly, in high dimensions. And also one point to make for this class is that, this algorithm was discovered by an undergraduate in an algorithms class, so that's, John Bentley, who discovered this while an undergraduate at Stanford. And, so it's a simple idea that, but, experts scientists where struggling with, dealing with huge amounts of geometric data, and, Bentley found this way, to process it efficiently that's been widely used ever since. And in, in particular just as another example consider the idea of N body simulation which is a classic problem in physics. Where you've got N particles mutually affected by gravity and basically the computation is based on computing the interacting force for each pair of particles. And so then there'd be mutual gravitational pull. [inaudible] and this is what happens with a large number of particles in a certain simulation and people understand properties in the universe by coming up with, doing these kinds of calculations and comparing against what's observed in space. Now but the thing is for each pair of particles, so if you have M particles and you have to do it for each pair, that's M^2 so the progress of scientific investigation is going to be affected by how quickly, you can do this calculation for a large number of particles. There's a lot of particles out in the universe. And, you can't do a quadratic calculation for large N. So, another, undergraduate in an algorithms class discovered, this idea, for N body simulation. And that's, Andrew Appel. And his idea was that if some part. Particle is way away from som e cluster of particles, we can treat that cluster as a single aggregate particle. And not do the individual force calculation between our particle and every one of those in the aggregate. But use the center of mass. And you get a very accurate approximation to the N body doing that. And the algorithm that he used is based on 3D trees. With the N particles as nodes and storing the center of a mass of a sub-tree in each node. And then to compute the total force, traversing the tree of all the information that you need, to, complete the N body calculation. But in time, much closer to N lg N than to N^2. And that, idea that, you didn't need to take time proportional to N^2 but with a, a geometric algorithm, like a 3D tree, you could get the time to N lg N. That enabled, all sorts of new scientific investigation in this example of the use of algorithms to enable new ", "video_ID": 49, "course_id": 3}
{"category": ["geometric applications of bsts"], "tagged": [["Okay", "NNP"], ["next", "JJ"], ["we", "PRP"], ["'re", "VBP"], ["gon", "VBG"], ["na", "TO"], ["look", "VB"], ["at", "IN"], ["another", "DT"], ["extension", "NN"], ["of", "IN"], ["geometric", "JJ"], ["algorithms", "NN"], ["to", "TO"], ["process", "VB"], ["slightly", "RB"], ["more", "RBR"], ["complicated", "JJ"], ["objects", "NNS"], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["'ll", "MD"], ["see", "VB"], ["an", "DT"], ["important", "JJ"], ["application", "NN"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["called", "VBN"], ["interval", "JJ"], ["search", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], ["instead", "RB"], ["of", "IN"], ["points", "NNS"], [",", ","], ["our", "PRP$"], ["data", "NNS"], ["is", "VBZ"], ["intervals", "NNS"], [".", "."], ["So", "IN"], ["this", "DT"], ["is", "VBZ"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["start", "VB"], ["with", "IN"], ["one", "CD"], ["dimension", "NN"], ["as", "IN"], ["before", "RB"], ["and", "CC"], ["right", "RB"], ["away", "RB"], ["you", "PRP"], ["can", "MD"], ["see", "VB"], ["that", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["more", "RBR"], ["complicated", "JJ"], ["problem", "NN"], ["than", "IN"], ["we", "PRP"], ["'ve", "VBP"], ["been", "VBN"], ["dealing", "VBG"], ["with", "IN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["support", "VB"], ["the", "DT"], ["following", "JJ"], ["operations", "NNS"], [".", "."], ["We", "PRP"], ["wan", "VBD"], ["na", "RB"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["insert", "VB"], ["an", "DT"], ["interval", "NN"], [".", "."], ["So", "IN"], ["an", "DT"], ["interval", "NN"], ["is", "VBZ"], ["just", "RB"], ["a", "DT"], ["left", "JJ"], ["endpoint", "NN"], [",", ","], ["right", "JJ"], ["endpoint", "NN"], ["of", "IN"], ["a", "DT"], ["1-dimensional", "JJ"], ["data", "NN"], ["or", "CC"], ["points", "NNS"], ["on", "IN"], ["the", "DT"], ["line", "NN"], [".", "."], ["We", "PRP"], ["wan", "VBD"], ["na", "RB"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["Insert", "VB"], ["an", "DT"], ["interval", "JJ"], ["search", "NN"], ["for", "IN"], ["an", "DT"], ["interval", "NN"], [",", ","], ["delete", "VB"], ["an", "DT"], ["interval", "NN"], ["but", "CC"], ["the", "DT"], ["main", "JJ"], ["thing", "NN"], ["is", "VBZ"], ["we", "PRP"], ["want", "VBP"], ["the", "DT"], ["interval", "JJ"], ["intersection", "NN"], ["query", "NN"], [".", "."], ["So", "RB"], ["given", "VBN"], ["a", "DT"], ["query", "NN"], ["interval", "NN"], [",", ","], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["find", "VB"], ["all", "DT"], ["intervals", "NNS"], ["in", "IN"], ["the", "DT"], ["data", "NN"], ["structure", "NN"], ["that", "WDT"], ["overlap", "VBZ"], ["that", "IN"], ["interval", "NN"], ["or", "CC"], ["find", "VB"], ["any", "DT"], ["interval", "NN"], ["we", "PRP"], ["'ll", "MD"], ["start", "VB"], ["with", "IN"], ["that", "DT"], ["simpler", "NN"], ["problem", "NN"], [".", "."], ["So", "IN"], ["how", "WRB"], ["are", "VBP"], ["we", "PRP"], ["going", "VBG"], ["to", "TO"], ["support", "VB"], ["that", "DT"], ["?", "."], ["So", "RB"], ["this", "DT"], ["is", "VBZ"], ["the", "DT"], ["API", "NNP"], ["in", "IN"], ["Java", "NNP"], ["code", "NN"], ["[", "NNP"], ["cough", "NN"], ["]", "NN"], [",", ","], ["so", "IN"], ["We", "PRP"], [",", ","], ["have", "VBP"], [",", ","], ["intervals", "NNS"], [",", ","], ["so", "IN"], ["instead", "RB"], ["of", "IN"], ["one", "CD"], ["key", "NN"], ["we", "PRP"], ["have", "VBP"], ["two", "CD"], [",", ","], ["which", "WDT"], ["is", "VBZ"], ["left", "VBN"], ["and", "CC"], ["right", "JJ"], ["end", "NN"], ["points", "NNS"], ["of", "IN"], ["the", "DT"], ["interval", "NN"], ["for", "IN"], ["input", "NN"], [".", "."], ["And", "CC"], ["[", "NNP"], ["inaudible", "JJ"], ["]", "NN"], [",", ","], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["have", "VBP"], ["delete", "VBN"], [",", ","], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["have", "VBP"], ["intersects", "NNS"], [".", "."], ["And", "CC"], ["again", "RB"], ["simplify", "VB"], ["the", "DT"], ["code", "NN"], [",", ","], ["we", "PRP"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["make", "VB"], ["the", "DT"], ["non", "JJ"], ["degeneracy", "NN"], ["assumption", "NN"], ["that", "IN"], ["no", "DT"], ["two", "CD"], ["intervals", "NNS"], ["have", "VBP"], ["the", "DT"], ["same", "JJ"], ["left", "JJ"], ["end", "NN"], ["point", "NN"], [".", "."], ["[", "CC"], ["cough", "JJ"], ["]", "NN"], ["and", "CC"], [",", ","], ["[", "NNP"], ["cough", "NN"], ["]", "NN"], [".", "."], ["Easy", "NNP"], [",", ","], ["easy", "JJ"], ["to", "TO"], ["fix", "VB"], ["but", "CC"], [",", ","], ["but", "CC"], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["simplify", "VB"], ["the", "DT"], ["code", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["a", "DT"], ["data", "NN"], ["structure", "NN"], ["called", "VBD"], ["an", "DT"], ["interval", "JJ"], ["search", "NN"], ["tree", "NN"], ["that", "WDT"], ["helps", "VBZ"], ["to", "TO"], ["solve", "VB"], ["this", "DT"], ["problem", "NN"], [".", "."], ["And", "CC"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["extremely", "RB"], [",", ","], ["simple", "JJ"], ["algorithim", "NN"], [",", ","], ["but", "CC"], ["surprisingly", "RB"], [",", ","], ["complicated", "VBD"], ["to", "TO"], ["understand", "VB"], [",", ","], ["so", "IN"], ["we", "PRP"], ["'ll", "MD"], ["go", "VB"], ["slowly", "RB"], [".", "."], ["So", "IN"], ["the", "DT"], ["first", "JJ"], ["thing", "NN"], ["is", "VBZ"], ["what", "WP"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["use", "VB"], ["the", "DT"], ["left", "JJ"], ["end", "NN"], ["point", "NN"], ["of", "IN"], ["each", "DT"], ["interval", "NN"], ["as", "IN"], ["the", "DT"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], ["key", "NN"], [".", "."], ["So", "IN"], ["our", "PRP$"], [",", ","], ["eh", "NN"], [",", ","], ["our", "PRP$"], ["node", "NN"], ["stored", "VBN"], ["intervals", "NNS"], [",", ","], ["but", "CC"], ["we", "PRP"], ["only", "RB"], ["use", "VB"], ["our", "PRP$"], ["left", "JJ"], ["end", "NN"], ["point", "NN"], ["as", "IN"], ["the", "DT"], ["key", "NN"], [".", "."], ["So", "IN"], ["this", "DT"], ["is", "VBZ"], ["the", "DT"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["built", "VBN"], ["from", "IN"], ["those", "DT"], ["five", "CD"], ["intervals", "NNS"], [",", ","], ["six", "CD"], ["intervals", "NNS"], ["in", "IN"], ["our", "PRP$"], ["example", "NN"], [".", "."], ["Seventeen", "NNP"], [",", ","], ["nineteen", "NN"], ["is", "VBZ"], ["at", "IN"], ["the", "DT"], ["root", "NN"], [",", ","], ["so", "IN"], ["everybody", "NN"], ["with", "IN"], ["a", "DT"], ["le", "NN"], ["ft", "JJ"], ["end", "NN"], ["point", "NN"], ["less", "JJR"], ["than", "IN"], ["seventeen", "NN"], ["is", "VBZ"], ["to", "TO"], ["the", "DT"], ["left", "NN"], [",", ","], ["the", "DT"], ["left", "JJ"], ["end", "NN"], ["point", "NN"], ["greater", "JJR"], ["than", "IN"], ["seventeen", "NN"], ["is", "VBZ"], ["to", "TO"], ["the", "DT"], ["right", "NN"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], ["built", "VBN"], [",", ","], ["from", "IN"], ["those", "DT"], ["intervals", "NNS"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["easy", "JJ"], [".", "."], ["I", "PRP"], ["just", "RB"], ["build", "VB"], ["a", "DT"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], [".", "."], ["I", "PRP"], ["just", "RB"], ["use", "NN"], [",", ","], ["the", "DT"], ["left", "JJ"], ["end", "NN"], ["point", "NN"], [",", ","], ["as", "IN"], ["the", "DT"], ["search", "NN"], ["key", "NN"], [".", "."], ["But", "CC"], ["we", "PRP"], ["'re", "VBP"], ["also", "RB"], ["in", "IN"], ["the", "DT"], [",", ","], ["each", "DT"], ["node", "NN"], ["of", "IN"], ["the", "DT"], ["tree", "NN"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["gon", "VBG"], ["na", "TO"], ["store", "NN"], [",", ","], ["not", "RB"], ["just", "RB"], ["the", "DT"], ["interval", "NN"], [".", "."], ["But", "CC"], ["we", "PRP"], ["'re", "VBP"], ["gon", "VBG"], ["na", "TO"], ["store", "VB"], ["the", "DT"], [",", ","], ["largest", "JJS"], ["endpoint", "NN"], ["in", "IN"], ["the", "DT"], ["subtree", "NN"], ["rooted", "VBN"], ["at", "IN"], ["that", "DT"], ["node", "NN"], [".", "."], ["So", "RB"], ["at", "IN"], ["every", "DT"], ["node", "NN"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["gon", "VBG"], ["na", "TO"], ["store", "VB"], ["the", "DT"], ["maximum", "JJ"], ["endpoint", "NN"], ["and", "CC"], ["subtree", "NN"], ["rooted", "VBN"], ["at", "IN"], ["that", "DT"], ["node", "NN"], [".", "."], ["So", "RB"], ["at", "IN"], ["the", "DT"], ["root", "NN"], [",", ","], ["the", "DT"], ["maximum", "JJ"], ["endpoint", "NN"], ["or", "CC"], ["the", "DT"], ["rightmost", "NN"], ["point", "NN"], ["covered", "VBN"], ["by", "IN"], ["an", "DT"], ["interval", "NN"], [",", ","], ["is", "VBZ"], ["24", "CD"], [".", "."], ["So", "IN"], ["we", "PRP"], ["[", "VBP"], ["inaudible", "JJ"], ["]", "JJ"], ["24", "CD"], ["at", "IN"], ["the", "DT"], ["root", "NN"], [",", ","], ["and", "CC"], [",", ","], ["of", "IN"], ["course", "NN"], [",", ","], ["the", "DT"], ["right", "JJ"], ["subtree", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["left", "JJ"], ["subtree", "NN"], [".", "."], ["The", "DT"], ["max", "JJ"], ["end", "NN"], ["point", "NN"], ["is", "VBZ"], ["that", "IN"], ["eighteen", "NN"], ["so", "IN"], ["that", "DT"], ["'s", "VBZ"], ["what", "WP"], ["we", "PRP"], ["store", "VBP"], ["for", "IN"], ["the", "DT"], ["associated", "VBN"], ["data", "NN"], ["with", "IN"], ["the", "DT"], ["note", "NN"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["of", "IN"], ["the", "DT"], ["root", "NN"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["So", "RB"], [".", "."], ["We", "PRP"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["to", "TO"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["data", "NNS"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["to", "TO"], ["maintain", "VB"], ["when", "WRB"], ["we", "PRP"], ["do", "VBP"], ["an", "DT"], ["insert", "NN"], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["data", "NNS"], ["that", "IN"], ["we", "PRP"], ["'ll", "MD"], ["use", "VB"], ["when", "WRB"], ["we", "PRP"], ["'re", "VBP"], ["doing", "VBG"], ["an", "DT"], ["interval-intersection", "JJ"], ["search", "NN"], [".", "."], ["So", "NNP"], ["let", "NN"], ["'s", "POS"], ["take", "VB"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["an", "DT"], ["insertion", "NN"], ["into", "IN"], ["an", "DT"], ["interval", "JJ"], ["search", "NN"], ["tree", "NN"], ["with", "IN"], ["a", "DT"], ["demo", "NN"], [".", "."], ["All", "DT"], ["right", "JJ"], [",", ","], ["so", "RB"], [",", ","], ["the", "DT"], [",", ","], ["insertion", "NN"], ["algorithm", "NN"], ["is", "VBZ"], ["pretty", "RB"], ["simple", "JJ"], [".", "."], ["We", "PRP"], ["do", "VBP"], ["the", "DT"], ["BST", "NNP"], ["insertion", "NN"], [",", ","], ["just", "RB"], ["so", "IN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["do", "VB"], ["that", "DT"], [",", ","], ["update", "NN"], ["of", "IN"], ["the", "DT"], ["maximum", "NN"], ["in", "IN"], ["each", "DT"], ["node", "NN"], ["on", "IN"], ["the", "DT"], ["search", "NN"], ["path", "NN"], [".", "."], ["So", "RB"], [",", ","], ["to", "TO"], ["insert", "VB"], ["16/22", "CD"], ["in", "IN"], ["this", "DT"], ["tree", "NN"], [",", ","], ["while", "IN"], ["we", "PRP"], ["use", "VBP"], ["the", "DT"], [",", ","], ["left", "VBD"], ["endpoint", "NN"], ["as", "IN"], ["the", "DT"], ["search", "NN"], ["key", "NN"], [",", ","], ["sixteen", "NN"], ["is", "VBZ"], ["the", "DT"], ["left", "JJ"], ["endpoint", "NN"], ["of", "IN"], ["our", "PRP$"], ["insert", "JJ"], ["interval", "JJ"], ["[", "NNP"], ["cough", "NN"], ["]", "NN"], [".", "."], ["We", "PRP"], ["compare", "VBP"], ["that", "IN"], ["with", "IN"], ["seventeen", "JJ"], ["and", "CC"], ["therefore", "RB"], ["go", "VB"], ["left", "RB"], [".", "."], ["How", "WRB"], ["sixteen", "JJ"], ["is", "VBZ"], ["bigger", "JJR"], ["than", "IN"], ["five", "CD"], ["so", "IN"], ["we", "PRP"], ["go", "VBP"], ["right", "JJ"], [".", "."], ["Now", "RB"], ["sixteen", "JJ"], ["is", "VBZ"], ["bigger", "JJR"], ["than", "IN"], ["fifteen", "NNS"], ["so", "IN"], ["we", "PRP"], ["go", "VBP"], ["right", "JJ"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["null", "JJ"], [",", ","], ["so", "IN"], ["that", "DT"], ["'s", "VBZ"], ["where", "WRB"], ["we", "PRP"], ["insert", "VB"], ["our", "PRP$"], ["new", "JJ"], [",", ","], ["interval", "JJ"], [".", "."], ["[", "JJ"], ["sound", "JJ"], ["]", "NNP"], [".", "."], ["So", "RB"], ["now", "RB"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["gon", "VBG"], ["na", "TO"], ["go", "VB"], ["back", "RB"], ["up", "IN"], ["the", "DT"], ["tree", "NN"], [".", "."], ["And", "CC"], [",", ","], ["for", "IN"], ["every", "DT"], ["node", "NN"], ["that", "IN"], ["we", "PRP"], ["encounter", "VBP"], [",", ","], ["it", "PRP"], ["could", "MD"], ["be", "VB"], ["that", "IN"], [",", ","], ["our", "PRP$"], ["right", "JJ"], ["endpoint", "NN"], ["of", "IN"], ["our", "PRP$"], ["interval", "NN"], [",", ","], ["is", "VBZ"], ["bigger", "JJR"], ["than", "IN"], ["what", "WP"], ["was", "VBD"], ["there", "RB"], [".", "."], ["So", "IN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["check", "VB"], [",", ","], ["all", "PDT"], ["the", "DT"], ["way", "NN"], ["up", "IN"], ["the", "DT"], ["path", "NN"], [",", ","], ["the", "DT"], ["maximum", "NN"], ["in", "IN"], ["each", "DT"], ["node", "NN"], ["on", "IN"], ["the", "DT"], ["path", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["check", "VB"], ["each", "DT"], ["node", "NN"], [",", ","], ["to", "TO"], ["see", "VB"], ["if", "IN"], ["22", "CD"], ["is", "VBZ"], ["bigger", "JJR"], [",", ","], ["and", "CC"], [",", ","], ["for", "IN"], ["the", "DT"], ["three", "CD"], ["nodes", "NNS"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["it", "PRP"], ["is", "VBZ"], ["bigger", "JJR"], ["than", "IN"], ["eighteen", "NN"], [".", "."], ["For", "IN"], ["the", "DT"], ["node", "NN"], ["at", "IN"], ["the", "DT"], ["root", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], [".", "."], ["That", "DT"], ["stays", "VBZ"], ["to", "TO"], ["be", "VB"], ["24", "CD"], [".", "."], ["So", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["just", "RB"], ["binary", "JJ"], ["tree", "JJ"], ["insertion", "NN"], [",", ","], ["but", "CC"], ["then", "RB"], ["after", "IN"], ["the", "DT"], ["insertion", "NN"], ["on", "IN"], ["the", "DT"], ["way", "NN"], ["up", "RB"], [",", ","], ["we", "PRP"], ["go", "VBP"], ["ahead", "RB"], ["and", "CC"], [",", ","], ["check", "VB"], [",", ","], ["if", "IN"], ["the", "DT"], ["maximum", "NN"], ["that", "IN"], ["we", "PRP"], ["have", "VBP"], ["is", "VBZ"], ["bigger", "JJR"], ["than", "IN"], ["the", "DT"], ["maximum", "NN"], ["there", "RB"], ["and", "CC"], ["update", "VB"], ["it", "PRP"], ["if", "IN"], ["necessary", "JJ"], [".", "."], ["So", "RB"], ["easy", "JJ"], ["to", "TO"], ["code", "VB"], [".", "."], ["[", "VB"], ["sound", "JJ"], ["]", "NNP"], [".", "."], ["Alright", "NNP"], [",", ","], ["so", "RB"], ["now", "RB"], ["about", "IN"], [",", ","], ["how", "WRB"], ["do", "VBP"], ["we", "PRP"], ["do", "VB"], ["a", "DT"], [",", ","], ["a", "DT"], ["search", "NN"], [".", "."], ["So", "IN"], ["the", "DT"], ["searches", "NNS"], ["is", "VBZ"], ["definitely", "RB"], ["more", "RBR"], ["complicated", "JJ"], ["and", "CC"], ["kind", "NN"], ["of", "IN"], ["mysterious", "JJ"], [",", ","], ["but", "CC"], ["let", "VBP"], ["'s", "PRP"], ["look", "VB"], ["at", "IN"], ["the", "DT"], ["rules", "NNS"], ["for", "IN"], ["search", "NN"], ["in", "IN"], ["an", "DT"], ["interval", "JJ"], ["search", "NN"], ["tree", "NN"], [".", "."], ["Alright", "NNP"], ["so", "RB"], ["now", "RB"], ["we", "PRP"], ["'re", "VBP"], ["gon", "VBG"], ["na", "TO"], ["look", "VB"], ["to", "TO"], ["see", "VB"], ["if", "IN"], ["we", "PRP"], ["have", "VBP"], ["an", "DT"], ["intersection", "NN"], ["what", "WP"], ["a", "DT"], [".", "."], ["We", "PRP"], ["want", "VBP"], ["to", "TO"], ["find", "VB"], ["just", "RB"], [".", "."], ["Any", "CC"], ["interval", "JJ"], ["that", "WDT"], ["intersects", "VBZ"], ["this", "DT"], ["query", "NN"], ["interval", "NN"], ["23", "CD"], ["25", "CD"], [".", "."], ["We", "PRP"], ["'re", "VBP"], ["not", "RB"], ["gon", "VB"], ["na", "TO"], ["try", "VB"], ["to", "TO"], ["find", "VB"], ["them", "PRP"], ["all", "DT"], ["we", "PRP"], ["'ll", "MD"], ["get", "VB"], ["back", "RB"], ["to", "TO"], ["that", "DT"], ["in", "IN"], ["a", "DT"], ["minute", "NN"], [".", "."], ["Try", "VB"], ["to", "TO"], ["find", "VB"], ["any", "DT"], ["interval", "NN"], ["that", "WDT"], ["intersects", "VBZ"], ["our", "PRP$"], ["query", "NN"], ["interval", "NN"], [".", "."], ["So", "NNP"], ["let", "NN"], ["'s", "POS"], [",", ","], ["let", "VB"], ["'s", "POS"], ["see", "VB"], ["what", "WP"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["do", "VB"], [".", "."], ["So", "VB"], ["first", "JJ"], ["thing", "NN"], ["is", "VBZ"], ["if", "IN"], ["At", "IN"], ["the", "DT"], ["root", "NN"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["an", "DT"], ["intersection", "NN"], [",", ","], ["then", "RB"], ["we", "PRP"], ["'re", "VBP"], ["done", "VBN"], [".", "."], ["We", "PRP"], ["just", "RB"], ["return", "VB"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["2325", "CD"], ["does", "VBZ"], ["not", "RB"], ["intersect", "VB"], [",", ","], ["1719", "CD"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["go", "VB"], ["down", "RP"], ["the", "DT"], ["tree", "NN"], ["somewhere", "RB"], [".", "."], ["So", "RB"], ["left", "JJ"], ["subtree", "NN"], ["is", "VBZ"], ["[", "JJ"], ["inaudible", "JJ"], ["]", "NN"], ["right", "NN"], [",", ","], ["okay", "RB"], ["?", "."], ["Otherwise", "RB"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["check", "VB"], ["whether", "IN"], ["the", "DT"], ["max", "NN"], ["endpoint", "NN"], ["in", "IN"], ["the", "DT"], ["left", "JJ"], ["subtree", "NN"], ["is", "VBZ"], ["less", "JJR"], ["than", "IN"], [",", ","], ["the", "DT"], ["low", "JJ"], ["point", "NN"], ["in", "IN"], ["our", "PRP$"], ["interval", "NN"], [".", "."], ["[", "CC"], ["inaudible", "JJ"], ["]", "NN"], ["it", "PRP"], ["'s", "VBZ"], ["easy", "JJ"], ["to", "TO"], ["see", "VB"], [",", ","], ["well", "RB"], [",", ","], ["if", "IN"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["case", "NN"], [",", ","], ["then", "RB"], ["we", "PRP"], ["'re", "VBP"], ["not", "RB"], ["gon", "JJ"], ["na", "TO"], ["find", "VB"], ["an", "DT"], ["intersection", "NN"], [".", "."], ["In", "IN"], ["the", "DT"], ["left", "NN"], [".", "."], ["The", "DT"], ["maximum", "JJ"], ["end-point", "NN"], ["in", "IN"], ["the", "DT"], ["left", "NN"], ["is", "VBZ"], ["22", "CD"], [",", ","], ["and", "CC"], ["we", "PRP"], ["'re", "VBP"], ["looking", "VBG"], ["for", "IN"], ["23", "CD"], [",", ","], ["and", "CC"], ["we", "PRP"], ["'re", "VBP"], ["not", "RB"], ["gon", "JJ"], ["na", "TO"], ["find", "VB"], ["anything", "NN"], ["there", "RB"], [",", ","], ["so", "IN"], ["we", "PRP"], ["just", "RB"], ["wan", "VB"], ["na", "RB"], ["go", "VB"], ["right", "RB"], [".", "."], ["So", "RB"], ["in", "IN"], ["this", "DT"], ["case", "NN"], ["we", "PRP"], ["'ll", "MD"], ["go", "VB"], ["right", "RB"], ["22", "CD"], [",", ","], ["23", "CD"], ["no", "DT"], ["inter", "NN"], ["sectional", "NN"], ["left", "VBD"], [",", ","], ["so", "IN"], ["we", "PRP"], ["go", "VBP"], ["right", "JJ"], ["and", "CC"], ["now", "RB"], ["we", "PRP"], ["do", "VBP"], ["find", "VB"], ["an", "DT"], ["intersection", "NN"], ["21", "CD"], [",", ","], ["24", "CD"], ["does", "VBZ"], ["intersect", "VB"], ["with", "IN"], ["23", "CD"], [",", ","], ["25", "CD"], ["because", "IN"], ["23", "CD"], ["is", "VBZ"], ["in", "IN"], ["the", "DT"], ["middle", "NN"], ["there", "RB"], [",", ","], ["so", "IN"], ["we", "PRP"], ["find", "VBP"], ["an", "DT"], ["intersection", "NN"], [".", "."], ["Now", "RB"], ["on", "IN"], ["the", "DT"], ["other", "JJ"], ["hand", "NN"], [",", ","], ["let", "NN"], ["'s", "POS"], ["say", "VBP"], ["they", "PRP"], ["were", "VBD"], ["looking", "VBG"], ["for", "IN"], ["1214", "CD"], [",", ","], ["so", "IN"], ["no", "DT"], ["intersection", "NN"], [".", "."], ["So", "RB"], [".", "."], ["All", "PDT"], ["the", "DT"], ["algorithm", "NN"], ["says", "VBZ"], ["is", "VBZ"], ["that", "IN"], [",", ","], ["if", "IN"], ["you", "PRP"], ["did", "VBD"], ["n't", "RB"], ["go", "VB"], ["right", "RB"], [",", ","], ["go", "VB"], ["left", "RB"], [".", "."], ["So", "NNP"], ["let", "NN"], ["'s", "POS"], ["go", "VB"], ["left", "NN"], [",", ","], ["in", "IN"], ["this", "DT"], ["case", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["were", "VBD"], ["n't", "RB"], ["able", "JJ"], ["to", "TO"], ["show", "VB"], ["that", "IN"], ["there", "EX"], ["was", "VBD"], ["no", "DT"], ["intersection", "NN"], [",", ","], ["on", "IN"], ["the", "DT"], ["left", "NN"], [".", "."], ["So", "RB"], [",", ","], ["so", "IN"], ["we", "PRP"], ["'re", "VBP"], ["gon", "VBG"], ["na", "TO"], ["go", "VB"], ["left", "RB"], [".", "."], ["In", "IN"], ["this", "DT"], ["we", "PRP"], ["compare", "VBP"], ["twelve", "RB"], ["fourteen", "JJ"], ["to", "TO"], ["five", "CD"], ["eight", "CD"], [",", ","], ["so", "RB"], ["now", "RB"], ["we", "PRP"], ["apply", "VBP"], ["the", "DT"], ["same", "JJ"], ["rules", "NNS"], [".", "."], ["Does", "VBZ"], ["it", "PRP"], ["intersect", "VB"], ["?", "."], ["No", "UH"], [",", ","], ["it", "PRP"], ["does", "VBZ"], ["n't", "RB"], ["intersect", "VB"], [".", "."], ["So", "RB"], ["should", "MD"], ["we", "PRP"], ["go", "VB"], ["left", "RBR"], [".", "."], ["Well", "NNP"], ["no", "RB"], [",", ","], ["the", "DT"], ["maximum", "NN"], [",", ","], ["end", "VB"], ["point", "NN"], ["in", "IN"], ["the", "DT"], ["left", "NN"], ["node", "NN"], ["is", "VBZ"], ["eight", "CD"], [".", "."], ["So", "IN"], ["we", "PRP"], ["can", "MD"], ["have", "VB"], ["intersection", "NN"], ["there", "RB"], [",", ","], ["so", "IN"], ["we", "PRP"], ["gon", "VBP"], ["na", "TO"], ["go", "VB"], ["right", "RB"], [",", ","], ["[", "NNP"], ["inaudible", "JJ"], ["]", "NN"], ["to", "TO"], ["twelve", "VB"], ["and", "CC"], ["go", "VB"], ["right", "RB"], [".", "."], ["So", "RB"], [",", ","], ["now", "RB"], ["does", "VBZ"], ["twelve", "VB"], [",", ","], ["fourteen", "JJ"], ["intersect", "NN"], ["fifteen", "NN"], [",", ","], ["eighteen", "VB"], ["it", "PRP"], ["does", "VBZ"], ["not", "RB"], ["so", "RB"], ["there", "EX"], ["'s", "VBZ"], ["no", "DT"], ["intersection", "NN"], ["so", "RB"], ["now", "RB"], ["what", "WP"], ["do", "VBP"], ["we", "PRP"], ["do", "VB"], [".", "."], ["Should", "VB"], ["we", "PRP"], ["go", "VB"], ["left", "VBD"], ["no", "DT"], ["the", "DT"], ["max", "NN"], ["in", "IN"], ["point", "NN"], ["on", "IN"], ["left", "NN"], ["is", "VBZ"], ["ten", "VBN"], ["so", "IN"], ["we", "PRP"], ["should", "MD"], ["n't", "RB"], ["go", "VB"], ["left", "RB"], [".", "."], ["So", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["go", "VB"], ["right", "RB"], [".", "."], ["Those", "DT"], ["12-14", "JJ"], ["intersect", "JJ"], ["16-22", "JJ"], [".", "."], ["It", "PRP"], ["does", "VBZ"], ["not", "RB"], [",", ","], ["So", "IN"], [",", ","], ["now", "RB"], [",", ","], ["the", "DT"], ["left", "JJ"], ["end", "NN"], ["point", "NN"], ["'s", "POS"], ["null", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], ["we", "PRP"], ["'re", "VBP"], ["just", "RB"], ["gon", "VB"], ["na", "TO"], ["go", "VB"], ["right", "RB"], [".", "."], ["And", "CC"], ["there", "EX"], ["'s", "VBZ"], ["no", "DT"], ["intersection", "NN"], [".", "."], ["So", "RB"], ["in", "IN"], ["both", "CC"], ["cases", "NNS"], ["we", "PRP"], ["just", "RB"], ["went", "VBD"], ["along", "IN"], ["one", "CD"], ["path", "NN"], ["in", "IN"], ["the", "DT"], ["tree", "NN"], ["to", "TO"], ["determine", "VB"], ["whether", "IN"], ["or", "CC"], ["not", "RB"], ["there", "EX"], ["was", "VBD"], ["an", "DT"], ["interval", "NN"], ["or", "CC"], ["intersection", "NN"], [".", "."], ["Let", "NNP"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["one", "CD"], ["more", "JJR"], ["example", "NN"], [".", "."], ["21", "CD"], [",", ","], ["23", "CD"], [".", "."], ["So", "NNP"], ["let", "NN"], ["'s", "POS"], ["see", "NN"], [".", "."], ["21", "CD"], ["thru", "JJ"], ["23", "CD"], ["to", "TO"], ["seventeen", "VB"], [",", ","], ["nineteen", "FW"], [".", "."], ["They", "PRP"], ["do", "VBP"], ["not", "RB"], ["intersect", "VB"], [",", ","], ["so", "RB"], ["now", "RB"], [",", ","], ["what", "WP"], ["are", "VBP"], ["we", "PRP"], ["gon", "VBG"], ["na", "TO"], ["do", "VB"], ["next", "RB"], ["?", "."], ["Well", "NNP"], ["we", "PRP"], ["'re", "VBP"], ["gon", "VBG"], ["na", "TO"], ["compare", "VB"], ["the", "DT"], ["left", "JJ"], ["sub-tree", "JJ"], [",", ","], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["Not", "RB"], [",", ","], ["22", "CD"], ["falls", "NNS"], ["within", "IN"], ["our", "PRP$"], ["interval", "NN"], ["so", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["less", "RBR"], ["than'r", "JJ"], ["'", "''"], ["so", "RB"], ["there", "EX"], ["might", "MD"], ["be", "VB"], ["an", "DT"], ["intersection", "NN"], ["there", "RB"], ["so", "RB"], ["we", "PRP"], ["better", "JJR"], ["go", "VB"], ["to", "TO"], ["the", "DT"], ["left", "NN"], [",", ","], ["so", "IN"], ["we", "PRP"], ["do", "VBP"], ["go", "VB"], ["to", "TO"], ["the", "DT"], ["left", "NN"], [".", "."], ["Now", "RB"], ["we", "PRP"], ["compare", "VBP"], ["against", "IN"], ["5-8", "JJ"], [",", ","], ["and", "CC"], ["there", "EX"], ["'s", "VBZ"], ["no", "DT"], ["intersection", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["gon", "VBG"], ["na", "TO"], ["go", "VB"], ["left", "RB"], ["to", "TO"], ["right", "VB"], [".", "."], ["Well", "RB"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["gon", "VBG"], ["na", "TO"], ["go", "VB"], ["to", "TO"], ["the", "DT"], ["right", "NN"], [",", ","], ["because", "IN"], [",", ","], ["the", "DT"], ["max", "NN"], ["endpoint", "NN"], ["in", "IN"], ["the", "DT"], ["left", "JJ"], ["subtree", "NN"], ["is", "VBZ"], ["eight", "CD"], [",", ","], ["and", "CC"], ["our", "PRP$"], ["interval", "NN"], ["'s", "POS"], ["21", "CD"], [",", ","], ["so", "RB"], ["no", "DT"], ["intersection", "NN"], ["on", "IN"], ["the", "DT"], ["left", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["'re", "VBP"], ["gon", "VBG"], ["na", "TO"], ["go", "VB"], ["right", "RB"], [".", "."], ["Intersection", "NNP"], ["21231518", "CD"], [".", "."], ["They", "PRP"], ["do", "VBP"], ["not", "RB"], ["intersect", "VB"], [".", "."], ["So", "RB"], ["now", "RB"], [",", ","], ["do", "VBP"], ["we", "PRP"], ["go", "VB"], ["left", "VBD"], ["or", "CC"], ["right", "RB"], ["?", "."], ["Again", "NNP"], ["ten", "EX"], ["is", "VBZ"], ["less", "JJR"], ["than", "IN"], ["our", "PRP$"], ["left", "JJ"], ["endpoint", "NN"], ["21", "CD"], [".", "."], ["So", "IN"], ["we", "PRP"], ["better", "JJR"], ["go", "VB"], ["to", "TO"], ["the", "DT"], ["right", "NN"], [".", "."], ["[", "CC"], ["cough", "JJ"], ["]", "NN"], [".", "."], ["And", "CC"], ["now", "RB"], ["2123", "CD"], ["does", "VBZ"], ["intersect", "VB"], ["1622", "CD"], [",", ","], ["so", "IN"], ["we", "PRP"], ["return", "VBP"], ["and", "CC"], ["intersection", "NN"], [".", "."], ["Again", "VB"], ["one", "CD"], ["path", "NN"], ["through", "IN"], ["the", "DT"], ["tree", "NN"], ["to", "TO"], ["determine", "VB"], ["an", "DT"], ["intersection", "NN"], [".", "."], ["So", "RB"], ["from", "IN"], ["these", "DT"], ["rules", "NNS"], ["you", "PRP"], ["can", "MD"], ["see", "VB"], ["that", "IN"], ["the", "DT"], ["man", "NN"], ["of", "IN"], ["code", "NN"], ["required", "VBN"], ["to", "TO"], ["implement", "VB"], ["this", "DT"], ["intersecting", "NN"], ["inter", "NN"], ["role", "NN"], ["is", "VBZ"], ["extremely", "RB"], ["low", "JJ"], [".", "."], ["Just", "NNP"], ["check", "NN"], ["for", "IN"], ["an", "DT"], ["intersection", "NN"], [",", ","], ["if", "IN"], ["we", "PRP"], ["find", "VBP"], ["it", "PRP"], ["ret", "JJ"], ["urn", "JJ"], ["if", "IN"], ["left", "VBN"], ["is", "VBZ"], ["no", "DT"], ["we", "PRP"], ["go", "VBP"], ["right", "RB"], [".", "."], ["Otherwise", "RB"], ["if", "IN"], ["the", "DT"], ["max", "NN"], ["is", "VBZ"], ["less", "JJR"], ["than", "IN"], ["low", "JJ"], ["we", "PRP"], ["go", "VBP"], ["right", "RB"], [".", "."], ["Otherwise", "VB"], ["we", "PRP"], ["go", "VBP"], ["left", "JJ"], [".", "."], ["Could", "MD"], ["hardly", "RB"], ["be", "VB"], ["simpler", "NN"], [".", "."], ["Really", "RB"], ["amazingly", "RB"], ["simple", "JJ"], ["and", "CC"], ["efficient", "JJ"], ["algorithm", "NN"], [".", "."], ["We", "PRP"], ["should", "MD"], ["convince", "VB"], ["ourselves", "PRP"], ["really", "RB"], ["that", "IN"], ["it", "PRP"], ["always", "RB"], ["works", "VBZ"], ["and", "CC"], ["so", "RB"], ["we", "PRP"], ["'ll", "MD"], ["spend", "VB"], ["just", "RB"], ["a", "DT"], ["moment", "NN"], ["on", "IN"], ["a", "DT"], ["short", "JJ"], ["proof", "NN"], [".", "."], ["So", "NNP"], ["let", "NN"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["the", "DT"], [",", ","], ["the", "DT"], ["cases", "NNS"], ["that", "WDT"], ["could", "MD"], ["happen", "VB"], [".", "."], ["So", "RB"], ["first", "JJ"], ["thing", "NN"], ["is", "VBZ"], ["if", "IN"], ["the", "DT"], ["search", "NN"], ["goes", "VBZ"], ["right", "RB"], [".", "."], ["Then", "RB"], ["there", "EX"], ["'s", "VBZ"], ["no", "DT"], ["intersection", "NN"], ["on", "IN"], ["the", "DT"], ["left", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["easy", "JJ"], ["to", "TO"], ["convince", "VB"], ["ourselves", "NNS"], ["of", "IN"], ["that", "DT"], ["just", "RB"], ["from", "IN"], [",", ","], ["from", "IN"], ["what", "WP"], ["we", "PRP"], ["did", "VBD"], ["in", "IN"], ["the", "DT"], ["demo", "NN"], [".", "."], ["Of", "IN"], ["course", "NN"], [",", ","], ["if", "IN"], ["the", "DT"], ["last", "JJ"], ["sub-tree", "JJ"], ["'s", "POS"], ["empty", "JJ"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["no", "DT"], ["intersection", "NN"], ["there", "RB"], [".", "."], ["But", "CC"], ["if", "IN"], ["the", "DT"], ["max", "NN"], ["endpoint", "NN"], ["in", "IN"], ["the", "DT"], ["left", "JJ"], ["sub-tree", "JJ"], ["is", "VBZ"], ["less", "JJR"], ["than", "IN"], ["low", "JJ"], [",", ","], ["that", "DT"], ["means", "VBZ"], ["every", "DT"], ["interval", "NN"], ["in", "IN"], ["the", "DT"], ["left", "JJ"], ["sub-tree", "NN"], ["has", "VBZ"], ["a", "DT"], ["max", "JJ"], ["endpoint", "NN"], ["less", "JJR"], ["than", "IN"], ["mah", "NN"], [",", ","], ["low", "JJ"], [",", ","], ["and", "CC"], ["so", "RB"], ["therefore", "IN"], ["it", "PRP"], ["ca", "MD"], ["n't", "RB"], ["intersect", "VB"], [".", "."], ["So", "RB"], ["if", "IN"], ["you", "PRP"], ["go", "VBP"], ["right", "RB"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["no", "DT"], ["intersection", "NN"], ["in", "IN"], ["the", "DT"], ["left", "NN"], [".", "."], ["Any", "DT"], ["possible", "JJ"], ["intersection", "NN"], ["would", "MD"], ["have", "VB"], ["to", "TO"], ["be", "VB"], ["in", "IN"], ["the", "DT"], ["right", "NN"], [",", ","], ["And", "CC"], ["then", "RB"], ["the", "DT"], ["other", "JJ"], ["point", "NN"], ["is", "VBZ"], ["that", "IN"], ["if", "IN"], ["you", "PRP"], ["go", "VBP"], ["left", "RB"], [",", ","], ["then", "RB"], ["either", "CC"], ["there", "EX"], ["'s", "VBZ"], ["an", "DT"], ["intersection", "NN"], ["there", "RB"], [",", ","], ["or", "CC"], ["there", "EX"], ["'s", "VBZ"], ["no", "DT"], ["intersections", "NNS"], ["at", "IN"], ["all", "DT"], [".", "."], ["So", "NNP"], ["Lets", "NNP"], ["suppose", "VBP"], ["that", "IN"], ["there", "EX"], ["is", "VBZ"], ["no", "DT"], ["intersect", "NN"], [",", ","], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["equivalent", "JJ"], ["to", "TO"], ["saying", "VBG"], [",", ","], ["if", "IN"], ["there", "EX"], ["is", "VBZ"], ["no", "DT"], ["intersection", "NN"], ["in", "IN"], ["the", "DT"], ["left", "NN"], ["then", "RB"], ["there", "EX"], ["is", "VBZ"], ["no", "DT"], ["intersection", "NN"], ["in", "IN"], ["the", "DT"], ["right", "NN"], [".", "."], ["So", "NNP"], ["lets", "JJ"], ["look", "VBP"], ["at", "IN"], ["it", "PRP"], ["if", "IN"], ["there", "EX"], ["is", "VBZ"], ["no", "DT"], ["intersection", "NN"], ["in", "IN"], ["the", "DT"], ["left", "NN"], [",", ","], ["since", "IN"], ["we", "PRP"], ["went", "VBD"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["have", "VBP"], ["got", "VBN"], [",", ","], ["low", "RB"], ["less", "JJR"], ["than", "IN"], ["max", "NN"], [".", "."], ["But", "CC"], [",", ","], ["for", "IN"], ["any", "DT"], ["interval", "NN"], [",", ","], ["in", "IN"], ["the", "DT"], ["right", "JJ"], ["subtree", "NN"], [",", ","], ["its", "PRP$"], ["got", "VBD"], ["to", "TO"], ["appear", "VB"], ["after", "IN"], [".", "."], ["Low", "NNP"], [".", "."], ["Be", "VB"], [",", ","], ["because", "IN"], ["since", "IN"], ["there", "EX"], ["'s", "VBZ"], ["no", "DT"], ["intersections", "NNS"], ["in", "IN"], ["the", "DT"], ["left", "JJ"], ["sub", "NN"], ["tree", "NN"], ["high", "JJ"], ["has", "VBZ"], ["got", "VBN"], ["ta", "RB"], ["be", "VB"], ["less", "JJR"], ["than", "IN"], ["C.", "NNP"], ["Where", "NNP"], [",", ","], ["because", "IN"], ["they", "PRP"], ["'re", "VBP"], ["sorted", "VBN"], ["by", "IN"], ["left", "JJ"], ["N", "NNP"], ["point", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["that", "DT"], ["means", "VBZ"], ["that", "IN"], ["C-s", "NNP"], ["got", "VBD"], ["to", "TO"], ["be", "VB"], ["less", "JJR"], ["than", "IN"], ["A", "DT"], ["if", "IN"], ["it", "PRP"], ["is", "VBZ"], ["in", "IN"], ["the", "DT"], ["right", "NN"], [",", ","], ["so", "RB"], ["therefore", "RB"], ["there", "EX"], ["ca", "MD"], ["n't", "RB"], ["be", "VB"], ["any", "DT"], ["interesection", "NN"], ["in", "IN"], ["the", "DT"], ["right", "NN"], ["either", "RB"], [".", "."], ["No", "DT"], ["intersection", "NN"], ["in", "IN"], ["the", "DT"], ["left", "NN"], ["means", "VBZ"], ["no", "DT"], ["intersections", "NNS"], ["at", "IN"], ["all", "DT"], [",", ","], ["so", "IN"], ["those", "DT"], ["two", "CD"], ["cases", "NNS"], ["is", "VBZ"], ["enough", "JJ"], ["to", "TO"], ["show", "VB"], ["that", "IN"], ["this", "DT"], ["algebroid", "JJ"], ["finds", "VBZ"], ["an", "DT"], ["intersection", "NN"], [",", ","], ["if", "IN"], ["there", "EX"], ["is", "VBZ"], ["one", "CD"], [".", "."], ["And", "CC"], ["the", "DT"], ["other", "JJ"], ["thing", "NN"], ["we", "PRP"], ["can", "MD"], ["do", "VB"], ["with", "IN"], ["this", "DT"], ["is", "VBZ"], ["just", "RB"], ["use", "VB"], ["a", "DT"], ["red-black", "JJ"], ["BST", "NNP"], ["to", "TO"], ["guarantee", "VB"], ["that", "IN"], ["we", "PRP"], ["solved", "VBD"], ["this", "DT"], ["in", "IN"], ["time", "NN"], ["proportional", "JJ"], ["to", "TO"], ["log", "VB"], ["in", "IN"], [".", "."], ["So", "NNP"], ["insert", "JJ"], [",", ","], ["find", "VB"], [",", ","], ["delete", "VB"], [",", ","], ["and", "CC"], ["find", "VB"], ["any", "DT"], ["interval", "NN"], ["that", "WDT"], ["intersects", "VBZ"], [".", "."], ["All", "DT"], ["take", "VBP"], ["time", "NN"], [",", ","], ["guaranteed", "VBN"], [",", ","], ["proportional", "JJ"], ["to", "TO"], ["log", "VB"], ["in", "IN"], [".", "."], ["And", "CC"], ["if", "IN"], ["we", "PRP"], ["wan", "VBP"], ["na", "JJ"], ["find", "VBP"], ["all", "DT"], ["intervals", "NNS"], ["we", "PRP"], ["just", "RB"], ["have", "VBP"], ["to", "TO"], ["run", "VB"], ["the", "DT"], ["algorithm", "NN"], ["fur", "VBZ"], ["Each", "DT"], ["interval", "NN"], ["that", "WDT"], ["'s", "VBZ"], [",", ","], ["until", "IN"], ["we", "PRP"], ["come", "VBP"], ["up", "RP"], ["against", "IN"], ["no", "DT"], ["intersection", "NN"], [",", ","], ["so", "IN"], ["it", "PRP"], ["'ll", "MD"], ["take", "VB"], ["time", "NN"], ["proportional", "JJ"], ["to", "TO"], ["R", "NNP"], ["log", "NN"], ["N", "NNP"], ["if", "IN"], ["there", "EX"], ["'s", "VBZ"], ["R", "NNP"], ["intervals", "NNS"], ["that", "WDT"], ["intersect", "VBP"], [".", "."], ["The", "DT"], ["theoretical", "JJ"], ["best", "NN"], ["that", "IN"], ["you", "PRP"], ["could", "MD"], ["possibly", "RB"], ["do", "VB"], ["would", "MD"], ["be", "VB"], ["R", "NNP"], ["plus", "CC"], ["log", "JJ"], ["N", "NNP"], ["but", "CC"], ["in", "IN"], ["practice", "NN"], ["R", "NNP"], ["log", "NN"], ["N", "NNP"], ["is", "VBZ"], ["quite", "RB"], ["efficient", "JJ"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["an", "DT"], ["easy", "JJ"], ["and", "CC"], ["very", "RB"], ["efficient", "JJ"], ["algorithm", "NN"], ["to", "TO"], ["solve", "VB"], ["this", "DT"], ["interval", "JJ"], ["search", "NN"], ["problem", "NN"], ["and", "CC"], ["as", "IN"], ["we", "PRP"], ["'ll", "MD"], ["see", "VB"], ["this", "DT"], ["algorithm", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["applicable", "JJ"], ["to", "TO"], ["an", "DT"], ["important", "JJ"], ["application", "NN"], ["that", "IN"], ["we", "PRP"], ["'ll", "MD"], ["see", "VB"], ["in", "IN"], ["a", "DT"]], "title": "interval search trees", "text": "Okay next we're gonna look at another extension of geometric algorithms to process slightly more complicated objects and then we'll see an important application. This is called interval search. So now instead of points, our data is intervals. So this is, we'll start with one dimension as before and right away you can see that it's a more complicated problem than we've been dealing with. So we want to support the following operations. We wanna be able to insert an interval. So an interval is just a left endpoint, right endpoint of a 1-dimensional data or points on the line. We wanna be able to Insert an interval search for an interval, delete an interval but the main thing is we want the interval intersection query. So given a query interval, we want to find all intervals in the data structure that overlap that interval or find any interval we'll start with that simpler problem. So how are we going to support that? So this is the API in Java code [cough], so We, have, intervals, so instead of one key we have two, which is left and right end points of the interval for input. And [inaudible], and then we have delete, and then we have intersects. And again simplify the code, we are going to make the non degeneracy assumption that no two intervals have the same left end point. [cough] and, [cough]. Easy, easy to fix but, but we don't simplify the code. So now we'll look at a data structure called an interval search tree that helps to solve this problem. And, it's a extremely, simple algorithim, but surprisingly, complicated to understand, so we'll go slowly. So the first thing is what we're going to do is use the left end point of each interval as the binary search tree key. So our, eh, our node stored intervals, but we only use our left end point as the key. So this is the binary search tree that's built from those five intervals, six intervals in our example. Seventeen, nineteen is at the root, so everybody with a le ft end point less than seventeen is to the left, the left end point greater than seventeen is to the right and so forth. So that's a binary search tree built, from those intervals. So that's easy. I just build a binary search tree. I just use, the left end point, as the search key. But we're also in the, each node of the tree, we're gonna store, not just the interval. But we're gonna store the, largest endpoint in the subtree rooted at that node. So at every node, we're gonna store the maximum endpoint and subtree rooted at that node. So at the root, the maximum endpoint or the rightmost point covered by an interval, is 24. So we [inaudible] 24 at the root, and, of course, the right subtree. And the left subtree. The max end point is that eighteen so that's what we store for the associated data with the note to the left of the root and so forth. So. We going to have to, that's data that we're going to have to maintain when we do an insert and it's data that we'll use when we're doing an interval-intersection search. So let's take a look at an insertion into an interval search tree with a demo. All right, so, the, insertion algorithm is pretty simple. We do the BST insertion, just so we have to do that, update of the maximum in each node on the search path. So, to insert 16/22 in this tree, while we use the, left endpoint as the search key, sixteen is the left endpoint of our insert interval [cough]. We compare that with seventeen and therefore go left. How sixteen is bigger than five so we go right. Now sixteen is bigger than fifteen so we go right. And that's null, so that's where we insert our new, interval. [sound]. So now, we're gonna go back up the tree. And, for every node that we encounter, it could be that, our right endpoint of our interval, is bigger than what was there. So we have to check, all the way up the path, the maximum in each node on the path. So we have to check each node, to see if 22 is bigger, and, for the three nodes to the left it is bigger than eighteen. For the node at the root, it's not. That stays to be 24. So, it's just binary tree insertion, but then after the insertion on the way up, we go ahead and, check, if the maximum that we have is bigger than the maximum there and update it if necessary. So easy to code. [sound]. Alright, so now about, how do we do a, a search. So the searches is definitely more complicated and kind of mysterious, but let's look at the rules for search in an interval search tree. Alright so now we're gonna look to see if we have an intersection what a. We want to find just. Any interval that intersects this query interval 23 25. We're not gonna try to find them all we'll get back to that in a minute. Try to find any interval that intersects our query interval. So let's, let's see what we have to do. So first thing is if At the root, we have an intersection, then we're done. We just return. In this case, 2325 does not intersect, 1719. So, we have to go down the tree somewhere. So left subtree is [inaudible] right, okay? Otherwise, we have to check whether the max endpoint in the left subtree is less than, the low point in our interval. [inaudible] it's easy to see, well, if that's the case, then we're not gonna find an intersection. In the left. The maximum end-point in the left is 22, and we're looking for 23, and we're not gonna find anything there, so we just wanna go right. So in this case we'll go right 22, 23 no inter sectional left, so we go right and now we do find an intersection 21, 24 does intersect with 23, 25 because 23 is in the middle there, so we find an intersection. Now on the other hand, let's say they were looking for 1214, so no intersection. So. All the algorithm says is that, if you didn't go right, go left. So let's go left, in this case. So we weren't able to show that there was no intersection, on the left. So, so we're gonna go left. In this we compare twelve fourteen to five eight, so now we apply the same rules. Does it intersect? No, it doesn't intersect. So should we go left. Well no, the maximum, end point in the left node is eight. So we can have intersection there, so we gonna go right, [inaudible] to twelve and go right. So, now does twelve, fourteen intersect fifteen, eighteen it does not so there's no intersection so now what do we do. Should we go left no the max in point on left is ten so we shouldn't go left. So we're going to go right. Those 12-14 intersect 16-22. It does not, So, now, the left end point's null. And so we're just gonna go right. And there's no intersection. So in both cases we just went along one path in the tree to determine whether or not there was an interval or intersection. Let's look at one more example. 21, 23. So let's see. 21 thru 23 to seventeen, nineteen. They do not intersect, so now, what are we gonna do next? Well we're gonna compare the left sub-tree, and it's Not, 22 falls within our interval so it's not less than'r' so there might be an intersection there so we better go to the left, so we do go to the left. Now we compare against 5-8, and there's no intersection. So now, we're gonna go left to right. Well, we're gonna go to the right, because, the max endpoint in the left subtree is eight, and our interval's 21, so no intersection on the left. So we're gonna go right. Intersection 21231518. They do not intersect. So now, do we go left or right? Again ten is less than our left endpoint 21. So we better go to the right. [cough]. And now 2123 does intersect 1622, so we return and intersection. Again one path through the tree to determine an intersection. So from these rules you can see that the man of code required to implement this intersecting inter role is extremely low. Just check for an intersection, if we find it ret urn if left is no we go right. Otherwise if the max is less than low we go right. Otherwise we go left. Could hardly be simpler. Really amazingly simple and efficient algorithm. We should convince ourselves really that it always works and so we'll spend just a moment on a short proof. So let's look at the, the cases that could happen. So first thing is if the search goes right. Then there's no intersection on the left. And that's easy to convince ourselves of that just from, from what we did in the demo. Of course, if the last sub-tree's empty, there's no intersection there. But if the max endpoint in the left sub-tree is less than low, that means every interval in the left sub-tree has a max endpoint less than mah, low, and so therefore it can't intersect. So if you go right, there's no intersection in the left. Any possible intersection would have to be in the right, And then the other point is that if you go left, then either there's an intersection there, or there's no intersections at all. So Lets suppose that there is no intersect, and that's equivalent to saying, if there is no intersection in the left then there is no intersection in the right. So lets look at it if there is no intersection in the left, since we went to the left and then we have got, low less than max. But, for any interval, in the right subtree, its got to appear after. Low. Be, because since there's no intersections in the left sub tree high has gotta be less than C. Where, because they're sorted by left N point. And then that means that C-s got to be less than A if it is in the right, so therefore there can't be any interesection in the right either. No intersection in the left means no intersections at all, so those two cases is enough to show that this algebroid finds an intersection, if there is one. And the other thing we can do with this is just use a red-black BST to guarantee that we solved this in time proportional to log in. So insert, find, delete, and find any interval that intersects. All take time, guaranteed, proportional to log in. And if we wanna find all intervals we just have to run the algorithm fur Each interval that's, until we come up against no intersection, so it'll take time proportional to R log N if there's R intervals that intersect. The theoretical best that you could possibly do would be R plus log N but in practice R log N is quite efficient. This is an easy and very efficient algorithm to solve this interval search problem and as we'll see this algorithm. It's applicable to an important application that we'll see in a ", "video_ID": 50, "course_id": 3}
{"category": ["geometric applications of bsts"], "tagged": [["To", "TO"], ["finish", "VB"], ["up", "RP"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["the", "DT"], ["rectangle", "NN"], ["intersection", "NN"], ["problem", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["got", "VBD"], ["important", "JJ"], ["practical", "JJ"], ["applications", "NNS"], ["and", "CC"], [",", ","], ["uses", "VBZ"], ["the", "DT"], ["techniques", "NNS"], ["that", "IN"], ["we", "PRP"], ["'ve", "VBP"], ["been", "VBN"], ["studying", "VBG"], ["so", "RB"], ["far", "RB"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["simple", "JJ"], ["generalization", "NN"], ["of", "IN"], ["our", "PRP$"], ["line", "NN"], ["intersection", "NN"], ["problem", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["bunch", "NN"], ["of", "IN"], ["rectangles", "NNS"], [".", "."], ["They", "PRP"], ["'re", "VBP"], ["all", "DT"], ["oriented", "JJ"], ["horizontal", "NN"], ["or", "CC"], ["vertical", "JJ"], [".", "."], ["And", "CC"], ["what", "WP"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["find", "VB"], ["all", "PDT"], ["the", "DT"], ["intersections", "NNS"], ["in", "IN"], ["that", "DT"], ["set", "NN"], ["of", "IN"], ["rectangles", "NNS"], [".", "."], ["And", "CC"], ["again", "RB"], ["N", "NNP"], ["could", "MD"], ["be", "VB"], ["huge", "JJ"], ["in", "IN"], ["applications", "NNS"], [",", ","], ["as", "IN"], ["we", "PRP"], ["'ll", "MD"], ["talk", "VB"], ["about", "IN"], ["in", "IN"], ["a", "DT"], ["second", "JJ"], [".", "."], ["And", "CC"], ["the", "DT"], ["[", "NNP"], ["cough", "NN"], ["]", "NNP"], ["Naive", "NNP"], ["Brute-Force", "NNP"], ["Algorithm", "NNP"], ["involves", "VBZ"], ["checking", "VBG"], ["each", "DT"], ["pair", "NN"], ["of", "IN"], ["rectangles", "NNS"], ["for", "IN"], ["intersection", "NN"], [".", "."], ["And", "CC"], ["what", "WP"], ["we", "PRP"], ["want", "VBP"], ["is", "VBZ"], ["a", "DT"], ["more", "RBR"], ["efficient", "JJ"], ["algorithm", "NN"], ["than", "IN"], ["that", "DT"], ["as", "IN"], ["usual", "JJ"], [".", "."], ["And", "CC"], ["again", "RB"], [",", ","], ["to", "TO"], ["keep", "VB"], ["the", "DT"], ["code", "NN"], ["simple", "NN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["assume", "VB"], ["that", "IN"], ["all", "PDT"], ["the", "DT"], ["coordinates", "NNS"], ["are", "VBP"], ["distinct", "JJ"], [".", "."], ["We", "PRP"], ["do", "VBP"], ["n't", "RB"], ["have", "VB"], ["any", "DT"], [",", ","], ["any", "DT"], ["equal", "JJ"], ["lines", "NNS"], ["that", "IN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["worry", "VB"], ["about", "IN"], ["whether", "IN"], ["we", "PRP"], ["consider", "VBP"], ["rectangles", "NNS"], ["that", "WDT"], ["touch", "VBP"], ["to", "TO"], ["be", "VB"], ["intersecting", "VBG"], [",", ","], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["the", "DT"], ["problem", "NN"], [",", ","], ["rectangle", "NN"], ["intersection", "NN"], ["search", "NN"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["historically", "RB"], [",", ","], ["an", "DT"], ["extremely", "RB"], [",", ","], ["important", "JJ"], ["problem", "NN"], [".", "."], ["In", "IN"], ["the", "DT"], ["1970s", "NNS"], [",", ","], ["when", "WRB"], ["we", "PRP"], ["switched", "VBD"], ["to", "TO"], ["very", "RB"], ["large", "JJ"], ["scale", "NN"], ["integration", "NN"], ["for", "IN"], ["computers", "NNS"], [",", ","], ["we", "PRP"], ["were", "VBD"], ["switching", "VBG"], ["from", "IN"], ["a", "DT"], ["situation", "NN"], ["where", "WRB"], ["we", "PRP"], ["were", "VBD"], ["wiring", "VBG"], ["physical", "JJ"], ["devices", "NNS"], ["together", "RB"], [",", ","], ["to", "TO"], ["a", "DT"], ["situation", "NN"], ["where", "WRB"], ["we", "PRP"], ["were", "VBD"], ["essentially", "RB"], ["drawing", "VBG"], ["the", "DT"], ["computer", "NN"], [".", "."], ["And", "CC"], ["there", "EX"], ["were", "VBD"], ["machines", "NNS"], ["that", "WDT"], ["would", "MD"], ["take", "VB"], ["drawings", "NNS"], ["and", "CC"], [",", ","], ["and", "CC"], ["return", "NN"], [",", ","], ["[", "NNP"], ["cough", "NN"], ["]", "NN"], ["and", "CC"], ["from", "IN"], ["those", "DT"], ["drawings", "NNS"], [",", ","], ["like", "IN"], ["this", "DT"], [",", ","], ["make", "VB"], [",", ","], ["physical", "JJ"], ["things", "NNS"], ["that", "WDT"], ["implemented", "VBD"], ["computers", "NNS"], ["with", "IN"], ["different", "JJ"], ["layers", "NNS"], ["and", "CC"], ["different", "JJ"], [",", ","], ["physical", "JJ"], ["materials", "NNS"], ["interacting", "VBG"], [",", ","], ["in", "IN"], ["different", "JJ"], ["ways", "NNS"], [".", "."], ["Some", "DT"], ["things", "NNS"], ["are", "VBP"], ["wires", "NNS"], [",", ","], ["and", "CC"], ["some", "DT"], ["things", "NNS"], ["are", "VBP"], ["switches", "NNS"], ["that", "IN"], [",", ","], ["are", "VBP"], ["used", "VBN"], ["to", "TO"], [",", ","], ["implement", "JJ"], ["memory", "NN"], ["bits", "NNS"], ["and", "CC"], ["computer", "NN"], ["logic", "NN"], [".", "."], ["But", "CC"], ["the", "DT"], ["key", "JJ"], ["point", "NN"], ["about", "IN"], ["it", "PRP"], ["is", "VBZ"], ["that", "IN"], ["designing", "VBG"], ["a", "DT"], ["computer", "NN"], ["became", "VBD"], ["a", "DT"], ["geometric", "JJ"], ["problem", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], [",", ","], ["people", "NNS"], [",", ","], ["to", "TO"], ["design", "VB"], ["new", "JJ"], ["computers", "NNS"], [",", ","], ["would", "MD"], [",", ","], ["make", "VB"], ["huge", "JJ"], ["drawings", "NNS"], ["that", "WDT"], ["just", "RB"], ["showed", "VBD"], ["the", "DT"], ["lines", "NNS"], ["that", "WDT"], ["corresponded", "VBD"], ["to", "TO"], ["the", "DT"], ["materials", "NNS"], ["that", "WDT"], ["had", "VBD"], ["to", "TO"], ["be", "VB"], ["created", "VBN"], ["to", "TO"], ["make", "VB"], ["the", "DT"], ["computer", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["it", "PRP"], ["was", "VBD"], ["very", "RB"], ["expensive", "JJ"], [".", "."], ["You", "PRP"], ["did", "VBD"], ["n't", "RB"], ["want", "VB"], ["to", "TO"], ["have", "VB"], ["any", "DT"], ["bugs", "NNS"], ["when", "WRB"], ["you", "PRP"], ["'re", "VBP"], ["making", "VBG"], ["a", "DT"], ["chip", "NN"], [".", "."], ["And", "CC"], [",", ","], ["there", "EX"], ["were", "VBD"], ["various", "JJ"], ["rules", "NNS"], ["about", "IN"], ["what", "WP"], ["you", "PRP"], ["can", "MD"], ["do", "VB"], ["on", "IN"], ["these", "DT"], ["drawings", "NNS"], [".", "."], ["And", "CC"], ["basically", "RB"], [",", ","], ["these", "DT"], ["rules", "NNS"], ["had", "VBD"], ["to", "TO"], ["do", "VB"], ["with", "IN"], ["doing", "VBG"], ["this", "DT"], ["ortho", "NN"], [",", ","], ["orthogonal", "JJ"], ["rectangle", "NN"], ["intersection", "NN"], ["search", "NN"], [".", "."], ["You", "PRP"], [",", ","], ["you", "PRP"], ["ca", "MD"], ["n't", "RB"], ["have", "VB"], ["[", "VBN"], ["cough", "JJ"], ["]", "NN"], ["lines", "NNS"], ["that", "WDT"], ["come", "VBP"], ["too", "RB"], ["close", "RB"], ["to", "TO"], ["other", "JJ"], ["lines", "NNS"], [",", ","], ["certain", "JJ"], ["types", "NNS"], ["of", "IN"], ["lines", "NNS"], ["ca", "MD"], ["n't", "RB"], ["intersect", "VB"], [".", "."], ["Need", "VB"], ["spacing", "VBG"], ["between", "IN"], ["certain", "JJ"], ["types", "NNS"], ["of", "IN"], ["wires", "NNS"], ["and", "CC"], [",", ","], ["you", "PRP"], ["wanted", "VBD"], ["to", "TO"], [",", ","], ["before", "IN"], ["you", "PRP"], ["tried", "VBD"], ["to", "TO"], ["make", "VB"], ["the", "DT"], ["physical", "JJ"], ["circuit", "NN"], ["to", "TO"], ["do", "VB"], ["this", "DT"], ["checking", "NN"], [",", ","], ["which", "WDT"], ["involved", "VBD"], ["this", "DT"], ["orthogonal", "JJ"], ["rectangle", "NN"], ["intersection", "NN"], ["sort", "NN"], [".", "."], ["And", "CC"], ["it", "PRP"], ["was", "VBD"], ["actually", "RB"], ["the", "DT"], ["case", "NN"], ["that", "IN"], ["the", "DT"], ["progress", "NN"], ["of", "IN"], ["faster", "NN"], ["and", "CC"], ["faster", "JJ"], ["processors", "NNS"], ["with", "IN"], ["more", "JJR"], ["and", "CC"], ["more", "JJR"], ["components", "NNS"], ["was", "VBD"], ["slowed", "VBN"], ["because", "IN"], ["people", "NNS"], ["were", "VBD"], ["using", "VBG"], ["the", "DT"], ["naive", "JJ"], ["quadratic", "JJ"], ["algorithm", "NN"], ["to", "TO"], ["do", "VB"], ["this", "DT"], ["design", "NN"], ["rule", "NN"], ["checking", "NN"], [".", "."], ["And", "CC"], ["its", "PRP$"], ["example", "NN"], ["of", "IN"], [",", ","], ["of", "IN"], ["Moore", "NNP"], ["'s", "POS"], ["law", "NN"], [".", "."], ["So", "RB"], [",", ","], ["as", "IN"], ["we", "PRP"], ["built", "VBP"], ["a", "DT"], ["faster", "NN"], ["computer", "NN"], ["say", "VBP"], [",", ","], ["in", "IN"], ["1970X", "CD"], [",", ","], ["we", "PRP"], ["needed", "VBD"], ["to", "TO"], ["check", "VB"], ["in", "IN"], ["rectangles", "NNS"], [".", "."], ["But", "CC"], ["now", "RB"], [",", ","], ["maybe", "RB"], ["a", "DT"], ["year", "NN"], ["and", "CC"], ["a", "DT"], ["half", "NN"], ["later", "RB"], [",", ","], ["you", "PRP"], ["have", "VBP"], ["a", "DT"], ["computer", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["two", "CD"], ["times", "NNS"], ["faster", "RBR"], ["but", "CC"], ["you", "PRP"], ["also", "RB"], ["want", "VBP"], ["to", "TO"], ["build", "VB"], ["a", "DT"], ["bigger", "JJR"], ["computer", "NN"], ["so", "IN"], ["you", "PRP"], ["have", "VBP"], ["twice", "RB"], ["as", "RB"], ["many", "JJ"], ["rectangles", "NNS"], ["to", "TO"], ["check", "VB"], [".", "."], ["So", "IN"], ["you", "PRP"], ["have", "VBP"], ["two", "CD"], ["end", "VBP"], ["rectangles", "NNS"], ["to", "TO"], ["check", "VB"], ["now", "RB"], [",", ","], ["and", "CC"], ["your", "PRP$"], ["computer", "NN"], ["'s", "POS"], ["twice", "NN"], ["as", "IN"], ["fast", "NN"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["get", "VBP"], ["to", "TO"], ["use", "VB"], ["the", "DT"], ["faster", "NN"], ["and", "CC"], ["bigger", "JJR"], ["computer", "NN"], ["to", "TO"], ["build", "VB"], ["faster", "RBR"], ["and", "CC"], ["bigger", "JJR"], ["circuits", "NNS"], ["but", "CC"], ["that", "DT"], ["does", "VBZ"], ["n't", "RB"], ["help", "VB"], ["if", "IN"], ["you", "PRP"], ["'re", "VBP"], ["using", "VBG"], ["a", "DT"], ["quadratic", "JJ"], ["algorithm", "NN"], [".", "."], ["If", "IN"], ["you", "PRP"], ["'re", "VBP"], ["using", "VBG"], ["a", "DT"], ["quadratic", "JJ"], ["algorithm", "NN"], ["and", "CC"], ["it", "PRP"], ["takes", "VBZ"], ["you", "PRP"], ["n", "JJ"], ["days", "NNS"], ["to", "TO"], ["check", "VB"], ["your", "PRP$"], ["design", "NN"], ["rules", "NNS"], [",", ","], ["and", "CC"], ["people", "NNS"], ["were", "VBD"], ["running", "VBG"], ["these", "DT"], ["things", "NNS"], ["on", "IN"], ["the", "DT"], ["order", "NN"], ["of", "IN"], ["days", "NNS"], [",", ","], ["then", "RB"], ["for", "IN"], ["the", "DT"], ["next", "JJ"], ["computer", "NN"], [",", ","], ["it", "PRP"], ["would", "MD"], ["take", "VB"], ["2n", "CD"], ["days", "NNS"], [",", ","], ["it", "PRP"], ["would", "MD"], ["take", "VB"], ["twice", "RB"], ["as", "RB"], ["long", "JJ"], [".", "."], ["And", "CC"], ["so", "RB"], ["people", "NNS"], ["that", "WDT"], ["were", "VBD"], ["using", "VBG"], ["quadratic", "JJ"], ["algorithms", "NNS"], ["were", "VBD"], ["definitely", "RB"], ["held", "VBN"], ["back", "RB"], ["and", "CC"], [",", ","], ["it", "PRP"], ["was", "VBD"], [",", ","], ["Ed", "NNP"], [",", ","], ["Ed", "NNP"], ["McCreight", "NNP"], ["at", "IN"], ["Xerox", "NNP"], ["Park", "NNP"], ["who", "WP"], [",", ","], ["discovered", "VBD"], ["interval", "JJ"], ["search", "NN"], ["trees", "NNS"], ["and", "CC"], ["the", "DT"], ["logarithmic", "JJ"], ["algorithm", "NN"], ["that", "WDT"], ["allowed", "VBD"], ["us", "PRP"], ["to", "TO"], ["sustain", "VB"], ["Moore", "NNP"], ["'s", "POS"], ["law", "NN"], ["and", "CC"], ["keep", "VB"], ["building", "NN"], ["bigger", "JJR"], ["and", "CC"], ["bigger", "JJR"], ["computers", "NNS"], [".", "."], ["By", "IN"], ["changing", "VBG"], ["this", "DT"], ["quadratic", "JJ"], ["algorithm", "NN"], ["to", "TO"], ["a", "DT"], ["linear", "JJ"], ["logarithmic", "JJ"], ["algorithm", "NN"], [",", ","], ["and", "CC"], ["let", "VB"], ["'s", "POS"], ["see", "VB"], ["how", "WRB"], ["it", "PRP"], ["works", "VBZ"], [".", "."], ["Really", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["modification", "NN"], ["of", "IN"], ["the", "DT"], ["sweep", "JJ"], ["line", "NN"], ["algorithm", "NN"], ["that", "IN"], ["we", "PRP"], ["looked", "VBD"], ["at", "IN"], ["for", "IN"], ["intersecting", "VBG"], ["lines", "NNS"], [".", "."], ["But", "CC"], ["now", "RB"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["use", "VB"], ["that", "DT"], ["for", "IN"], ["intersecting", "VBG"], ["rectangles", "NNS"], ["rather", "RB"], ["than", "IN"], ["using", "VBG"], ["range", "JJ"], ["search", "NN"], ["as", "IN"], ["our", "PRP$"], ["basic", "JJ"], ["operation", "NN"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["use", "VB"], ["interval", "JJ"], ["search", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], [",", ","], ["every", "DT"], ["time", "NN"], ["the", "DT"], ["line", "NN"], ["sweep", "NN"], ["hits", "VBZ"], ["a", "DT"], ["rectangle", "NN"], [",", ","], ["that", "WDT"], ["corresponds", "VBZ"], ["to", "TO"], ["an", "DT"], ["interval", "NN"], [".", "."], ["If", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["the", "DT"], ["left", "JJ"], ["part", "NN"], ["of", "IN"], ["a", "DT"], ["rectangle", "NN"], [",", ","], ["then", "RB"], ["we", "PRP"], ["put", "VBP"], ["that", "DT"], ["interval", "NN"], ["into", "IN"], ["our", "PRP$"], ["interval", "JJ"], ["search", "NN"], ["tree", "NN"], [".", "."], ["So", "RB"], ["in", "IN"], ["this", "DT"], ["case", "NN"], ["we", "PRP"], ["put", "VBD"], ["on", "IN"], ["zero", "NN"], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["put", "VBP"], ["on", "IN"], ["one", "CD"], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["put", "VBP"], ["on", "IN"], ["two", "CD"], [".", "."], ["And", "CC"], [",", ","], ["and", "CC"], ["that", "DT"], ["will", "MD"], ["give", "VB"], ["us", "PRP"], ["now", "RB"], ["three", "CD"], ["rectangles", "NNS"], ["on", "IN"], ["our", "PRP$"], ["sweep", "JJ"], ["line", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], ["now", "RB"], [",", ","], ["the", "DT"], ["question", "NN"], ["is", "VBZ"], ["when", "WRB"], ["we", "PRP"], ["hit", "VBD"], ["a", "DT"], [",", ","], ["a", "DT"], ["new", "JJ"], ["rectangle", "NN"], [",", ","], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["do", "VB"], ["an", "DT"], ["interval", "NN"], ["search", "NN"], ["to", "TO"], [",", ","], ["if", "IN"], ["we", "PRP"], ["'re", "VBP"], ["at", "IN"], ["the", "DT"], ["left", "NN"], ["to", "TO"], ["check", "VB"], ["which", "WDT"], ["ones", "NNS"], ["intersect", "NN"], ["and", "CC"], ["the", "DT"], ["interval", "JJ"], ["search", "NN"], ["tree", "NN"], ["algorithm", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["tell", "VB"], ["us", "PRP"], ["which", "WDT"], ["intersections", "NNS"], ["there", "EX"], ["are", "VBP"], ["right", "JJ"], ["away", "RB"], [".", "."], ["When", "WRB"], ["we", "PRP"], ["reach", "VBP"], ["the", "DT"], ["right", "JJ"], ["then", "RB"], ["we", "PRP"], ["remove", "VBP"], ["intervals", "NNS"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["But", "CC"], ["with", "IN"], ["the", "DT"], ["basic", "JJ"], ["interval", "JJ"], ["search", "NN"], ["tree", "NN"], ["algorithm", "NN"], ["and", "CC"], ["the", "DT"], ["sweep", "JJ"], ["line", "NN"], ["process", "NN"], ["that", "IN"], ["we", "PRP"], ["'ve", "VBP"], ["talked", "VBN"], ["about", "IN"], [",", ","], ["you", "PRP"], ["can", "MD"], ["get", "VB"], ["the", "DT"], ["orthogonal", "JJ"], [",", ","], ["orthogonal", "JJ"], ["rectangle", "NN"], ["intersection", "NN"], ["search", "NN"], ["problem", "NN"], ["solved", "VBN"], ["in", "IN"], ["time", "NN"], ["proportional", "JJ"], ["to", "TO"], ["analog", "VB"], ["N", "NNP"], ["log", "NN"], ["N", "NNP"], ["+", "NNP"], ["R", "NNP"], ["log", "NN"], ["N", "NNP"], [",", ","], ["where", "WRB"], ["R", "NN"], ["is", "VBZ"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["intersections", "NNS"], [".", "."], ["And", "CC"], ["typically", "RB"], [",", ","], ["in", "IN"], ["design", "NN"], ["rule", "NN"], ["checking", "NN"], [",", ","], ["you", "PRP"], ["would", "MD"], ["n't", "RB"], ["expect", "VB"], ["too", "RB"], ["many", "JJ"], ["intersections", "NNS"], [".", "."], ["So", "RB"], ["again", "RB"], [",", ","], ["just", "RB"], ["as", "IN"], ["with", "IN"], [",", ","], ["line", "NN"], ["intersection", "NN"], ["search", "NN"], [",", ","], ["using", "VBG"], ["a", "DT"], ["priority", "NN"], ["queue", "NN"], ["or", "CC"], ["a", "DT"], ["sort", "NN"], ["is", "VBZ"], ["only", "RB"], ["N", "NNP"], ["log", "NN"], ["N", "NNP"], ["for", "IN"], ["processing", "VBG"], ["the", "DT"], ["X", "NN"], ["coordinates", "VBZ"], [".", "."], ["And", "CC"], ["because", "IN"], ["the", "DT"], ["interval", "JJ"], ["search", "NN"], ["trees", "NNS"], ["take", "VBP"], ["log", "NN"], ["N", "NNP"], ["for", "IN"], ["every", "DT"], ["operation", "NN"], [",", ","], ["the", "DT"], ["insert", "NN"], ["and", "CC"], ["delete", "JJ"], ["intervals", "NNS"], ["is", "VBZ"], ["N", "NNP"], ["log", "NN"], ["N", "NNP"], ["totaled", "VBD"], ["and", "CC"], ["the", "DT"], ["searches", "NNS"], ["is", "VBZ"], ["N", "NNP"], ["log", "NN"], ["N", "NNP"], ["+", "NNP"], ["R", "NNP"], ["log", "NN"], ["N.", "NNP"], ["So", "NNP"], [",", ","], ["the", "DT"], ["bottom", "JJ"], ["line", "NN"], ["is", "VBZ"], ["that", "IN"], ["the", "DT"], ["sweep", "JJ"], ["line", "NN"], ["algorithm", "NN"], ["takes", "VBZ"], ["this", "DT"], ["rectangle", "NN"], ["intersection", "NN"], ["problem", "NN"], ["and", "CC"], ["reduces", "VBZ"], ["it", "PRP"], ["to", "TO"], ["1D", "CD"], ["interval", "JJ"], ["search", "NN"], ["and", "CC"], ["we", "PRP"], ["have", "VBP"], ["an", "DT"], ["efficient", "JJ"], ["algorithm", "NN"], ["for", "IN"], ["that", "DT"], ["problem", "NN"], ["and", "CC"], ["that", "DT"], ["enables", "VBZ"], ["us", "PRP"], ["to", "TO"], ["solve", "VB"], ["the", "DT"], ["problem", "NN"], ["in", "IN"], ["linear", "JJ"], ["rhythmic", "JJ"], ["time", "NN"], ["instead", "RB"], ["of", "IN"], ["quadratic", "JJ"], ["time", "NN"], [".", "."], ["And", "CC"], ["that", "IN"], ["definitely", "RB"], ["enabled", "VBD"], ["new", "JJ"], ["progress", "NN"], ["in", "IN"], ["technology", "NN"], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["fine", "JJ"], ["example", "NN"], ["of", "IN"], ["the", "DT"], ["importance", "NN"], ["of", "IN"], ["algorithmic", "JJ"], ["technology", "NN"], [".", "."], ["So", "CC"], ["here", "RB"], ["'s", "VBZ"], ["our", "PRP$"], ["summary", "NN"], ["of", "IN"], ["applications", "NNS"], ["of", "IN"], ["binary", "JJ"], ["search", "NN"], ["trees", "NNS"], ["for", "IN"], ["geometric", "JJ"], ["problems", "NNS"], [".", "."], ["We", "PRP"], ["started", "VBD"], ["with", "IN"], ["one", "CD"], ["dimensional", "JJ"], ["range", "NN"], ["search", "NN"], ["and", "CC"], ["just", "RB"], ["used", "VBN"], ["regular", "JJ"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], ["to", "TO"], ["compute", "VB"], ["ranks", "NNS"], ["to", "TO"], ["get", "VB"], ["the", "DT"], ["answer", "NN"], [".", "."], ["But", "CC"], ["that", "IN"], ["as", "IN"], ["the", "DT"], ["basis", "NN"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["able", "JJ"], ["to", "TO"], ["solve", "VB"], ["the", "DT"], ["two", "CD"], ["dimensional", "JJ"], ["line", "NN"], ["segment", "NN"], ["intersection", "NN"], ["search", "NN"], ["using", "VBG"], ["the", "DT"], ["sweep", "JJ"], ["line", "NN"], ["algorithm", "NN"], [".", "."], ["Then", "RB"], ["we", "PRP"], ["looked", "VBD"], ["at", "IN"], ["range", "NN"], ["search", "NN"], ["and", "CC"], ["other", "JJ"], ["operations", "NNS"], ["using", "VBG"], ["KD", "NNP"], ["trees", "NNS"], [".", "."], ["Again", "NNP"], [",", ","], ["modification", "NN"], ["of", "IN"], ["binary", "JJ"], ["search", "NN"], ["trees", "NNS"], [".", "."], ["And", "CC"], ["then", "RB"], ["the", "DT"], ["interval", "JJ"], ["search", "NN"], ["tree", "NN"], ["to", "TO"], ["solve", "VB"], ["the", "DT"], ["one", "CD"], ["dimensional", "JJ"], ["N", "NNP"], ["over", "IN"], ["search", "NN"], ["problem", "NN"], ["and", "CC"], ["then", "RB"], ["how", "WRB"], ["that", "DT"], ["corresponds", "VBZ"], ["to", "TO"], ["the", "DT"], ["basic", "JJ"], ["algorithm", "NN"], ["that", "IN"], ["you", "PRP"], ["get", "VBP"], ["to", "TO"], ["if", "IN"], ["you", "PRP"], ["use", "VBP"], ["the", "DT"], ["sweep", "NN"], ["line", "NN"], ["algorithm", "NN"], ["to", "TO"], ["solve", "VB"], ["rectangle", "JJ"], ["intersection", "NN"], [".", "."], ["Many", "JJ"], ["of", "IN"], ["these", "DT"], ["problems", "NNS"], ["are", "VBP"], ["the", "DT"], ["basis", "NN"], ["for", "IN"], ["geometric", "JJ"], ["processing", "NN"], ["of", "IN"], ["huge", "JJ"], ["amounts", "NNS"], ["of", "IN"], ["data", "NNS"], ["that", "IN"], ["we", "PRP"], ["see", "VBP"], ["all", "DT"], ["over", "IN"], ["the", "DT"], ["web", "NN"], [".", "."], ["And", "CC"], ["our", "PRP$"], ["basic", "JJ"], ["search", "NN"], ["tree", "JJ"], ["mentality", "NN"], ["and", "CC"], ["APIs", "NNP"], [",", ","], ["and", "CC"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], ["data", "NNS"], ["structure", "NN"], ["give", "VBP"], ["us", "PRP"], ["efficient", "JJ"], ["solutions", "NNS"], ["to", "TO"], ["these", "DT"], ["important", "JJ"], ["practical", "NN"], ["problems", "NNS"], [".", "."]], "title": "rectangle intersection", "text": "To finish up, we're going to look at the rectangle intersection problem that's got important practical applications and, uses the techniques that we've been studying so far. And it's a simple generalization of our line intersection problem. So now, we have a bunch of rectangles. They're all oriented horizontal or vertical. And what we need to do is find all the intersections in that set of rectangles. And again N could be huge in applications, as we'll talk about in a second. And the [cough] Naive Brute-Force Algorithm involves checking each pair of rectangles for intersection. And what we want is a more efficient algorithm than that as usual. And again, to keep the code simple we're going to assume that all the coordinates are distinct. We don't have any, any equal lines that we have to worry about whether we consider rectangles that touch to be intersecting, and so forth. So that's, that's the problem, rectangle intersection search. This is historically, an extremely, important problem. In the 1970s, when we switched to very large scale integration for computers, we were switching from a situation where we were wiring physical devices together, to a situation where we were essentially drawing the computer. And there were machines that would take drawings and, and return, [cough] and from those drawings, like this, make, physical things that implemented computers with different layers and different, physical materials interacting, in different ways. Some things are wires, and some things are switches that, are used to, implement memory bits and computer logic. But the key point about it is that designing a computer became a geometric problem. And so, people, to design new computers, would, make huge drawings that just showed the lines that corresponded to the materials that had to be created to make the computer. Now, it was very expensive. You didn't want to have any bugs when you're making a chip. And, there were various rules about what you can do on these drawings. And basically, these rules had to do with doing this ortho, orthogonal rectangle intersection search. You, you can't have [cough] lines that come too close to other lines, certain types of lines can't intersect. Need spacing between certain types of wires and, you wanted to, before you tried to make the physical circuit to do this checking, which involved this orthogonal rectangle intersection sort. And it was actually the case that the progress of faster and faster processors with more and more components was slowed because people were using the naive quadratic algorithm to do this design rule checking. And its example of, of Moore's law. So, as we built a faster computer say, in 1970X, we needed to check in rectangles. But now, maybe a year and a half later, you have a computer that's two times faster but you also want to build a bigger computer so you have twice as many rectangles to check. So you have two end rectangles to check now, and your computer's twice as fast. So, we get to use the faster and bigger computer to build faster and bigger circuits but that doesn't help if you're using a quadratic algorithm. If you're using a quadratic algorithm and it takes you n days to check your design rules, and people were running these things on the order of days, then for the next computer, it would take 2n days, it would take twice as long. And so people that were using quadratic algorithms were definitely held back and, it was, Ed, Ed McCreight at Xerox Park who, discovered interval search trees and the logarithmic algorithm that allowed us to sustain Moore's law and keep building bigger and bigger computers. By changing this quadratic algorithm to a linear logarithmic algorithm, and let's see how it works. Really, it's a modification of the sweep line algorithm that we looked at for intersecting lines. But now we're going to use that for intersecting rectangles rather than using range search as our basic operation, we're going to use interval search. So now, every time the line sweep hits a rectangle, that corresponds to an interval. If it's the left part of a rectangle, then we put that interval into our interval search tree. So in this case we put on zero and then we put on one and then we put on two. And, and that will give us now three rectangles on our sweep line. And so now, the question is when we hit a, a new rectangle, we want to do an interval search to, if we're at the left to check which ones intersect and the interval search tree algorithm is going to tell us which intersections there are right away. When we reach the right then we remove intervals and so forth. But with the basic interval search tree algorithm and the sweep line process that we've talked about, you can get the orthogonal, orthogonal rectangle intersection search problem solved in time proportional to analog N log N + R log N, where R is the number of intersections. And typically, in design rule checking, you wouldn't expect too many intersections. So again, just as with, line intersection search, using a priority queue or a sort is only N log N for processing the X coordinates. And because the interval search trees take log N for every operation, the insert and delete intervals is N log N totaled and the searches is N log N + R log N. So, the bottom line is that the sweep line algorithm takes this rectangle intersection problem and reduces it to 1D interval search and we have an efficient algorithm for that problem and that enables us to solve the problem in linear rhythmic time instead of quadratic time. And that definitely enabled new progress in technology and it's a fine example of the importance of algorithmic technology. So here's our summary of applications of binary search trees for geometric problems. We started with one dimensional range search and just used regular binary search tree to compute ranks to get the answer. But that as the basis, we're able to solve the two dimensional line segment intersection search using the sweep line algorithm. Then we looked at range search and other operations using KD trees. Again, modification of binary search trees. And then the interval search tree to solve the one dimensional N over search problem and then how that corresponds to the basic algorithm that you get to if you use the sweep line algorithm to solve rectangle intersection. Many of these problems are the basis for geometric processing of huge amounts of data that we see all over the web. And our basic search tree mentality and APIs, and binary search tree data structure give us efficient solutions to these important practical problems. ", "video_ID": 51, "course_id": 3}
{"category": ["hash tables"], "tagged": [["Welcome", "NNP"], ["back", "RB"], [".", "."], ["Today", "NN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["hashing", "NN"], [".", "."], ["Which", "NNP"], ["is", "VBZ"], ["another", "DT"], ["approach", "NN"], ["to", "TO"], ["implementing", "VBG"], ["symbol", "NN"], ["tables", "NNS"], ["that", "WDT"], ["can", "MD"], ["also", "RB"], ["be", "VB"], ["very", "RB"], ["effective", "JJ"], ["in", "IN"], ["a", "DT"], ["practical", "JJ"], ["applications", "NNS"], [".", "."], ["Here", "RB"], ["'s", "VBZ"], ["our", "PRP$"], ["summary", "NN"], ["of", "IN"], ["where", "WRB"], ["we", "PRP"], ["left", "VBD"], ["off", "RP"], ["with", "IN"], ["red", "JJ"], ["black", "JJ"], ["BSTs", "NNP"], [".", "."], ["Where", "WRB"], ["we", "PRP"], ["could", "MD"], ["get", "VB"], ["guaranteed", "JJ"], ["logarithmic", "JJ"], ["performance", "NN"], ["for", "IN"], ["a", "DT"], ["broad", "JJ"], ["range", "NN"], ["of", "IN"], ["symbol", "NN"], ["table", "JJ"], ["operations", "NNS"], [".", "."], ["And", "CC"], ["the", "DT"], ["question", "NN"], ["is", "VBZ"], [",", ","], ["can", "MD"], ["we", "PRP"], ["do", "VB"], ["better", "JJR"], ["than", "IN"], ["that", "DT"], ["?", "."], ["Is", "VBZ"], ["logarithmic", "JJ"], ["performance", "NN"], ["the", "DT"], ["best", "JJS"], ["we", "PRP"], ["can", "MD"], ["do", "VB"], ["?", "."], ["And", "CC"], ["the", "DT"], ["answer", "NN"], ["is", "VBZ"], ["that", "IN"], [",", ","], ["actually", "RB"], [",", ","], ["we", "PRP"], ["can", "MD"], [".", "."], ["But", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["different", "JJ"], ["way", "NN"], ["of", "IN"], ["accessing", "VBG"], ["the", "DT"], ["data", "NN"], [".", "."], ["And", "CC"], ["also", "RB"], [",", ","], ["it", "PRP"], ["does", "VBZ"], ["n't", "RB"], ["support", "VB"], ["ordered", "JJ"], ["operations", "NNS"], [".", "."], ["But", "CC"], ["there", "EX"], ["'s", "VBZ"], ["plenty", "NN"], ["of", "IN"], ["applications", "NNS"], ["where", "WRB"], ["the", "DT"], ["extra", "JJ"], ["speed", "NN"], ["for", "IN"], ["search", "NN"], ["and", "CC"], ["insert", "NN"], ["that", "IN"], ["we", "PRP"], ["can", "MD"], ["get", "VB"], ["this", "DT"], ["way", "NN"], ["is", "VBZ"], ["worthwhile", "JJ"], [".", "."], ["The", "DT"], ["basic", "JJ"], ["plan", "NN"], ["is", "VBZ"], ["to", "TO"], ["think", "VB"], ["of", "IN"], ["the", "DT"], ["symbol", "NN"], ["table", "NN"], ["as", "IN"], ["really", "RB"], ["try", "VB"], ["to", "TO"], ["reduce", "VB"], ["the", "DT"], ["problem", "NN"], ["to", "TO"], ["being", "VBG"], ["like", "IN"], ["an", "DT"], ["array", "NN"], [".", "."], ["And", "CC"], ["what", "WP"], ["we", "PRP"], ["do", "VBP"], ["is", "VBZ"], ["use", "VB"], ["a", "DT"], ["function", "NN"], ["known", "VBN"], ["as", "IN"], ["a", "DT"], ["hash", "NN"], ["function", "NN"], ["that", "WDT"], ["takes", "VBZ"], ["the", "DT"], ["key", "NN"], ["that", "IN"], ["our", "PRP$"], ["symbol", "NN"], ["table", "NN"], ["key", "NN"], ["and", "CC"], ["reduces", "VBZ"], ["it", "PRP"], ["to", "TO"], ["an", "DT"], ["integer", "NN"], [",", ","], ["an", "DT"], ["array", "NN"], ["index", "NN"], [",", ","], ["and", "CC"], ["we", "PRP"], ["use", "VBP"], ["that", "IN"], ["array", "NN"], ["index", "NN"], ["to", "TO"], ["store", "VB"], ["the", "DT"], ["key", "NN"], ["and", "CC"], ["the", "DT"], ["value", "NN"], ["in", "IN"], ["an", "DT"], ["array", "NN"], [".", "."], ["Maybe", "RB"], ["the", "DT"], ["value", "NN"], ["in", "IN"], ["a", "DT"], ["parallel", "JJ"], ["array", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["issues", "NNS"], ["in", "IN"], ["doing", "VBG"], ["this", "DT"], [".", "."], ["The", "DT"], ["first", "JJ"], ["thing", "NN"], ["is", "VBZ"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["compute", "VB"], ["the", "DT"], ["hash", "NN"], ["function", "NN"], [".", "."], ["That", "DT"], ["is", "VBZ"], ["easy", "JJ"], ["for", "IN"], ["some", "DT"], ["types", "NNS"], ["of", "IN"], ["data", "NNS"], ["but", "CC"], ["it", "PRP"], ["can", "MD"], ["get", "VB"], ["complicated", "VBN"], ["for", "IN"], ["more", "RBR"], ["complicated", "JJ"], ["types", "NNS"], ["of", "IN"], ["data", "NNS"], [".", "."], ["Then", "RB"], ["the", "DT"], ["other", "JJ"], ["thing", "NN"], ["is", "VBZ"], ["that", "IN"], ["instead", "RB"], ["of", "IN"], ["doing", "VBG"], ["compare", "NN"], ["to", "TO"], ["'s", "POS"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["doing", "VBG"], ["equality", "JJ"], ["tests", "NNS"], [".", "."], ["So", "IN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["be", "VB"], ["sure", "JJ"], ["we", "PRP"], ["'ve", "VBP"], ["got", "VBD"], ["the", "DT"], ["method", "NN"], ["that", "IN"], ["we", "PRP"], ["want", "VBP"], ["for", "IN"], ["checking", "VBG"], ["whether", "IN"], ["two", "CD"], ["keys", "NNS"], ["are", "VBP"], ["equal", "JJ"], [".", "."], ["All", "DT"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["look", "VB"], ["in", "IN"], ["the", "DT"], ["table", "NN"], ["and", "CC"], ["try", "VB"], ["to", "TO"], ["see", "VB"], ["if", "IN"], ["the", "DT"], ["key", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["there", "EX"], ["is", "VBZ"], ["equal", "JJ"], ["to", "TO"], ["the", "DT"], ["key", "NN"], ["we", "PRP"], ["'re", "VBP"], ["looking", "VBG"], ["for", "IN"], [".", "."], ["And", "CC"], ["then", "RB"], ["there", "EX"], ["'s", "VBZ"], ["the", "DT"], ["problem", "NN"], ["of", "IN"], ["collision", "NN"], ["resolution", "NN"], [".", "."], ["Where", "WRB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["since", "IN"], ["there", "EX"], ["are", "VBP"], ["so", "RB"], ["many", "JJ"], ["possible", "JJ"], ["values", "NNS"], ["for", "IN"], ["a", "DT"], ["typical", "JJ"], ["data", "NN"], ["type", "NN"], [".", "."], ["We", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["get", "VB"], ["the", "DT"], ["situation", "NN"], ["where", "WRB"], ["two", "CD"], ["values", "NNS"], ["hash", "VBP"], ["to", "TO"], ["the", "DT"], ["same", "JJ"], ["array", "NN"], ["index", "NN"], ["and", "CC"], ["we", "PRP"], ["need", "VBP"], ["a", "DT"], ["collision", "NN"], ["resolution", "NN"], ["strategy", "NN"], ["to", "TO"], ["try", "VB"], ["to", "TO"], ["figure", "VB"], ["out", "RP"], ["what", "WP"], ["to", "TO"], ["do", "VB"], ["in", "IN"], ["that", "DT"], ["case", "NN"], [".", "."], ["And", "CC"], ["these", "DT"], ["things", "NNS"], ["are", "VBP"], ["not", "RB"], ["difficult", "JJ"], ["but", "CC"], ["they", "PRP"], ["'re", "VBP"], ["all", "DT"], ["worth", "JJ"], ["articulating", "VBG"], ["as", "IN"], ["separate", "JJ"], ["issues", "NNS"], ["that", "IN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["deal", "VB"], ["with", "IN"], ["in", "IN"], ["order", "NN"], ["to", "TO"], ["get", "VB"], ["an", "DT"], ["effective", "JJ"], ["single", "JJ"], ["table", "JJ"], ["implementation", "NN"], [".", "."], ["Hashing", "VBG"], ["really", "RB"], ["at", "IN"], ["its", "PRP$"], ["core", "NN"], ["is", "VBZ"], ["a", "DT"], ["classic", "JJ"], ["space-time", "JJ"], ["tradeoff", "NN"], [".", "."], ["If", "IN"], ["we", "PRP"], ["had", "VBD"], ["no", "DT"], ["limitation", "NN"], ["on", "IN"], ["space", "NN"], ["at", "IN"], ["all", "DT"], [",", ","], ["then", "RB"], ["we", "PRP"], ["can", "MD"], ["have", "VB"], ["a", "DT"], ["very", "RB"], ["huge", "JJ"], ["array", "NN"], ["with", "IN"], ["space", "NN"], ["for", "IN"], ["every", "DT"], ["possible", "JJ"], ["key", "NN"], ["and", "CC"], ["just", "RB"], ["use", "VB"], ["the", "DT"], ["key", "JJ"], ["itself", "PRP"], ["as", "IN"], ["an", "DT"], ["index", "NN"], [".", "."], ["If", "IN"], ["our", "PRP$"], ["keys", "NNS"], ["are", "VBP"], ["32", "CD"], ["bit", "RB"], ["integer", "JJ"], ["keys", "NNS"], ["and", "CC"], ["we", "PRP"], ["'ve", "VBP"], ["got", "VBD"], ["a", "DT"], ["table", "NN"], ["of", "IN"], ["size", "NN"], ["2", "CD"], ["to", "TO"], ["32", "CD"], ["second", "JJ"], ["then", "RB"], ["we", "PRP"], ["'re", "VBP"], ["just", "RB"], ["fine", "JJ"], [".", "."], ["If", "IN"], ["there", "EX"], ["were", "VBD"], ["no", "DT"], ["time", "NN"], ["limit", "NN"], ["computation", "NN"], ["at", "IN"], ["all", "DT"], [",", ","], ["then", "RB"], ["I", "PRP"], ["'ll", "MD"], ["just", "RB"], ["hash", "VB"], ["everything", "NN"], ["to", "TO"], ["the", "DT"], ["same", "JJ"], ["place", "NN"], ["and", "CC"], ["then", "RB"], ["do", "VBP"], ["sequential", "JJ"], ["search", "NN"], [".", "."], ["But", "CC"], ["a", "DT"], ["sequential", "JJ"], ["search", "NN"], ["can", "MD"], ["be", "VB"], ["slow", "JJ"], ["if", "IN"], ["we", "PRP"], ["have", "VBP"], ["lots", "NNS"], ["of", "IN"], ["keys", "NNS"], [".", "."], ["So", "RB"], ["what", "WP"], ["hashing", "NN"], ["is", "VBZ"], ["kind", "NN"], ["of", "IN"], ["in", "IN"], ["the", "DT"], ["real", "JJ"], ["word", "NN"], ["where", "WRB"], ["we", "PRP"], ["'re", "VBP"], ["trying", "VBG"], ["to", "TO"], ["tradeoff", "VB"], ["this", "DT"], ["idea", "NN"], ["that", "IN"], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["have", "VB"], ["unlimited", "JJ"], ["space", "NN"], ["and", "CC"], ["we", "PRP"], ["also", "RB"], ["do", "VBP"], ["n't", "RB"], ["unlimited", "JJ"], ["time", "NN"], ["so", "IN"], ["we", "PRP"], ["'re", "VBP"], ["trying", "VBG"], ["to", "TO"], ["find", "VB"], ["something", "NN"], ["in-between", "JJ"], [".", "."], ["So", "IN"], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["hash", "JJ"], ["functions", "NNS"], [",", ","], ["separate", "JJ"], ["chaining", "NN"], ["and", "CC"], ["then", "RB"], ["two", "CD"], ["collision", "NN"], ["resolution", "NN"], ["methods", "NNS"], ["called", "VBN"], ["separate", "JJ"], ["chaining", "NN"], ["and", "CC"], ["linear", "JJ"], ["probing", "VBG"], [".", "."], ["Now", "RB"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["the", "DT"], ["implementation", "NN"], ["of", "IN"], ["hash", "JJ"], ["functions", "NNS"], [".", "."], ["So", "RB"], ["idealistically", "RB"], [",", ","], ["what", "WP"], ["we", "PRP"], ["'d", "MD"], ["like", "VB"], ["is", "VBZ"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["take", "VB"], ["any", "DT"], ["key", "JJ"], ["and", "CC"], ["uniformly", "JJ"], ["scramble", "JJ"], ["it", "PRP"], ["to", "TO"], ["produce", "VB"], ["a", "DT"], ["table", "JJ"], ["index", "NN"], [".", "."], ["We", "PRP"], ["have", "VBP"], ["two", "CD"], ["requirements", "NNS"], [",", ","], ["and", "CC"], ["one", "CD"], ["is", "VBZ"], ["that", "IN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["compute", "VB"], ["the", "DT"], ["thing", "NN"], ["efficiently", "RB"], ["in", "IN"], ["a", "DT"], ["reasonable", "JJ"], ["amount", "NN"], ["of", "IN"], ["time", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["other", "JJ"], ["is", "VBZ"], ["that", "IN"], ["it", "PRP"], ["should", "MD"], ["be", "VB"], ["the", "DT"], ["case", "NN"], ["that", "WDT"], ["every", "DT"], ["table", "NN"], ["index", "NN"], ["is", "VBZ"], ["equally", "RB"], ["likely", "JJ"], ["for", "IN"], ["each", "DT"], ["key", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["mathematicians", "NNS"], ["and", "CC"], ["computer", "NN"], ["scientists", "NNS"], ["have", "VBP"], ["researched", "VBN"], ["this", "DT"], ["problem", "NN"], ["in", "IN"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["detail", "NN"], [".", "."], ["And", "CC"], ["there", "EX"], ["'s", "VBZ"], ["quite", "RB"], ["a", "DT"], ["bit", "NN"], ["known", "VBN"], ["about", "IN"], ["it", "PRP"], [".", "."], ["But", "CC"], ["in", "IN"], ["practice", "NN"], ["this", "DT"], ["is", "VBZ"], ["something", "NN"], ["that", "WDT"], ["still", "RB"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["worry", "VB"], ["about", "IN"], ["somewhat", "RB"], [".", "."], ["So", "RB"], ["for", "IN"], ["example", "NN"], [",", ","], ["let", "VB"], ["'s", "POS"], ["suppose", "VB"], ["that", "IN"], ["our", "PRP$"], ["keys", "NNS"], ["are", "VBP"], ["phone", "NN"], ["numbers", "NNS"], [".", "."], ["Probably", "RB"], ["a", "DT"], ["bad", "JJ"], ["idea", "NN"], ["to", "TO"], ["use", "VB"], ["the", "DT"], ["first", "JJ"], ["three", "CD"], ["digits", "NNS"], ["of", "IN"], ["the", "DT"], ["phone", "NN"], ["number", "NN"], ["as", "IN"], ["a", "DT"], ["hash", "NN"], ["function", "NN"], ["because", "IN"], ["so", "RB"], ["many", "JJ"], ["phone", "NN"], ["numbers", "NNS"], ["will", "MD"], ["have", "VB"], ["the", "DT"], ["same", "JJ"], ["area", "NN"], ["code", "NN"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["equally", "RB"], ["likely", "JJ"], ["that", "IN"], ["each", "DT"], ["phone", "NN"], ["number", "NN"], ["has", "VBZ"], ["the", "DT"], ["same", "JJ"], ["first", "JJ"], ["three", "CD"], ["digits", "NNS"], [".", "."], ["You", "PRP"], ["have", "VBP"], ["a", "DT"], ["better", "JJR"], ["chance", "NN"], ["using", "VBG"], ["the", "DT"], ["last", "JJ"], ["three", "CD"], ["digits", "NNS"], [".", "."], ["But", "CC"], ["actually", "RB"], [",", ","], ["in", "IN"], ["most", "JJS"], ["cases", "NNS"], [",", ","], ["you", "PRP"], ["want", "VBP"], ["to", "TO"], ["find", "VB"], ["the", "DT"], ["way", "NN"], ["to", "TO"], ["use", "VB"], ["all", "PDT"], ["the", "DT"], ["data", "NN"], [".", "."], ["Another", "DT"], ["example", "NN"], [",", ","], ["Social", "NNP"], ["Security", "NNP"], ["numbers", "NNS"], [".", "."], ["Again", "NNP"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["too", "RB"], ["good", "JJ"], ["to", "TO"], ["use", "VB"], ["the", "DT"], ["first", "JJ"], ["three", "CD"], ["digits", "NNS"], ["because", "IN"], ["they", "PRP"], ["'re", "VBP"], ["associated", "VBN"], ["with", "IN"], ["some", "DT"], ["geographic", "JJ"], ["region", "NN"], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["better", "JJR"], ["to", "TO"], ["use", "VB"], ["the", "DT"], ["last", "JJ"], ["three", "CD"], ["digits", "NNS"], [".", "."], ["And", "CC"], ["the", "DT"], ["real", "JJ"], ["practical", "JJ"], ["challenge", "NN"], ["with", "IN"], ["hashing", "NN"], ["is", "VBZ"], ["that", "IN"], ["developing", "VBG"], ["a", "DT"], ["hash", "NN"], ["function", "NN"], ["is", "VBZ"], ["that", "IN"], ["every", "DT"], ["type", "NN"], ["of", "IN"], ["key", "JJ"], ["needs", "NNS"], ["a", "DT"], ["hash", "NN"], ["function", "NN"], ["and", "CC"], ["you", "PRP"], ["need", "VBP"], ["a", "DT"], ["different", "JJ"], ["approach", "NN"], ["for", "IN"], ["every", "DT"], ["key", "NN"], ["type", "NN"], [".", "."], ["Now", "RB"], ["for", "IN"], ["standard", "JJ"], ["keys", "NNS"], ["like", "IN"], ["integers", "NNS"], ["and", "CC"], ["strings", "NNS"], ["and", "CC"], ["doubles", "NNS"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [",", ","], ["we", "PRP"], ["can", "MD"], ["count", "VB"], ["on", "IN"], ["the", "DT"], ["designers", "NNS"], ["and", "CC"], ["implementors", "NNS"], ["at", "IN"], ["Java", "NNP"], ["to", "TO"], ["implement", "VB"], ["good", "JJ"], ["hash", "NN"], ["functions", "NNS"], [".", "."], ["But", "CC"], ["if", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["implementing", "VBG"], ["symbol", "NN"], ["with", "IN"], ["our", "PRP$"], ["own", "JJ"], ["types", "NNS"], ["of", "IN"], ["data", "NN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["to", "TO"], ["worry", "VB"], ["about", "IN"], ["these", "DT"], ["things", "NNS"], ["in", "IN"], ["order", "NN"], ["to", "TO"], ["get", "VB"], ["a", "DT"], ["hash", "NN"], ["function", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["effective", "JJ"], [",", ","], ["that", "WDT"], ["leads", "VBZ"], ["to", "TO"], ["an", "DT"], ["effective", "JJ"], ["symbol", "NN"], ["table", "JJ"], ["implementation", "NN"], [".", "."], ["So", "IN"], ["hashing", "VBG"], ["is", "VBZ"], ["widely", "RB"], ["used", "VBN"], ["for", "IN"], ["systems", "NNS"], ["programming", "VBG"], ["and", "CC"], ["applications", "NNS"], [",", ","], ["so", "RB"], ["some", "DT"], ["conventions", "NNS"], ["for", "IN"], ["hashing", "VBG"], ["are", "VBP"], ["built", "VBN"], ["into", "IN"], ["Java", "NNP"], [".", "."], ["In", "IN"], ["particular", "JJ"], [",", ","], ["all", "DT"], ["Java", "NNP"], ["classes", "NNS"], ["inherit", "VBP"], ["a", "DT"], ["method", "NN"], ["called", "VBN"], ["hash", "NN"], ["code", "NN"], ["which", "WDT"], ["is", "VBZ"], ["returns", "VBZ"], ["a", "DT"], ["32-bit", "JJ"], ["int", "NN"], ["value", "NN"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["requirement", "NN"], ["that", "IN"], ["if", "IN"], ["x", "NNP"], ["and", "CC"], ["y", "NNS"], ["are", "VBP"], ["equal", "JJ"], ["then", "RB"], ["their", "PRP$"], ["hash", "NN"], ["code", "NN"], ["should", "MD"], ["be", "VB"], ["equal", "JJ"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["something", "NN"], ["that", "WDT"], ["is", "VBZ"], ["a", "DT"], ["convention", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["built", "VBN"], ["into", "IN"], ["Java", "NNP"], ["and", "CC"], ["that", "IN"], ["enables", "VBZ"], ["the", "DT"], ["hash", "NN"], ["code", "NN"], ["to", "TO"], ["be", "VB"], ["used", "VBN"], ["for", "IN"], ["hashing", "VBG"], [".", "."], ["Also", "RB"], [",", ","], ["of", "IN"], ["course", "NN"], [",", ","], ["if", "IN"], ["they", "PRP"], ["'re", "VBP"], ["not", "RB"], ["equal", "JJ"], ["then", "RB"], ["you", "PRP"], ["'d", "MD"], ["like", "VB"], ["it", "PRP"], ["to", "TO"], ["be", "VB"], ["that", "IN"], ["they", "PRP"], ["'re", "VBP"], ["hash", "JJ"], ["code", "NN"], ["'s", "POS"], ["are", "VBP"], ["not", "RB"], ["equal", "JJ"], ["but", "CC"], ["you", "PRP"], ["ca", "MD"], ["n't", "RB"], ["always", "RB"], ["get", "VB"], [".", "."], ["Now", "RB"], [",", ","], ["the", "DT"], ["default", "NN"], ["implementation", "NN"], ["for", "IN"], ["hashing", "NN"], ["is", "VBZ"], ["the", "DT"], ["memory", "NN"], ["address", "NN"], ["of", "IN"], ["the", "DT"], ["object", "NN"], [".", "."], ["For", "IN"], ["hashing", "VBG"], ["an", "DT"], ["object", "NN"], ["just", "RB"], ["some", "DT"], ["memory", "NN"], ["address", "NN"], ["of", "IN"], ["an", "DT"], ["object", "NN"], [".", "."], ["So", "CC"], ["that", "IN"], ["kind", "NN"], ["of", "IN"], ["meets", "NNS"], ["these", "DT"], ["two", "CD"], ["requirements", "NNS"], ["for", "IN"], ["Java", "NNP"], [".", "."], ["The", "DT"], ["one", "NN"], ["that", "WDT"], ["it", "PRP"], ["does", "VBZ"], ["n't", "RB"], ["maybe", "VB"], ["meet", "NN"], ["is", "VBZ"], ["the", "DT"], ["idea", "NN"], ["that", "WDT"], ["every", "DT"], ["table", "NN"], ["position", "NN"], ["should", "MD"], ["be", "VB"], ["equally", "RB"], ["likely", "JJ"], [".", "."], ["So", "RB"], ["usually", "RB"], ["we", "PRP"], ["'ll", "MD"], ["do", "VB"], ["some", "DT"], ["more", "RBR"], ["work", "NN"], ["to", "TO"], ["try", "VB"], ["to", "TO"], ["make", "VB"], ["that", "DT"], ["one", "CD"], ["happen", "NN"], [".", "."], ["As", "RB"], ["far", "RB"], ["as", "IN"], ["the", "DT"], ["algorithms", "NN"], ["go", "VBP"], [",", ","], ["as", "RB"], ["far", "RB"], ["as", "IN"], ["the", "DT"], ["rules", "NNS"], ["go", "VBP"], [",", ","], ["you", "PRP"], ["can", "MD"], ["always", "RB"], ["return", "VB"], ["17", "CD"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["legal", "JJ"], [".", "."], ["It", "PRP"], ["does", "VBZ"], ["n't", "RB"], ["have", "VB"], ["this", "DT"], ["highly", "RB"], ["desirable", "JJ"], ["attribute", "NN"], ["but", "CC"], ["everything", "NN"], ["would", "MD"], ["compile", "VB"], [".", "."], ["So", "IN"], ["you", "PRP"], ["'d", "MD"], ["have", "VB"], ["to", "TO"], ["be", "VB"], ["a", "DT"], ["little", "JJ"], ["careful", "JJ"], ["that", "IN"], ["somebody", "NN"], ["is", "VBZ"], ["in", "IN"], ["there", "EX"], ["doing", "VBG"], ["that", "DT"], [".", "."], ["So", "RB"], ["Java", "NNP"], ["has", "VBZ"], ["a", "DT"], ["customized", "JJ"], ["implementations", "NNS"], ["for", "IN"], ["the", "DT"], ["standard", "JJ"], ["data", "NNS"], ["types", "NNS"], ["that", "IN"], ["people", "NNS"], ["would", "MD"], ["use", "VB"], ["for", "IN"], ["similar", "JJ"], ["table", "JJ"], ["keys", "NNS"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["sweet", "JJ"], ["spot", "NN"], ["for", "IN"], ["hashing", "NN"], [".", "."], ["Where", "WRB"], ["some", "DT"], ["expert", "NN"], ["has", "VBZ"], ["done", "VBN"], ["implementation", "NN"], ["of", "IN"], ["the", "DT"], ["hash", "NN"], ["code", "NN"], ["and", "CC"], ["also", "RB"], ["your", "PRP$"], ["application", "NN"], ["does", "VBZ"], ["not", "RB"], ["need", "VB"], ["ordering", "VBG"], [".", "."], ["But", "CC"], ["for", "IN"], ["user", "NN"], ["defined", "VBN"], ["types", "NNS"], [",", ","], ["you", "PRP"], ["'re", "VBP"], ["on", "IN"], ["your", "PRP$"], ["own", "JJ"], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["talk", "VB"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["about", "IN"], ["how", "WRB"], ["to", "TO"], ["implement", "VB"], ["hash", "NN"], ["codes", "NNS"], [".", "."], ["So", "RB"], ["here", "RB"], ["'s", "VBZ"], ["the", "DT"], ["Java", "NNP"], ["library", "JJ"], ["implementations", "NNS"], ["for", "IN"], ["a", "DT"], ["few", "JJ"], ["standard", "NN"], ["types", "NNS"], ["and", "CC"], ["they", "PRP"], ["are", "VBP"], ["what", "WP"], ["they", "PRP"], ["are", "VBP"], ["and", "CC"], ["what", "WP"], ["we", "PRP"], ["'ll", "MD"], ["do", "VB"], ["is", "VBZ"], ["we", "PRP"], ["acknowledge", "VBP"], ["that", "IN"], ["that", "DT"], ["'s", "VBZ"], ["what", "WP"], ["the", "DT"], ["hash", "NN"], ["code", "NN"], ["is", "VBZ"], [".", "."], ["We", "PRP"], ["'ll", "MD"], ["do", "VB"], ["some", "DT"], ["extra", "JJ"], ["work", "NN"], ["to", "TO"], ["try", "VB"], ["to", "TO"], ["get", "VB"], ["this", "DT"], ["extra", "JJ"], ["property", "NN"], ["that", "WDT"], ["every", "DT"], ["table", "NN"], ["position", "NN"], ["should", "MD"], ["seem", "VB"], ["to", "TO"], ["be", "VB"], ["equally", "RB"], ["likely", "JJ"], [".", "."], ["So", "RB"], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["an", "DT"], ["integer", "NN"], ["the", "DT"], ["hash", "NN"], ["codes", "NNS"], ["suppose", "VBP"], ["to", "TO"], ["be", "VB"], ["32-bits", "JJ"], [",", ","], ["integer", "NN"], ["supposed", "VBD"], ["to", "TO"], ["be", "VB"], ["32-bits", "JJ"], [".", "."], ["So", "IN"], ["they", "PRP"], ["just", "RB"], ["returned", "VBD"], ["the", "DT"], ["value", "NN"], [".", "."], ["If", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["boolean", "NN"], [",", ","], ["they", "PRP"], ["pick", "VBP"], ["out", "RP"], ["a", "DT"], ["couple", "NN"], ["of", "IN"], ["particular", "JJ"], ["values", "NNS"], ["that", "IN"], ["they", "PRP"], ["return", "VBP"], [",", ","], ["so", "IN"], ["hashing", "JJ"], ["boolean", "JJ"], ["type", "NN"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["only", "RB"], ["two", "CD"], ["different", "JJ"], ["values", "NNS"], [",", ","], ["so", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["hard", "JJ"], ["to", "TO"], ["think", "VB"], ["about", "IN"], ["what", "WP"], ["you", "PRP"], ["really", "RB"], ["might", "MD"], ["want", "VB"], ["there", "RB"], [".", "."], ["For", "IN"], ["a", "DT"], ["double", "JJ"], ["value", "NN"], [",", ","], ["this", "DT"], ["is", "VBZ"], ["the", "DT"], ["code", "NN"], [".", "."], ["They", "PRP"], ["convert", "VBP"], ["to", "TO"], ["64-bit", "JJ"], [",", ","], ["and", "CC"], ["x", "NN"], ["or", "CC"], ["the", "DT"], ["most", "RBS"], ["significant", "JJ"], ["32-bits", "NNS"], ["with", "IN"], ["the", "DT"], ["least", "JJS"], ["significant", "JJ"], ["32-bits", "NNS"], [".", "."], ["Now", "RB"], [",", ","], ["this", "DT"], ["illustrates", "VBZ"], ["something", "NN"], ["that", "IN"], ["you", "PRP"], ["want", "VBP"], ["to", "TO"], ["do", "VB"], ["if", "IN"], ["you", "PRP"], ["have", "VBP"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["bits", "NNS"], [",", ","], ["you", "PRP"], ["want", "VBP"], ["to", "TO"], ["try", "VB"], ["to", "TO"], ["involve", "VB"], ["all", "PDT"], ["the", "DT"], ["bits", "NNS"], ["somehow", "VBP"], ["into", "IN"], ["hash", "JJ"], ["function", "NN"], [".", "."], ["And", "CC"], ["for", "IN"], ["strings", "NNS"], [",", ","], ["it", "PRP"], ["kind", "NN"], ["of", "IN"], ["creates", "VBZ"], ["the", "DT"], ["string", "NN"], ["as", "IN"], ["a", "DT"], ["huge", "JJ"], ["number", "NN"], ["and", "CC"], ["then", "RB"], [",", ","], ["really", "RB"], ["computes", "VBZ"], ["the", "DT"], ["value", "NN"], ["of", "IN"], ["that", "DT"], ["number", "NN"], [".", "."], ["MOD", "NNP"], ["32", "CD"], [".", "."], ["It", "PRP"], ["uses", "VBZ"], ["an", "DT"], ["arithmetic", "JJ"], [".", "."], ["A", "DT"], ["way", "NN"], ["of", "IN"], ["evaluating", "VBG"], ["a", "DT"], ["polynomial", "NN"], ["or", "CC"], ["a", "DT"], ["number", "NN"], [".", "."], ["So", "RB"], ["called", "VBD"], ["Horner", "NNP"], ["'s", "POS"], ["Method", "NNP"], [".", "."], ["Where", "WRB"], ["for", "IN"], ["each", "DT"], ["digit", "NN"], [",", ","], ["you", "PRP"], ["just", "RB"], ["multiply", "VB"], [".", "."], ["So", "IN"], ["it", "PRP"], ["treats", "VBZ"], ["it", "PRP"], ["as", "IN"], ["a", "DT"], ["base", "NN"], ["31", "CD"], ["number", "NN"], [".", "."], ["And", "CC"], ["to", "TO"], ["compute", "VB"], ["that", "DT"], ["whole", "JJ"], ["number", "NN"], ["you", "PRP"], ["multiply", "VBP"], ["31", "CD"], ["times", "NNS"], ["what", "WP"], ["you", "PRP"], ["have", "VBP"], ["so", "RB"], ["far", "RB"], ["and", "CC"], ["add", "VB"], ["the", "DT"], ["next", "JJ"], ["digit", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["called", "VBN"], ["Horner", "NNP"], ["'s", "POS"], ["Rule", "NNP"], [".", "."], ["And", "CC"], ["if", "IN"], ["you", "PRP"], ["'re", "VBP"], ["familiar", "JJ"], ["with", "IN"], ["it", "PRP"], [",", ","], ["fine", "JJ"], [".", "."], ["If", "IN"], ["you", "PRP"], ["'re", "VBP"], ["not", "RB"], [",", ","], ["you", "PRP"], ["can", "MD"], ["look", "VB"], ["at", "IN"], ["this", "DT"], ["little", "JJ"], ["example", "NN"], ["and", "CC"], ["decide", "VB"], ["what", "WP"], ["it", "PRP"], ["is", "VBZ"], [".", "."], ["And", "CC"], ["again", "RB"], ["it", "PRP"], ["involves", "VBZ"], ["all", "PDT"], ["the", "DT"], ["characters", "NNS"], ["of", "IN"], ["the", "DT"], ["string", "NN"], ["in", "IN"], ["computing", "VBG"], ["the", "DT"], ["hash", "NN"], ["function", "NN"], [".", "."], ["So", "RB"], ["and", "CC"], ["actually", "RB"], [",", ","], ["since", "IN"], ["strings", "NNS"], ["are", "VBP"], ["immutable", "JJ"], [",", ","], ["what", "WP"], ["Java", "NNP"], ["does", "VBZ"], ["is", "VBZ"], ["keep", "VB"], ["the", "DT"], ["hash", "NN"], ["value", "NN"], ["in", "IN"], ["an", "DT"], ["instance", "NN"], ["variable", "NN"], ["so", "IN"], ["it", "PRP"], ["only", "RB"], ["gets", "VBZ"], ["computed", "VBN"], ["once", "RB"], [".", "."], ["And", "CC"], ["that", "DT"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["very", "RB"], ["effective", "JJ"], ["for", "IN"], ["performance", "NN"], ["and", "CC"], ["lots", "NNS"], ["of", "IN"], ["applications", "NNS"], [".", "."], ["Once", "IN"], ["it", "PRP"], ["computes", "VBZ"], ["the", "DT"], ["hash", "NN"], ["code", "NN"], [",", ","], ["it", "PRP"], ["stores", "NNS"], ["it", "PRP"], ["as", "IN"], ["an", "DT"], ["instance", "NN"], ["variable", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["next", "JJ"], ["time", "NN"], ["you", "PRP"], ["ask", "VBP"], ["for", "IN"], ["the", "DT"], ["hash", "NN"], ["code", "NN"], ["of", "IN"], ["that", "DT"], ["string", "NN"], [",", ","], ["it", "PRP"], ["will", "MD"], ["just", "RB"], ["provide", "VB"], ["it", "PRP"], ["and", "CC"], ["that", "DT"], ["works", "VBZ"], ["because", "IN"], ["strings", "NNS"], ["are", "VBP"], ["immutable", "JJ"], [".", "."], ["So", "IN"], ["how", "WRB"], ["about", "IN"], ["implementing", "VBG"], ["a", "DT"], ["hash", "NN"], ["code", "NN"], ["for", "IN"], ["our", "PRP$"], ["own", "JJ"], ["type", "NN"], ["of", "IN"], ["data", "NNS"], ["?", "."], ["And", "CC"], ["so", "RB"], ["our", "PRP$"], ["transaction", "NN"], ["type", "NN"], ["might", "MD"], ["have", "VB"], ["a", "DT"], ["couple", "NN"], ["of", "IN"], ["instance", "NN"], ["variables", "NNS"], [",", ","], ["a", "DT"], ["string", "NN"], [",", ","], ["a", "DT"], ["date", "NN"], [",", ","], ["and", "CC"], ["a", "DT"], ["double", "JJ"], [".", "."], ["And", "CC"], ["we", "PRP"], ["need", "VBP"], ["to", "TO"], ["compute", "VB"], ["a", "DT"], ["hash", "NN"], ["code", "NN"], ["so", "RB"], ["return", "VB"], ["a", "DT"], ["32-bit", "JJ"], ["value", "NN"], [".", "."], ["And", "CC"], ["again", "RB"], [",", ","], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["try", "VB"], ["to", "TO"], ["make", "VB"], ["use", "NN"], ["of", "IN"], ["all", "PDT"], ["the", "DT"], ["pieces", "NNS"], ["of", "IN"], ["data", "NNS"], ["that", "IN"], ["we", "PRP"], ["have", "VBP"], [".", "."], ["And", "CC"], ["we", "PRP"], ["also", "RB"], ["want", "VBP"], ["to", "TO"], ["make", "VB"], ["use", "NN"], ["of", "IN"], ["the", "DT"], ["hash", "NN"], ["code", "NN"], ["implementations", "NNS"], ["for", "IN"], ["the", "DT"], ["types", "NNS"], ["of", "IN"], ["data", "NNS"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["using", "VBG"], [".", "."], ["So", "RB"], ["one", "CD"], ["thing", "NN"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["start", "VB"], ["out", "RP"], ["with", "IN"], ["some", "DT"], ["small", "JJ"], ["prime", "JJ"], ["number", "NN"], ["and", "CC"], ["this", "DT"], ["kind", "NN"], ["of", "IN"], ["mimics", "NNS"], ["Horner", "NNP"], ["'s", "POS"], ["method", "NN"], ["to", "TO"], ["just", "RB"], ["add", "VB"], ["in", "IN"], ["more", "JJR"], ["data", "NNS"], ["as", "IN"], ["we", "PRP"], ["get", "VBP"], ["it", "PRP"], [".", "."], ["So", "IN"], ["we", "PRP"], ["pick", "VBP"], ["some", "DT"], ["other", "JJ"], ["small", "JJ"], ["prime", "JJ"], ["number", "NN"], ["and", "CC"], ["for", "IN"], ["each", "DT"], ["field", "NN"], ["we", "PRP"], ["multiply", "VBP"], ["by", "IN"], ["31", "CD"], [".", "."], ["And", "CC"], ["then", "RB"], ["add", "VB"], ["the", "DT"], ["hash", "NN"], ["code", "NN"], ["for", "IN"], ["that", "DT"], ["field", "NN"], [".", "."], ["So", "RB"], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["reference", "NN"], ["type", "NN"], [",", ","], ["you", "PRP"], ["just", "RB"], ["use", "VB"], ["the", "DT"], ["hash", "NN"], ["code", "NN"], [".", "."], ["So", "IN"], ["who", "WP"], ["was", "VBD"], ["a", "DT"], ["string", "NN"], [",", ","], ["so", "IN"], ["string", "NN"], ["has", "VBZ"], ["a", "DT"], ["hash", "NN"], ["code", "NN"], ["method", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["add", "VBP"], ["that", "DT"], ["in", "IN"], [".", "."], ["And", "CC"], ["dates", "NNS"], [",", ","], ["when", "WRB"], ["is", "VBZ"], ["a", "DT"], ["date", "NN"], ["so", "IN"], ["we", "PRP"], ["add", "VBP"], ["that", "IN"], ["hash", "NN"], ["code", "NN"], [",", ","], ["multiplied", "VBN"], ["by", "IN"], ["31", "CD"], ["and", "CC"], ["add", "VB"], ["that", "DT"], ["hash", "NN"], ["code", "NN"], ["in", "IN"], [".", "."], ["Trying", "VBG"], ["to", "TO"], ["take", "VB"], ["all", "PDT"], ["the", "DT"], ["bits", "NNS"], ["and", "CC"], ["scramble", "JJ"], ["all", "PDT"], ["the", "DT"], ["bits", "NNS"], ["and", "CC"], ["use", "VB"], ["them", "PRP"], [".", "."], ["And", "CC"], ["for", "IN"], ["primitive", "JJ"], ["types", "NNS"], ["take", "VBP"], ["the", "DT"], ["wrapper", "NN"], ["type", "NN"], ["and", "CC"], ["use", "VB"], ["the", "DT"], ["hash", "NN"], ["code", "NN"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["simple", "JJ"], ["example", "NN"], ["of", "IN"], ["implementing", "VBG"], ["a", "DT"], ["hash", "NN"], ["code", "NN"], ["for", "IN"], ["our", "PRP$"], ["own", "JJ"], ["type", "NN"], ["of", "IN"], ["data", "NNS"], ["that", "WDT"], ["might", "MD"], ["include", "VB"], ["several", "JJ"], ["different", "JJ"], ["types", "NNS"], ["of", "IN"], ["instance", "NN"], ["variables", "NNS"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["standard", "JJ"], ["recipe", "NN"], [".", "."], ["Here", "RB"], ["'s", "VBZ"], ["the", "DT"], ["31x", "CD"], ["plus", "CC"], ["y", "JJ"], ["rule", "NN"], ["to", "TO"], ["combine", "VB"], ["all", "PDT"], ["the", "DT"], ["fields", "NNS"], [".", "."], ["If", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["primitive", "JJ"], ["type", "NN"], [",", ","], ["use", "VBP"], ["the", "DT"], ["wrapper", "NN"], ["hashCode", "NN"], [".", "."], ["If", "IN"], ["the", "DT"], ["field", "NN"], ["is", "VBZ"], ["null", "JJ"], [",", ","], ["return", "VB"], ["0", "CD"], [".", "."], ["If", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["reference", "NN"], ["type", "NN"], [",", ","], ["use", "NN"], ["that", "IN"], ["hashCode", "NN"], ["and", "CC"], ["apply", "VB"], ["recursively", "RB"], [".", "."], ["And", "CC"], ["if", "IN"], ["you", "PRP"], ["have", "VBP"], ["an", "DT"], ["array", "NN"], [",", ","], ["you", "PRP"], ["have", "VBP"], ["to", "TO"], ["apply", "VB"], ["it", "PRP"], ["to", "TO"], ["each", "DT"], ["entry", "NN"], [".", "."], ["Or", "CC"], ["actually", "RB"], ["Java", "NNP"], ["implements", "NNS"], ["that", "WDT"], ["in", "IN"], ["its", "PRP$"], ["arrays", "NNS"], ["library", "VBP"], [".", "."], ["So", "RB"], ["this", "DT"], ["recipe", "NN"], ["works", "VBZ"], ["pretty", "RB"], ["well", "RB"], ["in", "IN"], ["practice", "NN"], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["used", "VBN"], ["in", "IN"], ["several", "JJ"], ["Java", "NNP"], ["'s", "POS"], ["libraries", "NNS"], [".", "."], ["Now", "RB"], ["in", "IN"], ["theory", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["possible", "JJ"], ["to", "TO"], ["do", "VB"], ["something", "NN"], ["that", "WDT"], ["has", "VBZ"], ["the", "DT"], ["property", "NN"], ["that", "IN"], ["all", "DT"], ["positions", "NNS"], ["are", "VBP"], ["equally", "RB"], ["likely", "JJ"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["called", "VBN"], ["universal", "JJ"], ["hash", "NN"], ["functions", "NNS"], [".", "."], ["This", "DT"], ["things", "NNS"], ["exist", "VBP"], ["but", "CC"], ["they", "PRP"], ["'re", "VBP"], ["not", "RB"], ["so", "RB"], ["widely", "RB"], ["applied", "VBN"], ["at", "IN"], ["in", "IN"], ["practice", "NN"], [".", "."], ["So", "IN"], ["the", "DT"], ["basic", "JJ"], ["rule", "NN"], ["is", "VBZ"], ["that", "IN"], ["if", "IN"], ["you", "PRP"], ["'re", "VBP"], ["computing", "VBG"], ["your", "PRP$"], ["own", "JJ"], ["try", "NN"], ["to", "TO"], ["use", "VB"], ["the", "DT"], ["whole", "JJ"], ["key", "NN"], ["but", "CC"], ["consult", "NN"], ["an", "DT"], ["expert", "NN"], ["if", "IN"], ["you", "PRP"], ["'re", "VBP"], ["seeing", "VBG"], ["some", "DT"], ["performance", "NN"], ["problems", "NNS"], [".", "."], ["Or", "CC"], ["you", "PRP"], ["really", "RB"], ["want", "VB"], ["to", "TO"], ["be", "VB"], ["certain", "JJ"], ["that", "IN"], ["it", "PRP"], ["in", "IN"], ["some", "DT"], ["performance", "NN"], ["critical", "JJ"], ["situation", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["what", "WP"], ["we", "PRP"], ["get", "VBP"], ["back", "RB"], ["from", "IN"], ["a", "DT"], ["hash", "NN"], ["code", "NN"], ["is", "VBZ"], ["a", "DT"], ["int", "NN"], ["value", "NN"], ["that", "WDT"], ["is", "VBZ"], ["between", "IN"], ["minus", "$"], ["2", "CD"], ["to", "TO"], ["the", "DT"], ["31st", "CD"], ["and", "CC"], ["231st-", "JJ"], ["1", "CD"], [".", "."], ["Now", "RB"], [",", ","], ["what", "WP"], ["we", "PRP"], ["need", "VBP"], ["is", "VBZ"], ["if", "IN"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["table", "NN"], ["of", "IN"], ["size", "NN"], ["M", "NNP"], [",", ","], ["an", "DT"], ["array", "NN"], ["of", "IN"], ["size", "NN"], ["M", "NNP"], ["that", "IN"], ["we", "PRP"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["use", "VB"], ["to", "TO"], ["store", "VB"], ["the", "DT"], ["keys", "NNS"], [",", ","], ["we", "PRP"], ["need", "VBP"], ["an", "DT"], ["int", "NN"], ["value", "NN"], ["between", "IN"], ["zero", "CD"], ["and", "CC"], ["M", "NNP"], ["minus", "CC"], ["one", "CD"], [".", "."], ["The", "DT"], ["value", "NN"], ["of", "IN"], ["M", "NNP"], ["is", "VBZ"], ["maybe", "RB"], ["a", "DT"], ["power", "NN"], ["of", "IN"], ["two", "CD"], ["or", "CC"], ["sometimes", "RB"], ["we", "PRP"], ["'d", "MD"], ["pick", "VB"], ["a", "DT"], ["prime", "JJ"], ["because", "IN"], ["of", "IN"], ["the", "DT"], ["way", "NN"], ["that", "IN"], ["we", "PRP"], ["normally", "RB"], ["would", "MD"], ["get", "VB"], ["the", "DT"], ["big", "JJ"], ["hash", "NN"], ["code", "NN"], ["value", "NN"], ["down", "RP"], ["to", "TO"], ["be", "VB"], ["a", "DT"], ["number", "NN"], ["between", "IN"], ["zero", "CD"], ["and", "CC"], ["M", "NNP"], ["minus", "CC"], ["one", "CD"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["just", "RB"], ["do", "VBP"], ["mod", "NNS"], ["M", "NNP"], ["and", "CC"], ["if", "IN"], ["M", "NNP"], ["is", "VBZ"], ["a", "DT"], ["prime", "JJ"], ["then", "RB"], ["from", "IN"], ["that", "IN"], ["modular", "JJ"], ["arithmetic", "JJ"], ["we", "PRP"], ["know", "VBP"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["using", "VBG"], ["all", "PDT"], ["the", "DT"], ["bits", "NNS"], ["in", "IN"], ["the", "DT"], ["number", "NN"], ["in", "IN"], ["that", "DT"], ["point", "NN"], ["to", "TO"], [".", "."], ["Now", "RB"], [",", ","], ["sinse", "VBD"], ["the", "DT"], ["hash", "NN"], ["code", "NN"], ["can", "MD"], ["be", "VB"], ["negative", "JJ"], [",", ","], ["this", "DT"], ["does", "VBZ"], ["n't", "RB"], ["quite", "VB"], ["work", "VB"], ["the", "DT"], ["way", "NN"], ["this", "DT"], ["arithmetic", "JJ"], ["implement", "NN"], ["and", "CC"], ["Java", "NNP"], [",", ","], ["because", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["one", "CD"], ["in", "IN"], ["a", "DT"], ["billion", "CD"], ["times", "NNS"], [".", "."], ["You", "PRP"], ["really", "RB"], ["have", "VBP"], ["to", "TO"], ["take", "VB"], ["the", "DT"], ["absolute", "NN"], ["value", "NN"], [".", "."], ["Well", "NNP"], [",", ","], ["sorry", "NN"], [",", ","], ["you", "PRP"], ["have", "VBP"], ["to", "TO"], ["take", "VB"], ["the", "DT"], ["absolute", "NN"], ["value", "NN"], ["because", "IN"], ["otherwise", "IN"], ["it", "PRP"], ["'d", "MD"], ["be", "VB"], ["negative", "JJ"], ["and", "CC"], ["you", "PRP"], ["ca", "MD"], ["n't", "RB"], ["have", "VB"], ["it", "PRP"], ["negative", "JJ"], [".", "."], ["You", "PRP"], ["want", "VBP"], ["it", "PRP"], ["to", "TO"], ["be", "VB"], ["between", "IN"], ["0", "CD"], ["and", "CC"], ["M-", "NNP"], ["1", "CD"], [".", "."], ["But", "CC"], ["even", "RB"], ["if", "IN"], ["you", "PRP"], ["take", "VBP"], ["the", "DT"], ["absolute", "NN"], ["value", "NN"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["-2", "VBN"], ["to", "TO"], ["the", "DT"], ["31st", "CD"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["possible", "JJ"], ["so", "RB"], ["you", "PRP"], ["have", "VBP"], ["to", "TO"], ["just", "RB"], ["take", "VB"], ["the", "DT"], ["31-bits", "NNS"], [".", "."], ["Get", "VB"], ["the", "DT"], ["hash", "NN"], ["code", "NN"], ["out", "IN"], [",", ","], ["make", "VB"], ["it", "PRP"], ["positive", "JJ"], ["and", "CC"], ["MOD", "NNP"], ["M", "NNP"], ["is", "VBZ"], ["the", "DT"], ["way", "NN"], ["to", "TO"], ["go", "VB"], [".", "."], ["The", "DT"], ["math", "NN"], ["does", "VBZ"], ["n't", "RB"], ["quite", "VB"], ["work", "NN"], ["out", "RB"], ["right", "RB"], [".", "."], ["So", "RB"], ["anyway", "RB"], [",", ","], ["that", "IN"], ["code", "VBP"], ["down", "RP"], ["at", "IN"], ["the", "DT"], ["bottom", "NN"], ["is", "VBZ"], ["you", "PRP"], ["can", "MD"], ["use", "VB"], ["that", "IN"], ["as", "IN"], ["a", "DT"], ["template", "NN"], ["for", "IN"], ["what", "WP"], ["you", "PRP"], ["might", "MD"], ["want", "VB"], ["to", "TO"], ["do", "VB"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["what", "WP"], ["we", "PRP"], ["do", "VBP"], ["in", "IN"], ["order", "NN"], ["to", "TO"], ["get", "VB"], ["the", "DT"], ["hash", "NN"], ["code", "NN"], ["to", "TO"], ["be", "VB"], ["a", "DT"], ["number", "NN"], ["between", "IN"], ["0", "CD"], ["and", "CC"], ["M-1", "NNP"], [".", "."], ["And", "CC"], ["if", "IN"], ["M", "NNP"], ["is", "VBZ"], ["prime", "JJ"], [",", ","], ["it", "PRP"], ["gives", "VBZ"], ["us", "PRP"], ["some", "DT"], ["comfort", "NN"], ["that", "IN"], ["we", "PRP"], ["have", "VBP"], ["some", "DT"], ["possibility", "NN"], ["of", "IN"], ["each", "DT"], ["table", "JJ"], ["position", "NN"], ["appearing", "VBG"], ["with", "IN"], ["equal", "JJ"], ["likelihood", "NN"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["our", "PRP$"], ["assumption", "NN"], ["that", "IN"], ["each", "DT"], ["key", "NN"], ["is", "VBZ"], ["equally", "RB"], ["likely", "JJ"], ["to", "TO"], ["hash", "VB"], ["an", "DT"], ["integer", "NN"], ["between", "IN"], ["zero", "NN"], ["and", "CC"], ["M", "NNP"], ["minus", "CC"], ["one", "CD"], [".", "."], ["And", "CC"], ["this", "DT"], ["assumption", "NN"], [",", ","], ["again", "RB"], [",", ","], ["it", "PRP"], ["would", "MD"], ["work", "VB"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["possible", "JJ"], ["to", "TO"], ["come", "VB"], ["close", "RB"], ["to", "TO"], ["this", "DT"], [".", "."], ["Lots", "NNP"], ["of", "IN"], ["researchers", "NNS"], ["have", "VBP"], ["done", "VBN"], ["good", "JJ"], ["work", "NN"], ["to", "TO"], ["show", "VB"], ["this", "DT"], [".", "."], ["We", "PRP"], ["'ll", "MD"], ["assume", "VB"], ["that", "DT"], ["is", "VBZ"], ["a", "DT"], ["starting", "JJ"], ["point", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["allows", "VBZ"], ["us", "PRP"], ["to", "TO"], ["model", "VB"], ["the", "DT"], ["situation", "NN"], ["with", "IN"], ["a", "DT"], ["so-called", "JJ"], ["Bins", "NNP"], ["and", "CC"], ["Balls", "NNP"], ["model", "NN"], ["that", "WDT"], ["directly", "RB"], ["relates", "VBZ"], ["the", "DT"], ["study", "NN"], ["of", "IN"], ["hash", "JJ"], ["functions", "NNS"], ["to", "TO"], ["classical", "JJ"], ["probability", "NN"], ["theory", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["'ve", "VBP"], ["got", "VBN"], ["M", "NNP"], ["bins", "NNS"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["our", "PRP$"], ["correspondence", "NN"], ["to", "TO"], ["our", "PRP$"], ["hash", "NN"], ["table", "NN"], [".", "."], ["And", "CC"], ["we", "PRP"], ["get", "VBP"], ["M", "NNP"], ["balls", "NNS"], [".", "."], ["And", "CC"], ["we", "PRP"], ["have", "VBP"], ["some", "DT"], ["number", "NN"], ["of", "IN"], ["balls", "NNS"], [",", ","], ["however", "RB"], ["many", "JJ"], ["keys", "NNS"], ["we", "PRP"], ["have", "VBP"], [".", "."], ["And", "CC"], ["we", "PRP"], ["'d", "MD"], ["throw", "VB"], ["them", "PRP"], ["universally", "RB"], ["at", "IN"], ["random", "NN"], ["into", "IN"], ["M", "NNP"], ["bins", "NNS"], [".", "."], ["And", "CC"], ["these", "DT"], ["things", "NNS"], ["are", "VBP"], ["studied", "VBN"], ["in", "IN"], ["classical", "JJ"], ["combinatorial", "JJ"], ["analysis", "NN"], [".", "."], ["For", "IN"], ["example", "NN"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["the", "DT"], ["birthday", "NN"], ["problem", "NN"], [".", "."], ["Which", "NNP"], ["how", "WRB"], ["many", "JJ"], ["balls", "NNS"], ["do", "VBP"], ["you", "PRP"], ["throw", "VB"], ["before", "IN"], ["you", "PRP"], ["find", "VBP"], ["two", "CD"], ["hitting", "VBG"], ["the", "DT"], ["same", "JJ"], ["bin", "NN"], [",", ","], ["when", "WRB"], ["do", "VBP"], ["you", "PRP"], ["get", "VB"], ["the", "DT"], ["first", "JJ"], ["collision", "NN"], ["?", "."], ["And", "CC"], ["the", "DT"], ["answer", "NN"], ["to", "TO"], ["that", "DT"], ["is", "VBZ"], ["it", "PRP"], ["'s", "VBZ"], ["about", "IN"], ["square", "JJ"], ["root", "NN"], ["of", "IN"], ["pi", "JJ"], ["M", "NNP"], ["over", "IN"], ["two", "CD"], [".", "."], ["When", "WRB"], ["does", "VBZ"], ["all", "PDT"], ["the", "DT"], ["bins", "NNS"], ["fill", "VB"], ["up", "RP"], ["?", "."], ["That", "DT"], ["'s", "VBZ"], ["called", "VBN"], ["the", "DT"], ["coupon", "NN"], ["collector", "NN"], ["problem", "NN"], [".", "."], ["After", "IN"], ["about", "IN"], ["natural", "JJ"], ["log", "NN"], ["M", "NNP"], ["tosses", "NNS"], [",", ","], ["every", "DT"], ["bin", "NN"], ["has", "VBZ"], ["at", "IN"], ["least", "JJS"], ["one", "CD"], ["ball", "NN"], [".", "."], ["And", "CC"], ["those", "DT"], ["are", "VBP"], ["just", "RB"], ["examples", "NNS"], ["of", "IN"], ["classic", "JJ"], ["results", "NNS"], ["from", "IN"], ["combinatorial", "JJ"], ["analysis", "NN"], ["that", "WDT"], ["help", "VBP"], ["us", "PRP"], ["understand", "VB"], ["what", "WP"], ["happens", "VBZ"], ["when", "WRB"], ["we", "PRP"], ["do", "VBP"], ["this", "DT"], [",", ","], ["which", "WDT"], ["is", "VBZ"], ["what", "WP"], ["we", "PRP"], ["'re", "VBP"], ["doing", "VBG"], ["with", "IN"], ["hashing", "VBG"], [".", "."], ["And", "CC"], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["more", "RBR"], ["advanced", "JJ"], ["versions", "NNS"], ["of", "IN"], ["these", "DT"], ["problems", "NNS"], ["when", "WRB"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["study", "VB"], ["hashing", "VBG"], [".", "."], ["In", "IN"], ["particular", "JJ"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["known", "VBN"], ["that", "IN"], ["after", "IN"], ["you", "PRP"], ["'ve", "VBP"], ["thrown", "VBN"], ["M", "NNP"], ["balls", "VBZ"], ["into", "IN"], ["the", "DT"], ["M", "NNP"], ["bins", "VBZ"], ["then", "RB"], ["the", "DT"], ["most", "RBS"], ["loaded", "JJ"], ["bin", "NN"], ["has", "VBZ"], ["about", "IN"], ["log", "NN"], ["M", "NNP"], ["over", "IN"], ["log", "JJ"], ["M", "NNP"], ["balls", "NNS"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["help", "VB"], ["us", "PRP"], ["get", "VB"], ["a", "DT"], ["handle", "NN"], ["on", "IN"], ["the", "DT"], ["performance", "NN"], ["of", "IN"], ["hashing", "VBG"], ["algorithms", "NN"], ["when", "WRB"], ["we", "PRP"], ["get", "VBP"], ["to", "TO"], ["the", "DT"], ["implementations", "NNS"], [".", "."], ["So", "IN"], ["this", "DT"], ["is", "VBZ"], ["just", "RB"], ["an", "DT"], ["example", "NN"], ["showing", "VBG"], ["all", "PDT"], ["the", "DT"], ["words", "NNS"], ["in", "IN"], ["a", "DT"], ["Tale", "NNP"], ["of", "IN"], ["Two", "CD"], ["Cities", "NNS"], ["using", "VBG"], ["the", "DT"], ["modular", "JJ"], ["hashing", "NN"], ["function", "NN"], ["for", "IN"], ["strings", "NNS"], ["like", "IN"], ["the", "DT"], ["one", "NN"], ["that", "WDT"], ["Java", "NNP"], ["uses", "VBZ"], [".", "."], ["And", "CC"], ["they", "PRP"], ["'re", "VBP"], ["pretty", "JJ"], ["uniformly", "RB"], ["distributed", "VBN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["the", "DT"], ["summary", "NN"], ["for", "IN"], ["hash", "JJ"], ["functions", "NNS"], [".", "."]], "title": "hash tables", "text": "Welcome back. Today we're going to look at hashing. Which is another approach to implementing symbol tables that can also be very effective in a practical applications. Here's our summary of where we left off with red black BSTs. Where we could get guaranteed logarithmic performance for a broad range of symbol table operations. And the question is, can we do better than that? Is logarithmic performance the best we can do? And the answer is that, actually, we can. But it's a different way of accessing the data. And also, it doesn't support ordered operations. But there's plenty of applications where the extra speed for search and insert that we can get this way is worthwhile. The basic plan is to think of the symbol table as really try to reduce the problem to being like an array. And what we do is use a function known as a hash function that takes the key that our symbol table key and reduces it to an integer, an array index, and we use that array index to store the key and the value in an array. Maybe the value in a parallel array. Now, there's a lot of issues in doing this. The first thing is we need to be able to compute the hash function. That is easy for some types of data but it can get complicated for more complicated types of data. Then the other thing is that instead of doing compare to's, we're going to be doing equality tests. So we have to be sure we've got the method that we want for checking whether two keys are equal. All we're going to do is look in the table and try to see if the key that's there is equal to the key we're looking for. And then there's the problem of collision resolution. Where, it's since there are so many possible values for a typical data type. We're going to get the situation where two values hash to the same array index and we need a collision resolution strategy to try to figure out what to do in that case. And these things are not difficult but they're all worth articulating as separate issues that we have to deal with in order to get an effective single table implementation. Hashing really at its core is a classic space-time tradeoff. If we had no limitation on space at all, then we can have a very huge array with space for every possible key and just use the key itself as an index. If our keys are 32 bit integer keys and we've got a table of size 2 to 32 second then we're just fine. If there were no time limit computation at all, then I'll just hash everything to the same place and then do sequential search. But a sequential search can be slow if we have lots of keys. So what hashing is kind of in the real word where we're trying to tradeoff this idea that we don't have unlimited space and we also don't unlimited time so we're trying to find something in-between. So we'll look at hash functions, separate chaining and then two collision resolution methods called separate chaining and linear probing. Now, we'll look at the implementation of hash functions. So idealistically, what we'd like is to be able to take any key and uniformly scramble it to produce a table index. We have two requirements, and one is that we have to be able to compute the thing efficiently in a reasonable amount of time. And the other is that it should be the case that every table index is equally likely for each key. Now, mathematicians and computer scientists have researched this problem in a lot of detail. And there's quite a bit known about it. But in practice this is something that still we have to worry about somewhat. So for example, let's suppose that our keys are phone numbers. Probably a bad idea to use the first three digits of the phone number as a hash function because so many phone numbers will have the same area code. And it's not equally likely that each phone number has the same first three digits. You have a better chance using the last three digits. But actually, in most cases, you want to find the way to use all the data. Another example, Social Security numbers. Again, it's not too good to use the first three digits because they're associated with some geographic region and it's better to use the last three digits. And the real practical challenge with hashing is that developing a hash function is that every type of key needs a hash function and you need a different approach for every key type. Now for standard keys like integers and strings and doubles and so forth, we can count on the designers and implementors at Java to implement good hash functions. But if we're going to be implementing symbol with our own types of data we're going to have to worry about these things in order to get a hash function that's effective, that leads to an effective symbol table implementation. So hashing is widely used for systems programming and applications, so some conventions for hashing are built into Java. In particular, all Java classes inherit a method called hash code which is returns a 32-bit int value. And it's a requirement that if x and y are equal then their hash code should be equal. So that's something that is a convention that's built into Java and that enables the hash code to be used for hashing. Also, of course, if they're not equal then you'd like it to be that they're hash code's are not equal but you can't always get. Now, the default implementation for hashing is the memory address of the object. For hashing an object just some memory address of an object. So that kind of meets these two requirements for Java. The one that it doesn't maybe meet is the idea that every table position should be equally likely. So usually we'll do some more work to try to make that one happen. As far as the algorithms go, as far as the rules go, you can always return 17. That's legal. It doesn't have this highly desirable attribute but everything would compile. So you'd have to be a little careful that somebody is in there doing that. So Java has a customized implementations for the standard data types that people would use for similar table keys and that's the sweet spot for hashing. Where some expert has done implementation of the hash code and also your application does not need ordering. But for user defined types, you're on your own and we'll talk a little bit about how to implement hash codes. So here's the Java library implementations for a few standard types and they are what they are and what we'll do is we acknowledge that that's what the hash code is. We'll do some extra work to try to get this extra property that every table position should seem to be equally likely. So if it's an integer the hash codes suppose to be 32-bits, integer supposed to be 32-bits. So they just returned the value. If it's a boolean, they pick out a couple of particular values that they return, so hashing boolean type, there's only two different values, so it's hard to think about what you really might want there. For a double value, this is the code. They convert to 64-bit, and x or the most significant 32-bits with the least significant 32-bits. Now, this illustrates something that you want to do if you have a lot of bits, you want to try to involve all the bits somehow into hash function. And for strings, it kind of creates the string as a huge number and then, really computes the value of that number. MOD 32. It uses an arithmetic. A way of evaluating a polynomial or a number. So called Horner's Method. Where for each digit, you just multiply. So it treats it as a base 31 number. And to compute that whole number you multiply 31 times what you have so far and add the next digit. And that's called Horner's Rule. And if you're familiar with it, fine. If you're not, you can look at this little example and decide what it is. And again it involves all the characters of the string in computing the hash function. So and actually, since strings are immutable, what Java does is keep the hash value in an instance variable so it only gets computed once. And that is going to be very effective for performance and lots of applications. Once it computes the hash code, it stores it as an instance variable. And the next time you ask for the hash code of that string, it will just provide it and that works because strings are immutable. So how about implementing a hash code for our own type of data? And so our transaction type might have a couple of instance variables, a string, a date, and a double. And we need to compute a hash code so return a 32-bit value. And again, we want to try to make use of all the pieces of data that we have. And we also want to make use of the hash code implementations for the types of data that we're using. So one thing to do is start out with some small prime number and this kind of mimics Horner's method to just add in more data as we get it. So we pick some other small prime number and for each field we multiply by 31. And then add the hash code for that field. So if it's a reference type, you just use the hash code. So who was a string, so string has a hash code method. So we add that in. And dates, when is a date so we add that hash code, multiplied by 31 and add that hash code in. Trying to take all the bits and scramble all the bits and use them. And for primitive types take the wrapper type and use the hash code. So that's a simple example of implementing a hash code for our own type of data that might include several different types of instance variables. So that's the standard recipe. Here's the 31x plus y rule to combine all the fields. If it's a primitive type, use the wrapper hashCode. If the field is null, return 0. If it's a reference type, use that hashCode and apply recursively. And if you have an array, you have to apply it to each entry. Or actually Java implements that in its arrays library. So this recipe works pretty well in practice and it's used in several Java's libraries. Now in theory, it's possible to do something that has the property that all positions are equally likely. It's called universal hash functions. This things exist but they're not so widely applied at in practice. So the basic rule is that if you're computing your own try to use the whole key but consult an expert if you're seeing some performance problems. Or you really want to be certain that it in some performance critical situation. Now, what we get back from a hash code is a int value that is between minus 2 to the 31st and 231st- 1. Now, what we need is if we have a table of size M, an array of size M that we are going to use to store the keys, we need an int value between zero and M minus one. The value of M is maybe a power of two or sometimes we'd pick a prime because of the way that we normally would get the big hash code value down to be a number between zero and M minus one. This is just do mod M and if M is a prime then from that modular arithmetic we know that we're using all the bits in the number in that point to. Now, sinse the hash code can be negative, this doesn't quite work the way this arithmetic implement and Java, because it's one in a billion times. You really have to take the absolute value. Well, sorry, you have to take the absolute value because otherwise it'd be negative and you can't have it negative. You want it to be between 0 and M- 1. But even if you take the absolute value. There's going to have -2 to the 31st. It's possible so you have to just take the 31-bits. Get the hash code out, make it positive and MOD M is the way to go. The math doesn't quite work out right. So anyway, that code down at the bottom is you can use that as a template for what you might want to do. And that's what we do in order to get the hash code to be a number between 0 and M-1. And if M is prime, it gives us some comfort that we have some possibility of each table position appearing with equal likelihood. So that's our assumption that each key is equally likely to hash an integer between zero and M minus one. And this assumption, again, it would work. It's possible to come close to this. Lots of researchers have done good work to show this. We'll assume that is a starting point. And that allows us to model the situation with a so-called Bins and Balls model that directly relates the study of hash functions to classical probability theory. So we've got M bins, that's our correspondence to our hash table. And we get M balls. And we have some number of balls, however many keys we have. And we'd throw them universally at random into M bins. And these things are studied in classical combinatorial analysis. For example, there's the birthday problem. Which how many balls do you throw before you find two hitting the same bin, when do you get the first collision? And the answer to that is it's about square root of pi M over two. When does all the bins fill up? That's called the coupon collector problem. After about natural log M tosses, every bin has at least one ball. And those are just examples of classic results from combinatorial analysis that help us understand what happens when we do this, which is what we're doing with hashing. And we'll look at more advanced versions of these problems when we want to study hashing. In particular, it's known that after you've thrown M balls into the M bins then the most loaded bin has about log M over log M balls. So that's going to help us get a handle on the performance of hashing algorithms when we get to the implementations. So this is just an example showing all the words in a Tale of Two Cities using the modular hashing function for strings like the one that Java uses. And they're pretty uniformly distributed. That's the summary for hash functions. ", "video_ID": 52, "course_id": 3}
{"category": ["hash tables"], "tagged": [["Next", "IN"], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["separate", "JJ"], ["chaining", "NN"], [",", ","], ["a", "DT"], ["collision", "NN"], ["red", "JJ"], ["solution", "NN"], ["strategy", "NN"], ["that", "WDT"], ["makes", "VBZ"], ["use", "NN"], ["of", "IN"], ["elementary", "JJ"], ["link", "NN"], ["list", "NN"], [".", "."], ["So", "RB"], [",", ","], ["what", "WP"], ["are", "VBP"], ["we", "PRP"], ["supposed", "VBD"], ["to", "TO"], ["do", "VB"], ["when", "WRB"], ["two", "CD"], ["different", "JJ"], ["keys", "NNS"], ["hash", "VBP"], ["to", "TO"], ["the", "DT"], ["same", "JJ"], ["index", "NN"], ["?", "."], ["The", "DT"], ["birthday", "NN"], ["problem", "NN"], ["tells", "VBZ"], ["us", "PRP"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["collisions", "NNS"], [".", "."], ["You", "PRP"], ["need", "VBP"], ["a", "DT"], ["quadratic", "JJ"], ["amount", "NN"], ["of", "IN"], ["memory", "NN"], ["to", "TO"], ["avoid", "VB"], ["collisions", "NNS"], [".", "."], ["In", "IN"], ["the", "DT"], ["lower", "JJR"], ["balancing", "NN"], [",", ","], ["a", "DT"], ["coupon", "NN"], ["collector", "NN"], ["analysis", "NN"], ["tell", "VBP"], ["us", "PRP"], ["that", "IN"], ["the", "DT"], ["collisions", "NNS"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["evenly", "RB"], ["distribute", "JJ"], [",", ","], ["distributed", "VBN"], ["among", "IN"], ["the", "DT"], ["table", "NN"], [",", ","], ["around", "IN"], ["the", "DT"], ["table", "NN"], [".", "."], ["So", "RB"], [",", ","], ["what", "WP"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["have", "VB"], ["an", "DT"], ["easy", "JJ"], ["way", "NN"], ["to", "TO"], ["deal", "VB"], ["with", "IN"], ["collisions", "NNS"], [".", "."], ["And", "CC"], ["so", "RB"], ["the", "DT"], ["first", "JJ"], ["way", "NN"], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["at", "IN"], ["is", "VBZ"], ["called", "VBN"], ["Separate", "NNP"], ["Chaining", "NNP"], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["very", "RB"], ["diagonal", "JJ"], ["idea", "NN"], ["back1953", "NN"], [",", ","], ["and", "CC"], ["the", "DT"], ["idea", "NN"], ["is", "VBZ"], ["just", "RB"], ["build", "VB"], ["a", "DT"], ["link", "NN"], ["list", "NN"], ["for", "IN"], ["each", "DT"], ["of", "IN"], ["the", "DT"], ["table", "JJ"], ["positions", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["have", "VB"], ["a", "DT"], ["table", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["smaller", "JJR"], ["than", "IN"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["keys", "NNS"], ["that", "IN"], ["we", "PRP"], ["have", "VBP"], [",", ","], ["the", "DT"], ["hash", "NN"], ["function", "NN"], ["will", "MD"], ["map", "VB"], ["each", "DT"], ["key", "NN"], ["to", "TO"], ["some", "DT"], ["integer", "NN"], [".", "."], ["So", "RB"], ["in", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["table", "NN"], ["of", "IN"], ["size", "NN"], ["five", "CD"], [".", "."], ["So", "CC"], ["the", "DT"], ["hash", "NN"], ["function", "NN"], ["will", "MD"], ["map", "VB"], ["any", "DT"], ["key", "NN"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["we", "PRP"], ["use", "VBP"], ["single", "JJ"], ["letter", "NN"], ["keys", "NNS"], [".", "."], ["It", "PRP"], ["'ll", "MD"], ["map", "VB"], ["any", "DT"], ["key", "NN"], ["to", "TO"], ["an", "DT"], ["integer", "NN"], ["between", "IN"], ["zero", "CD"], ["and", "CC"], ["four", "CD"], ["and", "CC"], ["then", "RB"], ["to", "TO"], ["[", "VB"], ["cough", "NN"], ["]", "NNP"], ["do", "VBP"], ["an", "DT"], ["insertion", "NN"], ["we", "PRP"], ["'ll", "MD"], ["just", "RB"], ["keep", "VB"], ["a", "DT"], ["link", "JJ"], ["list", "NN"], ["at", "IN"], ["the", "DT"], ["table", "JJ"], ["position", "NN"], ["corresponding", "VBG"], ["to", "TO"], ["the", "DT"], ["hash", "NN"], ["value", "NN"], [".", "."], ["So", "CC"], ["S", "JJ"], ["hash", "NN"], ["is", "VBZ"], ["to", "TO"], ["position", "NN"], ["two", "CD"], [",", ","], ["it", "PRP"], ["'ll", "MD"], ["be", "VB"], ["on", "IN"], ["the", "DT"], ["link", "NN"], ["list", "NN"], ["that", "WDT"], ["is", "VBZ"], ["first", "JJ"], ["link", "NN"], ["is", "VBZ"], ["at", "IN"], ["position", "NN"], ["two", "CD"], [".", "."], ["And", "CC"], ["E", "NNP"], ["goes", "VBZ"], ["to", "TO"], ["zero", "CD"], [",", ","], ["and", "CC"], ["A", "NNP"], ["goes", "VBZ"], ["to", "TO"], ["zero", "VB"], [".", "."], ["And", "CC"], ["for", "IN"], ["search", "NN"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["to", "TO"], ["go", "VB"], ["to", "TO"], [",", ","], ["if", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["is", "VBZ"], ["C", "NNP"], ["in", "IN"], ["this", "DT"], ["table", "NN"], ["say", "VBP"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["find", "VB"], ["the", "DT"], ["hash", "NN"], ["value", "NN"], ["for", "IN"], ["C", "NNP"], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["look", "VB"], ["down", "RP"], ["the", "DT"], ["list", "NN"], ["to", "TO"], ["see", "VB"], ["if", "IN"], ["we", "PRP"], ["can", "MD"], ["find", "VB"], ["C.", "NNP"], ["So", "NNP"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["look", "VB"], ["through", "IN"], ["the", "DT"], ["whole", "JJ"], ["list", "NN"], ["for", "IN"], ["search", "NN"], ["but", "CC"], ["you", "PRP"], ["only", "RB"], ["have", "VBP"], ["to", "TO"], ["look", "VB"], ["through", "IN"], ["one", "CD"], ["list", "NN"], ["out", "IN"], ["of", "IN"], ["all", "PDT"], ["the", "DT"], ["lists", "NNS"], [".", "."], ["Essentially", "RB"], ["if", "IN"], ["you", "PRP"], ["have", "VBP"], ["M", "VBN"], ["entries", "NNS"], ["in", "IN"], ["the", "DT"], ["hash", "NN"], ["table", "NN"], ["and", "CC"], ["M", "NNP"], ["keys", "VBD"], ["the", "DT"], ["link", "NN"], ["of", "IN"], ["list", "NN"], ["you", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["is", "VBZ"], ["about", "RB"], ["N", "NNP"], ["over", "IN"], ["M", "NNP"], ["cuz", "NN"], ["they", "PRP"], ["'re", "VBP"], ["evenly", "RB"], ["distributed", "VBN"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["straightforward", "NN"], ["and", "CC"], ["simple", "JJ"], ["scheme", "NN"], ["for", "IN"], ["implementing", "VBG"], ["symbol", "NN"], ["tables", "NNS"], ["with", "IN"], ["hashing", "VBG"], [".", "."], ["Now", "RB"], [",", ","], ["we", "PRP"], ["could", "MD"], ["use", "VB"], ["a", "DT"], ["interval", "JJ"], ["bag", "NN"], ["or", "CC"], ["some", "DT"], ["data", "NNS"], ["structure", "NN"], ["like", "IN"], ["that", "DT"], ["and", "CC"], ["hide", "VB"], ["the", "DT"], ["link", "JJ"], ["list", "NN"], ["structure", "NN"], ["underneath", "NN"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["perfectly", "RB"], ["fine", "JJ"], ["way", "NN"], ["to", "TO"], ["proceed", "VB"], ["in", "IN"], ["modern", "JJ"], ["programming", "NN"], [".", "."], ["This", "DT"], ["implementation", "NN"], ["directly", "RB"], ["implements", "VBZ"], ["the", "DT"], ["link", "NN"], ["list", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["for", "IN"], ["a", "DT"], ["practical", "JJ"], ["situation", "NN"], ["we", "PRP"], ["picked", "VBD"], ["some", "DT"], ["kind", "NN"], ["of", "IN"], [",", ","], ["some", "DT"], ["value", "NN"], ["of", "IN"], ["M.", "NNP"], ["You", "PRP"], ["could", "MD"], ["make", "VB"], ["it", "PRP"], ["so", "RB"], ["that", "IN"], ["the", "DT"], ["hash", "NN"], ["table", "NN"], ["itself", "PRP"], ["grows", "VBZ"], ["once", "IN"], ["it", "PRP"], ["gets", "VBZ"], ["really", "RB"], ["huge", "JJ"], ["and", "CC"], ["such", "JJ"], ["hybrid", "JJ"], ["methods", "NNS"], ["are", "VBP"], ["easy", "JJ"], ["to", "TO"], ["implement", "VB"], [".", "."], ["So", "IN"], ["we", "PRP"], ["wo", "MD"], ["n't", "RB"], ["talk", "VB"], ["to", "TO"], ["much", "JJ"], ["about", "IN"], ["that", "DT"], [".", "."], ["We", "PRP"], ["need", "VBP"], ["to", "TO"], ["just", "RB"], ["in", "IN"], ["terms", "NNS"], ["of", "IN"], ["implementation", "NN"], ["details", "NNS"], [",", ","], ["our", "PRP$"], ["keys", "NNS"], ["and", "CC"], ["values", "NNS"], ["have", "VBP"], ["to", "TO"], ["be", "VB"], ["objects", "NNS"], [".", "."], ["Because", "IN"], ["we", "PRP"], ["ca", "MD"], ["n't", "RB"], ["have", "VB"], ["an", "DT"], ["array", "NN"], ["of", "IN"], ["generics", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["since", "IN"], ["we", "PRP"], ["'re", "VBP"], ["making", "VBG"], ["array", "NN"], ["of", "IN"], ["nodes", "NNS"], [",", ","], ["a", "DT"], ["node", "NN"], ["would", "MD"], ["have", "VB"], ["generics", "NNS"], ["if", "IN"], ["we", "PRP"], ["use", "VBP"], ["to", "TO"], ["key", "VB"], ["in", "IN"], ["value", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["make", "VB"], ["them", "PRP"], ["objects", "NNS"], ["then", "RB"], ["when", "WRB"], ["we", "PRP"], ["get", "VBP"], ["things", "NNS"], ["off", "RP"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["cast", "VBN"], [".", "."], ["So", "RB"], ["[", "JJ"], ["cough", "NN"], ["]", "NN"], ["this", "DT"], ["is", "VBZ"], ["the", "DT"], ["get", "NN"], ["procedure", "NN"], [".", "."], ["So", "RB"], ["to", "TO"], ["look", "VB"], ["for", "IN"], ["a", "DT"], ["key", "NN"], ["in", "IN"], ["the", "DT"], ["hash", "NN"], ["table", "NN"], ["we", "PRP"], ["compute", "VBP"], ["the", "DT"], ["hash", "NN"], ["value", "NN"], [".", "."], ["In", "IN"], ["our", "PRP$"], ["hash", "NN"], ["function", "NN"], ["is", "VBZ"], ["pull", "VBN"], ["out", "RP"], ["the", "DT"], ["system", "NN"], ["hash", "JJ"], ["code", "NN"], [",", ","], ["make", "VB"], ["it", "PRP"], ["positive", "JJ"], ["by", "IN"], ["ending", "VBG"], ["off", "RP"], ["the", "DT"], ["sign", "NN"], ["bit", "NN"], ["and", "CC"], ["then", "RB"], ["mark", "NN"], ["with", "IN"], ["M", "NNP"], ["to", "TO"], ["get", "VB"], ["a", "DT"], ["number", "NN"], ["of", "IN"], [",", ","], ["zero", "CD"], ["and", "CC"], ["-one", "NNP"], [".", "."], ["So", "IN"], ["we", "PRP"], ["pick", "VBP"], ["that", "IN"], ["number", "NN"], [",", ","], ["I", "PRP"], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["just", "RB"], ["go", "VB"], ["to", "TO"], ["that", "DT"], ["list", "NN"], ["and", "CC"], ["this", "DT"], ["is", "VBZ"], ["the", "DT"], ["standard", "JJ"], ["code", "NN"], ["for", "IN"], ["diversing", "VBG"], ["a", "DT"], ["link", "NN"], ["list", "JJ"], ["start", "NN"], ["at", "IN"], ["the", "DT"], ["first", "JJ"], ["node", "NN"], ["as", "RB"], ["long", "RB"], ["as", "IN"], ["it", "PRP"], ["is", "VBZ"], ["not", "RB"], ["null", "JJ"], ["go", "VBP"], ["x", "JJ"], ["=", "NNP"], ["x", "NNP"], ["dot", "NN"], ["x", "NNP"], [".", "."], ["And", "CC"], ["if", "IN"], ["you", "PRP"], ["find", "VBP"], ["a", "DT"], ["key", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["equal", "JJ"], ["to", "TO"], ["the", "DT"], ["key", "NN"], ["you", "PRP"], ["'re", "VBP"], ["looking", "VBG"], ["for", "IN"], [",", ","], ["return", "VB"], ["the", "DT"], ["value", "NN"], ["and", "CC"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["cast", "VB"], ["it", "PRP"], ["to", "TO"], ["value", "NN"], ["because", "IN"], ["of", "IN"], ["the", "DT"], ["generic", "JJ"], ["recreation", "NN"], ["problem", "NN"], ["in", "IN"], ["Java", "NNP"], [",", ","], ["otherwise", "RB"], ["return", "JJ"], ["null", "NN"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["not", "RB"], ["much", "JJ"], ["code", "NN"], [",", ","], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["trivial", "JJ"], ["code", "NN"], ["at", "IN"], ["that", "DT"], ["for", "IN"], ["doing", "VBG"], ["an", "DT"], ["efficient", "JJ"], ["symbol", "NN"], ["table", "JJ"], ["search", "NN"], ["using", "VBG"], ["hashing", "VBG"], [".", "."], ["And", "CC"], ["insertion", "NN"], ["is", "VBZ"], ["not", "RB"], ["much", "RB"], ["more", "RBR"], ["difficult", "JJ"], ["if", "IN"], ["you", "PRP"], ["do", "VBP"], ["the", "DT"], ["same", "JJ"], ["thing", "NN"], ["and", "CC"], ["if", "IN"], ["you", "PRP"], ["find", "VBP"], ["a", "DT"], ["node", "NN"], ["where", "WRB"], ["key", "JJ"], ["equal", "JJ"], ["to", "TO"], ["key", "VB"], ["on", "IN"], ["the", "DT"], ["link", "NN"], ["list", "NN"], [",", ","], ["reset", "VB"], ["the", "DT"], ["value", "NN"], ["and", "CC"], ["return", "NN"], [".", "."], ["Otherwise", "RB"], [",", ","], ["you", "PRP"], ["make", "VBP"], ["a", "DT"], ["new", "JJ"], ["node", "NN"], ["and", "CC"], ["put", "VB"], ["it", "PRP"], ["at", "IN"], ["the", "DT"], ["beginning", "NN"], ["of", "IN"], ["the", "DT"], ["link", "NN"], ["list", "NN"], ["with", "IN"], ["the", "DT"], ["standard", "JJ"], ["code", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["replace", "VB"], ["STFI", "NNP"], ["with", "IN"], ["a", "DT"], ["new", "JJ"], ["node", "NN"], ["that", "WDT"], ["links", "VBZ"], ["to", "TO"], ["the", "DT"], ["old", "JJ"], ["STFI", "NNP"], [".", "."], ["So", "RB"], ["again", "RB"], [",", ","], ["very", "RB"], ["little", "JJ"], ["code", "NN"], ["to", "TO"], ["implement", "VB"], ["search", "NN"], ["and", "CC"], ["insert", "NN"], ["using", "VBG"], ["hashin", "JJ"], ["g", "NN"], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["why", "WRB"], ["it", "PRP"], ["'s", "VBZ"], ["so", "RB"], ["popular", "JJ"], [".", "."], ["And", "CC"], ["what", "WP"], ["about", "IN"], ["the", "DT"], ["analysis", "NN"], ["?", "."], ["Well", "RB"], [",", ","], ["again", "RB"], ["this", "DT"], ["the", "DT"], ["[", "JJ"], ["cough", "NN"], ["]", "NNP"], ["standard", "NN"], ["probabilistic", "JJ"], ["analysis", "NN"], ["of", "IN"], ["the", "DT"], ["balls", "NNS"], ["and", "CC"], ["bins", "NNS"], ["problem", "NN"], ["tells", "VBZ"], ["us", "PRP"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["information", "NN"], ["of", "IN"], ["what", "WP"], ["goes", "VBZ"], ["on", "IN"], [".", "."], ["And", "CC"], ["again", "RB"], [",", ","], ["if", "IN"], ["the", "DT"], ["uniform", "JJ"], ["hashing", "NN"], ["assumption", "NN"], ["holds", "VBZ"], ["the", "DT"], ["probability", "NN"], ["that", "IN"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["keys", "NNS"], ["within", "IN"], ["a", "DT"], ["list", "NN"], ["is", "VBZ"], ["within", "IN"], ["a", "DT"], ["constant", "JJ"], ["factor", "NN"], ["of", "IN"], ["N", "NNP"], ["over", "IN"], ["M", "NNP"], ["is", "VBZ"], ["extremely", "RB"], ["close", "JJ"], ["to", "TO"], ["one", "CD"], [".", "."], ["So", "RB"], [",", ","], ["it", "PRP"], ["means", "VBZ"], ["that", "IN"], ["we", "PRP"], ["'ve", "VBP"], ["divided", "VBN"], ["the", "DT"], ["search", "NN"], ["cost", "NN"], ["which", "WDT"], ["would", "MD"], ["be", "VB"], ["N", "NNP"], ["if", "IN"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["sequential", "JJ"], ["search", "NN"], ["by", "IN"], ["a", "DT"], ["factor", "NN"], ["of", "IN"], ["M.", "NNP"], ["And", "CC"], [",", ","], ["and", "CC"], ["in", "IN"], ["many", "JJ"], ["applications", "NNS"], ["even", "RB"], ["setting", "VBG"], ["M", "NNP"], ["=", "$"], ["100", "CD"], ["or", "CC"], ["1,000", "CD"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["very", "RB"], ["effective", "JJ"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["why", "WRB"], ["so", "RB"], ["many", "JJ"], ["system", "NN"], ["programs", "NNS"], ["refuse", "VBP"], ["that", "DT"], [".", "."], ["So", "RB"], [",", ","], ["number", "NN"], ["of", "IN"], ["pros", "NNS"], ["for", "IN"], ["search", "NN"], ["and", "CC"], ["insert", "NN"], ["'s", "POS"], ["proportional", "JJ"], ["to", "TO"], ["N", "NNP"], ["over", "IN"], ["M.", "NNP"], ["Now", "RB"], ["typically", "RB"], [",", ","], ["what", "WP"], ["we", "PRP"], ["'d", "VBD"], ["what", "WP"], ["a", "DT"], ["programmer", "NN"], ["would", "MD"], ["do", "VB"], ["is", "VBZ"], ["try", "VB"], ["to", "TO"], ["figure", "VB"], ["on", "IN"], ["making", "VBG"], ["M", "NNP"], ["about", "IN"], ["equal", "JJ"], ["to", "TO"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["keys", "NNS"], ["divided", "VBN"], ["by", "IN"], ["five", "CD"], ["say", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["you", "PRP"], ["ca", "MD"], ["n't", "RB"], ["make", "VB"], ["M", "NNP"], ["too", "RB"], ["large", "JJ"], [",", ","], ["you", "PRP"], ["have", "VBP"], ["too", "RB"], ["much", "JJ"], ["space", "NN"], ["and", "CC"], ["you", "PRP"], ["'ll", "MD"], ["have", "VB"], ["empty", "JJ"], ["chains", "NNS"], ["or", "CC"], ["short", "JJ"], ["chains", "NNS"], [".", "."], ["And", "CC"], ["if", "IN"], ["you", "PRP"], ["make", "VBP"], ["M", "NNP"], ["too", "RB"], ["small", "JJ"], ["then", "RB"], ["they", "PRP"], ["'re", "VBP"], ["too", "RB"], ["long", "RB"], [",", ","], ["you", "PRP"], ["have", "VBP"], ["to", "TO"], ["search", "VB"], ["through", "IN"], ["them", "PRP"], ["all", "DT"], [".", "."], ["So", "NNP"], ["let", "NN"], ["'s", "POS"], ["say", "VB"], [",", ","], ["N", "NNP"], ["over", "IN"], ["five", "CD"], ["and", "CC"], ["then", "RB"], ["you", "PRP"], ["get", "VBP"], ["constant", "JJ"], ["time", "NN"], ["searches", "NNS"], ["and", "CC"], ["not", "RB"], ["much", "JJ"], ["extra", "JJ"], ["space", "NN"], [".", "."], ["You", "PRP"], ["have", "VBP"], ["extra", "JJ"], ["space", "NN"], ["for", "IN"], ["the", "DT"], ["links", "NNS"], ["to", "TO"], ["implement", "VB"], ["the", "DT"], ["link", "NN"], ["lists", "NNS"], ["but", "CC"], ["the", "DT"], ["rest", "NN"], ["of", "IN"], ["the", "DT"], ["table", "NN"], ["is", "VBZ"], ["not", "RB"], ["much", "JJ"], ["extra", "JJ"], ["space", "NN"], [".", "."], ["And", "CC"], ["those", "DT"], ["are", "VBP"], ["typical", "JJ"], ["parameters", "NNS"], [".", "."], ["If", "IN"], ["you", "PRP"], ["want", "VBP"], ["a", "DT"], ["full", "JJ"], ["service", "NN"], ["symbol", "NN"], ["table", "NN"], ["which", "WDT"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], [",", ","], ["going", "VBG"], ["to", "TO"], ["grow", "VB"], ["from", "IN"], ["small", "JJ"], ["to", "TO"], ["huge", "JJ"], ["and", "CC"], ["then", "RB"], ["back", "RB"], ["down", "IN"], ["to", "TO"], ["small", "JJ"], ["again", "RB"], ["then", "RB"], ["you", "PRP"], ["'d", "MD"], ["want", "VB"], ["to", "TO"], ["use", "VB"], ["array", "JJ"], ["re-sizing", "NN"], ["to", "TO"], ["make", "VB"], ["sure", "JJ"], ["that", "IN"], ["M", "NNP"], ["is", "VBZ"], ["always", "RB"], ["within", "IN"], ["a", "DT"], ["constant", "JJ"], ["factor", "NN"], ["of", "IN"], ["N", "NNP"], ["but", "CC"], ["we", "PRP"], ["will", "MD"], ["leave", "VB"], ["that", "DT"], ["detail", "NN"], ["out", "IN"], ["for", "IN"], ["now", "RB"], [".", "."], ["So", "CC"], ["that", "IN"], ["brings", "VBZ"], ["us", "PRP"], ["to", "TO"], ["this", "DT"], ["summary", "JJ"], ["where", "WRB"], ["red-black", "NN"], ["trees", "NNS"], [",", ","], ["we", "PRP"], ["were", "VBD"], ["happy", "JJ"], ["with", "IN"], ["a", "DT"], ["log", "NN"], ["based", "VBN"], ["two", "CD"], ["of", "IN"], ["N", "NNP"], ["for", "IN"], ["search", "NN"], ["and", "CC"], ["insert", "NN"], ["with", "IN"], ["separate", "JJ"], ["chaining", "NN"], [",", ","], ["you", "PRP"], ["can", "MD"], ["really", "RB"], ["get", "VB"], ["it", "PRP"], ["down", "RP"], ["to", "TO"], ["a", "DT"], ["constant", "JJ"], ["number", "NN"], ["of", "IN"], ["operations", "NNS"], ["for", "IN"], ["search", "NN"], ["and", "CC"], ["insert", "NN"], [".", "."], ["So", "IN"], ["hashing", "VBG"], ["'s", "POS"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["preferred", "VBN"], ["for", "IN"], ["short", "JJ"], ["keys", "NNS"], ["where", "WRB"], ["the", "DT"], ["hash", "NN"], ["function", "NN"], ["'s", "POS"], ["easy", "JJ"], ["to", "TO"], ["compute", "VB"], [".", "."], ["And", "CC"], ["where", "WRB"], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["need", "VB"], ["ordered", "JJ"], ["iteration", "NN"], ["or", "CC"], ["any", "DT"], ["of", "IN"], ["the", "DT"], ["ordered", "JJ"], ["symbol", "NN"], ["table", "JJ"], ["operations", "NNS"], ["because", "IN"], ["it", "PRP"], ["has", "VBZ"], ["really", "RB"], ["fast", "JJ"], ["access", "NN"], ["to", "TO"], ["the", "DT"], ["symbol", "NN"], ["table", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["our", "PRP$"], ["first", "JJ"], ["collision", "NN"], ["resolution", "NN"], ["method", "NN"], [",", ","], ["hashing", "VBG"], ["with", "IN"], ["separate", "JJ"], ["chaining", "NN"], [".", "."]], "title": "separate chaining", "text": "Next we'll look at separate chaining, a collision red solution strategy that makes use of elementary link list. So, what are we supposed to do when two different keys hash to the same index? The birthday problem tells us that we're going to have collisions. You need a quadratic amount of memory to avoid collisions. In the lower balancing, a coupon collector analysis tell us that the collisions are going to be evenly distribute, distributed among the table, around the table. So, what we want to do is have an easy way to deal with collisions. And so the first way we'll look at is called Separate Chaining and it's a very diagonal idea back1953, and the idea is just build a link list for each of the table positions. So, we'll have a table that's smaller than the number of keys that we have, the hash function will map each key to some integer. So in this case, we have a table of size five. So the hash function will map any key. In this case, we use single letter keys. It'll map any key to an integer between zero and four and then to [cough] do an insertion we'll just keep a link list at the table position corresponding to the hash value. So S hash is to position two, it'll be on the link list that is first link is at position two. And E goes to zero, and A goes to zero. And for search, we're going to have to go to, if we're going to look at is C in this table say, we're going to find the hash value for C and we'll look down the list to see if we can find C. So we have to look through the whole list for search but you only have to look through one list out of all the lists. Essentially if you have M entries in the hash table and M keys the link of list you're going to look at is about N over M cuz they're evenly distributed. So that's a straightforward and simple scheme for implementing symbol tables with hashing. Now, we could use a interval bag or some data structure like that and hide the link list structure underneath and that's a perfectly fine way to proceed in modern programming. This implementation directly implements the link list. Now, for a practical situation we picked some kind of, some value of M. You could make it so that the hash table itself grows once it gets really huge and such hybrid methods are easy to implement. So we won't talk to much about that. We need to just in terms of implementation details, our keys and values have to be objects. Because we can't have an array of generics. So, since we're making array of nodes, a node would have generics if we use to key in value. So we have to make them objects then when we get things off, we're going to have cast. So [cough] this is the get procedure. So to look for a key in the hash table we compute the hash value. In our hash function is pull out the system hash code, make it positive by ending off the sign bit and then mark with M to get a number of, zero and -one. So we pick that number, I and then we just go to that list and this is the standard code for diversing a link list start at the first node as long as it is not null go x = x dot x. And if you find a key that's equal to the key you're looking for, return the value and we have to cast it to value because of the generic recreation problem in Java, otherwise return null. So that's not much code, and it's trivial code at that for doing an efficient symbol table search using hashing. And insertion is not much more difficult if you do the same thing and if you find a node where key equal to key on the link list, reset the value and return. Otherwise, you make a new node and put it at the beginning of the link list with the standard code. Now, replace STFI with a new node that links to the old STFI. So again, very little code to implement search and insert using hashin g and that's why it's so popular. And what about the analysis? Well, again this the [cough] standard probabilistic analysis of the balls and bins problem tells us a lot of information of what goes on. And again, if the uniform hashing assumption holds the probability that the number of keys within a list is within a constant factor of N over M is extremely close to one. So, it means that we've divided the search cost which would be N if we have a sequential search by a factor of M. And, and in many applications even setting M = 100 or 1,000 is going to be very effective. And that's why so many system programs refuse that. So, number of pros for search and insert's proportional to N over M. Now typically, what we'd what a programmer would do is try to figure on making M about equal to the number of keys divided by five say. So, you can't make M too large, you have too much space and you'll have empty chains or short chains. And if you make M too small then they're too long, you have to search through them all. So let's say, N over five and then you get constant time searches and not much extra space. You have extra space for the links to implement the link lists but the rest of the table is not much extra space. And those are typical parameters. If you want a full service symbol table which is going to, going to grow from small to huge and then back down to small again then you'd want to use array re-sizing to make sure that M is always within a constant factor of N but we will leave that detail out for now. So that brings us to this summary where red-black trees, we were happy with a log based two of N for search and insert with separate chaining, you can really get it down to a constant number of operations for search and insert. So hashing's going to be preferred for short keys where the hash function's easy to compute. And where we don't need ordered iteration or any of the ordered symbol table operations because it has really fast access to the symbol table. That's our first collision resolution method, hashing with separate chaining. ", "video_ID": 53, "course_id": 3}
{"category": ["hash tables"], "tagged": [["Another", "DT"], ["popular", "JJ"], ["closure", "NN"], ["resolution", "NN"], ["method", "NN"], ["is", "VBZ"], ["known", "VBN"], ["as", "IN"], ["linear", "JJ"], ["probing", "VBG"], [".", "."], ["In", "IN"], ["this", "DT"], ["you", "PRP"], ["know", "VBP"], ["many", "JJ"], ["different", "JJ"], ["versions", "NNS"], ["of", "IN"], ["hashing", "NN"], ["that", "WDT"], ["are", "VBP"], ["based", "VBN"], ["on", "IN"], ["this", "DT"], ["idea", "NN"], [".", "."], ["With", "IN"], ["linear", "JJ"], ["probing", "NN"], ["is", "VBZ"], ["called", "VBN"], ["open", "JJ"], ["addressing", "NN"], ["and", "CC"], ["is", "VBZ"], ["also", "RB"], ["around", "IN"], ["the", "DT"], ["same", "JJ"], ["time", "NN"], ["in", "IN"], ["the", "DT"], ["50", "CD"], ["'s", "POS"], ["the", "DT"], ["idea", "NN"], ["is", "VBZ"], ["just", "RB"], ["use", "VB"], ["an", "DT"], ["array", "NN"], [".", "."], ["Instead", "RB"], ["of", "IN"], ["using", "VBG"], ["space", "NN"], ["for", "IN"], ["the", "DT"], ["length", "NN"], ["in", "IN"], ["a", "DT"], ["length", "JJ"], ["list", "NN"], [".", "."], ["I", "PRP"], ["use", "VBP"], ["that", "DT"], ["same", "JJ"], ["space", "NN"], [",", ","], ["and", "CC"], ["just", "RB"], [",", ","], ["allocate", "VBP"], ["an", "DT"], ["array", "NN"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["the", "DT"], ["size", "NN"], ["of", "IN"], ["the", "DT"], ["array", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["to", "TO"], ["be", "VB"], ["bigger", "JJR"], ["than", "IN"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["keys", "NNS"], ["that", "IN"], ["we", "PRP"], ["[", "VBP"], ["inaudible", "JJ"], ["]", "NN"], ["expect", "VBP"], [".", "."], ["And", "CC"], ["we", "PRP"], ["use", "VBP"], ["the", "DT"], ["empty", "JJ"], ["slots", "NNS"], ["in", "IN"], ["the", "DT"], ["array", "NN"], [".", "."], ["To", "TO"], [".", "."], ["Essentially", "RB"], ["terminate", "VBP"], ["the", "DT"], ["length", "NN"], ["of", "IN"], ["the", "DT"], ["[", "NNP"], ["inaudible", "JJ"], ["]", "JJ"], ["list", "NN"], ["that", "IN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["search", "VB"], ["through", "IN"], ["when", "WRB"], ["we", "PRP"], ["'re", "VBP"], ["doing", "VBG"], ["a", "DT"], ["insertion", "NN"], [".", "."], ["So", "NNP"], ["let", "NN"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["a", "DT"], ["demo", "NN"], ["of", "IN"], ["how", "WRB"], ["it", "PRP"], ["looks", "VBZ"], [".", "."], ["So", "RB"], ["to", "TO"], ["hash", "VB"], ["again", "RB"], ["we", "PRP"], ["do", "VBP"], ["the", "DT"], ["same", "JJ"], ["thing", "NN"], [",", ","], ["we", "PRP"], ["just", "RB"], ["map", "VBP"], ["the", "DT"], ["key", "NN"], ["to", "TO"], ["a", "DT"], ["index", "NN"], [".", "."], ["But", "CC"], [",", ","], ["in", "IN"], ["linear", "JJ"], ["probing", "NN"], [",", ","], ["to", "TO"], ["insert", "VB"], ["what", "WP"], ["we", "PRP"], ["do", "VBP"], ["is", "VBZ"], ["when", "WRB"], ["we", "PRP"], ["put", "VBD"], ["it", "PRP"], ["in", "IN"], ["position", "NN"], ["I", "PRP"], ["if", "IN"], ["that", "DT"], ["'s", "VBZ"], ["free", "JJ"], [",", ","], ["if", "IN"], ["not", "RB"], ["we", "PRP"], ["just", "RB"], ["look", "VBP"], ["at", "IN"], ["I", "PRP"], ["plus", "VBP"], ["one", "CD"], [",", ","], ["and", "CC"], ["I", "PRP"], ["plus", "VBP"], ["two", "CD"], [",", ","], ["and", "CC"], ["wrap", "NN"], ["around", "RB"], ["to", "TO"], ["the", "DT"], ["beginning", "NN"], ["if", "IN"], ["we", "PRP"], ["reach", "VBP"], ["the", "DT"], ["end", "NN"], [".", "."], ["Now", "RB"], ["that", "DT"], ["'s", "VBZ"], ["also", "RB"], ["simple", "JJ"], ["to", "TO"], ["implement", "VB"], ["and", "CC"], ["it", "PRP"], ["works", "VBZ"], ["well", "RB"], ["as", "IN"], ["long", "RB"], ["the", "DT"], ["size", "NN"], ["of", "IN"], ["the", "DT"], ["array", "NN"], ["is", "VBZ"], [",", ","], ["significantly", "RB"], ["bigger", "JJR"], ["than", "IN"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["keys", "NNS"], [".", "."], ["Let", "NNP"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], [",", ","], ["Well", "NNP"], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["demo", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["start", "VBP"], ["with", "IN"], ["an", "DT"], ["empty", "JJ"], ["table", "NN"], [",", ","], ["insert", "JJ"], ["s", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["hash", "JJ"], ["value", "NN"], ["is", "VBZ"], ["six", "CD"], [",", ","], ["six", "CD"], ["is", "VBZ"], ["empty", "VBN"], ["so", "RB"], ["we", "PRP"], ["put", "VBP"], ["it", "PRP"], ["there", "RB"], [".", "."], ["Now", "RB"], ["we", "PRP"], ["look", "VBP"], ["at", "IN"], ["e", "NN"], [",", ","], ["hash", "NN"], ["of", "IN"], ["e", "NN"], ["is", "VBZ"], ["ten", "JJ"], [",", ","], ["we", "PRP"], ["look", "VBP"], ["at", "IN"], ["ten", "NNS"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["empty", "JJ"], ["so", "IN"], ["we", "PRP"], ["put", "VBP"], ["e", "RB"], ["there", "RB"], [".", "."], ["So", "CC"], ["at", "IN"], ["the", "DT"], ["beginning", "NN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["fine", "JJ"], [".", "."], ["A", "DT"], ["is", "VBZ"], ["four", "CD"], [",", ","], ["empty", "RB"], [",", ","], ["put", "VBD"], ["it", "PRP"], ["there", "RB"], [".", "."], ["R", "NNP"], ["is", "VBZ"], ["fourteen", "JJ"], [",", ","], ["empty", "JJ"], [",", ","], ["put", "VBD"], ["it", "PRP"], ["there", "RB"], [".", "."], ["So", "IN"], ["we", "PRP"], ["just", "RB"], ["essentially", "RB"], [",", ","], ["using", "VBG"], ["the", "DT"], ["hash", "NN"], ["funtion", "NN"], ["as", "IN"], ["an", "DT"], ["array", "NN"], ["index", "NN"], [".", "."], ["C", "NNP"], ["is", "VBZ"], ["five", "CD"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["empty", "JJ"], ["and", "CC"], ["we", "PRP"], ["put", "VBD"], ["it", "PRP"], ["there", "RB"], [".", "."], ["So", "CC"], ["H", "NNP"], ["now", "RB"], [",", ","], ["the", "DT"], ["hash", "NN"], ["value", "NN"], ["of", "IN"], ["H", "NNP"], ["is", "VBZ"], ["four", "CD"], [".", "."], ["So", "RB"], ["now", "RB"], ["we", "PRP"], ["look", "VBP"], ["at", "IN"], ["four", "CD"], [",", ","], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["occupied", "VBN"], [",", ","], ["so", "IN"], ["we", "PRP"], ["ca", "MD"], ["n't", "RB"], ["put", "VB"], ["the", "DT"], ["H", "NNP"], ["there", "RB"], [".", "."], ["And", "CC"], ["then", "RB"], ["linear", "VB"], ["probing", "VBG"], ["says", "VBZ"], [",", ","], ["just", "RB"], ["look", "NN"], ["at", "IN"], ["the", "DT"], ["next", "JJ"], ["position", "NN"], [",", ","], ["look", "NN"], ["at", "IN"], ["five", "CD"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["still", "RB"], ["not", "RB"], ["empty", "JJ"], [".", "."], ["So", "IN"], ["we", "PRP"], ["look", "VBP"], ["at", "IN"], ["six", "CD"], [".", "."], ["And", "CC"], ["we", "PRP"], ["keep", "VBP"], ["going", "VBG"], ["till", "IN"], ["we", "PRP"], ["find", "VBP"], ["an", "DT"], ["empty", "JJ"], ["place", "NN"], [",", ","], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["put", "VBP"], ["H", "NNP"], ["there", "RB"], [".", "."], ["Now", "RB"], ["when", "WRB"], ["we", "PRP"], ["search", "VBP"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["to", "TO"], ["do", "VB"], ["the", "DT"], ["same", "JJ"], ["thing", "NN"], [".", "."], ["We'r", "NNP"], ["e", "VBZ"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["all", "PDT"], ["those", "DT"], ["positions", "NNS"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["H.", "NNP"], ["The", "DT"], [".", "."], ["Group", "NNP"], ["of", "IN"], ["four", "CD"], ["key", "NN"], [",", ","], ["continuous", "JJ"], ["keys", "NNS"], ["in", "IN"], ["a", "DT"], ["table", "JJ"], ["space", "NN"], ["there", "EX"], ["is", "VBZ"], ["called", "VBN"], ["a", "DT"], ["cluster", "NN"], ["and", "CC"], ["clearly", "RB"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["keep", "VB"], ["those", "DT"], ["clusters", "NNS"], ["small", "JJ"], [".", "."], ["And", "CC"], ["we", "PRP"], ["do", "VBP"], ["that", "DT"], ["by", "IN"], ["juts", "NNS"], ["by", "IN"], ["not", "RB"], ["putting", "VBG"], ["too", "RB"], ["many", "JJ"], ["keys", "NNS"], ["in", "IN"], ["to", "TO"], ["the", "DT"], ["table", "NN"], [".", "."], ["So", "RB"], ["X", "JJ"], ["hashes", "NNS"], ["to", "TO"], ["fifteen", "VB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["empty", "JJ"], ["so", "IN"], ["we", "PRP"], ["put", "VBP"], ["it", "PRP"], ["there", "RB"], [",", ","], ["M", "NNP"], ["hashes", "VBZ"], ["to", "TO"], ["one", "CD"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["empty", "JJ"], ["and", "CC"], ["we", "PRP"], ["put", "VBD"], ["it", "PRP"], ["there", "RB"], [".", "."], ["P", "NNP"], ["hashes", "VBZ"], ["to", "TO"], ["fourteen", "VB"], [",", ","], ["14", "CD"], ["'s", "POS"], ["occupied", "VBN"], [",", ","], ["15", "CD"], ["'s", "POS"], ["also", "RB"], ["occupied", "VBN"], [",", ","], ["now", "RB"], ["we", "PRP"], ["run", "VBP"], ["off", "RP"], ["the", "DT"], ["end", "NN"], ["of", "IN"], ["the", "DT"], ["table", "NN"], [",", ","], ["and", "CC"], ["look", "NN"], ["at", "IN"], ["zero", "NN"], [",", ","], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["empty", "JJ"], ["so", "IN"], ["we", "PRP"], ["put", "VBP"], ["it", "PRP"], ["there", "RB"], [".", "."], ["L", "NNP"], ["hashes", "NNS"], ["to", "TO"], ["six", "CD"], [".", "."], ["Six", "NNP"], ["is", "VBZ"], ["occupied", "VBN"], [".", "."], ["We", "PRP"], ["look", "VBP"], ["at", "IN"], ["seven", "CD"], [",", ","], ["seven", "CD"], ["is", "VBZ"], ["occupied", "VBN"], [".", "."], ["We", "PRP"], ["look", "VBP"], ["at", "IN"], ["eight", "CD"], [",", ","], ["and", "CC"], ["we", "PRP"], ["put", "VBD"], ["it", "PRP"], ["there", "RB"], [".", "."], ["And", "CC"], [",", ","], ["so", "IN"], ["that", "DT"], ["'s", "VBZ"], ["an", "DT"], ["example", "NN"], ["of", "IN"], ["inserting", "NN"], [",", ","], ["keys", "VB"], ["into", "IN"], ["a", "DT"], ["hash", "NN"], ["table", "NN"], [".", "."], ["And", "CC"], ["now", "RB"], [",", ","], ["for", "IN"], ["a", "DT"], ["search", "NN"], [",", ","], ["we", "PRP"], ["just", "RB"], ["do", "VBP"], ["the", "DT"], ["same", "JJ"], ["thing", "NN"], [".", "."], ["We", "PRP"], [",", ","], ["use", "VB"], ["the", "DT"], ["hash", "NN"], ["function", "NN"], [".", "."], ["To", "TO"], ["search", "VB"], ["for", "IN"], ["E", "NNP"], [",", ","], ["E", "NNP"], ["'s", "POS"], ["hash", "NN"], ["value", "NN"], ["is", "VBZ"], ["ten", "VBN"], ["so", "IN"], ["we", "PRP"], ["look", "VBP"], ["in", "IN"], ["ten", "NN"], ["and", "CC"], ["there", "EX"], ["it", "PRP"], ["is", "VBZ"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["search", "NN"], ["hit", "NN"], [".", "."], ["If", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["search", "VB"], ["for", "IN"], ["say", "JJ"], ["L", "NNP"], ["L", "NNP"], ["'s", "POS"], ["hatch", "NN"], ["value", "NN"], ["is", "VBZ"], ["six", "CD"], ["so", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["there", "RB"], [".", "."], ["So", "RB"], ["in", "IN"], ["order", "NN"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["every", "DT"], ["place", "NN"], ["in", "IN"], ["the", "DT"], ["table", "NN"], ["where", "WRB"], ["L", "NNP"], ["could", "MD"], ["be", "VB"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["keep", "VB"], ["looking", "VBG"], ["til", "IN"], ["we", "PRP"], ["found", "VBD"], ["an", "DT"], ["empty", "JJ"], ["table", "JJ"], ["position", "NN"], [",", ","], ["or", "CC"], ["we", "PRP"], ["find", "VBP"], ["L", "JJ"], ["itself", "PRP"], [".", "."], ["So", "RB"], ["now", "RB"], ["we", "PRP"], ["look", "VBP"], ["at", "IN"], ["seven", "CD"], ["L", "NNP"], ["not", "RB"], ["there", "RB"], [",", ","], ["we", "PRP"], ["look", "VBP"], ["at", "IN"], ["eight", "CD"], ["L", "NNP"], ["is", "VBZ"], ["there", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["search", "NN"], ["hit", "NN"], [".", "."], ["If", "IN"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["value", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["not", "RB"], ["in", "IN"], ["the", "DT"], ["table", "NN"], ["like", "IN"], ["K", "NNP"], [",", ","], ["well", "RB"], ["hash", "NN"], ["and", "CC"], ["is", "VBZ"], ["in", "IN"], ["position", "NN"], ["five", "CD"], [",", ","], ["no", "DT"], [",", ","], ["six", "CD"], ["no", "DT"], [",", ","], ["seven", "CD"], ["no", "DT"], [",", ","], ["eight", "CD"], ["no", "DT"], ["and", "CC"], ["we", "PRP"], ["find", "VBP"], ["an", "DT"], ["empty", "JJ"], ["position", "NN"], ["at", "IN"], ["that", "DT"], ["point", "NN"], ["we", "PRP"], ["can", "MD"], ["conclude", "VB"], ["that", "DT"], ["K", "NNP"], ["is", "VBZ"], ["not", "RB"], ["in", "IN"], ["the", "DT"], ["table", "NN"], [".", "."], ["Because", "IN"], ["if", "IN"], ["K", "NNP"], ["were", "VBD"], ["in", "IN"], ["the", "DT"], ["table", "NN"], ["it", "PRP"], ["would", "MD"], ["be", "VB"], ["somewhere", "RB"], ["between", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["hash", "JJ"], ["point", "NN"], ["five", "CD"], ["and", "CC"], ["that", "DT"], ["empty", "JJ"], ["position", "NN"], ["nine", "CD"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["a", "DT"], ["search", "NN"], ["miss", "NN"], [",", ","], ["and", "CC"], ["we", "PRP"], ["return", "VBP"], ["all", "DT"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["short", "JJ"], ["demo", "NN"], ["of", "IN"], ["linear", "JJ"], ["probing", "VBG"], ["hashing", "NN"], [".", "."], ["So", "CC"], ["here", "RB"], ["'s", "VBZ"], ["a", "DT"], ["summary", "NN"], ["of", "IN"], ["linear", "JJ"], ["probing", "NN"], [",", ","], ["hashing", "VBG"], [".", "."], ["To", "TO"], [".", "."], ["To", "TO"], ["get", "VB"], ["started", "VBN"], ["we", "PRP"], ["map", "VBP"], ["a", "DT"], ["key", "NN"], ["to", "TO"], ["a", "DT"], ["integer", "NN"], ["between", "IN"], ["zero", "CD"], ["and", "CC"], ["m-1", "JJ"], ["where", "WRB"], ["m", "NN"], ["is", "VBZ"], ["the", "DT"], ["sides", "NNS"], ["of", "IN"], ["our", "PRP$"], ["array", "NN"], ["where", "WRB"], ["we", "PRP"], ["are", "VBP"], ["storing", "VBG"], ["the", "DT"], ["keys", "NN"], [".", "."], ["To", "TO"], ["insert", "VB"], ["we", "PRP"], ["put", "VBD"], ["the", "DT"], ["key", "NN"], ["value", "NN"], ["pair", "NN"], [".", "."], ["Use", "NNP"], ["parallel", "JJ"], ["arrays", "NNS"], ["[", "VBP"], ["inaudible", "JJ"], ["]", "NN"], ["and", "CC"], ["the", "DT"], ["value", "NN"], ["array", "NN"], ["with", "IN"], ["the", "DT"], ["same", "JJ"], ["index", "NN"], [".", "."], ["We", "PRP"], ["put", "VBD"], ["the", "DT"], ["entry", "NN"], ["at", "IN"], ["the", "DT"], ["table", "NN"], ["index", "NN"], ["A", "NNP"], ["for", "IN"], ["three", "CD"], [".", "."], ["If", "IN"], ["not", "RB"], ["try", "VB"], ["I+1", "NNP"], ["I+2", "NNP"], ["until", "IN"], ["getting", "VBG"], ["to", "TO"], ["a", "DT"], ["empty", "JJ"], ["position", "NN"], [".", "."], ["And", "CC"], ["for", "IN"], ["search", "NN"], ["you", "PRP"], ["do", "VBP"], ["the", "DT"], ["same", "JJ"], ["thing", "NN"], ["you", "PRP"], ["hash", "VBP"], ["to", "TO"], ["the", "DT"], ["table", "JJ"], ["position", "NN"], ["and", "CC"], ["you", "PRP"], ["look", "VBP"], ["there", "RB"], ["into", "IN"], ["the", "DT"], ["right", "NN"], [".", "."], ["To", "TO"], ["find", "VB"], ["the", "DT"], ["key", "NN"], ["and", "CC"], ["you", "PRP"], ["stop", "VBP"], ["when", "WRB"], ["you", "PRP"], ["find", "VBP"], ["an", "DT"], ["empty", "JJ"], ["table", "JJ"], ["position", "NN"], [".", "."], ["Find", "IN"], ["the", "DT"], ["key", "NN"], ["or", "CC"], ["find", "VB"], ["an", "DT"], ["empty", "JJ"], ["table", "JJ"], ["position", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["essential", "JJ"], ["that", "IN"], ["the", "DT"], ["array", "NN"], ["size", "NN"], ["is", "VBZ"], ["greater", "JJR"], ["than", "IN"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["key", "JJ"], ["value", "NN"], ["pairs", "NNS"], ["N.", "NNP"], ["And", "CC"], ["for", "IN"], ["linear", "JJ"], ["probing", "VBG"], ["hashing", "NN"], [",", ","], ["really", "RB"], [",", ","], ["the", "DT"], ["implementation", "NN"], ["needs", "VBZ"], ["to", "TO"], ["include", "VB"], ["array", "JJ"], ["resizing", "NN"], [",", ","], ["whenever", "WP"], ["the", "DT"], ["hash", "NN"], ["table", "JJ"], ["gets", "VBZ"], ["too", "RB"], ["full", "JJ"], [".", "."], ["Here", "RB"], ["'s", "VBZ"], ["the", "DT"], ["implementation", "NN"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'s", "VBZ"], [",", ","], ["quite", "RB"], ["straightforward", "JJ"], [",", ","], ["given", "VBN"], ["the", "DT"], ["demo", "NN"], ["that", "IN"], ["we", "PRP"], ["talked", "VBD"], ["about", "RB"], [".", "."], ["You", "PRP"], ["use", "VBP"], ["the", "DT"], ["same", "JJ"], ["hash", "NN"], ["function", "NN"], [".", "."], ["And", "CC"], ["we", "PRP"], ["use", "VBP"], ["parallel", "JJ"], ["arrays", "NNS"], ["for", "IN"], ["the", "DT"], ["value", "NN"], ["in", "IN"], ["the", "DT"], ["keys", "NN"], [".", "."], ["And", "CC"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["use", "VB"], ["ugly", "RB"], ["cast", "NN"], [",", ","], ["'cause", "IN"], ["we", "PRP"], ["ca", "MD"], ["n't", "RB"], ["have", "VB"], ["a", "DT"], ["race", "NN"], ["of", "IN"], ["generics", "NNS"], [".", "."], ["Then", "RB"], ["let", "VB"], ["'s", "POS"], ["do", "VB"], ["the", "DT"], ["search", "NN"], [".", "."], ["So", "RB"], [".", "."], ["We", "PRP"], ["just", "RB"], ["have", "VBP"], ["a", "DT"], ["for", "IN"], ["loop", "NN"], ["starting", "VBG"], ["at", "IN"], ["hash", "NN"], ["of", "IN"], ["key", "JJ"], ["and", "CC"], ["going", "VBG"], ["until", "IN"], ["we", "PRP"], ["get", "VBP"], ["to", "TO"], ["a", "DT"], ["position", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["null", "RB"], [".", "."], ["As", "RB"], ["long", "RB"], ["as", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["null", "JJ"], [",", ","], ["we", "PRP"], ["stay", "VBP"], ["in", "IN"], ["the", "DT"], ["loop", "NN"], ["and", "CC"], ["increment", "NN"], ["I", "PRP"], ["mod", "VBP"], ["m.", "NNS"], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["when", "WRB"], ["I", "PRP"], ["gets", "VBZ"], ["to", "TO"], ["the", "DT"], ["end", "NN"], ["it", "PRP"], ["gets", "VBZ"], ["to", "TO"], ["the", "DT"], ["end", "NN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["in", "IN"], ["the", "DT"], ["position", "NN"], ["m", "NN"], ["minus", "CC"], ["one", "CD"], ["and", "CC"], ["it", "PRP"], ["goes", "VBZ"], ["...", ":"], ["In", "IN"], ["the", "DT"], ["next", "JJ"], ["increment", "NN"], ["goes", "VBZ"], ["back", "RB"], ["to", "TO"], ["zero", "NN"], ["at", "IN"], ["the", "DT"], ["left", "JJ"], ["end", "NN"], ["of", "IN"], ["the", "DT"], ["table", "NN"], ["and", "CC"], ["we", "PRP"], ["just", "RB"], ["test", "VB"], ["for", "IN"], ["all", "PDT"], ["the", "DT"], ["non", "JJ"], ["null", "JJ"], ["keys", "NNS"], [".", "."], ["If", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["equal", "JJ"], [",", ","], ["if", "IN"], ["it", "PRP"], ["is", "VBZ"], [",", ","], ["go", "VB"], ["ahead", "RB"], ["and", "CC"], ["return", "VB"], ["the", "DT"], ["associated", "JJ"], ["value", "NN"], ["and", "CC"], ["if", "IN"], ["you", "PRP"], ["get", "VBP"], ["to", "TO"], ["an", "DT"], ["empty", "JJ"], ["position", "NN"], [",", ","], ["then", "RB"], ["return", "VB"], ["null", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["implementation", "NN"], ["of", "IN"], ["put", "NN"], ["is", "VBZ"], ["similar", "JJ"], [".", "."], ["Find", "VB"], ["a", "DT"], [",", ","], ["a", "DT"], ["position", "NN"], [",", ","], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["equal", "JJ"], [",", ","], ["And", "CC"], ["then", "RB"], [",", ","], ["reset", "VB"], ["the", "DT"], ["key", "NN"], [",", ","], ["in", "IN"], ["the", "DT"], ["value", "NN"], [".", "."], ["If", "IN"], ["the", "DT"], ["key", "NN"], ["'s", "POS"], ["there", "RB"], [",", ","], ["it", "PRP"], ["just", "RB"], ["resets", "VBZ"], ["the", "DT"], ["value", "NN"], [".", "."], ["If", "IN"], ["they", "PRP"], ["key", "VBP"], ["'s", "VBZ"], ["not", "RB"], ["there", "RB"], [",", ","], ["it", "PRP"], ["puts", "VBZ"], ["a", "DT"], ["new", "JJ"], ["entry", "NN"], ["in", "IN"], [".", "."], ["So", "RB"], ["again", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], [",", ","], ["fairly", "RB"], ["little", "JJ"], ["code", "NN"], [",", ","], ["to", "TO"], ["implement", "VB"], [",", ","], ["a", "DT"], ["fast", "JJ"], ["symbol", "NN"], ["table", "NN"], ["and", "CC"], ["insert", "NN"], [",", ","], ["search", "NN"], ["and", "CC"], ["insert", "NN"], [".", "."], ["But", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["only", "RB"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["fast", "RB"], [",", ","], ["if", "IN"], ["the", "DT"], [",", ","], ["table", "JJ"], ["size", "NN"], ["is", "VBZ"], ["set", "VBN"], ["appropriately", "RB"], [".", "."], ["In", "IN"], ["ancient", "JJ"], ["times", "NNS"], [",", ","], ["memory", "NN"], ["was", "VBD"], [",", ","], ["at", "IN"], ["quite", "RB"], ["a", "DT"], ["premium", "NN"], ["and", "CC"], ["so", "RB"], ["people", "NNS"], ["were", "VBD"], ["very", "RB"], ["concerned", "VBN"], ["in", "IN"], ["m-m-making", "JJ"], ["sure", "NN"], ["that", "IN"], ["the", "DT"], ["hash", "NN"], ["table", "NN"], ["never", "RB"], [",", ","], ["got", "VBD"], ["too", "RB"], ["empty", "JJ"], [".", "."], ["Remember", "NNP"], ["in", "IN"], ["the", "DT"], ["first", "JJ"], ["computers", "NNS"], [",", ","], ["each", "DT"], ["bit", "NN"], ["was", "VBD"], ["a", "DT"], ["physical", "JJ"], ["thing", "NN"], [",", ","], ["a", "DT"], ["magnetic", "JJ"], ["core", "NN"], ["that", "IN"], ["somebody", "NN"], ["had", "VBD"], ["to", "TO"], ["string", "VBG"], ["a", "DT"], ["wire", "NN"], ["through", "IN"], [",", ","], ["so", "RB"], [".", "."], ["The", "DT"], ["bits", "NNS"], ["were", "VBD"], ["really", "RB"], ["expensive", "JJ"], [",", ","], ["and", "CC"], ["people", "NNS"], ["wanted", "VBD"], ["to", "TO"], ["make", "VB"], ["sure", "JJ"], [",", ","], ["that", "IN"], ["they", "PRP"], ["were", "VBD"], ["making", "VBG"], ["best", "JJS"], ["use", "NN"], ["of", "IN"], ["the", "DT"], ["memory", "NN"], [".", "."], ["And", "CC"], ["just", "RB"], ["leaving", "VBG"], ["empty", "JJ"], ["positions", "NNS"], ["around", "IN"], [",", ","], ["in", "IN"], ["a", "DT"], ["hash", "NN"], ["table", "NN"], [",", ","], ["or", "CC"], ["using", "VBG"], ["links", "NNS"], ["in", "IN"], ["a", "DT"], ["link", "NN"], ["list", "NN"], [",", ","], ["did", "VBD"], ["not", "RB"], ["seem", "VB"], ["like", "IN"], ["an", "DT"], ["appropriate", "JJ"], ["use", "NN"], ["of", "IN"], ["space", "NN"], [".", "."], ["And", "CC"], [",", ","], ["so", "RB"], ["there", "EX"], ["was", "VBD"], ["quite", "RB"], ["a", "DT"], ["bit", "NN"], ["of", "IN"], ["effort", "NN"], [",", ","], ["devoted", "VBN"], ["to", "TO"], ["figuring", "VBG"], ["it", "PRP"], ["out", "RP"], [",", ","], ["how", "WRB"], ["full", "JJ"], ["we", "PRP"], ["could", "MD"], ["get", "VB"], ["the", "DT"], ["hash", "NN"], ["table", "NN"], [",", ","], ["in", "IN"], ["linear", "JJ"], ["probing", "NN"], [".", "."], ["And", "CC"], ["how", "WRB"], ["close", "JJ"], ["it", "PRP"], ["could", "MD"], ["get", "VB"], ["to", "TO"], ["full", "JJ"], ["without", "IN"], ["sacrificing", "VBG"], ["performance", "NN"], [".", "."], ["And", "CC"], ["one", "CD"], ["way", "NN"], ["to", "TO"], ["think", "VB"], ["about", "IN"], ["what", "WP"], ["goes", "VBZ"], ["on", "IN"], ["is", "VBZ"], ["to", "TO"], ["just", "RB"], ["watch", "VB"], ["what", "WP"], ["happens", "VBZ"], ["when", "WRB"], ["a", "DT"], ["hash", "NN"], ["table", "NN"], ["fills", "VBZ"], ["up", "RP"], [".", "."], ["So", "RB"], ["here", "RB"], ["we", "PRP"], ["just", "RB"], ["as", "RB"], [",", ","], ["as", "IN"], ["it", "PRP"], ["goes", "VBZ"], ["up", "IN"], ["we", "PRP"], ["'re", "VBP"], ["showing", "VBG"], ["each", "DT"], ["key", "NN"], ["getting", "VBG"], ["inserted", "VBN"], ["in", "IN"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["probes", "NNS"], ["of", "IN"], ["the", "DT"], ["table", "NN"], ["that", "WDT"], ["are", "VBP"], ["needed", "VBN"], ["for", "IN"], ["the", "DT"], ["insertions", "NNS"], ["are", "VBP"], ["J", "NNP"], ["hash", "NN"], ["to", "TO"], ["the", "DT"], ["same", "JJ"], ["position", "NN"], ["that", "IN"], ["A", "NNP"], [";", ":"], ["you", "PRP"], ["had", "VBD"], ["to", "TO"], ["look", "VB"], ["for", "IN"], ["a", "DT"], ["while", "NN"], [",", ","], ["and", "CC"], ["the", "DT"], ["one", "CD"], ["thing", "NN"], ["to", "TO"], ["notice", "NN"], ["is", "VBZ"], ["as", "IN"], ["the", "DT"], ["table", "NN"], ["gets", "VBZ"], ["full", "JJ"], [",", ","], ["is", "VBZ"], ["that", "IN"], ["first", "JJ"], ["of", "IN"], ["all", "DT"], [".", "."], ["You", "PRP"], ["have", "VBP"], [",", ","], ["these", "DT"], ["clusters", "NNS"], ["or", "CC"], ["these", "DT"], ["chains", "NNS"], ["building", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], [",", ","], ["what", "WP"], ["'s", "VBZ"], ["clear", "JJ"], ["about", "IN"], ["that", "DT"], ["is", "VBZ"], ["that", "IN"], [",", ","], ["it", "PRP"], ["means", "VBZ"], ["that", "IN"], [",", ","], ["the", "DT"], ["new", "JJ"], ["hash", "NN"], ["is", "VBZ"], ["likely", "JJ"], ["to", "TO"], ["hash", "VB"], ["into", "IN"], ["a", "DT"], ["big", "JJ"], ["cluster", "NN"], [".", "."], [">", "CC"], [">", "JJ"], ["And", "CC"], ["not", "RB"], ["only", "RB"], ["that", "IN"], ["once", "RB"], ["you", "PRP"], ["have", "VBP"], ["a", "DT"], ["big", "JJ"], ["cluster", "NN"], ["and", "CC"], ["you", "PRP"], ["hash", "VBP"], ["into", "IN"], ["the", "DT"], ["middle", "NN"], ["of", "IN"], ["it", "PRP"], ["you", "PRP"], ["'ve", "VBP"], ["got", "VBN"], ["a", "DT"], ["good", "JJ"], ["chance", "NN"], ["that", "IN"], [",", ","], ["that", "IN"], ["clusters", "NNS"], ["going", "VBG"], ["to", "TO"], ["get", "VB"], ["longer", "JJR"], [",", ","], ["or", "CC"], ["worse", "JJR"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["it", "PRP"], ["'s", "VBZ"], ["even", "RB"], ["going", "VBG"], ["to", "TO"], ["merge", "VB"], ["with", "IN"], ["another", "DT"], ["big", "JJ"], ["cluster", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["situation", "NN"], ["as", "IN"], ["the", "DT"], ["table", "NN"], ["fills", "VBZ"], ["up", "RP"], [".", "."], ["You", "PRP"], ["get", "VBP"], ["long", "JJ"], ["clusters", "NNS"], ["and", "CC"], ["they", "PRP"], ["'re", "VBP"], ["likely", "JJ"], ["to", "TO"], ["get", "VB"], ["longer", "JJR"], [".", "."], ["And", "CC"], ["the", "DT"], ["math", "NN"], ["bares", "VBZ"], ["that", "IN"], ["out", "RP"], [".", "."], ["Now", "RB"], ["this", "DT"], ["was", "VBD"], ["studied", "VBN"], ["in", "IN"], ["detail", "NN"], ["by", "IN"], ["Knauf", "NNP"], [",", ","], ["Don", "NNP"], ["Knauf", "NNP"], [",", ","], ["in", "IN"], ["the", "DT"], ["1960", "CD"], ["'s", "POS"], ["and", "CC"], ["actually", "RB"], ["this", "DT"], ["problem", "NN"], [",", ","], ["Knauf", "NNP"], ["says", "VBZ"], [",", ","], ["was", "VBD"], ["the", "DT"], ["origin", "NN"], ["of", "IN"], ["the", "DT"], ["origin", "NN"], ["of", "IN"], ["analysis", "NN"], ["of", "IN"], ["algorithms", "NN"], [".", "."], ["Mathematicians", "NNPS"], ["were", "VBD"], ["trying", "VBG"], ["hard", "JJ"], ["to", "TO"], ["understand", "VB"], ["this", "DT"], ["problem", "NN"], ["and", "CC"], ["were", "VBD"], ["ready", "JJ"], ["to", "TO"], ["give", "VB"], ["up", "RP"], ["and", "CC"], ["he", "PRP"], ["realized", "VBD"], ["you", "PRP"], ["could", "MD"], ["use", "VB"], ["classical", "JJ"], ["balls", "NNS"], ["and", "CC"], ["bins", "NNS"], ["type", "VBP"], ["probabilistic", "JJ"], ["analysis", "NN"], [".", "."], ["Not", "RB"], ["an", "DT"], ["easy", "JJ"], ["analysis", "NN"], [",", ","], ["but", "CC"], ["we", "PRP"], ["actually", "RB"], ["could", "MD"], ["make", "VB"], ["precise", "JJ"], ["accurate", "JJ"], ["statements", "NNS"], ["about", "IN"], ["the", "DT"], ["performance", "NN"], ["of", "IN"], ["this", "DT"], ["algorithm", "NN"], [".", "."], ["And", "CC"], ["those", "DT"], ["statements", "NNS"], ["can", "MD"], ["be", "VB"], ["borne", "VBN"], ["out", "RP"], ["in", "IN"], ["practice", "NN"], [",", ","], ["because", "IN"], ["the", "DT"], ["hash", "NN"], ["functions", "NNS"], ["approximate", "VBP"], ["random", "NN"], [",", ","], ["the", "DT"], ["math", "NN"], ["assumes", "VBZ"], ["random", "JJ"], ["and", "CC"], ["the", "DT"], ["formulas", "NNS"], ["predict", "VBP"], ["what", "WP"], ["actually", "RB"], ["happened", "VBD"], ["in", "IN"], ["practice", "NN"], [".", "."], ["No", "DT"], ["way", "NN"], ["can", "MD"], ["you", "PRP"], ["formulate", "VB"], ["the", "DT"], ["problem", "NN"], ["as", "IN"], ["so", "RB"], ["called", "VBD"], ["parking", "NN"], ["problem", "NN"], [".", "."], ["So", "RB"], [",", ","], ["what", "WP"], ["happens", "VBZ"], ["is", "VBZ"], ["that", "IN"], ["you", "PRP"], ["are", "VBP"], ["on", "IN"], ["a", "DT"], ["one", "CD"], ["way", "NN"], ["street", "NN"], ["and", "CC"], ["you", "PRP"], ["are", "VBP"], ["looking", "VBG"], ["for", "IN"], ["a", "DT"], ["parking", "JJ"], ["place", "NN"], ["and", "CC"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], [",", ","], ["the", "DT"], ["idea", "NN"], ["'s", "POS"], ["you", "PRP"], ["start", "VBP"], ["looking", "VBG"], ["for", "IN"], ["a", "DT"], ["parking", "JJ"], ["place", "NN"], ["at", "IN"], ["particular", "JJ"], ["times", "NNS"], ["and", "CC"], ["say", "VBP"], ["``", "``"], ["Okay", "NNP"], [",", ","], ["now", "RB"], ["I", "PRP"], ["need", "VBP"], ["a", "DT"], ["parking", "JJ"], ["place", "NN"], ["''", "''"], [",", ","], ["and", "CC"], ["what", "WP"], ["you", "PRP"], ["'re", "VBP"], ["doing", "VBG"], ["is", "VBZ"], ["linear", "JJ"], ["probing", "VBG"], ["hashing", "NN"], [".", "."], ["If", "IN"], ["the", "DT"], ["current", "JJ"], ["space", "NN"], ["is", "VBZ"], ["taken", "VBN"], [",", ","], ["you", "PRP"], ["try", "VBP"], ["the", "DT"], ["next", "JJ"], ["space", "NN"], ["and", "CC"], ["the", "DT"], ["one", "NN"], ["after", "IN"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["And", "CC"], ["the", "DT"], ["question", "NN"], ["is", "VBZ"], [".", "."], ["If", "IN"], ["every", "DT"], ["car", "NN"], [".", "."], ["Starts", "VBZ"], ["looking", "VBG"], ["for", "IN"], ["a", "DT"], ["place", "NN"], ["at", "IN"], ["a", "DT"], ["random", "JJ"], ["time", "NN"], [".", "."], ["That", "DT"], [".", "."], ["Then", "RB"], ["that", "IN"], ["models", "NNS"], ["the", "DT"], ["hash", "NN"], ["function", "NN"], [",", ","], ["then", "RB"], ["how", "WRB"], ["far", "RB"], ["do", "VBP"], ["they", "PRP"], ["have", "VB"], ["to", "TO"], ["go", "VB"], ["to", "TO"], ["look", "VB"], ["for", "IN"], ["a", "DT"], ["place", "NN"], ["?", "."], ["That", "DT"], ["'s", "VBZ"], ["canoot", "NN"], ["'s", "POS"], ["parking", "NN"], ["problem", "NN"], [".", "."], ["And", "CC"], ["he", "PRP"], ["was", "VBD"], ["able", "JJ"], ["to", "TO"], ["show", "VB"], [",", ","], ["and", "CC"], ["we", "PRP"], ["'ll", "MD"], ["talk", "VB"], ["just", "RB"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["about", "IN"], ["this", "DT"], [",", ","], ["that", "IN"], ["if", "IN"], [",", ","], ["there", "EX"], ["'s", "VBZ"], [",", ","], ["only", "RB"], ["half", "NN"], ["of", "IN"], ["the", "DT"], ["parking", "NN"], ["spaces", "NNS"], ["are", "VBP"], ["occupied", "VBN"], [",", ","], ["then", "RB"], [",", ","], ["on", "IN"], ["average", "NN"], [",", ","], ["half", "PDT"], ["the", "DT"], ["people", "NNS"], ["find", "VBP"], [",", ","], ["find", "VBP"], ["it", "PRP"], ["after", "IN"], ["one", "CD"], ["place", "NN"], ["and", "CC"], ["the", "DT"], ["other", "JJ"], ["half", "NN"], ["have", "VBP"], ["to", "TO"], ["look", "VB"], ["one", "CD"], ["extra", "NN"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["kind", "NN"], ["of", "IN"], ["performance", "NN"], ["that", "IN"], ["we", "PRP"], ["want", "VBP"], [".", "."], ["But", "CC"], ["as", "IN"], ["it", "PRP"], ["gets", "VBZ"], ["full", "JJ"], [".", "."], ["The", "DT"], ["displacement", "NN"], ["gets", "VBZ"], ["up", "RP"], ["to", "TO"], ["square", "VB"], ["root", "NN"], [",", ","], ["of", "IN"], ["pi", "JJ"], ["M", "NNP"], ["over", "IN"], ["eight", "CD"], [".", "."], ["Which", "NNP"], ["is", "VBZ"], ["obviously", "RB"], ["much", "JJ"], ["higher", "JJR"], ["than", "IN"], ["we", "PRP"], ["want", "VBP"], [".", "."], ["We", "PRP"], ["do", "VBP"], ["n't", "RB"], ["want", "VB"], ["our", "PRP$"], ["searches", "NNS"], ["to", "TO"], ["take", "VB"], ["that", "DT"], ["long", "JJ"], [".", "."], ["And", "CC"], ["that", "IN"], ["actually", "RB"], [",", ","], ["the", "DT"], ["analysis", "NN"], [",", ","], ["is", "VBZ"], ["amazing", "JJ"], ["function", "NN"], ["that", "WDT"], ["goes", "VBZ"], ["back", "RB"], ["to", "TO"], ["famous", "JJ"], ["Roman", "NNP"], ["Nuygen", "NNP"], ["and", "CC"], ["other", "JJ"], ["classical", "JJ"], ["results", "NNS"], ["from", "IN"], ["our", "PRP$"], ["commentorial", "JJ"], ["analysis", "NN"], [".", "."], ["What", "WP"], ["Canute", "NNP"], ["'s", "POS"], ["theorem", "NN"], ["says", "VBZ"], ["is", "VBZ"], ["that", "IN"], ["under", "IN"], ["the", "DT"], ["uniform", "JJ"], ["hashing", "NN"], ["assumption", "NN"], [",", ","], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["probes", "NNS"], ["in", "IN"], ["the", "DT"], ["linear", "JJ"], ["hash", "NN"], ["table", "NN"], ["size", "NN"], ["M", "NNP"], [",", ","], ["that", "WDT"], ["is", "VBZ"], ["alpha", "JJ"], ["percent", "NN"], ["full", "JJ"], [",", ","], ["so", "IN"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["keys", "NNS"], ["is", "VBZ"], ["a", "DT"], ["fraction", "NN"], ["of", "IN"], ["M", "NNP"], [",", ","], ["is", "VBZ"], ["for", "IN"], ["a", "DT"], ["search", "NN"], ["miss", "NN"], ["half", "NN"], ["one", "CD"], ["plus", "CC"], ["one", "CD"], ["over", "IN"], ["alpha", "NN"], [",", ","], ["and", "CC"], ["a", "DT"], ["search", "NN"], ["miss", "NN"], ["one", "CD"], ["plus", "CC"], ["one", "CD"], ["over", "IN"], ["one", "CD"], ["minus", "NN"], ["alpha", "NN"], ["squared", "VBD"], [".", "."], ["One", "CD"], ["myse", "NN"], ["alpha", "NN"], ["is", "VBZ"], ["for", "IN"], ["the", "DT"], ["hit", "NN"], [",", ","], ["one", "CD"], ["myse", "NN"], ["alpha", "NN"], ["for", "IN"], ["the", "DT"], ["squared", "VBN"], ["for", "IN"], ["the", "DT"], ["insert", "NN"], [".", "."], ["Now", "RB"], ["as", "IN"], ["alpha", "JJ"], ["gets", "VBZ"], ["close", "RB"], ["to", "TO"], ["one", "CD"], [",", ","], ["you", "PRP"], ["can", "MD"], ["see", "VB"], ["these", "DT"], ["things", "NNS"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["grow", "VB"], [",", ","], ["and", "CC"], ["particularly", "RB"], ["the", "DT"], ["search", "NN"], ["miss", "NN"], ["is", "VBZ"], ["growing", "VBG"], ["to", "TO"], ["grow", "VB"], ["quite", "RB"], [",", ","], ["quite", "RB"], ["a", "DT"], ["bit", "NN"], [".", "."], ["If", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["9/10", "CD"], ["'s", "POS"], ["full", "JJ"], ["one", "CD"], ["over", "IN"], ["one", "CD"], ["minus", "NN"], ["alpha", "NN"], ["squared", "VBD"], ["is", "VBZ"], ["100", "CD"], ["one", "NN"], ["over", "IN"], ["100", "CD"], [",", ","], ["so", "IN"], ["it", "PRP"], ["means", "VBZ"], ["it", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["50", "CD"], ["p", "JJ"], ["robes", "NNS"], ["for", "IN"], ["a", "DT"], ["search", "NN"], ["miss", "NN"], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["9/10", "CD"], ["'s", "POS"], ["full", "JJ"], [",", ","], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["independent", "JJ"], ["of", "IN"], ["N", "NNP"], ["and", "CC"], ["M", "NNP"], [",", ","], ["whereas", "IN"], ["if", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["half", "JJ"], ["full", "JJ"], ["then", "RB"], ["we", "PRP"], ["get", "VBP"], ["the", "DT"], ["nice", "JJ"], [".", "."], ["Numbers", "NNS"], ["of", "IN"], ["only", "RB"], ["3-house", "NNP"], ["for", "IN"], ["a", "DT"], ["hit", "NN"], [",", ","], ["and", "CC"], ["only", "RB"], ["5-house", "NN"], ["for", "IN"], ["a", "DT"], ["miss", "NN"], [".", "."], ["And", "CC"], [",", ","], ["again", "RB"], ["these", "DT"], ["formulas", "NNS"], ["are", "VBP"], ["nice", "JJ"], ["approximate", "JJ"], ["formulas", "NNS"], [",", ","], ["but", "CC"], ["Knuth", "NNP"], [",", ","], ["once", "RB"], ["he", "PRP"], ["figured", "VBD"], ["this", "DT"], ["out", "RP"], [",", ","], ["in", "IN"], ["1963", "CD"], [",", ","], ["tells", "VBZ"], ["stories", "NNS"], [",", ","], ["that", "IN"], ["time", "NN"], [",", ","], ["he", "PRP"], ["decided", "VBD"], ["to", "TO"], ["write", "VB"], ["his", "PRP$"], ["famous", "JJ"], ["series", "NN"], ["of", "IN"], ["books", "NNS"], ["on", "IN"], ["algorithms", "NN"], [".", "."], ["Now", "RB"], ["there", "EX"], ["'s", "VBZ"], ["four", "CD"], ["volumes", "NNS"], ["out", "RB"], ["and", "CC"], ["more", "RBR"], ["planned", "JJ"], [",", ","], ["and", "CC"], ["this", "DT"], ["is", "VBZ"], ["where", "WRB"], [",", ","], ["all", "DT"], ["computer", "NN"], ["scientists", "NNS"], ["go", "VBP"], [".", "."], ["For", "IN"], ["detailed", "JJ"], ["information", "NN"], ["on", "IN"], ["a", "DT"], ["performance", "NN"], [",", ","], ["eval", "JJ"], ["grievance", "NN"], [".", "."], ["So", "RB"], [",", ","], ["in", "IN"], [",", ","], ["in", "IN"], ["summary", "JJ"], [".", "."], ["You", "PRP"], ["ca", "MD"], ["n't", "RB"], ["have", "VB"], ["M", "NNP"], ["too", "RB"], ["large", "JJ"], [",", ","], ["what", "WP"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["use", "VB"], ["nowadays", "NNS"], ["is", "VBZ"], ["array", "JJ"], ["resizing", "VBG"], ["to", "TO"], ["make", "VB"], ["sure", "JJ"], ["that", "IN"], ["the", "DT"], ["array", "NN"], ["is", "VBZ"], ["always", "RB"], ["about", "IN"], ["half", "JJ"], ["time", "NN"], [",", ","], ["half", "NN"], ["full", "JJ"], [".", "."], ["And", "CC"], ["if", "IN"], ["we", "PRP"], ["can", "MD"], ["keep", "VB"], ["the", "DT"], ["array", "NN"], ["about", "IN"], ["half", "PDT"], ["full", "JJ"], ["then", "RB"], ["we", "PRP"], ["get", "VBP"], ["constant", "JJ"], ["time", "NN"], ["performance", "NN"], ["for", "IN"], ["search", "NN"], ["hit", "NN"], ["and", "CC"], ["search", "NN"], ["miss", "NN"], [".", "."], ["And", "CC"], ["linear", "JJ"], ["probing", "NN"], ["is", "VBZ"], ["very", "RB"], ["attractive", "JJ"], ["in", "IN"], ["this", "DT"], ["case", "NN"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["other", "JJ"], ["things", "NNS"], ["that", "IN"], ["we", "PRP"], ["can", "MD"], ["do", "VB"], ["algorithmically", "RB"], ["to", "TO"], ["bring", "VB"], ["down", "RP"], ["the", "DT"], ["search", "NN"], ["time", "NN"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], [".", "."], ["Like", "IN"], ["using", "VBG"], ["another", "DT"], ["hatch", "NN"], ["function", "NN"], ["rather", "RB"], ["than", "IN"], ["looking", "VBG"], ["at", "IN"], ["the", "DT"], ["next", "JJ"], ["entry", "NN"], [".", "."], ["Use", "VB"], ["another", "DT"], ["hatch", "NN"], ["function", "NN"], ["to", "TO"], ["determine", "VB"], ["the", "DT"], ["stride", "NN"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["use", "VB"], [".", "."], ["And", "CC"], ["that", "IN"], ["brings", "VBZ"], ["it", "PRP"], ["down", "RP"], ["somewhat", "RB"], ["and", "CC"], ["allows", "VBZ"], ["us", "PRP"], ["to", "TO"], ["keep", "VB"], ["the", "DT"], ["tables", "NNS"], ["more", "RBR"], ["full", "JJ"], [".", "."], ["But", "CC"], ["the", "DT"], ["bottom", "JJ"], ["line", "NN"], ["is", "VBZ"], ["that", "IN"], ["now", "RB"], ["we", "PRP"], ["have", "VBP"], ["two", "CD"], ["methods", "NNS"], ["that", "WDT"], ["under", "IN"], ["the", "DT"], ["uniform", "JJ"], ["hashing", "NN"], ["assumption", "NN"], ["can", "MD"], ["give", "VB"], ["us", "PRP"], ["constant", "JJ"], ["time", "NN"], [",", ","], ["search", "NN"], [",", ","], ["search", "NN"], ["it", "PRP"], ["insert", "JJ"], ["and", "CC"], ["delete", "JJ"], [".", "."], ["For", "IN"], ["symbol", "NN"], ["table", "NN"], ["implementations", "NNS"], ["where", "WRB"], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["need", "VB"], ["ordering", "VBG"], [".", "."], ["And", "CC"], ["we", "PRP"], ["'ve", "VBP"], ["got", "VBD"], ["a", "DT"], ["reasonable", "JJ"], ["hash", "NN"], ["function", "NN"], [".", "."], ["So", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["summary", "NN"], ["of", "IN"], ["linear", "JJ"], ["probing", "VBG"], ["or", "CC"], ["second", "JJ"], ["hash", "NN"], [",", ","], ["collision", "NN"], ["avoidance", "NN"], ["strategy", "NN"], [".", "."]], "title": "linear probing", "text": "Another popular closure resolution method is known as linear probing. In this you know many different versions of hashing that are based on this idea. With linear probing is called open addressing and is also around the same time in the 50's the idea is just use an array. Instead of using space for the length in a length list. I use that same space, and just, allocate an array. In this case, the size of the array is going to have to be bigger than the number of keys that we [inaudible] expect. And we use the empty slots in the array. To. Essentially terminate the length of the [inaudible] list that we have to search through when we're doing a insertion. So let's look at a demo of how it looks. So to hash again we do the same thing, we just map the key to a index. But, in linear probing, to insert what we do is when we put it in position I if that's free, if not we just look at I plus one, and I plus two, and wrap around to the beginning if we reach the end. Now that's also simple to implement and it works well as long the size of the array is, significantly bigger than the number of keys. Let's look at, Well it's a demo. So we start with an empty table, insert s, it's hash value is six, six is empty so we put it there. Now we look at e, hash of e is ten, we look at ten, it's empty so we put e there. So at the beginning we're going to be fine. A is four, empty, put it there. R is fourteen, empty, put it there. So we just essentially, using the hash funtion as an array index. C is five, that's empty and we put it there. So H now, the hash value of H is four. So now we look at four, and that's occupied, so we can't put the H there. And then linear probing says, just look at the next position, look at five. That's still not empty. So we look at six. And we keep going till we find an empty place, and then we put H there. Now when we search, we're going to have to do the same thing. We'r e going to have to look at all those positions to look at H. The. Group of four key, continuous keys in a table space there is called a cluster and clearly we want to keep those clusters small. And we do that by juts by not putting too many keys in to the table. So X hashes to fifteen, that's empty so we put it there, M hashes to one, that's empty and we put it there. P hashes to fourteen, 14's occupied, 15's also occupied, now we run off the end of the table, and look at zero, and that's empty so we put it there. L hashes to six. Six is occupied. We look at seven, seven is occupied. We look at eight, and we put it there. And, so that's an example of inserting, keys into a hash table. And now, for a search, we just do the same thing. We, use the hash function. To search for E, E's hash value is ten so we look in ten and there it is. So that's a search hit. If we're going to search for say L L's hatch value is six so it's not there. So in order to look at every place in the table where L could be, we have to keep looking til we found an empty table position, or we find L itself. So now we look at seven L not there, we look at eight L is there, that's a search hit. If we have a value that's not in the table like K, well hash and is in position five, no, six no, seven no, eight no and we find an empty position at that point we can conclude that K is not in the table. Because if K were in the table it would be somewhere between it's hash point five and that empty position nine. That's a search miss, and we return all. So that's a short demo of linear probing hashing. So here's a summary of linear probing, hashing. To. To get started we map a key to a integer between zero and m-1 where m is the sides of our array where we are storing the keys. To insert we put the key value pair. Use parallel arrays [inaudible] and the value array with the same index. We put the entry at the table index A for three. If not try I+1 I+2 until getting to a empty position. And for search you do the same thing you hash to the table position and you look there into the right. To find the key and you stop when you find an empty table position. Find the key or find an empty table position. Now, it's essential that the array size is greater than the number of key value pairs N. And for linear probing hashing, really, the implementation needs to include array resizing, whenever the hash table gets too full. Here's the implementation. And it's, quite straightforward, given the demo that we talked about. You use the same hash function. And we use parallel arrays for the value in the keys. And we have to use ugly cast, 'cause we can't have a race of generics. Then let's do the search. So. We just have a for loop starting at hash of key and going until we get to a position that's null. As long as it's not null, we stay in the loop and increment I mod m. So that's when I gets to the end it gets to the end, it's in the position m minus one and it goes... In the next increment goes back to zero at the left end of the table and we just test for all the non null keys. If it's equal, if it is, go ahead and return the associated value and if you get to an empty position, then return null. And the implementation of put is similar. Find a, a position, if it's, that's equal, And then, reset the key, in the value. If the key's there, it just resets the value. If they key's not there, it puts a new entry in. So again, that's, fairly little code, to implement, a fast symbol table and insert, search and insert. But it's only going to be fast, if the, table size is set appropriately. In ancient times, memory was, at quite a premium and so people were very concerned in m-m-making sure that the hash table never, got too empty. Remember in the first computers, each bit was a physical thing, a magnetic core that somebody had to string a wire through, so. The bits were really expensive, and people wanted to make sure, that they were making best use of the memory. And just leaving empty positions around, in a hash table, or using links in a link list, did not seem like an appropriate use of space. And, so there was quite a bit of effort, devoted to figuring it out, how full we could get the hash table, in linear probing. And how close it could get to full without sacrificing performance. And one way to think about what goes on is to just watch what happens when a hash table fills up. So here we just as, as it goes up we're showing each key getting inserted in the number of probes of the table that are needed for the insertions are J hash to the same position that A; you had to look for a while, and the one thing to notice is as the table gets full, is that first of all. You have, these clusters or these chains building. And so, what's clear about that is that, it means that, the new hash is likely to hash into a big cluster. >> And not only that once you have a big cluster and you hash into the middle of it you've got a good chance that, that clusters going to get longer, or worse. That's it's even going to merge with another big cluster. And so, that's the situation as the table fills up. You get long clusters and they're likely to get longer. And the math bares that out. Now this was studied in detail by Knauf, Don Knauf, in the 1960's and actually this problem, Knauf says, was the origin of the origin of analysis of algorithms. Mathematicians were trying hard to understand this problem and were ready to give up and he realized you could use classical balls and bins type probabilistic analysis. Not an easy analysis, but we actually could make precise accurate statements about the performance of this algorithm. And those statements can be borne out in practice, because the hash functions approximate random, the math assumes random and the formulas predict what actually happened in practice. No way can you formulate the problem as so called parking problem. So, what happens is that you are on a one way street and you are looking for a parking place and, it's, the idea's you start looking for a parking place at particular times and say \"Okay, now I need a parking place\", and what you're doing is linear probing hashing. If the current space is taken, you try the next space and the one after and so forth. And the question is. If every car. Starts looking for a place at a random time. That. Then that models the hash function, then how far do they have to go to look for a place? That's canoot's parking problem. And he was able to show, and we'll talk just a little bit about this, that if, there's, only half of the parking spaces are occupied, then, on average, half the people find, find it after one place and the other half have to look one extra. So that's the kind of performance that we want. But as it gets full. The displacement gets up to square root, of pi M over eight. Which is obviously much higher than we want. We don't want our searches to take that long. And that actually, the analysis, is amazing function that goes back to famous Roman Nuygen and other classical results from our commentorial analysis. What Canute's theorem says is that under the uniform hashing assumption, the number of probes in the linear hash table size M, that is alpha percent full, so the number of keys is a fraction of M, is for a search miss half one plus one over alpha, and a search miss one plus one over one minus alpha squared. One myse alpha is for the hit, one myse alpha for the squared for the insert. Now as alpha gets close to one, you can see these things are going to grow, and particularly the search miss is growing to grow quite, quite a bit. If it's 9/10's full one over one minus alpha squared is 100 one over 100, so it means it's going to be 50 p robes for a search miss if it's 9/10's full, and that's independent of N and M, whereas if it's half full then we get the nice. Numbers of only 3-house for a hit, and only 5-house for a miss. And, again these formulas are nice approximate formulas, but Knuth, once he figured this out, in 1963, tells stories, that time, he decided to write his famous series of books on algorithms. Now there's four volumes out and more planned, and this is where, all computer scientists go. For detailed information on a performance, eval grievance. So, in, in summary. You can't have M too large, what we want to use nowadays is array resizing to make sure that the array is always about half time, half full. And if we can keep the array about half full then we get constant time performance for search hit and search miss. And linear probing is very attractive in this case. There's other things that we can do algorithmically to bring down the search time a little bit. Like using another hatch function rather than looking at the next entry. Use another hatch function to determine the stride that we're going to use. And that brings it down somewhat and allows us to keep the tables more full. But the bottom line is that now we have two methods that under the uniform hashing assumption can give us constant time, search, search it insert and delete. For symbol table implementations where we don't need ordering. And we've got a reasonable hash function. So, that's a summary of linear probing or second hash, collision avoidance strategy. ", "video_ID": 54, "course_id": 3}
{"category": ["hash tables"], "tagged": [["So", "RB"], ["let", "VB"], ["'s", "POS"], ["just", "RB"], ["look", "NN"], ["at", "IN"], ["a", "DT"], ["little", "JJ"], ["bit", "NN"], ["of", "IN"], ["the", "DT"], ["context", "NN"], ["of", "IN"], ["hashing", "VBG"], ["in", "IN"], ["practical", "JJ"], ["applications", "NNS"], [".", "."], ["As", "IN"], ["I", "PRP"], ["mentioned", "VBD"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["very", "RB"], ["widely", "RB"], ["used", "VBN"], [".", "."], ["So", "RB"], ["here", "RB"], ["'s", "VBZ"], ["an", "DT"], [",", ","], ["here", "RB"], ["'s", "VBZ"], ["an", "DT"], ["example", "NN"], ["right", "NN"], ["from", "IN"], ["Java", "NNP"], [".", "."], ["The", "DT"], ["first", "JJ"], [".", "."], ["Implementation", "NN"], ["of", "IN"], ["Java", "NNP"], ["1.1", "CD"], [".", "."], ["The", "DT"], ["designers", "NNS"], ["found", "VBD"], ["that", "IN"], ["the", "DT"], ["cost", "NN"], ["of", "IN"], ["computing", "VBG"], ["the", "DT"], ["hash", "NN"], ["function", "NN"], ["for", "IN"], ["strings", "NNS"], ["seemed", "VBD"], ["to", "TO"], ["be", "VB"], ["excessive", "JJ"], [",", ","], ["particularly", "RB"], ["for", "IN"], ["long", "JJ"], ["strings", "NNS"], [".", "."], ["And", "CC"], ["that", "DT"], ["was", "VBD"], ["one", "CD"], ["of", "IN"], ["the", "DT"], ["main", "JJ"], ["uses", "NNS"], ["of", "IN"], ["hashing", "NN"], [",", ","], ["was", "VBD"], ["just", "RB"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["do", "VB"], ["searching", "VBG"], ["with", "IN"], ["string", "VBG"], ["keys", "NNS"], [".", "."], ["And", "CC"], ["so", "RB"], ["what", "WP"], ["they", "PRP"], ["decided", "VBD"], ["in", "IN"], ["the", "DT"], ["first", "JJ"], ["implementation", "NN"], ["was", "VBD"], ["let", "VBN"], ["'s", "POS"], ["just", "RB"], ["look", "NN"], ["at", "IN"], ["every", "DT"], ["eighth", "NN"], ["or", "CC"], ["ninth", "JJ"], ["character", "NN"], [",", ","], ["and", "CC"], ["that", "DT"], ["way", "NN"], [",", ","], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["have", "VB"], ["to", "TO"], ["spend", "VB"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["time", "NN"], ["computing", "VBG"], ["the", "DT"], ["hash", "NN"], ["function", "NN"], [".", "."], ["So", "IN"], ["they", "PRP"], ["had", "VBD"], ["a", "DT"], ["hash", "JJ"], ["function", "NN"], ["pretty", "RB"], ["much", "JJ"], ["like", "IN"], ["the", "DT"], ["one", "NN"], ["that", "IN"], ["we", "PRP"], ["use", "VBP"], [".", "."], ["Except", "IN"], ["that", "IN"], ["it", "PRP"], ["compute", "VBZ"], ["a", "DT"], ["skip", "NN"], ["that", "WDT"], ["would", "MD"], ["mean", "VB"], ["that", "IN"], [",", ","], ["that", "IN"], ["only", "RB"], ["look", "VB"], ["at", "IN"], ["about", "RB"], ["every", "DT"], ["eight", "CD"], ["key", "NNS"], ["and", "CC"], ["they", "PRP"], ["would", "MD"], ["n't", "RB"], ["have", "VB"], ["to", "TO"], ["do", "VB"], ["quite", "RB"], ["so", "RB"], ["much", "JJ"], ["work", "NN"], ["performing", "VBG"], ["the", "DT"], ["hash", "NN"], ["function", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["diffidently", "RB"], ["one", "CD"], ["thing", "NN"], ["to", "TO"], ["consider", "VB"], ["when", "WRB"], ["using", "VBG"], ["hashing", "NN"], ["is", "VBZ"], ["that", "IN"], ["the", "DT"], ["cost", "NN"], ["of", "IN"], ["computing", "VBG"], ["the", "DT"], ["hash", "NN"], ["function", "NN"], ["for", "IN"], ["a", "DT"], ["complicated", "JJ"], ["key", "NN"], ["might", "MD"], ["exceed", "VB"], ["the", "DT"], ["cost", "NN"], ["of", "IN"], ["searching", "VBG"], ["and", "CC"], ["using", "VBG"], ["a", "DT"], ["simpler", "NN"], ["structure", "NN"], ["like", "IN"], ["a", "DT"], ["binary", "JJ"], ["search", "NN"], ["tree", "NN"], [".", "."], ["And", "CC"], ["anyway", "RB"], ["for", "IN"], ["Java", "NNP"], ["1.1", "CD"], ["what", "WP"], ["happened", "VBD"], ["was", "VBD"], ["that", "IN"], ["there", "EX"], ["was", "VBD"], ["a", "DT"], ["huge", "JJ"], ["potentail", "NN"], ["for", "IN"], ["really", "RB"], ["bad", "JJ"], ["collision", "NN"], ["patterns", "NNS"], ["on", "IN"], ["typical", "JJ"], ["data", "NNS"], [".", "."], ["So", "NNP"], ["here", "RB"], ["'s", "VBZ"], ["the", "DT"], ["example", "NN"], ["of", "IN"], ["typical", "JJ"], ["data", "NNS"], [",", ","], ["which", "WDT"], ["is", "VBZ"], ["a", "DT"], ["URL", "NNP"], [".", "."], ["All", "DT"], ["of", "IN"], ["these", "DT"], ["keys", "NNS"], [",", ","], ["which", "WDT"], ["are", "VBP"], ["totally", "RB"], ["different", "JJ"], [",", ","], ["would", "MD"], ["wind", "VB"], ["up", "RP"], ["having", "VBG"], ["the", "DT"], ["same", "JJ"], ["collision", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], ["client", "NN"], ["programs", "NNS"], ["and", "CC"], ["system", "NN"], ["programs", "NNS"], ["on", "IN"], ["the", "DT"], ["Java", "NNP"], ["system", "NN"], ["were", "VBD"], ["having", "VBG"], ["terrible", "JJ"], ["performance", "NN"], ["on", "IN"], ["their", "PRP$"], ["symbol", "NN"], ["table", "NN"], ["because", "IN"], ["of", "IN"], ["the", "DT"], ["shortcut", "NN"], ["in", "IN"], ["hashing", "VBG"], [".", "."], ["So", "IN"], ["this", "DT"], ["well", "NN"], ["illustrates", "VBZ"], ["that", "IN"], ["you", "PRP"], ["need", "VBP"], ["to", "TO"], ["use", "VB"], ["all", "DT"], ["of", "IN"], ["the", "DT"], ["data", "NNS"], ["in", "IN"], ["the", "DT"], ["hash", "NN"], ["function", "NN"], ["and", "CC"], ["sometime", "NN"], ["we", "PRP"], ["do", "VBP"], ["a", "DT"], ["closer", "NN"], ["analysis", "NN"], [".", "."], ["The", "DT"], ["cost", "NN"], ["of", "IN"], ["computing", "VBG"], ["the", "DT"], ["hash", "NN"], ["function", "NN"], ["can", "MD"], ["mean", "VB"], ["that", "IN"], ["something", "NN"], ["like", "IN"], ["red", "JJ"], ["black", "JJ"], ["trees", "NNS"], ["will", "MD"], ["even", "RB"], ["outperform", "VB"], ["hashing", "VBG"], ["even", "RB"], ["for", "IN"], ["just", "RB"], ["searching", "VBG"], ["and", "CC"], ["insert", "NN"], [".", "."], ["So", "IN"], ["there", "EX"], ["is", "VBZ"], ["another", "DT"], ["thing", "NN"], ["about", "IN"], ["the", "DT"], ["uniform", "JJ"], ["hashing", "NN"], ["assumption", "NN"], ["is", "VBZ"], ["that", "IN"], ["it", "PRP"], ["is", "VBZ"], ["an", "DT"], ["assumption", "NN"], ["and", "CC"], ["if", "IN"], ["you", "PRP"], ["are", "VBP"], ["writing", "VBG"], ["code", "NN"], ["where", "WRB"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["have", "VB"], ["guaranteed", "VBN"], ["performance", "NN"], ["like", "IN"], ["when", "WRB"], ["your", "PRP$"], ["aircraft", "NN"], ["is", "VBZ"], ["landing", "VBG"], ["or", "CC"], ["you", "PRP"], ["are", "VBP"], ["controlling", "VBG"], ["a", "DT"], ["nuclear", "JJ"], ["reactor", "NN"], ["or", "CC"], ["somebody", "NN"], ["'s", "POS"], ["pa", "JJ"], ["cemaker", "NN"], [".", "."], ["That", "IN"], [",", ","], ["if", "IN"], ["that", "DT"], ["assumption", "NN"], ["does", "VBZ"], ["n't", "RB"], ["hold", "VB"], ["and", "CC"], ["you", "PRP"], ["get", "VBP"], ["bad", "JJ"], ["performance", "NN"], ["you", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["disastrous", "JJ"], ["consequences", "NNS"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["another", "DT"], ["reason", "NN"], ["to", "TO"], ["think", "VB"], ["about", "IN"], ["maybe", "RB"], ["paying", "VBG"], ["a", "DT"], ["little", "JJ"], ["extra", "JJ"], ["and", "CC"], ["using", "VBG"], ["to", "TO"], ["guarantee", "VB"], ["that", "IN"], ["you", "PRP"], ["get", "VBP"], ["with", "IN"], ["red", "JJ"], ["black", "JJ"], ["search", "NN"], ["trees", "NNS"], [".", "."], ["Instead", "RB"], ["of", "IN"], ["hashing", "VBG"], [".", "."], ["And", "CC"], ["there", "EX"], ["'s", "VBZ"], ["another", "DT"], ["surprising", "JJ"], ["situation", "NN"], ["that", "WDT"], ["happens", "VBZ"], ["in", "IN"], ["today", "NN"], ["'s", "POS"], ["world", "NN"], [".", "."], ["For", "IN"], ["example", "NN"], ["Java", "NNP"], ["publishes", "VBZ"], ["its", "PRP$"], ["hash", "NN"], ["function", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], ["if", "IN"], ["you", "PRP"], ["'re", "VBP"], ["trying", "VBG"], ["to", "TO"], ["provide", "VB"], ["a", "DT"], ["service", "NN"], ["over", "IN"], ["the", "DT"], ["web", "NN"], [".", "."], ["An", "DT"], ["adversary", "NN"], ["can", "MD"], ["learn", "VB"], ["your", "PRP$"], ["hash", "NN"], ["function", "NN"], ["and", "CC"], ["just", "RB"], ["send", "VB"], ["you", "PRP"], ["data", "NNS"], ["that", "WDT"], ["causes", "VBZ"], ["huge", "JJ"], ["performance", "NN"], ["problem", "NN"], ["by", "IN"], ["just", "RB"], ["making", "VBG"], ["all", "PDT"], ["that", "DT"], ["data", "VBZ"], ["hash", "NN"], ["to", "TO"], ["one", "CD"], ["particular", "JJ"], ["item", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["definitely", "RB"], ["something", "NN"], ["to", "TO"], ["worry", "VB"], ["about", "RB"], [".", "."], ["And", "CC"], [",", ","], ["and", "CC"], ["in", "IN"], ["the", "DT"], ["real", "JJ"], ["world", "NN"], ["you", "PRP"], ["can", "MD"], ["nowadays", "VB"], ["find", "VB"], ["on", "IN"], ["the", "DT"], ["web", "NN"], ["particular", "JJ"], ["sequences", "NNS"], ["of", "IN"], ["keys", "NNS"], ["that", "WDT"], ["will", "MD"], ["cause", "VB"], ["particular", "JJ"], ["services", "NNS"], ["to", "TO"], ["crash", "VB"], [".", "."], ["And", "CC"], ["again", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["little", "JJ"], ["harder", "NN"], ["to", "TO"], ["do", "VB"], ["with", "IN"], ["something", "NN"], ["like", "IN"], ["a", "DT"], ["red", "JJ"], ["black", "JJ"], ["tree", "NN"], ["where", "WRB"], ["we", "PRP"], ["have", "VBP"], ["performance", "NN"], ["guarantees", "NNS"], [".", "."], ["When", "WRB"], ["you", "PRP"], ["make", "VBP"], ["an", "DT"], ["assumption", "NN"], ["you", "PRP"], ["better", "JJR"], ["be", "VB"], ["sure", "JJ"], ["and", "CC"], ["you", "PRP"], ["'re", "VBP"], ["depending", "VBG"], ["on", "IN"], ["that", "DT"], ["assumption", "NN"], [",", ","], ["you", "PRP"], ["better", "VBP"], ["be", "VB"], ["sure", "JJ"], ["that", "IN"], ["it", "PRP"], ["holds", "VBZ"], ["somehow", "RB"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["different", "JJ"], ["than", "IN"], ["for", "IN"], ["example", "NN"], ["for", "IN"], ["quick", "JJ"], ["sort", "NN"], ["when", "WRB"], ["we", "PRP"], [",", ","], ["our", "PRP$"], ["assumption", "NN"], ["was", "VBD"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["create", "VB"], ["randomness", "NN"], ["and", "CC"], ["we", "PRP"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["depend", "VB"], ["on", "IN"], ["that", "DT"], ["randomness", "NN"], [".", "."], ["In", "IN"], ["this", "DT"], ["care", "NN"], ["we", "PRP"], ["'re", "VBP"], ["kind", "NN"], ["of", "IN"], ["hoping", "VBG"], ["for", "IN"], ["randomness", "NN"], ["and", "CC"], ["maybe", "RB"], ["that", "DT"], ["does", "VBZ"], ["n't", "RB"], ["really", "RB"], ["always", "RB"], ["hold", "VB"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["certainly", "RB"], ["something", "NN"], ["to", "TO"], ["be", "VB"], ["aware", "JJ"], ["of", "IN"], ["when", "WRB"], ["using", "VBG"], ["hashing", "NN"], ["in", "IN"], ["practice", "NN"], [".", "."], ["So", "RB"], ["here", "RB"], ["'s", "VBZ"], ["just", "RB"], ["simple", "JJ"], ["example", "NN"], ["on", "IN"], ["hashing", "VBG"], ["in", "IN"], ["java", "NN"], [".", "."], ["So", "RB"], ["what", "WP"], ["we", "PRP"], ["can", "MD"], ["do", "VB"], ["is", "VBZ"], ["it", "PRP"], ["'s", "VBZ"], ["pretty", "JJ"], ["easy", "JJ"], ["to", "TO"], ["find", "VB"], ["a", "DT"], ["family", "NN"], ["of", "IN"], ["strings", "NNS"], ["that", "WDT"], ["have", "VBP"], ["the", "DT"], ["same", "JJ"], ["hash", "NN"], ["code", "NN"], ["for", "IN"], ["example", "NN"], ["with", "IN"], ["just", "RB"], ["a", "DT"], ["little", "JJ"], ["fooling", "NN"], ["around", "RB"], ["now", "RB"], ["days", "NNS"], ["you", "PRP"], ["can", "MD"], ["just", "RB"], ["look", "VB"], ["it", "PRP"], ["up", "RP"], ["on", "IN"], ["the", "DT"], ["web", "NN"], [",", ","], ["you", "PRP"], ["can", "MD"], ["see", "VB"], ["that", "IN"], ["these", "DT"], ["two", "CD"], ["character", "NN"], ["keys", "NNS"], [",", ","], ["both", "DT"], ["have", "VBP"], ["the", "DT"], ["same", "JJ"], ["hash", "NN"], ["code", "NN"], ["because", "IN"], ["when", "WRB"], ["you", "PRP"], ["just", "RB"], ["do", "VBP"], ["the", "DT"], ["math", "NN"], ["in", "IN"], ["a", "DT"], ["base", "NN"], ["31", "CD"], ["hash", "NN"], ["code", "NN"], ["it", "PRP"], ["'ll", "MD"], ["tell", "VB"], ["you", "PRP"], ["that", "DT"], ["answer", "VBP"], [".", "."], ["Well", "NNP"], ["what", "WP"], ["that", "DT"], ["means", "VBZ"], ["is", "VBZ"], ["that", "IN"], ["actually", "RB"], [",", ","], ["just", "RB"], ["like", "IN"], ["working", "VBG"], ["in", "IN"], ["binary", "JJ"], ["you", "PRP"], ["got", "VBD"], [",", ","], ["you", "PRP"], ["can", "MD"], ["combine", "VB"], ["those", "DT"], ["things", "NNS"], [".", "."], ["In", "IN"], ["all", "DT"], ["possible", "JJ"], ["ways", "NNS"], [",", ","], ["and", "CC"], ["you", "PRP"], ["can", "MD"], ["get", "VB"], ["two", "CD"], ["to", "TO"], ["the", "DT"], ["N", "NNP"], ["strings", "NNS"], [",", ","], ["for", "IN"], ["any", "DT"], ["N", "NNP"], ["of", "IN"], ["length", "NN"], ["to", "TO"], ["N", "NNP"], ["that", "IN"], ["all", "DT"], ["hash", "NN"], ["to", "TO"], ["the", "DT"], ["same", "JJ"], ["value", "NN"], [".", "."], ["And", "CC"], ["somebody", "NN"], ["'s", "POS"], ["implemented", "VBN"], ["a", "DT"], ["service", "NN"], ["in", "IN"], ["Java", "NNP"], ["that", "IN"], ["it", "PRP"], ["uses", "VBZ"], ["a", "DT"], ["simp", "JJ"], ["le", "NN"], ["table", "NN"], ["that", "WDT"], ["takes", "VBZ"], ["string", "VBG"], ["keys", "NNS"], [",", ","], ["you", "PRP"], ["can", "MD"], ["cause", "VB"], ["that", "DT"], ["to", "TO"], ["crash", "VB"], ["in", "IN"], ["this", "DT"], ["way", "NN"], [".", "."], ["Little", "JJ"], ["bit", "NN"], ["scary", "JJ"], ["for", "IN"], ["some", "DT"], ["systems", "NNS"], ["designers", "NNS"], [".", "."], ["At", "IN"], ["least", "JJS"], ["reason", "NN"], ["for", "IN"], ["pause", "NN"], ["in", "IN"], ["using", "VBG"], ["hashing", "VBG"], [".", "."], ["Now", "RB"], [",", ","], ["hashing", "VBG"], ["also", "RB"], ["has", "VBZ"], ["a", "DT"], ["extremely", "RB"], ["important", "JJ"], ["application", "NN"], ["in", "IN"], ["today", "NN"], ["'s", "POS"], ["Internet", "NNP"], ["commerce", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], ["the", "DT"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["the", "DT"], ["concept", "NN"], ["of", "IN"], ["so", "RB"], ["called", "VBN"], ["one", "CD"], ["way", "NN"], ["hash", "NN"], ["functions", "NNS"], ["which", "WDT"], ["mean", "VBP"], ["that", "IN"], ["we", "PRP"], [",", ","], ["we", "PRP"], [",", ","], ["use", "VB"], ["it", "PRP"], ["for", "IN"], ["secure", "NN"], ["to", "TO"], ["try", "VB"], ["to", "TO"], ["be", "VB"], [",", ","], ["have", "VB"], ["some", "DT"], ["secure", "NN"], ["fingerprints", "NNS"], ["for", "IN"], ["use", "NN"], ["on", "IN"], ["the", "DT"], ["web", "NN"], [".", "."], ["And", "CC"], ["there", "EX"], ["'s", "VBZ"], ["been", "VBN"], ["a", "DT"], ["lot", "NN"], ["research", "NN"], ["done", "VBN"], ["to", "TO"], ["develop", "VB"], ["functions", "NNS"], ["that", "WDT"], ["take", "VBP"], ["keys", "NNS"], ["as", "IN"], ["input", "NN"], [",", ","], ["and", "CC"], ["then", "RB"], ["produce", "VB"], ["values", "NNS"], ["that", "WDT"], ["look", "VBP"], ["random", "JJ"], [".", "."], ["In", "IN"], ["such", "JJ"], ["a", "DT"], ["way", "NN"], ["that", "IN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["hard", "JJ"], ["for", "IN"], ["someone", "NN"], ["else", "RB"], ["to", "TO"], ["find", "VB"], ["another", "DT"], ["key", "NN"], ["that", "WDT"], ["collides", "VBZ"], ["with", "IN"], ["that", "DT"], [".", "."], ["This", "DT"], ["technology", "NN"], ["is", "VBZ"], [",", ","], ["is", "VBZ"], ["useful", "JJ"], ["for", "IN"], ["storing", "VBG"], ["passwords", "NNS"], ["and", "CC"], ["digital", "JJ"], ["fingerprints", "NNS"], ["and", "CC"], ["things", "NNS"], [".", "."], ["But", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["too", "RB"], ["expensive", "JJ"], ["for", "IN"], ["use", "NN"], [",", ","], ["in", "IN"], ["a", "DT"], ["symbol", "NN"], ["table", "NN"], [".", "."], ["So", "IN"], ["the", "DT"], ["bottom", "JJ"], ["line", "NN"], ["is", "VBZ"], ["separate", "JJ"], ["chaining", "VBG"], ["versus", "NN"], ["linear", "JJ"], ["probin", "NN"], ["collision", "NN"], ["resolution", "NN"], ["message", "NN"], ["methods", "NNS"], [".", "."], ["Now", "RB"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["number", "NN"], ["of", "IN"], ["considerations", "NNS"], ["to", "TO"], ["take", "VB"], ["into", "IN"], ["account", "NN"], [".", "."], ["Separate", "JJ"], ["chaining", "NN"], ["is", "VBZ"], ["really", "RB"], ["easy", "JJ"], ["to", "TO"], ["implement", "VB"], ["both", "DT"], ["insert", "JJ"], ["and", "CC"], ["delete", "VB"], ["it", "PRP"], ["performs", "VBZ"], [",", ","], ["it", "PRP"], ["degrades", "VBZ"], [",", ","], ["it", "PRP"], ["does", "VBZ"], ["so", "RB"], ["gracefully", "RB"], ["and", "CC"], ["the", "DT"], ["clustering", "NN"], ["is", "VBZ"], [",", ","], ["is", "VBZ"], ["maybe", "RB"], ["less", "JJR"], ["of", "IN"], ["a", "DT"], ["problem", "NN"], ["if", "IN"], ["you", "PRP"], ["have", "VBP"], ["a", "DT"], ["bad", "JJ"], ["hash", "NN"], ["function", "NN"], [".", "."], ["Linear", "JJ"], ["probing", "VBG"], ["tends", "NNS"], ["to", "TO"], ["make", "VB"], ["better", "JJR"], ["use", "NN"], ["of", "IN"], ["space", "NN"], [".", "."], ["And", "CC"], ["also", "RB"], ["it", "PRP"], ["'ll", "MD"], ["perform", "VB"], ["better", "JJR"], ["for", "IN"], ["huge", "JJ"], ["tables", "NNS"], ["whereas", "IN"], ["caching", "NN"], ["is", "VBZ"], ["involved", "VBN"], [".", "."], ["And", "CC"], ["if", "IN"], [",", ","], ["in", "IN"], ["the", "DT"], ["classic", "JJ"], ["algorithm", "NN"], ["or", "CC"], ["computer", "NN"], ["science", "NN"], ["problems", "NNS"], ["for", "IN"], ["people", "NNS"], ["to", "TO"], ["think", "VB"], ["about", "IN"], ["is", "VBZ"], ["what", "WP"], ["do", "VBP"], ["we", "PRP"], ["do", "VB"], ["to", "TO"], ["delete", "VB"], ["in", "IN"], ["these", "DT"], ["two", "CD"], ["situations", "NNS"], ["and", "CC"], ["exactly", "RB"], ["how", "WRB"], ["do", "VBP"], ["we", "PRP"], ["resize", "VB"], [".", "."], ["Those", "DT"], ["are", "VBP"], ["all", "DT"], ["at", "IN"], ["the", "DT"], ["level", "NN"], ["of", "IN"], ["exercises", "NNS"], ["in", "IN"], ["the", "DT"], ["context", "NN"], ["of", "IN"], ["the", "DT"], ["kinds", "NNS"], ["of", "IN"], ["algorithms", "NNS"], ["that", "IN"], ["we", "PRP"], ["'ve", "VBP"], ["seen", "VBN"], [".", "."], ["And", "CC"], ["as", "IN"], ["I", "PRP"], ["mentioned", "VBD"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["been", "VBN"], ["many", "JJ"], [",", ","], ["many", "JJ"], ["improved", "VBN"], ["versions", "NNS"], ["of", "IN"], ["hashing", "VBG"], ["that", "WDT"], ["have", "VBP"], ["been", "VBN"], ["studied", "VBN"], [".", "."], ["I", "PRP"], ["mentioned", "VBD"], ["the", "DT"], ["two", "CD"], ["probe", "NN"], [",", ","], ["or", "CC"], ["double", "JJ"], ["hashing", "VBG"], ["version", "NN"], [".", "."], ["Another", "DT"], ["way", "NN"], ["to", "TO"], ["use", "VB"], ["two", "CD"], ["hash", "JJ"], ["functions", "NNS"], ["is", "VBZ"], ["just", "RB"], ["to", "TO"], ["hash", "VB"], ["the", "DT"], ["two", "CD"], ["positions", "NNS"], ["and", "CC"], ["put", "VBD"], ["the", "DT"], ["key", "NN"], ["in", "IN"], ["the", "DT"], ["shorter", "NN"], ["of", "IN"], ["the", "DT"], ["two", "CD"], ["chains", "NNS"], [".", "."], ["In", "IN"], [",", ","], ["in", "IN"], ["that", "DT"], ["case", "NN"], [",", ","], ["then", "RB"], ["the", "DT"], ["expected", "JJ"], ["length", "NN"], ["of", "IN"], ["the", "DT"], ["longest", "JJS"], ["chain", "NN"], ["will", "MD"], ["be", "VB"], ["lg", "JJ"], [",", ","], ["lg", "JJ"], ["N", "NNP"], ["which", "WDT"], ["is", "VBZ"], ["quite", "RB"], ["an", "DT"], ["improvement", "NN"], [".", "."], ["You", "PRP"], ["get", "VBP"], ["constant", "JJ"], ["time", "NN"], ["expected", "VBN"], ["and", "CC"], ["lg", "VB"], [",", ","], ["lg", "FW"], ["N", "NNP"], ["worst", "JJS"], ["case", "NN"], [".", "."], ["Double", "JJ"], ["hashing", "NN"], ["is", "VBZ"], ["the", "DT"], ["variant", "NN"], ["of", "IN"], ["layer", "NN"], ["probing", "VBG"], ["where", "WRB"], ["you", "PRP"], ["just", "RB"], ["skip", "VB"], ["a", "DT"], ["variable", "JJ"], ["amount", "NN"], [",", ","], ["not", "RB"], ["one", "CD"], ["each", "DT"], ["time", "NN"], [".", "."], ["And", "CC"], ["that", "IN"], ["pretty", "RB"], ["much", "JJ"], ["wipes", "NNS"], ["out", "RP"], ["clustering", "VBG"], ["but", "CC"], ["it", "PRP"], [",", ","], ["it", "PRP"], ["is", "VBZ"], ["more", "RBR"], ["difficult", "JJ"], ["to", "TO"], ["implement", "VB"], ["delete", "NN"], ["for", "IN"], ["that", "DT"], ["one", "CD"], [".", "."], ["In", "IN"], ["a", "DT"], ["new", "JJ"], ["method", "NN"], ["called", "VBN"], [",", ","], ["relatively", "RB"], ["new", "JJ"], ["method", "NN"], ["called", "VBN"], ["Cuckoo", "NNP"], ["Hashing", "NNP"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["another", "DT"], ["variant", "NN"], ["of", "IN"], ["linear", "JJ"], ["probing", "VBG"], ["where", "WRB"], ["we", "PRP"], ["hash", "VBP"], ["a", "DT"], ["key", "NN"], ["to", "TO"], ["two", "CD"], ["positions", "NNS"], ["and", "CC"], ["insert", "VB"], ["the", "DT"], ["key", "NN"], ["in", "IN"], ["either", "DT"], ["one", "CD"], [".", "."], ["If", "IN"], ["occupied", "VBN"], ["you", "PRP"], [",", ","], ["you", "PRP"], ["reinsert", "VBP"], ["the", "DT"], ["displaced", "JJ"], ["key", "NN"], ["into", "IN"], ["its", "PRP$"], ["alternative", "NN"], [".", "."], ["It", "PRP"], ["was", "VBD"], ["in", "IN"], ["one", "CD"], [",", ","], ["each", "DT"], ["one", "CD"], ["can", "MD"], ["go", "VB"], ["to", "TO"], ["two", "CD"], [".", "."], ["And", "CC"], ["that", "IN"], ["one", "CD"], ["actually", "RB"], ["gives", "VBZ"], ["constant", "JJ"], ["worst", "IN"], ["case", "NN"], ["time", "NN"], ["for", "IN"], ["search", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["another", "DT"], ["variation", "NN"], ["on", "IN"], ["the", "DT"], ["team", "NN"], [".", "."], ["And", "CC"], ["all", "DT"], ["of", "IN"], ["these", "DT"], ["things", "NNS"], ["allow", "VBP"], ["us", "PRP"], ["to", "TO"], ["make", "VB"], ["better", "JJR"], ["use", "NN"], ["of", "IN"], ["memory", "NN"], [",", ","], ["allows", "VBZ"], ["the", "DT"], ["table", "NN"], ["to", "TO"], ["become", "VB"], ["nearly", "RB"], ["full", "JJ"], [".", "."], ["It", "PRP"], ["would", "MD"], ["have", "VB"], ["been", "VBN"], ["very", "RB"], ["exciting", "JJ"], [".", "."], ["Thing", "VBG"], ["to", "TO"], ["be", "VB"], ["researchers", "NNS"], ["in", "IN"], ["the", "DT"], ["1950", "CD"], ["'s", "POS"], ["who", "WP"], ["cared", "VBD"], ["so", "RB"], ["much", "JJ"], ["about", "IN"], ["memory", "NN"], ["and", "CC"], ["nowadays", "VBZ"], ["a", "DT"], ["little", "JJ"], ["extra", "JJ"], ["memory", "NN"], ["is", "VBZ"], ["not", "RB"], ["something", "NN"], ["that", "IN"], ["people", "NNS"], ["care", "VBP"], ["about", "IN"], ["so", "RB"], ["much", "JJ"], ["and", "CC"], ["most", "JJS"], ["people", "NNS"], ["just", "RB"], ["go", "VBP"], ["with", "IN"], ["the", "DT"], ["easy", "JJ"], ["algorithm", "NN"], ["except", "IN"], ["for", "IN"], ["really", "RB"], ["performance", "NN"], ["critical", "JJ"], ["applications", "NNS"], [".", "."], ["What", "WP"], ["about", "IN"], ["hash", "NN"], ["tables", "NNS"], ["versus", "VBP"], ["balance", "NN"], ["search", "NN"], ["trees", "NNS"], ["?", "."], ["Well", "NNP"], ["hash", "NN"], ["tables", "NNS"], ["are", "VBP"], ["really", "RB"], ["simple", "JJ"], ["to", "TO"], ["code", "VB"], ["usually", "RB"], ["if", "IN"], ["you", "PRP"], ["do", "VBP"], ["n't", "RB"], ["have", "VB"], ["to", "TO"], ["do", "VB"], ["the", "DT"], ["hash", "NN"], ["function", "NN"], [".", "."], ["And", "CC"], ["if", "IN"], ["you", "PRP"], ["do", "VBP"], ["n't", "RB"], ["have", "VB"], ["order", "NN"], ["in", "IN"], ["the", "DT"], ["keys", "NNS"], ["at", "IN"], ["all", "DT"], ["then", "RB"], ["you", "PRP"], ["need", "VBP"], ["the", "DT"], ["compare", "NN"], ["to", "TO"], [",", ","], ["to", "TO"], ["implement", "VB"], ["balance", "NN"], ["search", "NN"], ["trees", "NNS"], [".", "."], ["So", "RB"], ["you", "PRP"], ["have", "VBP"], ["to", "TO"], ["use", "VB"], ["hashing", "VBG"], ["if", "IN"], ["you", "PRP"], ["do", "VBP"], ["n't", "RB"], ["have", "VB"], ["the", "DT"], ["comparison", "NN"], [".", "."], ["And", "CC"], ["it", "PRP"], ["'ll", "MD"], ["probably", "RB"], ["be", "VB"], ["faster", "RBR"], ["for", "IN"], ["simple", "JJ"], ["keys", "NNS"], ["to", "TO"], ["use", "VB"], ["hashing", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["few", "JJ"], ["arithmetic", "JJ"], ["operations", "NNS"], ["to", "TO"], ["do", "VB"], ["the", "DT"], ["hash", "NN"], ["versus", "NN"], ["lg", "NN"], ["N", "NNP"], ["and", "CC"], ["compares", "VBZ"], ["for", "IN"], ["the", "DT"], ["balance", "NN"], ["tree", "NN"], [".", "."], ["And", "CC"], ["there", "EX"], ["'s", "VBZ"], ["some", "DT"], ["better", "JJR"], ["system", "NN"], ["support", "NN"], ["in", "IN"], ["Java", "NNP"], ["for", "IN"], ["strings", "NNS"], ["that", "WDT"], ["cache", "VBP"], ["hash", "JJ"], ["code", "NN"], ["means", "VBZ"], ["that", "IN"], ["you", "PRP"], ["do", "VBP"], ["n't", "RB"], ["even", "RB"], ["have", "VB"], ["to", "TO"], ["compute", "VB"], ["the", "DT"], ["hash", "NN"], ["if", "IN"], ["your", "PRP$"], [",", ","], ["your", "PRP$"], ["simple", "JJ"], ["table", "NN"], ["for", "IN"], ["strings", "NNS"], ["is", "VBZ"], ["in", "IN"], ["an", "DT"], ["inner", "JJ"], ["loop", "NN"], [".", "."], ["On", "IN"], ["the", "DT"], ["other", "JJ"], ["hand", "NN"], [",", ","], ["balanced", "VBN"], ["search", "NN"], ["trees", "NNS"], ["have", "VBP"], ["a", "DT"], ["much", "RB"], ["stronger", "JJR"], ["performance", "NN"], ["guarantee", "NN"], [".", "."], ["It", "PRP"], [",", ","], ["you", "PRP"], ["do", "VBP"], ["n't", "RB"], ["have", "VB"], ["to", "TO"], ["assume", "VB"], ["anything", "NN"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["less", "JJR"], ["than", "IN"], ["lg", "JJR"], ["N", "NNP"], ["and", "CC"], ["compares", "VBZ"], ["and", "CC"], ["it", "PRP"], ["'s", "VBZ"], ["got", "VBD"], ["support", "NN"], ["for", "IN"], ["all", "DT"], ["those", "DT"], ["ordered", "VBN"], ["ST", "NNP"], ["operations", "NNS"], [",", ","], ["and", "CC"], ["compared", "VBN"], ["to", "TO"], ["and", "CC"], ["is", "VBZ"], ["pretty", "JJ"], ["easy", "JJ"], ["and", "CC"], ["natural", "JJ"], ["function", "NN"], ["to", "TO"], ["implement", "VB"], [".", "."], ["So", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["more", "RBR"], ["flexible", "JJ"], ["and", "CC"], ["more", "RBR"], ["broadly", "RB"], ["useful", "JJ"], [".", "."], ["And", "CC"], ["actually", "RB"], ["the", "DT"], ["Java", "NNP"], ["system", "NN"], ["and", "CC"], ["other", "JJ"], ["systems", "NNS"], ["include", "VBP"], ["both", "DT"], ["so", "RB"], ["that", "IN"], ["programmers", "NNS"], ["can", "MD"], ["make", "VB"], ["use", "NN"], ["of", "IN"], ["either", "DT"], ["one", "CD"], ["in", "IN"], ["diff", "NN"], ["erent", "NN"], ["situations", "NNS"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["our", "PRP$"], ["context", "NN"], ["for", "IN"], ["hashing", "VBG"], ["algorithms", "NN"], [".", "."]], "title": "hash table context", "text": "So let's just look at a little bit of the context of hashing in practical applications. As I mentioned, it's very widely used. So here's an, here's an example right from Java. The first. Implementation of Java 1.1. The designers found that the cost of computing the hash function for strings seemed to be excessive, particularly for long strings. And that was one of the main uses of hashing, was just to be able to do searching with string keys. And so what they decided in the first implementation was let's just look at every eighth or ninth character, and that way, we don't have to spend a lot of time computing the hash function. So they had a hash function pretty much like the one that we use. Except that it compute a skip that would mean that, that only look at about every eight key and they wouldn't have to do quite so much work performing the hash function. And that's diffidently one thing to consider when using hashing is that the cost of computing the hash function for a complicated key might exceed the cost of searching and using a simpler structure like a binary search tree. And anyway for Java 1.1 what happened was that there was a huge potentail for really bad collision patterns on typical data. So here's the example of typical data, which is a URL. All of these keys, which are totally different, would wind up having the same collision. And so client programs and system programs on the Java system were having terrible performance on their symbol table because of the shortcut in hashing. So this well illustrates that you need to use all of the data in the hash function and sometime we do a closer analysis. The cost of computing the hash function can mean that something like red black trees will even outperform hashing even for just searching and insert. So there is another thing about the uniform hashing assumption is that it is an assumption and if you are writing code where we have to have guaranteed performance like when your aircraft is landing or you are controlling a nuclear reactor or somebody's pa cemaker. That, if that assumption doesn't hold and you get bad performance you're going to have disastrous consequences. So that's another reason to think about maybe paying a little extra and using to guarantee that you get with red black search trees. Instead of hashing. And there's another surprising situation that happens in today's world. For example Java publishes its hash function. And so if you're trying to provide a service over the web. An adversary can learn your hash function and just send you data that causes huge performance problem by just making all that data hash to one particular item. And that's definitely something to worry about. And, and in the real world you can nowadays find on the web particular sequences of keys that will cause particular services to crash. And again, that's a little harder to do with something like a red black tree where we have performance guarantees. When you make an assumption you better be sure and you're depending on that assumption, you better be sure that it holds somehow. This is different than for example for quick sort when we, our assumption was we're going to create randomness and we are going to depend on that randomness. In this care we're kind of hoping for randomness and maybe that doesn't really always hold. So that's certainly something to be aware of when using hashing in practice. So here's just simple example on hashing in java. So what we can do is it's pretty easy to find a family of strings that have the same hash code for example with just a little fooling around now days you can just look it up on the web, you can see that these two character keys, both have the same hash code because when you just do the math in a base 31 hash code it'll tell you that answer. Well what that means is that actually, just like working in binary you got, you can combine those things. In all possible ways, and you can get two to the N strings, for any N of length to N that all hash to the same value. And somebody's implemented a service in Java that it uses a simp le table that takes string keys, you can cause that to crash in this way. Little bit scary for some systems designers. At least reason for pause in using hashing. Now, hashing also has a extremely important application in today's Internet commerce. And so the, it's the concept of so called one way hash functions which mean that we, we, use it for secure to try to be, have some secure fingerprints for use on the web. And there's been a lot research done to develop functions that take keys as input, and then produce values that look random. In such a way that, it's hard for someone else to find another key that collides with that. This technology is, is useful for storing passwords and digital fingerprints and things. But it's too expensive for use, in a symbol table. So the bottom line is separate chaining versus linear probin collision resolution message methods. Now there's a number of considerations to take into account. Separate chaining is really easy to implement both insert and delete it performs, it degrades, it does so gracefully and the clustering is, is maybe less of a problem if you have a bad hash function. Linear probing tends to make better use of space. And also it'll perform better for huge tables whereas caching is involved. And if, in the classic algorithm or computer science problems for people to think about is what do we do to delete in these two situations and exactly how do we resize. Those are all at the level of exercises in the context of the kinds of algorithms that we've seen. And as I mentioned, there's been many, many improved versions of hashing that have been studied. I mentioned the two probe, or double hashing version. Another way to use two hash functions is just to hash the two positions and put the key in the shorter of the two chains. In, in that case, then the expected length of the longest chain will be lg, lg N which is quite an improvement. You get constant time expected and lg, lg N worst case. Double hashing is the variant of layer probing where you just skip a variable amount, not one each time. And that pretty much wipes out clustering but it, it is more difficult to implement delete for that one. In a new method called, relatively new method called Cuckoo Hashing. It's another variant of linear probing where we hash a key to two positions and insert the key in either one. If occupied you, you reinsert the displaced key into its alternative. It was in one, each one can go to two. And that one actually gives constant worst case time for search. That's another variation on the team. And all of these things allow us to make better use of memory, allows the table to become nearly full. It would have been very exciting. Thing to be researchers in the 1950's who cared so much about memory and nowadays a little extra memory is not something that people care about so much and most people just go with the easy algorithm except for really performance critical applications. What about hash tables versus balance search trees? Well hash tables are really simple to code usually if you don't have to do the hash function. And if you don't have order in the keys at all then you need the compare to, to implement balance search trees. So you have to use hashing if you don't have the comparison. And it'll probably be faster for simple keys to use hashing. It's a few arithmetic operations to do the hash versus lg N and compares for the balance tree. And there's some better system support in Java for strings that cache hash code means that you don't even have to compute the hash if your, your simple table for strings is in an inner loop. On the other hand, balanced search trees have a much stronger performance guarantee. It, you don't have to assume anything. It's going to be less than lg N and compares and it's got support for all those ordered ST operations, and compared to and is pretty easy and natural function to implement. So it's more flexible and more broadly useful. And actually the Java system and other systems include both so that programmers can make use of either one in diff erent situations. That's our context for hashing algorithms. ", "video_ID": 55, "course_id": 3}
{"category": ["symbol table applications"], "tagged": [["Welcome", "NNP"], ["back", "RB"], [".", "."], ["Today", "NN"], ["we", "PRP"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["some", "DT"], ["symbol", "NN"], ["table", "JJ"], ["applications", "NNS"], [",", ","], ["give", "VB"], ["you", "PRP"], ["some", "DT"], ["idea", "NN"], ["of", "IN"], ["how", "WRB"], ["symbol", "JJ"], ["tables", "NNS"], ["might", "MD"], ["be", "VB"], ["used", "VBN"], [",", ","], ["by", "IN"], ["client", "NN"], ["program", "NN"], ["for", "IN"], ["practical", "JJ"], ["problems", "NNS"], [".", "."], ["First", "RB"], ["when", "WRB"], ["we", "PRP"], ["look", "VBP"], ["at", "IN"], [",", ","], ["seems", "VBZ"], ["even", "RB"], ["simpler", "JJR"], ["than", "IN"], ["the", "DT"], ["regular", "JJ"], ["symbol", "NN"], ["tables", "NNS"], [",", ","], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["about", "IN"], ["sets", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["a", "DT"], ["mathematical", "JJ"], ["set", "NN"], ["is", "VBZ"], ["just", "RB"], ["a", "DT"], ["collection", "NN"], ["of", "IN"], ["distinct", "JJ"], ["keys", "NNS"], [".", "."], ["And", "CC"], ["so", "RB"], [",", ","], ["there", "EX"], ["are", "VBP"], ["plenty", "NN"], ["of", "IN"], ["applications", "NNS"], ["where", "WRB"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["just", "RB"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["implement", "VB"], [",", ","], ["this", "DT"], ["really", "RB"], ["simple", "JJ"], ["API", "NNP"], [".", "."], ["I", "PRP"], ["want", "VBP"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["create", "VB"], ["an", "DT"], ["empty", "JJ"], ["set", "NN"], [",", ","], ["we", "PRP"], ["'ve", "VBP"], ["got", "VBN"], ["methods", "NNS"], ["to", "TO"], ["add", "VB"], ["a", "DT"], ["key", "NN"], ["to", "TO"], ["the", "DT"], ["set", "NN"], [",", ","], ["and", "CC"], ["to", "TO"], ["check", "VB"], ["whether", "IN"], ["a", "DT"], ["given", "VBN"], ["key", "NN"], ["is", "VBZ"], ["in", "IN"], ["the", "DT"], ["set", "NN"], ["or", "CC"], ["not", "RB"], [".", "."], ["To", "TO"], ["remove", "VB"], ["a", "DT"], ["key", "NN"], [",", ","], ["and", "CC"], ["maybe", "RB"], ["return", "VB"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["keys", "NNS"], ["in", "IN"], ["the", "DT"], ["set", "NN"], [",", ","], ["and", "CC"], ["also", "RB"], ["have", "VBP"], ["an", "DT"], ["iterator", "NN"], ["to", "TO"], ["iterate", "VB"], ["through", "IN"], ["keys", "NNS"], ["in", "IN"], ["the", "DT"], ["set", "NN"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["simpler", "JJR"], ["than", "IN"], ["symbol", "NN"], ["tables", "NNS"], ["because", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["got", "VBD"], ["no", "DT"], ["associated", "VBN"], ["value", "NN"], [".", "."], ["So", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["very", "RB"], ["simple", "JJ"], ["API", "NNP"], ["but", "CC"], ["of", "IN"], ["course", "NN"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["able", "JJ"], ["to", "TO"], ["do", "VB"], ["these", "DT"], ["operations", "NNS"], ["efficiently", "RB"], [",", ","], ["how", "WRB"], ["we", "PRP"], ["'d", "MD"], ["we", "PRP"], ["go", "VB"], ["ahead", "RB"], ["and", "CC"], ["implement", "VB"], ["that", "DT"], [".", "."], ["Well", "RB"], [",", ","], ["if", "IN"], ["you", "PRP"], ["think", "VBP"], ["about", "IN"], ["it", "PRP"], ["for", "IN"], ["just", "RB"], ["a", "DT"], ["minute", "NN"], [",", ","], ["you", "PRP"], ["see", "VBP"], ["that", "IN"], ["what", "WP"], ["you", "PRP"], ["need", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["just", "RB"], ["remove", "VB"], ["all", "DT"], ["references", "NNS"], ["to", "TO"], ["value", "NN"], ["from", "IN"], ["any", "DT"], ["of", "IN"], ["the", "DT"], ["symbol", "NN"], ["table", "JJ"], ["implementations", "NNS"], ["that", "IN"], ["we", "PRP"], ["'d", "MD"], ["look", "VB"], ["at", "IN"], [".", "."], ["The", "DT"], ["implementation", "NN"], ["is", "VBZ"], ["easy", "JJ"], [".", "."], ["Take", "VB"], ["one", "CD"], ["of", "IN"], ["our", "PRP$"], ["symbol", "NN"], ["table", "JJ"], ["implementations", "NNS"], ["and", "CC"], ["get", "VB"], ["rid", "JJ"], ["of", "IN"], ["the", "DT"], ["code", "NN"], ["that", "WDT"], ["refers", "VBZ"], ["to", "TO"], ["values", "NNS"], [".", "."], ["Okay", "NNP"], [",", ","], ["so", "IN"], ["let", "NN"], ["'s", "POS"], ["look", "NN"], ["at", "IN"], ["a", "DT"], ["couple", "NN"], ["of", "IN"], ["applications", "NNS"], ["where", "WRB"], ["this", "DT"], ["set", "NN"], ["API", "NNP"], ["might", "MD"], ["be", "VB"], ["useful", "JJ"], ["in", "IN"], ["client", "NN"], ["programs", "NNS"], [".", "."], ["One", "CD"], ["thing", "NN"], ["that", "WDT"], ["is", "VBZ"], ["very", "RB"], ["common", "JJ"], ["is", "VBZ"], ["the", "DT"], ["idea", "NN"], ["of", "IN"], ["an", "DT"], ["exception", "NN"], ["filter", "NN"], [".", "."], ["So", "IN"], ["the", "DT"], ["way", "NN"], ["we", "PRP"], ["'ll", "MD"], ["set", "VB"], ["that", "DT"], ["up", "RP"], ["is", "VBZ"], ["to", "TO"], ["think", "VB"], ["about", "IN"], ["having", "VBG"], ["a", "DT"], ["list", "NN"], ["of", "IN"], ["files", "NNS"], ["a", "DT"], ["list", "NN"], ["of", "IN"], ["words", "NNS"], ["in", "IN"], ["a", "DT"], ["file", "NN"], ["that", "WDT"], ["are", "VBP"], ["exceptional", "JJ"], ["in", "IN"], ["some", "DT"], ["way", "NN"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["have", "VB"], ["the", "DT"], ["word", "NN"], [",", ","], ["the", "DT"], ["file", "NN"], ["list.text", "NN"], ["that", "WDT"], ["has", "VBZ"], ["these", "DT"], ["four", "CD"], ["words", "NNS"], ["in", "IN"], ["it", "PRP"], [":", ":"], ["was", "VBD"], [",", ","], ["it", "PRP"], [",", ","], ["the", "DT"], [",", ","], ["and", "CC"], ["of", "IN"], [".", "."], ["So", "IN"], ["this", "DT"], ["two", "CD"], [",", ","], ["complimentary", "JJ"], ["ways", "NNS"], ["to", "TO"], ["look", "VB"], ["at", "IN"], ["this", "DT"], [".", "."], ["One", "CD"], ["is", "VBZ"], ["so-called", "JJ"], ["White", "NNP"], ["Listing", "NNP"], ["where", "WRB"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["take", "VB"], ["the", "DT"], ["words", "NNS"], ["in", "IN"], ["that", "DT"], ["file", "NN"], ["and", "CC"], [",", ","], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["have", "VBP"], ["some", "DT"], ["other", "JJ"], ["much", "JJ"], ["bigger", "JJR"], ["file", "NN"], [".", "."], ["And", "CC"], ["what", "WP"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["print", "VB"], ["out", "IN"], ["all", "PDT"], ["the", "DT"], ["occurrences", "NNS"], ["of", "IN"], ["our", "PRP$"], ["exceptional", "JJ"], ["words", "NNS"], ["in", "IN"], ["our", "PRP$"], ["given", "VBN"], ["file", "NN"], [".", "."], ["Those", "DT"], ["are", "VBP"], ["the", "DT"], ["ones", "NNS"], ["that", "IN"], ["we", "PRP"], ["care", "VBP"], ["about", "IN"], [",", ","], ["that", "IN"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["get", "VB"], ["through", "IN"], [".", "."], ["So", "RB"], ["in", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["tinyTale.txt", "VB"], ["the", "DT"], ["first", "JJ"], ["couple", "NN"], ["of", "IN"], ["words", "NNS"], ["from", "IN"], ["``", "``"], ["A", "NNP"], ["Tale", "NNP"], ["of", "IN"], ["Two", "CD"], ["Cities", "NNS"], [".", "."], ["''", "''"], ["and", "CC"], ["these", "DT"], ["words", "NNS"], ["appear", "VBP"], ["often", "RB"], [",", ","], ["``", "``"], ["It", "PRP"], ["was", "VBD"], ["the", "DT"], ["of", "IN"], [",", ","], ["it", "PRP"], ["was", "VBD"], ["the", "DT"], ["of", "IN"], [".", "."], ["''", "''"], ["another", "DT"], [",", ","], ["A", "DT"], ["complementary", "JJ"], ["approach", "NN"], ["is", "VBZ"], ["to", "TO"], ["think", "VB"], ["of", "IN"], ["these", "DT"], ["words", "NNS"], ["as", "IN"], ["words", "NNS"], ["that", "IN"], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["want", "VB"], ["to", "TO"], ["ever", "RB"], ["see", "VB"], [".", "."], ["They", "PRP"], ["'re", "VBP"], ["blacklist", "JJ"], [",", ","], ["and", "CC"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["take", "VB"], ["them", "PRP"], ["out", "IN"], ["of", "IN"], ["our", "PRP$"], ["source", "NN"], ["file", "NN"], [".", "."], ["So", "IN"], ["a", "DT"], ["blacklist", "JJ"], ["client", "NN"], ["would", "MD"], ["print", "VB"], ["out", "RP"], ["all", "PDT"], ["the", "DT"], ["words", "NNS"], ["in", "IN"], ["our", "PRP$"], ["source", "NN"], ["file", "NN"], [",", ","], ["tinyTale.txt", "NN"], ["except", "IN"], ["was", "VBD"], [",", ","], ["it", "PRP"], [",", ","], ["be", "VB"], [",", ","], ["and", "CC"], ["of", "IN"], [".", "."], ["In", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["best", "JJS"], ["times", "NNS"], [",", ","], ["worst", "JJS"], ["times", "NNS"], [",", ","], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["exception", "NN"], ["filter", "NN"], [",", ","], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["useful", "JJ"], ["in", "IN"], ["lots", "NNS"], ["of", "IN"], ["applications", "NNS"], ["such", "JJ"], ["as", "IN"], ["the", "DT"], ["ones", "NNS"], ["listed", "VBN"], ["here", "RB"], [".", "."], ["For", "IN"], ["example", "NN"], [",", ","], ["you", "PRP"], ["might", "MD"], ["have", "VB"], ["a", "DT"], ["spellchecker", "NN"], ["where", "WRB"], ["you", "PRP"], ["want", "VBP"], ["to", "TO"], ["identify", "VB"], ["misspelled", "JJ"], ["words", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["then", "RB"], ["your", "PRP$"], ["key", "NN"], ["would", "MD"], ["be", "VB"], ["a", "DT"], ["word", "NN"], ["or", "CC"], ["a", "DT"], ["string", "NN"], [".", "."], ["And", "CC"], ["in", "IN"], ["your", "PRP$"], ["exceptional", "JJ"], ["list", "NN"], ["would", "MD"], ["be", "VB"], ["words", "NNS"], ["that", "WDT"], ["are", "VBP"], ["in", "IN"], ["the", "DT"], ["dictionary", "NN"], [".", "."], ["And", "CC"], ["you", "PRP"], ["'d", "MD"], ["want", "VB"], ["to", "TO"], ["print", "VB"], ["out", "RP"], ["all", "PDT"], ["the", "DT"], ["words", "NNS"], ["that", "WDT"], ["are", "VBP"], ["not", "RB"], ["in", "IN"], ["the", "DT"], ["dictionary", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["an", "DT"], ["example", "NN"], ["of", "IN"], ["a", "DT"], [",", ","], ["an", "DT"], ["exception", "NN"], ["filter", "NN"], [".", "."], ["Or", "CC"], ["in", "IN"], ["a", "DT"], ["browser", "NN"], ["you", "PRP"], ["might", "MD"], ["want", "VB"], ["to", "TO"], ["mark", "VB"], ["your", "PRP$"], ["visited", "JJ"], ["pages", "NNS"], ["or", "CC"], ["block", "VB"], ["sites", "NNS"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["Or", "CC"], ["like", "IN"], ["the", "DT"], ["one", "NN"], ["at", "IN"], ["the", "DT"], ["bottom", "JJ"], ["credit", "NN"], ["cards", "NNS"], [".", "."], ["Maybe", "RB"], [",", ","], ["you", "PRP"], ["run", "VBP"], ["a", "DT"], ["credit", "NN"], ["card", "NN"], ["company", "NN"], ["and", "CC"], ["you", "PRP"], ["want", "VBP"], ["to", "TO"], ["check", "VB"], ["for", "IN"], ["stolen", "NN"], ["cards", "NNS"], ["then", "RB"], ["your", "PRP$"], ["keys", "NNS"], ["would", "MD"], ["be", "VB"], ["numbers", "NNS"], [".", "."], ["I", "PRP"], [".", "."], ["And", "CC"], ["in", "IN"], ["your", "PRP$"], ["list", "NN"], [",", ","], ["might", "MD"], ["be", "VB"], ["kind", "NN"], ["of", "IN"], ["short", "JJ"], [",", ","], ["which", "WDT"], ["would", "MD"], ["be", "VB"], ["the", "DT"], ["stolen", "JJ"], ["cards", "NNS"], ["that", "IN"], ["you", "PRP"], ["know", "VBP"], ["about", "IN"], [",", ","], ["and", "CC"], ["you", "PRP"], ["'d", "MD"], ["want", "VB"], ["to", "TO"], ["run", "VB"], ["a", "DT"], [",", ","], ["a", "DT"], ["white", "JJ"], ["list", "NN"], ["filter", "NN"], ["for", "IN"], ["those", "DT"], ["cards", "NNS"], ["and", "CC"], ["print", "NN"], ["out", "RP"], ["in", "IN"], ["your", "PRP$"], ["long", "JJ"], ["list", "NN"], ["of", "IN"], ["transactions", "NNS"], ["which", "WDT"], ["ever", "RB"], ["transactions", "NNS"], ["have", "VBP"], ["that", "DT"], ["stolen", "VBN"], ["cards", "NNS"], [",", ","], ["So", "NNP"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["just", "RB"], ["a", "DT"], ["couple", "NN"], ["of", "IN"], ["examples", "NNS"], ["of", "IN"], ["exception", "NN"], ["filters", "NNS"], [".", "."], ["What", "WP"], ["'s", "VBZ"], ["the", "DT"], ["implementation", "NN"], ["of", "IN"], ["an", "DT"], ["exception", "NN"], ["filters", "NNS"], ["?", "."], ["Here", "RB"], ["'s", "VBZ"], ["a", "DT"], ["simple", "JJ"], ["one", "CD"], ["using", "VBG"], ["the", "DT"], ["said", "VBD"], ["API", "NNP"], ["that", "IN"], ["we", "PRP"], ["just", "RB"], ["articulated", "VBD"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["start", "VBP"], ["by", "IN"], ["creating", "VBG"], ["an", "DT"], ["empty", "JJ"], ["set", "NN"], ["of", "IN"], ["strings", "NNS"], [",", ","], ["and", "CC"], ["again", "RB"], ["since", "IN"], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["have", "VB"], ["associated", "VBN"], ["values", "NNS"], [",", ","], ["we", "PRP"], ["just", "RB"], ["have", "VBP"], ["the", "DT"], ["one", "CD"], ["generic", "NN"], ["for", "IN"], ["strings", "NNS"], [",", ","], ["and", "CC"], ["then", "RB"], ["create", "VB"], ["a", "DT"], ["new", "JJ"], ["input", "NN"], ["stream", "NN"], ["from", "IN"], [",", ","], ["from", "IN"], ["the", "DT"], ["first", "JJ"], ["argument", "NN"], ["so", "IN"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["name", "NN"], ["of", "IN"], ["the", "DT"], ["file", "NN"], ["that", "WDT"], ["contains", "VBZ"], ["the", "DT"], ["exceptional", "JJ"], ["words", "NNS"], ["and", "CC"], ["so", "RB"], ["this", "DT"], ["just", "RB"], ["reads", "VBZ"], ["the", "DT"], ["strings", "NNS"], ["while", "IN"], ["the", "DT"], ["input", "NN"], ["string", "NN"], ["is", "VBZ"], ["not", "RB"], ["empty", "JJ"], ["and", "CC"], ["then", "RB"], ["adds", "VBZ"], ["the", "DT"], ["m", "NN"], ["to", "TO"], ["the", "DT"], ["set", "NN"], [".", "."], ["So", "IN"], ["that", "DT"], ["now", "RB"], [",", ","], ["we", "PRP"], ["have", "VBP"], ["our", "PRP$"], ["set", "NN"], ["of", "IN"], ["exceptional", "JJ"], ["words", "NNS"], [".", "."], ["And", "CC"], ["now", "RB"], [",", ","], ["from", "IN"], ["standard", "JJ"], ["input", "NN"], ["we", "PRP"], ["read", "VBP"], ["words", "NNS"], [",", ","], ["as", "RB"], ["long", "RB"], ["as", "IN"], ["our", "PRP$"], ["set", "NN"], ["contains", "VBZ"], ["the", "DT"], ["word", "NN"], [",", ","], ["we", "PRP"], ["print", "VBP"], ["it", "PRP"], ["out", "RP"], [".", "."], ["And", "CC"], ["if", "IN"], ["does", "VBZ"], ["n't", "RB"], ["contain", "VB"], ["it", "PRP"], [",", ","], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["print", "VB"], ["it", "PRP"], ["out", "RP"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["an", "DT"], ["example", "NN"], ["of", "IN"], ["a", "DT"], ["white", "JJ"], ["list", "NN"], ["filter", "NN"], [".", "."], ["And", "CC"], ["to", "TO"], ["implement", "VB"], ["black", "JJ"], ["list", "NN"], ["we", "PRP"], ["just", "RB"], ["this", "DT"], ["call", "NN"], ["to", "TO"], ["contains", "NNS"], [",", ","], ["we", "PRP"], ["just", "RB"], ["change", "VBP"], ["that", "DT"], ["to", "TO"], ["a", "DT"], [",", ","], ["a", "DT"], ["not", "RB"], [".", "."], ["If", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["in", "IN"], ["the", "DT"], ["exceptional", "JJ"], ["list", "NN"], [",", ","], ["then", "RB"], ["we", "PRP"], ["print", "VBP"], ["it", "PRP"], ["out", "RP"], [".", "."], ["So", "IN"], ["that", "DT"], ["'s", "VBZ"], ["a", "DT"], ["simple", "JJ"], ["example", "NN"], ["of", "IN"], ["a", "DT"], ["filter", "NN"], ["using", "VBG"], ["sets", "NNS"], [".", "."]], "title": "symbol table applications sets optional", "text": "Welcome back. Today we are going to look at some symbol table applications, give you some idea of how symbol tables might be used, by client program for practical problems. First when we look at, seems even simpler than the regular symbol tables, and that's about sets. So, a mathematical set is just a collection of distinct keys. And so, there are plenty of applications where we want to just be able to implement, this really simple API. I want to be able to create an empty set, we've got methods to add a key to the set, and to check whether a given key is in the set or not. To remove a key, and maybe return the number of keys in the set, and also have an iterator to iterate through keys in the set. This is simpler than symbol tables because it's got no associated value. So, it's a very simple API but of course, we're going to be able to do these operations efficiently, how we'd we go ahead and implement that. Well, if you think about it for just a minute, you see that what you need to do is just remove all references to value from any of the symbol table implementations that we'd look at. The implementation is easy. Take one of our symbol table implementations and get rid of the code that refers to values. Okay, so let's look at a couple of applications where this set API might be useful in client programs. One thing that is very common is the idea of an exception filter. So the way we'll set that up is to think about having a list of files a list of words in a file that are exceptional in some way. In this case, we'll have the word, the file list.text that has these four words in it: was, it, the, and of. So this two, complimentary ways to look at this. One is so-called White Listing where we want to take the words in that file and, and then we have some other much bigger file. And what we want to do is print out all the occurrences of our exceptional words in our given file. Those are the ones that we care about, that we want to get through. So in this case, tinyTale.txt the first couple of words from \"A Tale of Two Cities.\" and these words appear often, \"It was the of, it was the of.\" another, A complementary approach is to think of these words as words that we don't want to ever see. They're blacklist, and we want to take them out of our source file. So a blacklist client would print out all the words in our source file, tinyTale.txt except was, it, be, and of. In this case, best times, worst times, and so forth. So that's the exception filter, and that's useful in lots of applications such as the ones listed here. For example, you might have a spellchecker where you want to identify misspelled words. So, then your key would be a word or a string. And in your exceptional list would be words that are in the dictionary. And you'd want to print out all the words that are not in the dictionary. That's an example of a, an exception filter. Or in a browser you might want to mark your visited pages or block sites and so forth. Or like the one at the bottom credit cards. Maybe, you run a credit card company and you want to check for stolen cards then your keys would be numbers. I. And in your list, might be kind of short, which would be the stolen cards that you know about, and you'd want to run a, a white list filter for those cards and print out in your long list of transactions which ever transactions have that stolen cards, So, that's just a couple of examples of exception filters. What's the implementation of an exception filters? Here's a simple one using the said API that we just articulated. So, we start by creating an empty set of strings, and again since we don't have associated values, we just have the one generic for strings, and then create a new input stream from, from the first argument so that's the name of the file that contains the exceptional words and so this just reads the strings while the input string is not empty and then adds the m to the set. So that now, we have our set of exceptional words. And now, from standard input we read words, as long as our set contains the word, we print it out. And if doesn't contain it, we don't print it out. So that's an example of a white list filter. And to implement black list we just this call to contains, we just change that to a, a not. If it's not in the exceptional list, then we print it out. So that's a simple example of a filter using sets. ", "video_ID": 56, "course_id": 3}
{"category": ["symbol table applications"], "tagged": [["Now", "RB"], [",", ","], ["let", "VB"], ["'s", "POS"], ["look", "VB"], ["at", "IN"], ["a", "DT"], ["dictionary", "JJ"], ["client", "NN"], [",", ","], ["another", "DT"], ["very", "RB"], ["useful", "JJ"], ["and", "CC"], ["common", "JJ"], ["application", "NN"], ["of", "IN"], ["symbol", "NN"], ["tables", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["in", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["we", "PRP"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["write", "VB"], ["a", "DT"], ["client", "NN"], ["called", "VBN"], ["Lookup", "NNP"], ["CSV", "NNP"], ["that", "IN"], ["[", "NNP"], ["cough", "NN"], ["]", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["take", "VB"], ["three", "CD"], ["arguments", "NNS"], [".", "."], ["The", "DT"], ["first", "JJ"], ["will", "MD"], ["be", "VB"], ["a", "DT"], ["file", "NN"], ["name", "NN"], [",", ","], ["a", "DT"], ["so-called", "JJ"], ["common", "JJ"], ["separated", "VBN"], ["value", "NN"], ["file", "NN"], ["and", "CC"], ["the", "DT"], ["next", "JJ"], ["two", "CD"], ["arguments", "NNS"], ["are", "VBP"], ["integers", "NNS"], ["which", "WDT"], ["will", "MD"], ["tell", "VB"], ["us", "PRP"], ["what", "WDT"], ["to", "TO"], ["treat", "VB"], ["as", "IN"], ["keys", "NNS"], ["and", "CC"], ["values", "NNS"], ["in", "IN"], ["the", "DT"], ["file", "NN"], [".", "."], ["In", "IN"], ["this", "DT"], ["example", "NN"], ["or", "CC"], ["CSV", "NNP"], ["file", "NN"], ["relates", "VBZ"], ["URLs", "NNP"], ["to", "TO"], ["IP", "NNP"], ["addresses", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["each", "DT"], ["line", "NN"], ["has", "VBZ"], ["a", "DT"], ["URL", "NNP"], ["and", "CC"], ["IP", "NNP"], ["address", "NN"], ["and", "CC"], ["are", "VBP"], ["separated", "VBN"], ["by", "IN"], ["commas", "NN"], [".", "."], ["And", "CC"], ["in", "IN"], ["general", "JJ"], [",", ","], ["a", "DT"], ["CSV", "NNP"], ["file", "NN"], ["might", "MD"], ["have", "VB"], ["many", "JJ"], ["fields", "NNS"], ["separated", "VBN"], ["by", "IN"], ["comma", "NN"], [",", ","], ["comma", "NN"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["number", "NN"], ["them", "PRP"], ["zero", "CD"], [",", ","], ["one", "CD"], [",", ","], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], ["starting", "VBG"], ["from", "IN"], ["the", "DT"], ["left", "NN"], [".", "."], ["So", "RB"], [",", ","], ["what", "WP"], ["we", "PRP"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], ["with", "IN"], ["this", "DT"], ["client", "NN"], ["is", "VBZ"], ["specify", "JJ"], ["with", "IN"], ["integers", "NNS"], ["which", "WDT"], ["field", "NN"], ["is", "VBZ"], ["the", "DT"], ["key", "NN"], [",", ","], ["and", "CC"], ["which", "WDT"], ["is", "VBZ"], ["the", "DT"], ["value", "NN"], [".", "."], ["So", "RB"], [",", ","], ["if", "IN"], ["we", "PRP"], ["call", "VBP"], ["this", "DT"], ["client", "NN"], ["with", "IN"], ["second", "JJ"], ["argument", "NN"], ["zero", "NN"], ["and", "CC"], ["third", "JJ"], ["argument", "NN"], ["one", "CD"], [",", ","], ["that", "WDT"], ["means", "VBZ"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["use", "VB"], ["the", "DT"], ["URL", "NNP"], ["field", "NN"], ["zero", "NN"], ["on", "IN"], ["the", "DT"], ["CSV", "NNP"], ["file", "NN"], ["as", "IN"], ["the", "DT"], ["key", "NN"], [",", ","], ["no", "DT"], ["one", "NN"], ["use", "NN"], ["the", "DT"], ["IP", "NNP"], ["address", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["field", "NN"], ["one", "CD"], ["in", "IN"], ["the", "DT"], ["CSV", "NNP"], ["as", "IN"], ["the", "DT"], ["value", "NN"], [",", ","], ["you", "PRP"], ["want", "VBP"], ["to", "TO"], ["associate", "VB"], ["keys", "NNS"], ["with", "IN"], ["values", "NNS"], [".", "."], ["So", "IN"], ["the", "DT"], ["client", "NN"], ["will", "MD"], ["build", "VB"], ["a", "DT"], ["symbol", "NN"], ["table", "NN"], ["that", "WDT"], ["makes", "VBZ"], ["us", "PRP"], ["associations", "NNS"], ["for", "IN"], ["every", "DT"], ["line", "NN"], ["in", "IN"], ["the", "DT"], ["file", "NN"], ["and", "CC"], ["this", "DT"], ["could", "MD"], ["be", "VB"], ["huge", "JJ"], ["file", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["if", "IN"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["look", "VB"], ["up", "RP"], ["the", "DT"], ["IP", "NNP"], ["address", "NN"], ["associated", "VBN"], ["with", "IN"], ["a", "DT"], ["given", "VBN"], ["URL", "IN"], ["we", "PRP"], ["can", "MD"], ["just", "RB"], ["type", "VB"], ["in", "IN"], ["URLs", "NNP"], ["and", "CC"], ["the", "DT"], ["client", "NN"], ["will", "MD"], ["return", "VB"], ["the", "DT"], ["IP", "NNP"], ["address", "NN"], [",", ","], ["it", "PRP"], ["'ll", "MD"], ["do", "VB"], ["the", "DT"], ["look", "NN"], ["up", "RP"], [".", "."], ["So", "RB"], [",", ","], ["Adobe.com", "NNP"], ["has", "VBZ"], ["got", "VBD"], ["this", "DT"], ["IP", "NNP"], ["address", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["shown", "VBN"], ["if", "IN"], ["this", "DT"], ["line", "NN"], ["here", "RB"], ["in", "IN"], ["the", "DT"], ["table", "NN"], [",", ","], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["Princeton.edu", "NNP"], ["has", "VBZ"], ["this", "DT"], ["IP", "NNP"], ["and", "CC"], ["ebay.edu", "NN"], ["is", "VBZ"], ["not", "RB"], ["in", "IN"], ["the", "DT"], ["file", "NN"], [".", "."], ["Now", "RB"], [",", ","], ["on", "IN"], ["the", "DT"], ["other", "JJ"], ["hand", "NN"], [",", ","], ["we", "PRP"], ["could", "MD"], [",", ","], ["from", "IN"], ["this", "DT"], ["same", "JJ"], ["file", "NN"], [",", ","], ["we", "PRP"], ["could", "MD"], ["build", "VB"], ["a", "DT"], ["symbol", "NN"], ["table", "NN"], ["where", "WRB"], ["we", "PRP"], ["treat", "VBP"], ["the", "DT"], ["IP", "NNP"], ["address", "NN"], ["as", "IN"], ["the", "DT"], [",", ","], ["as", "IN"], ["the", "DT"], ["key", "NN"], ["and", "CC"], ["the", "DT"], ["URL", "NNP"], ["as", "IN"], ["the", "DT"], ["value", "NN"], [".", "."], ["So", "RB"], [",", ","], ["in", "IN"], ["that", "DT"], ["case", "NN"], [",", ","], ["it", "PRP"], ["'ll", "MD"], ["build", "VB"], ["a", "DT"], ["symbol", "NN"], ["table", "NN"], ["with", "IN"], ["IP", "NNP"], ["addresses", "NNS"], ["as", "IN"], ["keys", "NNS"], ["and", "CC"], ["we", "PRP"], ["can", "MD"], ["type", "VB"], ["in", "IN"], ["an", "DT"], ["IP", "NNP"], ["address", "NN"], ["and", "CC"], ["get", "VB"], ["the", "DT"], ["associated", "JJ"], ["URL", "NNP"], [".", "."], ["So", "RB"], [",", ","], ["with", "IN"], ["one", "CD"], ["client", "NN"], ["we", "PRP"], ["can", "MD"], ["handle", "VB"], ["lookups", "NNS"], ["of", "IN"], ["all", "DT"], ["kinds", "NNS"], ["in", "IN"], ["CSV", "NNP"], ["files", "NNS"], [".", "."], ["For", "IN"], ["example", "NN"], [",", ","], ["here", "RB"], ["'s", "VBZ"], ["another", "DT"], ["CSV", "NNP"], ["file", "NN"], ["that", "IN"], ["from", "IN"], ["biology", "NN"], ["that", "IN"], ["deals", "NNS"], ["with", "IN"], [",", ","], ["amino", "JJ"], ["acids", "NNS"], ["and", "CC"], ["codons", "NNS"], ["and", "CC"], ["names", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["in", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["the", "DT"], ["first", "JJ"], ["field", "NN"], ["is", "VBZ"], ["three", "CD"], ["letters", "NNS"], ["from", "IN"], ["the", "DT"], ["DNA", "NNP"], ["sequence", "NN"], ["which", "WDT"], [",", ","], ["represents", "VBZ"], ["a", "DT"], ["codon", "NN"], [".", "."], ["And", "CC"], ["certain", "JJ"], ["codons", "NNS"], ["have", "VBP"], ["names", "NNS"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["the", "DT"], ["amino", "JJ"], ["acids", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["TCC", "NNP"], ["is", "VBZ"], ["called", "VBN"], ["serine", "NN"], [",", ","], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["an", "DT"], ["association", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["well", "RB"], ["known", "VBN"], ["to", "TO"], ["biologist", "VB"], ["and", "CC"], ["then", "RB"], ["you", "PRP"], ["can", "MD"], ["use", "VB"], ["this", "DT"], ["lookup", "NN"], ["CSV", "NNP"], ["client", "NN"], ["to", "TO"], ["quickly", "RB"], ["get", "VB"], ["the", "DT"], ["name", "NN"], ["associated", "VBN"], ["with", "IN"], ["any", "DT"], ["given", "VBN"], ["codon", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["just", "RB"], ["another", "DT"], ["simple", "JJ"], ["example", "NN"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["a", "DT"], ["very", "RB"], ["general", "JJ"], ["tool", "NN"], [".", "."], ["Any", "DT"], ["CSV", "NNP"], ["file", "NN"], [",", ","], ["you", "PRP"], ["can", "MD"], ["pick", "VB"], ["any", "DT"], ["field", "NN"], ["as", "IN"], ["the", "DT"], ["key", "NN"], [",", ","], ["any", "DT"], ["other", "JJ"], ["field", "NN"], ["as", "IN"], ["the", "DT"], ["value", "NN"], [".", "."], ["So", "CC"], ["here", "RB"], ["'s", "POS"], ["still", "RB"], ["another", "DT"], ["example", "NN"], ["where", "WRB"], ["we", "PRP"], ["might", "MD"], ["use", "VB"], ["for", "IN"], ["a", "DT"], ["class", "NN"], ["list", "NN"], [",", ","], ["which", "WDT"], ["has", "VBZ"], ["the", "DT"], ["person", "NN"], ["'s", "POS"], ["year", "NN"], ["of", "IN"], ["graduation", "NN"], [",", ","], ["last", "JJ"], ["name", "NN"], [",", ","], ["first", "RB"], ["name", "NN"], ["precept", "NN"], ["name", "NN"], ["and", "CC"], ["login", "NN"], ["name", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], ["in", "IN"], ["the", "DT"], ["first", "JJ"], ["call", "NN"], ["over", "IN"], ["here", "RB"], [",", ","], ["we", "PRP"], ["might", "MD"], ["use", "VB"], ["the", "DT"], ["login", "NN"], ["name", "NN"], ["as", "IN"], ["the", "DT"], ["key", "NN"], ["and", "CC"], ["the", "DT"], ["first", "JJ"], ["name", "NN"], ["as", "IN"], ["the", "DT"], ["value", "NN"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["type", "VBP"], ["in", "IN"], ["somebody", "NN"], ["'s", "POS"], ["login", "JJ"], ["name", "NN"], ["we", "PRP"], ["get", "VBP"], ["their", "PRP$"], ["first", "JJ"], ["name", "NN"], [".", "."], ["And", "CC"], ["again", "RB"], [",", ","], ["with", "IN"], ["the", "DT"], ["same", "JJ"], ["client", "NN"], ["login", "NN"], ["is", "VBZ"], ["key", "JJ"], ["and", "CC"], ["get", "VB"], ["the", "DT"], ["section", "NN"], ["as", "IN"], ["a", "DT"], ["value", "NN"], [".", "."], ["So", "RB"], [",", ","], ["all", "DT"], ["kinds", "NNS"], ["of", "IN"], ["information", "NN"], ["processing", "NN"], ["that", "IN"], ["we", "PRP"], ["might", "MD"], ["need", "VB"], ["to", "TO"], ["do", "VB"], ["for", "IN"], ["large", "JJ"], ["amounts", "NNS"], ["of", "IN"], ["data", "NNS"], [",", ","], ["represented", "VBN"], ["in", "IN"], ["comma", "NN"], [",", ","], ["comma", "NN"], ["separated", "VBD"], ["value", "NN"], ["files", "VBZ"], ["this", "DT"], ["one", "CD"], ["client", "NN"], ["which", "WDT"], ["is", "VBZ"], ["based", "VBN"], ["on", "IN"], ["a", "DT"], ["symbol", "NN"], ["table", "NN"], ["will", "MD"], ["provide", "VB"], ["useful", "JJ"], ["functionality", "NN"], [".", "."], ["And", "CC"], ["here", "RB"], ["'s", "VBZ"], ["the", "DT"], ["implementation", "NN"], ["there", "EX"], ["'s", "VBZ"], ["very", "RB"], ["little", "JJ"], ["to", "TO"], ["it", "PRP"], ["given", "VBN"], ["the", "DT"], ["symbol", "NN"], ["table", "NN"], ["API", "NNP"], ["that", "IN"], ["we", "PRP"], ["'ve", "VBP"], ["articulated", "VBN"], ["and", "CC"], ["the", "DT"], ["implementations", "NNS"], ["that", "IN"], ["we", "PRP"], ["have", "VBP"], [".", "."], ["So", "VB"], ["what", "WP"], ["do", "VBP"], ["we", "PRP"], ["do", "VB"], ["to", "TO"], ["get", "VB"], ["lookup", "JJ"], ["CSV", "NNP"], ["implemented", "VBN"], ["?", "."], ["Well", "NNP"], [",", ","], ["first", "JJ"], ["thing", "NN"], ["is", "VBZ"], ["to", "TO"], ["set", "VB"], ["up", "RP"], ["the", "DT"], ["input", "NN"], ["stream", "NN"], ["from", "IN"], ["the", "DT"], ["first", "JJ"], ["argument", "NN"], [",", ","], ["so", "IN"], ["that", "DT"], ["'s", "VBZ"], ["our", "PRP$"], ["input", "NN"], ["file", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["get", "VB"], ["the", "DT"], ["numbers", "NNS"], ["of", "IN"], ["the", "DT"], ["fields", "NNS"], [",", ","], ["so", "IN"], ["the", "DT"], ["key", "NN"], ["and", "CC"], ["the", "DT"], ["value", "NN"], [".", "."], ["And", "CC"], ["now", "RB"], ["build", "VB"], ["a", "DT"], ["simple", "JJ"], ["table", "NN"], ["that", "WDT"], ["associates", "VBZ"], ["strings", "NNS"], ["with", "IN"], ["strings", "NNS"], [".", "."], ["Then", "RB"], ["there", "EX"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["while", "NN"], ["loop", "NN"], ["where", "WRB"], ["we", "PRP"], ["just", "RB"], ["read", "VB"], ["a", "DT"], ["new", "JJ"], ["line", "NN"], ["in", "IN"], ["that", "DT"], ["read", "JJ"], ["line", "NN"], [",", ","], ["read", "JJ"], ["line", "NN"], ["and", "CC"], ["then", "RB"], ["split", "VB"], ["according", "VBG"], ["to", "TO"], ["comma", "VB"], ["into", "IN"], ["tokens", "NNS"], ["in", "IN"], ["an", "DT"], ["array", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["the", "DT"], ["index", "NN"], ["in", "IN"], ["the", "DT"], ["array", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["build", "VB"], ["the", "DT"], ["fields", "NNS"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["use", "VB"], [".", "."], ["So", "RB"], [",", ","], ["the", "DT"], ["key", "NN"], ["is", "VBZ"], ["the", "DT"], ["string", "NN"], ["in", "IN"], ["the", "DT"], ["key", "JJ"], ["field", "NN"], ["entry", "NN"], ["of", "IN"], ["the", "DT"], ["array", "NN"], [",", ","], ["and", "CC"], ["the", "DT"], ["value", "NN"], ["is", "VBZ"], ["the", "DT"], ["string", "NN"], ["in", "IN"], ["the", "DT"], ["value", "NN"], ["field", "NN"], ["entry", "NN"], ["in", "IN"], ["the", "DT"], ["array", "NN"], [",", ","], ["and", "CC"], ["we", "PRP"], ["simpl", "VBP"], ["y", "PRP"], ["put", "VB"], ["that", "DT"], ["into", "IN"], ["symbol", "NN"], ["table", "NN"], [".", "."], ["So", "RB"], [",", ","], ["this", "DT"], ["value", "NN"], ["loop", "VBZ"], ["just", "RB"], ["builds", "VB"], ["the", "DT"], ["symbol", "NN"], ["table", "NN"], ["from", "IN"], ["the", "DT"], ["file", "NN"], [".", "."], ["Then", "RB"], ["from", "IN"], ["standard", "JJ"], ["input", "NN"], ["we", "PRP"], ["take", "VBP"], ["queries", "NNS"], [",", ","], ["just", "RB"], ["read", "VB"], ["a", "DT"], ["string", "NN"], [",", ","], ["check", "VB"], ["if", "IN"], ["the", "DT"], ["symbol", "NN"], ["table", "NN"], ["contains", "VBZ"], ["the", "DT"], ["string", "NN"], [".", "."], ["It", "PRP"], [",", ","], ["it", "PRP"], ["does", "VBZ"], ["n't", "RB"], [",", ","], ["print", "VB"], ["not", "RB"], ["found", "VBN"], [".", "."], ["And", "CC"], ["if", "IN"], ["it", "PRP"], ["does", "VBZ"], [",", ","], ["print", "VB"], ["the", "DT"], ["value", "NN"], ["associated", "VBN"], ["with", "IN"], ["the", "DT"], ["key", "NN"], [".", "."], ["So", "RB"], [",", ","], ["a", "DT"], ["very", "RB"], ["small", "JJ"], ["amount", "NN"], ["of", "IN"], ["code", "NN"], ["based", "VBN"], ["on", "IN"], ["a", "DT"], ["symbol", "NN"], ["table", "JJ"], ["implementation", "NN"], ["that", "WDT"], ["gives", "VBZ"], ["us", "PRP"], ["the", "DT"], ["dictionary", "JJ"], ["functionality", "NN"], [".", "."]], "title": "symbol table applications dictionary clients optional", "text": "Now, let's look at a dictionary client, another very useful and common application of symbol tables. So, in this case, we are going to write a client called Lookup CSV that [cough] is going to take three arguments. The first will be a file name, a so-called common separated value file and the next two arguments are integers which will tell us what to treat as keys and values in the file. In this example or CSV file relates URLs to IP addresses. So, each line has a URL and IP address and are separated by commas. And in general, a CSV file might have many fields separated by comma, comma. So, we number them zero, one, and so forth starting from the left. So, what we are going to do with this client is specify with integers which field is the key, and which is the value. So, if we call this client with second argument zero and third argument one, that means we want to use the URL field zero on the CSV file as the key, no one use the IP address that's field one in the CSV as the value, you want to associate keys with values. So the client will build a symbol table that makes us associations for every line in the file and this could be huge file. And then, if we want to look up the IP address associated with a given URL we can just type in URLs and the client will return the IP address, it'll do the look up. So, Adobe.com has got this IP address that's shown if this line here in the table, and so forth. Princeton.edu has this IP and ebay.edu is not in the file. Now, on the other hand, we could, from this same file, we could build a symbol table where we treat the IP address as the, as the key and the URL as the value. So, in that case, it'll build a symbol table with IP addresses as keys and we can type in an IP address and get the associated URL. So, with one client we can handle lookups of all kinds in CSV files. For example, here's another CSV file that from biology that deals with, amino acids and codons and names. So, in this case, the first field is three letters from the DNA sequence which, represents a codon. And certain codons have names, that's the amino acids. So, TCC is called serine, and so forth. And that's an association that's well known to biologist and then you can use this lookup CSV client to quickly get the name associated with any given codon. That's just another simple example. This is a very general tool. Any CSV file, you can pick any field as the key, any other field as the value. So here's still another example where we might use for a class list, which has the person's year of graduation, last name, first name precept name and login name. And so in the first call over here, we might use the login name as the key and the first name as the value. So, we type in somebody's login name we get their first name. And again, with the same client login is key and get the section as a value. So, all kinds of information processing that we might need to do for large amounts of data, represented in comma, comma separated value files this one client which is based on a symbol table will provide useful functionality. And here's the implementation there's very little to it given the symbol table API that we've articulated and the implementations that we have. So what do we do to get lookup CSV implemented? Well, first thing is to set up the input stream from the first argument, so that's our input file. And then, get the numbers of the fields, so the key and the value. And now build a simple table that associates strings with strings. Then there there's a while loop where we just read a new line in that read line, read line and then split according to comma into tokens in an array. And then, the index in the array is going to build the fields that we're going to use. So, the key is the string in the key field entry of the array, and the value is the string in the value field entry in the array, and we simpl y put that into symbol table. So, this value loop just builds the symbol table from the file. Then from standard input we take queries, just read a string, check if the symbol table contains the string. It, it doesn't, print not found. And if it does, print the value associated with the key. So, a very small amount of code based on a symbol table implementation that gives us the dictionary functionality. ", "video_ID": 57, "course_id": 3}
{"category": ["symbol table applications"], "tagged": [["Here", "RB"], ["'s", "VBZ"], ["another", "DT"], ["simple", "JJ"], ["client", "NN"], ["program", "NN"], ["for", "IN"], ["symbol", "NN"], ["tables", "NNS"], ["related", "VBN"], ["to", "TO"], ["indexing", "VBG"], [".", "."], ["Again", "NNP"], [",", ","], ["another", "DT"], ["common", "JJ"], ["function", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["easily", "RB"], ["handled", "VBN"], ["by", "IN"], ["symbol", "NN"], ["tables", "NNS"], [".", "."], ["There", "EX"], ["'s", "VBZ"], ["all", "DT"], ["kinds", "NNS"], ["of", "IN"], ["cases", "NNS"], ["where", "WRB"], ["we", "PRP"], ["just", "RB"], ["have", "VBP"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["information", "NN"], [",", ","], ["maybe", "RB"], ["on", "IN"], ["our", "PRP$"], ["PC", "NN"], ["or", "CC"], ["all", "DT"], ["over", "IN"], ["the", "DT"], ["web", "NN"], [",", ","], ["and", "CC"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["create", "VB"], ["an", "DT"], ["index", "NN"], ["that", "WDT"], ["allows", "VBZ"], ["us", "PRP"], ["to", "TO"], ["specify", "VB"], [".", "."], ["A", "DT"], ["search", "NN"], ["key", "NN"], ["and", "CC"], ["get", "VB"], ["all", "DT"], ["the", "DT"], ["associated", "VBN"], ["information", "NN"], [".", "."], ["And", "CC"], ["you", "PRP"], ["'ve", "VBP"], [",", ","], ["you", "PRP"], ["'ve", "VBP"], ["used", "VBN"], ["programs", "NNS"], ["like", "IN"], ["this", "DT"], ["on", "IN"], [",", ","], ["on", "IN"], ["your", "PRP$"], ["computer", "NN"], ["many", "JJ"], ["instances", "NNS"], [",", ","], ["most", "JJS"], ["likely", "JJ"], [".", "."], ["So", "RB"], [",", ","], ["more", "RBR"], ["generally", "RB"], [",", ","], ["here", "RB"], ["'s", "VBZ"], ["the", "DT"], ["goal", "NN"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["list", "VB"], ["of", "IN"], ["files", "NNS"], ["that", "WDT"], ["are", "VBP"], ["specified", "VBN"], [".", "."], ["And", "CC"], ["then", "RB"], [",", ","], ["and", "CC"], ["maybe", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["all", "DT"], ["files", "NNS"], ["on", "IN"], ["the", "DT"], ["computer", "NN"], [",", ","], ["or", "CC"], ["maybe", "RB"], ["it", "PRP"], ["'s", "VBZ"], ["specified", "VBN"], ["in", "IN"], [",", ","], ["in", "IN"], ["some", "DT"], ["other", "JJ"], ["way", "NN"], [".", "."], ["And", "CC"], ["what", "WP"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["create", "VB"], ["an", "DT"], ["index", "NN"], [",", ","], ["so", "IN"], ["that", "IN"], ["we", "PRP"], ["can", "MD"], ["efficiently", "RB"], ["find", "VB"], ["all", "PDT"], ["the", "DT"], ["files", "NNS"], ["that", "WDT"], ["contain", "VBP"], ["a", "DT"], ["given", "VBN"], ["query", "NN"], [".", "."], ["String", "NNP"], [".", "."], ["so", "RB"], [",", ","], ["in", "IN"], ["this", "DT"], ["small", "JJ"], ["example", "NN"], [".", "."], ["So", "RB"], [",", ","], ["our", "PRP$"], ["client", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["called", "VBN"], ["file", "NN"], ["index", "NN"], [".", "."], ["And", "CC"], ["in", "IN"], ["this", "DT"], ["small", "JJ"], ["example", "NN"], ["say", "VBP"], ["we", "PRP"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["have", "VB"], ["five", "CD"], ["text", "JJ"], ["files", "NNS"], [".", "."], ["And", "CC"], ["these", "DT"], ["are", "VBP"], ["just", "RB"], ["pieces", "NNS"], ["of", "IN"], ["literature", "NN"], [".", "."], ["And", "CC"], ["so", "RB"], ["what", "WP"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], [",", ","], ["build", "RB"], ["and", "CC"], ["index", "NN"], ["from", "IN"], ["that", "DT"], ["set", "NN"], ["of", "IN"], ["text", "JJ"], ["files", "NNS"], [".", "."], ["And", "CC"], ["then", "RB"], ["given", "VBN"], ["a", "DT"], ["key", "NN"], [",", ","], ["a", "DT"], ["string", "NN"], ["key", "NN"], [",", ","], ["we", "PRP"], ["want", "VBP"], ["it", "PRP"], ["to", "TO"], ["print", "VB"], ["out", "RP"], ["the", "DT"], ["files", "NNS"], ["that", "WDT"], ["might", "MD"], ["contain", "VB"], ["that", "IN"], ["key", "JJ"], [".", "."], ["So", "RB"], [",", ","], ["for", "IN"], ["example", "NN"], [",", ","], ["the", "DT"], ["word", "NN"], ["freedom", "NN"], ["appears", "VBZ"], ["in", "IN"], ["the", "DT"], ["Magna", "NNP"], ["Ca", "NNP"], [",", ","], ["Carta", "NNP"], ["and", "CC"], ["in", "IN"], ["Moby", "NNP"], ["Dick", "NNP"], ["and", "CC"], ["A", "NNP"], ["Tale", "NNP"], ["of", "IN"], ["Two", "CD"], ["Cities", "NNS"], ["[", "VBP"], ["COUGH", "NNP"], ["]", "NN"], ["in", "IN"], ["all", "DT"], ["three", "CD"], ["of", "IN"], ["them", "PRP"], ["but", "CC"], ["not", "RB"], ["in", "IN"], ["Tom", "NNP"], ["Sawyer", "NNP"], ["and", "CC"], ["not", "RB"], ["in", "IN"], ["Aesop", "NNP"], ["'s", "POS"], ["Fables", "NNP"], [".", "."], ["The", "DT"], ["word", "NN"], ["whale", "NN"], ["is", "VBZ"], ["only", "RB"], ["in", "IN"], [",", ","], ["Moby", "NNP"], ["Dick", "NNP"], [".", "."], ["The", "DT"], ["word", "NN"], ["lamb", "NN"], ["appears", "VBZ"], ["both", "DT"], ["in", "IN"], ["Tom", "NNP"], ["Sawyer", "NNP"], ["and", "CC"], ["Aesop", "NNP"], ["'s", "POS"], ["Fables", "NNP"], [",", ","], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["So", "IN"], ["we", "PRP"], ["'re", "VBP"], ["looking", "VBG"], ["for", "IN"], ["a", "DT"], ["piece", "NN"], ["of", "IN"], ["information", "NN"], ["somewhere", "RB"], ["in", "IN"], ["a", "DT"], ["computer", "NN"], [",", ","], ["and", "CC"], ["it", "PRP"], ["'ll", "MD"], ["give", "VB"], ["us", "PRP"], ["the", "DT"], ["names", "NNS"], ["of", "IN"], ["the", "DT"], ["files", "NNS"], ["that", "WDT"], ["contain", "VBP"], ["that", "DT"], ["information", "NN"], [".", "."], ["so", "RB"], [",", ","], ["with", "IN"], ["the", "DT"], [",", ","], ["more", "RBR"], ["[", "JJ"], ["COUGH", "NNP"], ["]", "NNP"], ["complex", "JJ"], ["user", "NN"], ["interface", "NN"], [",", ","], ["this", "DT"], ["is", "VBZ"], [",", ","], ["very", "RB"], ["much", "JJ"], ["what", "WP"], ["the", "DT"], ["spotlight", "NN"], ["or", "CC"], ["find", "VB"], ["function", "NN"], ["on", "IN"], ["your", "PRP$"], ["computer", "NN"], ["is", "VBZ"], ["doing", "VBG"], [".", "."], ["And", "CC"], ["a", "DT"], ["programmer", "NN"], ["might", "MD"], ["use", "VB"], ["the", "DT"], ["same", "JJ"], ["program", "NN"], [",", ","], ["to", "TO"], ["find", "VB"], ["places", "NNS"], ["where", "WRB"], ["certain", "JJ"], [",", ","], ["Programming", "VBG"], ["terms", "NNS"], ["are", "VBP"], ["used", "VBN"], ["in", "IN"], ["a", "DT"], ["bunch", "NN"], ["of", "IN"], ["programs", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["normally", "RB"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["bunch", "NN"], ["of", "IN"], ["dot", "NN"], ["java", "NN"], ["files", "NNS"], ["when", "WRB"], ["we", "PRP"], ["'re", "VBP"], ["working", "VBG"], ["on", "IN"], ["an", "DT"], ["application", "NN"], [".", "."], ["Like", "IN"], ["these", "DT"], ["are", "VBP"], ["all", "PDT"], ["the", "DT"], ["ones", "NNS"], ["associated", "VBN"], ["with", "IN"], ["this", "DT"], [",", ","], ["lecture", "NN"], [",", ","], ["so", "IN"], ["we", "PRP"], ["might", "MD"], ["build", "VB"], ["an", "DT"], ["index", "NN"], ["from", "IN"], ["that", "DT"], ["set", "NN"], ["of", "IN"], ["files", "NNS"], [",", ","], ["and", "CC"], ["then", "RB"], ["we", "PRP"], ["might", "MD"], ["wonder", "VB"], ["well", "RB"], ["where", "WRB"], ["do", "VBP"], ["we", "PRP"], ["use", "VB"], ["the", "DT"], ["import", "NN"], ["statements", "NNS"], [".", "."], ["So", "IN"], ["we", "PRP"], ["just", "RB"], ["search", "NN"], ["for", "IN"], ["import", "NN"], ["and", "CC"], ["it", "PRP"], ["'ll", "MD"], ["tell", "VB"], ["us", "PRP"], [",", ","], ["look", "NN"], ["in", "IN"], ["those", "DT"], ["three", "CD"], ["files", "NNS"], [".", "."], ["Or", "CC"], [",", ","], ["did", "VBD"], ["we", "PRP"], ["use", "VBP"], ["comparators", "NNS"], ["anywhere", "RB"], ["here", "RB"], ["?", "."], ["In", "IN"], [",", ","], ["this", "DT"], ["Index", "NNP"], ["will", "MD"], ["tell", "VB"], ["us", "PRP"], ["no", "DT"], [".", "."], ["So", "RB"], ["again", "RB"], [",", ","], ["a", "DT"], ["very", "RB"], ["general", "JJ"], ["capability", "NN"], ["that", "WDT"], ["'s", "VBZ"], ["got", "VBD"], ["lots", "NNS"], ["and", "CC"], ["lots", "NNS"], ["of", "IN"], ["applications", "NNS"], ["and", "CC"], ["easy", "JJ"], ["to", "TO"], ["implement", "VB"], ["with", "IN"], ["our", "PRP$"], ["symbol", "NN"], ["table", "NN"], ["api", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["idea", "NN"], ["is", "VBZ"], [",", ","], ["that", "IN"], ["what", "WP"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["associate", "VB"], [".", "."], ["On", "IN"], ["keys", "NNS"], ["with", "IN"], ["values", "NNS"], ["well", "VBP"], ["the", "DT"], ["key", "NN"], ["is", "VBZ"], ["the", "DT"], ["string", "NN"], ["we", "PRP"], ["type", "VBP"], ["what", "WP"], ["'s", "VBZ"], ["the", "DT"], ["value", "NN"], ["?", "."], ["Well", "UH"], ["what", "WP"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["use", "VB"], ["for", "IN"], ["value", "NN"], ["is", "VBZ"], ["a", "DT"], ["set", "NN"], ["of", "IN"], ["files", "NNS"], [",", ","], ["the", "DT"], ["files", "NNS"], ["that", "WDT"], ["contain", "VBP"], ["the", "DT"], ["query", "NN"], ["string", "NN"], [".", "."], ["So", "RB"], ["just", "RB"], ["given", "VBN"], ["that", "RB"], ["high", "JJ"], ["level", "NN"], ["description", "NN"], ["then", "RB"], ["the", "DT"], ["implimintation", "NN"], ["is", "VBZ"], ["pretty", "JJ"], ["direct", "JJ"], [".", "."], ["Here", "RB"], ["'s", "VBZ"], ["the", "DT"], ["implementation", "NN"], ["of", "IN"], ["file", "NN"], ["index", "NN"], ["using", "VBG"], ["our", "PRP$"], ["symbol", "NN"], ["file", "NN"], ["implimintation", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["build", "VB"], ["a", "DT"], ["symbol", "NN"], ["table", "NN"], [".", "."], ["That", "DT"], ["associates", "VBZ"], ["string", "VBG"], ["keys", "NNS"], ["with", "IN"], ["sets", "NNS"], ["of", "IN"], ["files", "NNS"], [".", "."], ["So", "RB"], ["this", "DT"], ["creates", "VBZ"], ["a", "DT"], ["new", "JJ"], ["symbol", "NN"], ["table", "NN"], ["associating", "VBG"], ["string", "VBG"], ["keys", "NNS"], ["with", "IN"], ["sets", "NNS"], ["of", "IN"], ["files", "NNS"], [".", "."], ["So", "RB"], ["first", "JJ"], ["thing", "NN"], ["we", "PRP"], ["do", "VBP"], [",", ","], ["as", "IN"], ["before", "IN"], [",", ","], ["is", "VBZ"], ["build", "PDT"], ["the", "DT"], ["index", "NN"], [".", "."], ["So", "IN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["take", "VB"], [",", ","], ["this", "DT"], ["time", "NN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["take", "VB"], ["the", "DT"], ["list", "NN"], ["of", "IN"], ["file", "JJ"], ["names", "NNS"], ["from", "IN"], ["the", "DT"], ["command", "NN"], ["line", "NN"], [".", "."], ["And", "CC"], ["[", "JJ"], ["COUGH", "NNP"], ["]", "NN"], ["for", "IN"], ["each", "DT"], ["file", "NN"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["create", "VB"], ["an", "DT"], ["input", "NN"], ["stream", "NN"], [".", "."], ["We", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["read", "VB"], ["every", "DT"], ["word", "NN"], ["in", "IN"], ["the", "DT"], ["file", "NN"], ["if", "IN"], ["the", "DT"], ["symbol", "NN"], ["contains", "VBZ"], ["does", "VBZ"], ["not", "RB"], ["contain", "VB"], ["the", "DT"], ["word", "NN"], [".", "."], ["Will", "NNP"], ["create", "VB"], ["a", "DT"], ["new", "JJ"], ["set", "NN"], ["for", "IN"], ["that", "DT"], ["word", "NN"], ["and", "CC"], ["put", "VBD"], ["that", "IN"], ["in", "IN"], ["the", "DT"], ["symbol", "NN"], ["table", "NN"], [",", ","], ["and", "CC"], ["then", "RB"], [",", ","], ["we", "PRP"], ["simply", "RB"], ["get", "VB"], ["the", "DT"], ["set", "NN"], ["associated", "VBN"], ["with", "IN"], ["the", "DT"], ["key", "NN"], ["and", "CC"], ["add", "VB"], ["the", "DT"], ["new", "JJ"], ["word", "NN"], ["to", "TO"], ["that", "DT"], ["set", "NN"], [",", ","], ["the", "DT"], ["new", "JJ"], ["file", "NN"], ["name", "NN"], ["to", "TO"], ["that", "DT"], ["set", "NN"], [".", "."], ["So", "RB"], [",", ","], ["this", "DT"], ["one", "CD"], [",", ","], ["for", "IN"], ["each", "DT"], ["word", "NN"], ["in", "IN"], ["the", "DT"], ["file", "NN"], [".", "."], ["It", "PRP"], ["'ll", "MD"], ["add", "VB"], ["that", "IN"], ["file", "NN"], ["name", "NN"], ["to", "TO"], ["the", "DT"], ["corresponding", "JJ"], ["set", "NN"], ["for", "IN"], ["that", "DT"], ["word", "NN"], [".", "."], ["That", "DT"], ["'s", "VBZ"], ["building", "VBG"], ["a", "DT"], ["symbol", "NN"], ["table", "NN"], ["associating", "VBG"], ["keys", "NNS"], ["with", "IN"], ["sets", "NNS"], ["of", "IN"], ["files", "NNS"], [".", "."], ["And", "CC"], ["then", "RB"], ["processing", "VBG"], ["queries", "NNS"], ["is", "VBZ"], ["the", "DT"], ["same", "JJ"], ["as", "IN"], ["before", "RB"], [",", ","], ["as", "RB"], ["long", "RB"], ["as", "IN"], ["standard", "NN"], ["in", "IN"], ["is", "VBZ"], ["not", "RB"], ["empty", "JJ"], ["we", "PRP"], ["take", "VBP"], ["a", "DT"], ["query", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["simply", "RB"], ["print", "VB"], ["out", "RP"], ["the", "DT"], ["set", "NN"], ["of", "IN"], ["strings", "NNS"], ["associated", "VBN"], ["with", "IN"], ["that", "DT"], ["word", "NN"], ["which", "WDT"], ["is", "VBZ"], ["a", "DT"], ["list", "NN"], ["of", "IN"], ["file", "JJ"], ["names", "NNS"], [".", "."], ["So", "RB"], ["again", "RB"], [",", ","], ["our", "PRP$"], ["symbol", "NN"], ["table", "JJ"], ["API", "NNP"], ["gives", "VBZ"], ["a", "DT"], ["very", "RB"], ["easy", "JJ"], ["way", "NN"], ["to", "TO"], ["implement", "VB"], ["this", "DT"], ["file", "NN"], ["indexing", "VBG"], ["function", "NN"], [",", ","], ["which", "WDT"], ["is", "VBZ"], ["very", "RB"], ["widely", "RB"], ["useful", "JJ"], [".", "."], ["And", "CC"], ["similarly", "RB"], [",", ","], ["maybe", "RB"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["build", "VB"], ["a", "DT"], [",", ","], ["a", "DT"], ["book", "NN"], ["index", "NN"], [",", ","], ["maybe", "RB"], ["for", "IN"], ["a", "DT"], ["real", "JJ"], ["book", "NN"], [",", ","], ["or", "CC"], ["maybe", "RB"], ["for", "IN"], ["an", "DT"], ["ebook", "NN"], [".", "."], ["Or", "CC"], ["more", "RBR"], ["generally", "RB"], [",", ","], ["people", "NNS"], ["want", "VBP"], ["to", "TO"], ["often", "RB"], ["process", "NN"], [",", ","], ["preprocess", "NN"], ["text", "NN"], ["to", "TO"], [",", ","], ["maybe", "RB"], ["a", "DT"], ["huge", "JJ"], ["amount", "NN"], ["of", "IN"], ["text", "NN"], [",", ","], ["to", "TO"], ["support", "VB"], [",", ","], ["so", "RB"], ["called", "VBD"], [",", ","], ["concordance", "NN"], ["queries", "NNS"], [".", "."], ["So", "RB"], ["what", "WP"], ["you", "PRP"], ["want", "VBP"], ["to", "TO"], ["do", "VB"], [",", ","], ["is", "VBZ"], ["given", "VBN"], ["a", "DT"], ["word", "NN"], [",", ","], ["find", "VBP"], ["all", "DT"], ["occurrences", "NNS"], ["of", "IN"], ["that", "DT"], ["word", "NN"], ["along", "IN"], ["with", "IN"], ["immediate", "JJ"], ["contexts", "NNS"], [".", "."], ["And", "CC"], ["context", "JJ"], ["just", "RB"], ["means", "VBZ"], ["a", "DT"], ["few", "JJ"], ["words", "NNS"], ["before", "IN"], ["and", "CC"], ["a", "DT"], ["few", "JJ"], ["words", "NNS"], ["after", "IN"], [".", "."], ["So", "RB"], ["for", "IN"], ["example", "NN"], [",", ","], ["in", "IN"], ["tail", "NN"], ["of", "IN"], ["two", "CD"], ["cities", "NNS"], [".", "."], ["The", "DT"], ["words", "NNS"], ["cities", "NNS"], ["actually", "RB"], ["only", "RB"], ["appears", "VBZ"], ["in", "IN"], ["this", "DT"], ["one", "CD"], ["place", "NN"], ["and", "CC"], ["this", "DT"], ["is", "VBZ"], ["[", "JJ"], ["COUGH", "NNP"], ["]", "NNP"], ["Context", "NNP"], ["that", "IN"], ["it", "PRP"], ["appears", "VBZ"], [".", "."], ["With", "IN"], ["the", "DT"], ["forwards", "NNS"], ["tongues", "NNS"], ["of", "IN"], ["the", "DT"], ["two", "CD"], ["before", "IN"], ["and", "CC"], ["that", "IN"], ["were", "VBD"], ["blended", "VBN"], ["in", "IN"], ["after", "IN"], [".", "."], ["The", "DT"], ["word", "NN"], ["majesty", "NN"], ["appears", "VBZ"], ["in", "IN"], ["three", "CD"], ["places", "NNS"], [",", ","], ["and", "CC"], ["there", "EX"], ["'s", "VBZ"], [",", ","], ["there", "EX"], ["'s", "VBZ"], ["the", "DT"], ["context", "NN"], [".", "."], ["In", "IN"], ["well", "RB"], [",", ","], ["this", "DT"], ["is", "VBZ"], [",", ","], ["the", "DT"], ["very", "RB"], ["special", "JJ"], ["case", "NN"], ["that", "IN"], ["you", "PRP"], ["'re", "VBP"], ["very", "RB"], ["familiar", "JJ"], ["with", "IN"], [".", "."], ["In", "IN"], ["web", "JJ"], ["searches", "NNS"], [".", "."], ["You", "PRP"], ["type", "VBP"], ["in", "IN"], ["a", "DT"], ["word", "NN"], [",", ","], ["and", "CC"], ["then", "RB"], ["you", "PRP"], ["get", "VBP"], ["places", "NNS"], ["that", "IN"], [",", ","], ["where", "WRB"], ["that", "DT"], ["word", "NN"], ["appears", "VBZ"], ["in", "IN"], ["context", "NN"], [".", "."], ["Again", "NNP"], [",", ","], ["our", "PRP$"], ["symbol", "NN"], ["table", "JJ"], ["API", "NNP"], ["provides", "VBZ"], ["for", "IN"], ["an", "DT"], ["easy", "JJ"], ["way", "NN"], ["to", "TO"], ["implement", "VB"], ["this", "DT"], [".", "."], ["This", "DT"], ["is", "VBZ"], ["a", "DT"], [",", ","], ["a", "DT"], [".", "."], ["[", "JJ"], ["COUGH", "NNP"], ["]", "NNP"], ["concordance", "NN"], ["client", "NN"], ["that", "IN"], ["that", "DT"], ["does", "VBZ"], ["the", "DT"], ["job", "NN"], [".", "."], ["Now", "RB"], ["what", "WP"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["read", "VB"], ["text", "NN"], [",", ","], ["and", "CC"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["build", "VB"], ["an", "DT"], ["index", "NN"], ["for", "IN"], ["each", "DT"], ["word", "NN"], [".", "."], ["So", "IN"], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], ["[", "JJ"], ["COUGH", "NNP"], ["]", "NN"], ["a", "DT"], [",", ","], ["a", "DT"], ["java", "NN"], ["construct", "NN"], ["for", "IN"], [".", "."], ["Reading", "VBG"], ["all", "PDT"], ["the", "DT"], ["strings", "NNS"], ["on", "IN"], ["an", "DT"], ["input", "NN"], ["stream", "NN"], [",", ","], ["on", "IN"], ["standard", "JJ"], ["input", "NN"], [",", ","], ["and", "CC"], [",", ","], ["splitting", "VBG"], ["em", "NN"], ["by", "IN"], ["blank", "JJ"], ["space", "NN"], ["and", "CC"], ["putting", "VBG"], ["em", "NN"], ["into", "IN"], ["array", "NN"], [",", ","], ["so", "RB"], ["now", "RB"], ["all", "PDT"], ["the", "DT"], ["words", "NNS"], [",", ","], ["are", "VBP"], [",", ","], ["in", "IN"], ["the", "DT"], ["an", "DT"], ["array", "NN"], [".", "."], ["On", "IN"], ["standard", "JJ"], ["input", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["create", "VB"], ["a", "DT"], ["new", "JJ"], ["symbol", "NN"], ["table", "NN"], ["that", "WDT"], ["associates", "VBZ"], ["strings", "NNS"], ["with", "IN"], ["sets", "NNS"], ["of", "IN"], ["integers", "NNS"], [".", "."], ["And", "CC"], ["again", "RB"], ["the", "DT"], ["string", "NN"], ["is", "VBZ"], ["the", "DT"], ["key", "NN"], ["and", "CC"], ["the", "DT"], ["sets", "NNS"], ["of", "IN"], ["integers", "NNS"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["the", "DT"], ["places", "NNS"], ["in", "IN"], ["the", "DT"], ["array", "NN"], ["where", "WRB"], ["the", "DT"], ["given", "VBN"], ["work", "NN"], ["appears", "VBZ"], [".", "."], ["So", "RB"], [",", ","], ["we", "PRP"], ["go", "VBP"], ["through", "IN"], [".", "."], ["All", "PDT"], ["the", "DT"], ["words", "NNS"], [",", ","], ["pick", "VB"], ["out", "RP"], ["our", "PRP$"], ["key", "NN"], [",", ","], ["s", "NN"], [",", ","], ["and", "CC"], ["again", "RB"], [",", ","], ["if", "IN"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["not", "RB"], ["there", "RB"], ["yet", "RB"], [",", ","], ["we", "PRP"], ["create", "VBP"], ["a", "DT"], ["new", "JJ"], ["set", "NN"], ["associated", "VBN"], ["with", "IN"], ["that", "DT"], ["s", "NN"], [",", ","], ["and", "CC"], [",", ","], ["then", "RB"], [",", ","], ["afterwards", "NNS"], [",", ","], ["we", "PRP"], ["go", "VBP"], ["ahead", "RB"], ["and", "CC"], [".", "."], ["Get", "VB"], ["that", "DT"], ["set", "NN"], [",", ","], ["and", "CC"], ["put", "VBD"], ["the", "DT"], ["new", "JJ"], ["index", "NN"], ["on", "IN"], ["that", "DT"], ["set", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["that", "DT"], ["allows", "VBZ"], ["us", "PRP"], ["to", "TO"], ["process", "VB"], ["queries", "NNS"], [",", ","], ["where", "WRB"], ["we", "PRP"], ["take", "VBP"], ["a", "DT"], ["query", "NN"], [",", ","], ["and", "CC"], ["then", "RB"], ["get", "VB"], ["the", "DT"], ["set", "NN"], ["of", "IN"], ["indices", "NNS"], ["associated", "VBN"], ["with", "IN"], ["that", "DT"], ["query", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["we", "PRP"], ["left", "VBD"], ["out", "RP"], [",", ","], ["left", "VBD"], ["out", "RP"], ["the", "DT"], ["code", "NN"], ["where", "WRB"], ["you", "PRP"], ["print", "VBP"], ["out", "RP"], ["the", "DT"], ["nine", "CD"], ["words", "NNS"], ["that", "IN"], ["you", "PRP"], ["want", "VBP"], [".", "."], ["The", "DT"], ["four", "CD"], ["to", "TO"], ["the", "DT"], ["left", "NN"], ["and", "CC"], ["the", "DT"], ["four", "CD"], ["to", "TO"], ["the", "DT"], ["right", "NN"], [".", "."], ["Again", "NNP"], [",", ","], ["quite", "RB"], ["useful", "JJ"], ["and", "CC"], ["familiar", "JJ"], ["functionality", "NN"], ["and", "CC"], ["very", "RB"], ["easy", "JJ"], ["to", "TO"], ["implement", "VB"], ["with", "IN"], ["our", "PRP$"], ["simul", "NN"], ["table", "JJ"], ["client", "NN"], [".", "."]], "title": "symbol table applications indexing clients optional", "text": "Here's another simple client program for symbol tables related to indexing. Again, another common function that's easily handled by symbol tables. There's all kinds of cases where we just have a lot of information, maybe on our PC or all over the web, and we want to create an index that allows us to specify. A search key and get all the associated information. And you've, you've used programs like this on, on your computer many instances, most likely. So, more generally, here's the goal. So, we're going to list of files that are specified. And then, and maybe it's all files on the computer, or maybe it's specified in, in some other way. And what we want to do is create an index, so that we can efficiently find all the files that contain a given query. String. so, in this small example. So, our client is going to called file index. And in this small example say we are going to have five text files. And these are just pieces of literature. And so what we want to do is, build and index from that set of text files. And then given a key, a string key, we want it to print out the files that might contain that key. So, for example, the word freedom appears in the Magna Ca, Carta and in Moby Dick and A Tale of Two Cities [COUGH] in all three of them but not in Tom Sawyer and not in Aesop's Fables. The word whale is only in, Moby Dick. The word lamb appears both in Tom Sawyer and Aesop's Fables, and so forth. So we're looking for a piece of information somewhere in a computer, and it'll give us the names of the files that contain that information. so, with the, more [COUGH] complex user interface, this is, very much what the spotlight or find function on your computer is doing. And a programmer might use the same program, to find places where certain, Programming terms are used in a bunch of programs. So, normally we have a bunch of dot java files when we're working on an application. Like these are all the ones associated with this, lecture, so we might build an index from that set of files, and then we might wonder well where do we use the import statements. So we just search for import and it'll tell us, look in those three files. Or, did we use comparators anywhere here? In, this Index will tell us no. So again, a very general capability that's got lots and lots of applications and easy to implement with our symbol table api. And the idea is, that what we're going to do is associate. On keys with values well the key is the string we type what's the value? Well what we're going to use for value is a set of files, the files that contain the query string. So just given that high level description then the implimintation is pretty direct. Here's the implementation of file index using our symbol file implimintation. So now we're going to build a symbol table. That associates string keys with sets of files. So this creates a new symbol table associating string keys with sets of files. So first thing we do, as before, is build the index. So we're going to take, this time we're going to take the list of file names from the command line. And [COUGH] for each file we're going to create an input stream. We're going to read every word in the file if the symbol contains does not contain the word. Will create a new set for that word and put that in the symbol table, and then, we simply get the set associated with the key and add the new word to that set, the new file name to that set. So, this one, for each word in the file. It'll add that file name to the corresponding set for that word. That's building a symbol table associating keys with sets of files. And then processing queries is the same as before, as long as standard in is not empty we take a query. And then simply print out the set of strings associated with that word which is a list of file names. So again, our symbol table API gives a very easy way to implement this file indexing function, which is very widely useful. And similarly, maybe we want to build a, a book index, maybe for a real book, or maybe for an ebook. Or more generally, people want to often process, preprocess text to, maybe a huge amount of text, to support, so called, concordance queries. So what you want to do, is given a word, find all occurrences of that word along with immediate contexts. And context just means a few words before and a few words after. So for example, in tail of two cities. The words cities actually only appears in this one place and this is [COUGH] Context that it appears. With the forwards tongues of the two before and that were blended in after. The word majesty appears in three places, and there's, there's the context. In well, this is, the very special case that you're very familiar with. In web searches. You type in a word, and then you get places that, where that word appears in context. Again, our symbol table API provides for an easy way to implement this. This is a, a. [COUGH] concordance client that that does the job. Now what we want to do is read text, and we want to build an index for each word. So this is a [COUGH] a, a java construct for. Reading all the strings on an input stream, on standard input, and, splitting em by blank space and putting em into array, so now all the words, are, in the an array. On standard input. And then we're going to create a new symbol table that associates strings with sets of integers. And again the string is the key and the sets of integers are going to be the places in the array where the given work appears. So, we go through. All the words, pick out our key, s, and again, if, it's not there yet, we create a new set associated with that s, and, then, afterwards, we go ahead and. Get that set, and put the new index on that set. And then that allows us to process queries, where we take a query, and then get the set of indices associated with that query. And then we left out, left out the code where you print out the nine words that you want. The four to the left and the four to the right. Again, quite useful and familiar functionality and very easy to implement with our simul table client. ", "video_ID": 58, "course_id": 3}
{"category": ["symbol table applications"], "tagged": [["As", "IN"], ["a", "DT"], ["final", "JJ"], ["example", "NN"], ["of", "IN"], ["a", "DT"], ["symbol", "NN"], ["table", "JJ"], ["client", "NN"], [",", ","], ["we", "PRP"], ["'ll", "MD"], ["take", "VB"], ["a", "DT"], ["look", "NN"], ["at", "IN"], ["a", "DT"], ["mathematical", "JJ"], ["application", "NN"], ["where", "WRB"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["implement", "VB"], ["sparse", "JJ"], ["vectors", "NNS"], ["and", "CC"], ["matrices", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["this", "DT"], ["is", "VBZ"], ["a", "DT"], ["standard", "JJ"], ["matrix", "NN"], ["vector", "NN"], ["multiplication", "NN"], ["that", "IN"], ["you", "PRP"], ["learn", "VBP"], ["in", "IN"], ["Math", "NNP"], ["where", "WRB"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["square", "JJ"], ["matrix", "NN"], ["and", "CC"], ["a", "DT"], ["column", "NN"], ["vector", "NN"], ["and", "CC"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["do", "VB"], ["a", "DT"], ["dot", "JJ"], ["product", "NN"], ["of", "IN"], [",", ","], ["of", "IN"], ["first", "JJ"], ["row", "NN"], ["with", "IN"], ["the", "DT"], ["column", "NN"], ["vector", "NN"], ["to", "TO"], ["get", "VB"], ["the", "DT"], ["first", "JJ"], ["entry", "NN"], ["in", "IN"], ["the", "DT"], ["result", "NN"], [".", "."], ["So", "RB"], [",", ","], ["in", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["they", "PRP"], ["'re", "VBP"], ["all", "DT"], ["zero", "CD"], [",", ","], ["except", "IN"], ["for", "IN"], ["0.04", "CD"], ["0.9", "CD"], ["which", "WDT"], ["is", "VBZ"], ["0.36", "CD"], [".", "."], ["And", "CC"], ["then", "RB"], ["similarly", "RB"], [",", ","], ["dot", "JJ"], ["product", "NN"], ["of", "IN"], ["this", "DT"], ["with", "IN"], ["that", "DT"], ["column", "NN"], ["is", "VBZ"], ["0.297", "CD"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["So", "RB"], ["standard", "JJ"], ["implementation", "NN"], ["of", "IN"], ["this", "DT"], ["is", "VBZ"], ["quite", "RB"], ["easy", "JJ"], [".", "."], ["We", "PRP"], ["have", "VBP"], ["a", "DT"], ["two-dimensional", "JJ"], ["matrix", "NN"], ["one-dimensional", "JJ"], ["column", "NN"], ["vector", "NN"], ["for", "IN"], ["the", "DT"], ["multiplicand", "NN"], ["and", "CC"], ["the", "DT"], ["result", "NN"], [".", "."], ["And", "CC"], ["then", "RB"], ["they", "PRP"], ["get", "VBP"], ["initialized", "VBN"], ["in", "IN"], ["some", "DT"], ["way", "NN"], [",", ","], ["but", "CC"], ["the", "DT"], ["main", "JJ"], ["computation", "NN"], ["is", "VBZ"], ["a", "DT"], ["pair", "NN"], ["of", "IN"], ["nested", "JJ"], ["four", "CD"], ["loops", "NNS"], ["for", "IN"], ["each", "DT"], ["row", "NN"], ["in", "IN"], ["the", "DT"], ["matrix", "NN"], ["we", "PRP"], ["have", "VBP"], ["to", "TO"], ["go", "VB"], ["through", "IN"], ["each", "DT"], ["entry", "NN"], ["in", "IN"], ["the", "DT"], ["column", "NN"], ["vector", "NN"], ["and", "CC"], ["compute", "VB"], ["a", "DT"], ["running", "VBG"], ["sum", "NN"], ["of", "IN"], ["for", "IN"], ["that", "DT"], ["row", "NN"], ["in", "IN"], ["the", "DT"], ["matrix", "NN"], [",", ","], ["that", "IN"], ["corresponding", "VBG"], ["expanding", "VBG"], ["entry", "NN"], ["with", "IN"], ["the", "DT"], ["entry", "NN"], ["in", "IN"], ["the", "DT"], ["column", "NN"], ["and", "CC"], ["them", "PRP"], [",", ","], ["keep", "VB"], ["the", "DT"], ["running", "NN"], ["sum", "NN"], ["and", "CC"], ["then", "RB"], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["result", "NN"], ["that", "IN"], ["we", "PRP"], ["put", "VBP"], ["in", "IN"], ["the", "DT"], ["result", "NN"], ["column", "NN"], ["factor", "NN"], ["for", "IN"], ["every", "DT"], ["value", "NN"], ["of", "IN"], ["i", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["key", "JJ"], ["thing", "NN"], ["about", "IN"], ["this", "DT"], ["standard", "JJ"], ["implementation", "NN"], ["that", "IN"], ["it", "PRP"], ["'s", "VBZ"], ["two", "CD"], ["nested", "JJ"], ["four", "CD"], ["loops", "NNS"], ["that", "IN"], ["each", "DT"], ["run", "VB"], ["up", "RP"], ["to", "TO"], ["N.", "NNP"], ["So", "NNP"], [",", ","], ["that", "WDT"], ["'s", "VBZ"], ["N^2", "NNP"], ["or", "CC"], ["quadratic", "JJ"], ["running", "NN"], ["time", "NN"], [".", "."], ["And", "CC"], ["that", "DT"], ["'s", "VBZ"], ["fine", "JJ"], ["in", "IN"], ["typical", "JJ"], ["applications", "NNS"], ["when", "WRB"], ["the", "DT"], ["matrix", "NN"], ["is", "VBZ"], ["small", "JJ"], [",", ","], ["or", "CC"], ["when", "WRB"], ["there", "EX"], ["'s", "VBZ"], ["lots", "NNS"], ["of", "IN"], ["entries", "NNS"], ["in", "IN"], ["the", "DT"], ["matrix", "NN"], [".", "."], ["But", "CC"], ["the", "DT"], ["fact", "NN"], ["is", "VBZ"], ["that", "IN"], ["in", "IN"], ["many", "JJ"], ["practical", "JJ"], ["applications", "NNS"], [",", ","], ["the", "DT"], ["matrices", "NNS"], ["are", "VBP"], ["what", "WP"], ["'s", "VBZ"], ["called", "VBN"], ["sparse", "NN"], [".", "."], ["They", "PRP"], [",", ","], ["most", "JJS"], ["of", "IN"], ["the", "DT"], ["entries", "NNS"], ["are", "VBP"], ["zero", "CD"], [".", "."], ["And", "CC"], ["so", "RB"], [",", ","], ["symbol", "NN"], ["tables", "NNS"], ["provide", "VBP"], ["us", "PRP"], ["with", "IN"], ["a", "DT"], ["way", "NN"], ["to", "TO"], ["provide", "VB"], ["a", "DT"], ["more", "RBR"], ["efficient", "JJ"], ["implementation", "NN"], ["of", "IN"], [",", ","], ["of", "IN"], ["this", "DT"], ["process", "NN"], ["when", "WRB"], ["we", "PRP"], ["have", "VBP"], ["lots", "NNS"], ["of", "IN"], ["zero", "NN"], ["entries", "NNS"], [".", "."], ["So", "RB"], ["in", "IN"], ["a", "DT"], ["typical", "JJ"], ["thing", "NN"], [",", ","], ["say", "VBP"], [",", ","], ["maybe", "RB"], ["the", "DT"], ["matrix", "NN"], ["dimension", "NN"], ["would", "MD"], ["be", "VB"], ["10,000", "CD"], [",", ","], ["and", "CC"], ["maybe", "RB"], ["there", "EX"], ["would", "MD"], ["only", "RB"], ["be", "VB"], ["ten", "VBN"], ["non-zero", "JJ"], ["entries", "NNS"], ["per", "IN"], ["row", "NN"], [".", "."], ["Or", "CC"], [",", ","], ["even", "RB"], ["nowadays", "VBZ"], ["you", "PRP"], ["might", "MD"], ["have", "VB"], ["matrices", "NNS"], ["that", "WDT"], ["are", "VBP"], [",", ","], ["are", "VBP"], ["even", "RB"], ["bigger", "JJR"], [".", "."], ["10,000", "CD"], ["by", "IN"], ["10,000", "CD"], ["if", "IN"], [",", ","], ["if", "IN"], ["there", "EX"], ["was", "VBD"], [",", ","], ["if", "IN"], ["it", "PRP"], ["was", "VBD"], ["full", "JJ"], [",", ","], ["that", "WDT"], ["would", "MD"], ["be", "VB"], ["a", "DT"], ["billi", "NN"], ["on", "IN"], ["or", "CC"], ["100", "CD"], ["million", "CD"], ["entries", "NNS"], [".", "."], ["And", "CC"], ["so", "RB"], ["that", "IN"], ["'s", "VBZ"], ["definitely", "RB"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["costly", "JJ"], ["eh", "NN"], [",", ","], ["if", "IN"], ["you", "PRP"], ["'re", "VBP"], ["doing", "VBG"], ["this", "DT"], ["operation", "NN"], ["a", "DT"], [",", ","], ["a", "DT"], ["lot", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["idea", "NN"], ["is", "VBZ"], ["to", "TO"], ["cut", "VB"], ["down", "RP"], ["on", "IN"], ["that", "DT"], ["cost", "NN"], ["by", "IN"], ["taking", "VBG"], ["advantage", "NN"], ["of", "IN"], ["idea", "NN"], ["that", "IN"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["zeros", "NN"], [".", "."], ["So", "NNP"], ["let", "NN"], ["'s", "POS"], ["start", "VB"], ["by", "IN"], ["just", "RB"], ["looking", "VBG"], ["at", "IN"], ["vectors", "NNS"], [".", "."], ["So", "IN"], ["the", "DT"], ["standard", "JJ"], ["representation", "NN"], ["that", "IN"], ["we", "PRP"], ["use", "VBP"], ["for", "IN"], ["vector", "NN"], ["is", "VBZ"], ["to", "TO"], ["simply", "RB"], ["use", "VB"], ["a", "DT"], ["one", "CD"], ["dimensional", "JJ"], ["array", "NN"], [".", "."], ["We", "PRP"], ["have", "VBP"], ["constant", "JJ"], ["time", "NN"], ["access", "NN"], ["to", "TO"], ["every", "DT"], ["element", "NN"], [",", ","], ["but", "CC"], ["the", "DT"], ["space", "NN"], ["is", "VBZ"], ["proportional", "JJ"], ["to", "TO"], ["N.", "NNP"], ["So", "NNP"], [",", ","], ["even", "RB"], ["if", "IN"], ["there", "EX"], ["'s", "VBZ"], ["a", "DT"], ["lot", "NN"], ["of", "IN"], ["zeros", "NN"], ["we", "PRP"], [",", ","], ["we", "PRP"], ["still", "RB"], ["have", "VBP"], ["to", "TO"], ["take", "VB"], ["the", "DT"], ["space", "NN"], ["to", "TO"], ["store", "VB"], ["them", "PRP"], ["all", "DT"], [".", "."], ["Instead", "RB"], [",", ","], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["use", "VB"], ["a", "DT"], ["symbol", "NN"], ["table", "NN"], ["representation", "NN"], ["where", "WRB"], ["our", "PRP$"], ["key", "NN"], ["is", "VBZ"], ["the", "DT"], ["index", "NN"], ["and", "CC"], ["the", "DT"], ["value", "NN"], ["is", "VBZ"], ["the", "DT"], ["entry", "NN"], [".", "."], ["And", "CC"], ["we", "PRP"], ["just", "RB"], ["use", "VBP"], ["that", "IN"], ["for", "IN"], ["every", "DT"], ["non-zero", "JJ"], ["entry", "NN"], ["in", "IN"], ["the", "DT"], ["vector", "NN"], [".", "."], ["So", "RB"], [",", ","], ["this", "DT"], ["has", "VBZ"], ["got", "VBD"], ["the", "DT"], ["same", "JJ"], ["amount", "NN"], ["of", "IN"], ["information", "NN"], [".", "."], ["It", "PRP"], ["says", "VBZ"], ["that", "IN"], ["index", "NN"], ["one", "CD"], ["has", "VBZ"], ["got", "VBD"], ["0.36", "CD"], [",", ","], ["index", "NN"], ["five", "CD"], ["also", "RB"], ["has", "VBZ"], ["0.36", "CD"], [",", ","], ["index", "NN"], ["fourteen", "NN"], ["has", "VBZ"], ["0.18", "CD"], ["and", "CC"], ["so", "RB"], ["forth", "JJ"], [".", "."], ["But", "CC"], ["the", "DT"], ["space", "NN"], ["is", "VBZ"], ["proportional", "JJ"], ["instead", "RB"], ["of", "IN"], ["to", "TO"], ["N", "NNP"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["just", "RB"], ["proportional", "JJ"], ["to", "TO"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["non-zero", "JJ"], ["entries", "NNS"], ["which", "WDT"], ["again", "RB"], [",", ","], ["in", "IN"], ["typical", "JJ"], ["applications", "NNS"], [",", ","], ["may", "MD"], ["be", "VB"], ["way", "NN"], [",", ","], ["way", "NN"], ["less", "JJR"], [".", "."], ["And", "CC"], ["so", "RB"], ["now", "RB"], [",", ","], ["just", "RB"], ["we", "PRP"], [",", ","], ["we", "PRP"], ["know", "VBP"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["symbol", "NN"], ["table", "JJ"], ["implementation", "NN"], ["that", "WDT"], ["has", "VBZ"], ["efficient", "JJ"], ["iterator", "NN"], [".", "."], ["And", "CC"], ["also", "RB"], ["access", "NN"], ["is", "VBZ"], ["not", "RB"], ["bad", "JJ"], [".", "."], ["It", "PRP"], ["'s", "VBZ"], ["just", "RB"], ["that", "IN"], ["we", "PRP"], ["'re", "VBP"], ["able", "JJ"], ["to", "TO"], ["do", "VB"], ["it", "PRP"], ["with", "IN"], ["way", "NN"], ["less", "JJR"], ["space", "NN"], [".", "."], ["So", "RB"], [",", ","], ["here", "RB"], ["'s", "VBZ"], ["what", "WP"], ["the", "DT"], ["implementation", "NN"], ["of", "IN"], ["a", "DT"], ["sparse", "JJ"], ["vector", "NN"], ["might", "MD"], ["look", "VB"], ["like", "IN"], [".", "."], ["So", "RB"], ["first", "JJ"], ["thing", "NN"], ["is", "VBZ"], ["the", "DT"], ["representation", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["a", "DT"], ["symbol", "NN"], ["table", "NN"], [".", "."], ["And", "CC"], ["in", "IN"], ["this", "DT"], ["case", "NN"], [",", ","], ["we", "PRP"], ["might", "MD"], ["as", "RB"], ["well", "RB"], ["use", "IN"], ["a", "DT"], ["hash", "NN"], ["table", "NN"], ["because", "IN"], ["the", "DT"], ["order", "NN"], ["in", "IN"], ["which", "WDT"], ["we", "PRP"], ["process", "VBP"], ["things", "NNS"], ["is", "VBZ"], ["not", "RB"], ["important", "JJ"], [".", "."], ["Uh-huh", "JJ"], [",", ","], ["we", "PRP"], ["just", "RB"], ["want", "VBP"], ["to", "TO"], ["get", "VB"], ["at", "IN"], ["the", "DT"], [",", ","], ["all", "PDT"], ["the", "DT"], ["non-zero", "JJ"], ["entries", "NNS"], [".", "."], ["So", "IN"], ["the", "DT"], ["constructor", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["create", "VB"], ["in", "IN"], ["this", "DT"], ["[", "JJ"], ["cough", "NN"], ["]", "NNP"], ["symbol", "NN"], ["table", "NN"], [".", "."], ["Just", "VB"], ["a", "DT"], ["new", "JJ"], ["symbol", "NN"], ["table", "NN"], ["that", "WDT"], ["associates", "VBZ"], ["integer", "JJR"], ["indices", "NNS"], ["with", "IN"], ["double", "JJ"], ["values", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["the", "DT"], ["put", "NN"], ["which", "WDT"], ["is", "VBZ"], ["to", "TO"], ["store", "VB"], ["a", "DT"], ["value", "NN"], ["associated", "VBN"], ["with", "IN"], ["an", "DT"], ["index", "NN"], ["i", "NN"], [",", ","], ["is", "VBZ"], ["just", "RB"], ["put", "VBN"], ["into", "IN"], ["that", "DT"], ["hash", "NN"], ["table", "NN"], [",", ","], ["associate", "JJ"], ["key", "NN"], ["i", "NN"], ["with", "IN"], ["value", "NN"], ["x", "NNP"], [".", "."], ["Associate", "NNP"], ["an", "DT"], ["integer", "NN"], ["with", "IN"], ["a", "DT"], ["double", "JJ"], [".", "."], ["And", "CC"], ["get", "VB"], ["I", "PRP"], ["'ll", "MD"], ["return", "VB"], ["zero", "CD"], ["if", "IN"], ["the", "DT"], ["index", "NN"], ["key", "NN"], ["is", "VBZ"], ["not", "RB"], ["in", "IN"], ["the", "DT"], ["symbol", "NN"], ["table", "NN"], [".", "."], ["We", "PRP"], ["did", "VBD"], ["n't", "RB"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["the", "DT"], ["whole", "JJ"], ["poin", "NN"], ["t", "NN"], ["was", "VBD"], [",", ","], ["we", "PRP"], ["do", "VBP"], ["n't", "RB"], ["represent", "VB"], ["zeroes", "NNS"], [".", "."], ["Other", "JJ"], [",", ","], ["otherwise", "VB"], ["it", "PRP"], ["returns", "VBZ"], ["the", "DT"], ["value", "NN"], ["associated", "VBN"], ["with", "IN"], ["the", "DT"], ["index", "NN"], [".", "."], ["And", "CC"], ["the", "DT"], ["iterable", "JJ"], ["just", "RB"], ["returns", "VBZ"], ["all", "PDT"], ["the", "DT"], ["key", "NN"], ["to", "TO"], ["iterate", "VB"], [".", "."], ["And", "CC"], ["the", "DT"], ["most", "RBS"], ["important", "JJ"], ["thing", "NN"], ["is", "VBZ"], ["that", "IN"], ["if", "IN"], ["we", "PRP"], ["want", "VBP"], ["to", "TO"], ["do", "VB"], ["a", "DT"], ["dot", "NN"], ["product", "NN"], ["with", "IN"], ["a", "DT"], ["vector", "NN"], [",", ","], ["say", "VBP"], [",", ","], ["then", "RB"], ["the", "DT"], ["time", "NN"], ["that", "IN"], ["it", "PRP"], ["takes", "VBZ"], ["is", "VBZ"], ["only", "RB"], ["proportional", "JJ"], ["to", "TO"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["non-zero", "JJ"], ["keys", "NNS"], [".", "."], ["The", "DT"], ["zero", "NN"], ["keys", "NNS"], ["are", "VBP"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["zero", "VBN"], ["on", "IN"], ["the", "DT"], ["dot", "JJ"], ["product", "NN"], ["so", "RB"], ["what", "WP"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["do", "VB"], ["is", "VBZ"], ["take", "VB"], ["the", "DT"], ["item", "NN"], ["key", "NN"], ["of", "IN"], ["the", "DT"], ["vector", "NN"], ["and", "CC"], ["multiply", "VB"], ["it", "PRP"], ["by", "IN"], ["whatever", "WDT"], ["value", "NN"], ["we", "PRP"], ["get", "VBP"], ["for", "IN"], ["the", "DT"], ["non-zero", "JJ"], ["entries", "NNS"], [".", "."], ["So", "RB"], [",", ","], ["it", "PRP"], ["'s", "VBZ"], ["a", "DT"], ["dot", "JJ"], ["product", "NN"], ["that", "WDT"], ["takes", "VBZ"], ["time", "NN"], ["proportional", "JJ"], ["to", "TO"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["non-zero", "JJ"], ["entries", "NNS"], ["in", "IN"], ["the", "DT"], ["vector", "NN"], [".", "."], ["And", "CC"], [",", ","], ["and", "CC"], ["that", "DT"], ["'s", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["important", "JJ"], ["in", "IN"], ["the", "DT"], ["use", "NN"], ["of", "IN"], ["a", "DT"], ["matrix", "NN"], [".", "."], ["So", "RB"], ["instead", "RB"], ["of", "IN"], ["using", "VBG"], ["the", "DT"], ["standard", "JJ"], ["matrix", "NN"], ["representation", "NN"], [",", ","], ["where", "WRB"], ["every", "DT"], ["row", "NN"], ["of", "IN"], ["a", "DT"], ["matrix", "NN"], ["is", "VBZ"], ["an", "DT"], ["array", "NN"], [",", ","], ["that", "DT"], ["'s", "VBZ"], ["what", "WP"], ["a", "DT"], ["two", "CD"], ["dimensional", "JJ"], ["array", "NN"], ["is", "VBZ"], ["and", "CC"], ["the", "DT"], ["space", "NN"], ["is", "VBZ"], ["proportional", "JJ"], ["to", "TO"], ["N^2", "NNP"], [".", "."], ["Now", "RB"], ["we", "PRP"], ["'re", "VBP"], ["going", "VBG"], ["to", "TO"], ["use", "VB"], ["a", "DT"], ["sparse", "NN"], ["matrix", "NN"], ["representation", "NN"], [",", ","], ["where", "WRB"], ["each", "DT"], ["row", "NN"], ["of", "IN"], ["the", "DT"], ["matrix", "NN"], ["is", "VBZ"], ["a", "DT"], ["sparse", "JJ"], ["vector", "NN"], [".", "."], ["We", "PRP"], ["can", "MD"], ["iterate", "VB"], ["through", "IN"], ["the", "DT"], ["elements", "NNS"], ["in", "IN"], [",", ","], ["in", "IN"], ["constant", "JJ"], ["time", "NN"], [",", ","], ["and", "CC"], ["with", "IN"], ["a", "DT"], ["hash", "NN"], ["table", "NN"], [",", ","], ["we", "PRP"], ["can", "MD"], ["get", "VB"], ["at", "IN"], ["them", "PRP"], ["in", "IN"], ["near", "IN"], ["constant", "JJ"], ["time", "NN"], ["and", "CC"], ["then", "RB"], ["constant", "JJ"], ["time", "NN"], ["in", "IN"], ["the", "DT"], ["average", "NN"], [".", "."], ["But", "CC"], ["the", "DT"], ["space", "NN"], ["is", "VBZ"], ["only", "RB"], ["proportional", "JJ"], ["to", "TO"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["non-zero", "JJ"], ["elements", "NNS"], ["plus", "CC"], ["N", "NNP"], ["for", "IN"], ["the", "DT"], ["extra", "JJ"], ["symbol", "NN"], ["table", "JJ"], ["overhead", "NN"], [".", "."], ["So", "RB"], [",", ","], ["those", "DT"], ["are", "VBP"], ["independent", "JJ"], ["symbol", "NN"], ["table", "JJ"], ["objects", "NNS"], [".", "."], ["But", "CC"], ["they", "PRP"], ["allow", "VBP"], ["us", "PRP"], ["to", "TO"], ["have", "VB"], ["a", "DT"], ["much", "RB"], ["more", "RBR"], ["efficient", "JJ"], ["matrix", "JJ"], ["multiplication", "NN"], ["method", "NN"], [".", "."], ["So", "RB"], ["now", "RB"], ["if", "IN"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["sparse", "NN"], ["matrix", "NN"], ["times", "VBZ"], ["a", "DT"], ["vector", "NN"], ["our", "PRP$"], ["running", "JJ"], ["time", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["constant", "JJ"], ["for", "IN"], ["each", "DT"], ["row", "NN"], ["or", "CC"], ["proportional", "JJ"], ["to", "TO"], ["the", "DT"], ["number", "NN"], ["of", "IN"], ["non-zero", "JJ"], ["entries", "NNS"], ["for", "IN"], ["each", "DT"], ["row", "NN"], ["which", "WDT"], ["means", "VBZ"], ["that", "IN"], ["the", "DT"], ["running", "JJ"], ["time", "NN"], ["is", "VBZ"], ["going", "VBG"], ["to", "TO"], ["be", "VB"], ["linear", "JJ"], ["for", "IN"], ["a", "DT"], ["sparse", "JJ"], ["matrix", "NN"], ["just", "RB"], ["by", "IN"], ["the", "DT"], ["use", "NN"], ["of", "IN"], ["a", "DT"], ["symbol", "NN"], ["table", "NN"], [".", "."], ["And", "CC"], ["this", "DT"], ["clearly", "RB"], ["can", "MD"], ["make", "VB"], ["the", "DT"], ["difference", "NN"], ["between", "IN"], ["being", "VBG"], ["able", "JJ"], ["to", "TO"], ["address", "VB"], ["a", "DT"], ["huge", "JJ"], ["problem", "NN"], [".", "."], ["If", "IN"], ["we", "PRP"], ["have", "VBP"], ["a", "DT"], ["10,000", "CD"], ["by", "IN"], ["10,000", "CD"], ["matrix", "NN"], ["we", "PRP"], ["can", "MD"], ["get", "VB"], ["it", "PRP"], ["done", "VBN"], ["nearly", "RB"], ["instantly", "RB"], ["linear", "JJ"], ["time", "NN"], ["versus", "NN"], ["10,000^2", "CD"], [".", "."], ["If", "IN"], ["we", "PRP"], ["now", "RB"], ["run", "VBP"], ["out", "RB"], ["of", "IN"], ["space", "NN"], [",", ","], ["we", "PRP"], ["might", "MD"], ["run", "VB"], ["out", "IN"], ["of", "IN"], ["time", "NN"], [".", "."], ["But", "CC"], ["with", "IN"], ["the", "DT"], ["symbol", "NN"], ["table", "JJ"], ["implementation", "NN"], ["we", "PRP"], ["can", "MD"], ["ef", "VB"], ["ficiently", "RB"], ["process", "JJ"], ["huge", "JJ"], ["sparse", "NN"]], "title": "symbol table applications sparse vectors optional", "text": "As a final example of a symbol table client, we'll take a look at a mathematical application where we want to implement sparse vectors and matrices. So, this is a standard matrix vector multiplication that you learn in Math where we have a square matrix and a column vector and we want to do a dot product of, of first row with the column vector to get the first entry in the result. So, in this case, they're all zero, except for 0.04 0.9 which is 0.36. And then similarly, dot product of this with that column is 0.297 and so forth. So standard implementation of this is quite easy. We have a two-dimensional matrix one-dimensional column vector for the multiplicand and the result. And then they get initialized in some way, but the main computation is a pair of nested four loops for each row in the matrix we have to go through each entry in the column vector and compute a running sum of for that row in the matrix, that corresponding expanding entry with the entry in the column and them, keep the running sum and then that's the result that we put in the result column factor for every value of i. And the key thing about this standard implementation that it's two nested four loops that each run up to N. So, that's N^2 or quadratic running time. And that's fine in typical applications when the matrix is small, or when there's lots of entries in the matrix. But the fact is that in many practical applications, the matrices are what's called sparse. They, most of the entries are zero. And so, symbol tables provide us with a way to provide a more efficient implementation of, of this process when we have lots of zero entries. So in a typical thing, say, maybe the matrix dimension would be 10,000, and maybe there would only be ten non-zero entries per row. Or, even nowadays you might have matrices that are, are even bigger. 10,000 by 10,000 if, if there was, if it was full, that would be a billi on or 100 million entries. And so that's definitely going to be costly eh, if you're doing this operation a, a lot. And the idea is to cut down on that cost by taking advantage of idea that there's a lot of zeros. So let's start by just looking at vectors. So the standard representation that we use for vector is to simply use a one dimensional array. We have constant time access to every element, but the space is proportional to N. So, even if there's a lot of zeros we, we still have to take the space to store them all. Instead, we're going to use a symbol table representation where our key is the index and the value is the entry. And we just use that for every non-zero entry in the vector. So, this has got the same amount of information. It says that index one has got 0.36, index five also has 0.36, index fourteen has 0.18 and so forth. But the space is proportional instead of to N, it's just proportional to the number of non-zero entries which again, in typical applications, may be way, way less. And so now, just we, we know we have a symbol table implementation that has efficient iterator. And also access is not bad. It's just that we're able to do it with way less space. So, here's what the implementation of a sparse vector might look like. So first thing is the representation is going to be a symbol table. And in this case, we might as well use a hash table because the order in which we process things is not important. Uh-huh, we just want to get at the, all the non-zero entries. So the constructor is going to create in this [cough] symbol table. Just a new symbol table that associates integer indices with double values. So, the put which is to store a value associated with an index i, is just put into that hash table, associate key i with value x. Associate an integer with a double. And get I'll return zero if the index key is not in the symbol table. We didn't, that's the whole poin t was, we don't represent zeroes. Other, otherwise it returns the value associated with the index. And the iterable just returns all the key to iterate. And the most important thing is that if we want to do a dot product with a vector, say, then the time that it takes is only proportional to the number of non-zero keys. The zero keys are going to be zero on the dot product so what we're going to do is take the item key of the vector and multiply it by whatever value we get for the non-zero entries. So, it's a dot product that takes time proportional to the number of non-zero entries in the vector. And, and that's going to be important in the use of a matrix. So instead of using the standard matrix representation, where every row of a matrix is an array, that's what a two dimensional array is and the space is proportional to N^2. Now we're going to use a sparse matrix representation, where each row of the matrix is a sparse vector. We can iterate through the elements in, in constant time, and with a hash table, we can get at them in near constant time and then constant time in the average. But the space is only proportional to the number of non-zero elements plus N for the extra symbol table overhead. So, those are independent symbol table objects. But they allow us to have a much more efficient matrix multiplication method. So now if we have a sparse matrix times a vector our running time is going to be constant for each row or proportional to the number of non-zero entries for each row which means that the running time is going to be linear for a sparse matrix just by the use of a symbol table. And this clearly can make the difference between being able to address a huge problem. If we have a 10,000 by 10,000 matrix we can get it done nearly instantly linear time versus 10,000^2. If we now run out of space, we might run out of time. But with the symbol table implementation we can ef ficiently process huge sparse ", "video_ID": 59, "course_id": 3}
